import{ag as S,ah as x}from"./money-tides-jsxFactory-Bi29TlcS.js";import{b as P,j as E,a as y,f as G,x as T}from"./money-tides-Point2D-BcD_ruOp.js";import{w as v}from"./money-tides-OperatorShapePreservingLength-Btf2lUP0.js";import{H as w,I as C,i as D,q as _,K as q,T as X,N as b,Z as I,Q as L,S as Y}from"./money-tides-ProjectionTransformation-i8fsyL0P.js";import"./money-tides-config-Dy31BTur.js";import"./index-CXYhGA5b.js";import"./money-tides-index-Bz5uSspo.js";import"./money-tides-runtime-BTGwkf2p.js";import"./money-tides-Envelope2D-BqkCDX9b.js";import"./money-tides-Transformation2D-BzyNYhyU.js";import"./money-tides-SimpleGeometryCursor-B92kdZ15.js";import"./money-tides-OperatorDefinitions-DP7_WWTp.js";class K{getOperatorType(){return 10311}supportsCurves(){return!0}accelerateGeometry(t,r,m){return!1}canAccelerateGeometry(t){return!1}execute(t,r,m,a){if(m===4)return new v().execute(t,r,a);if(r.getCoordinateSystemType()===0&&P(""),E(t),t.isEmpty()||t.getDimension()<1)return 0;const s=r.getGCS(),o=w();s.querySpheroidData(o);const i=o.majorSemiAxis,l=o.e2,u=s.getUnit().getUnitToBaseFactor();let e;const n=t.getGeometryType();if(n===y.enumPolygon?e=t.getBoundary():n===y.enumEnvelope?e=C(t):G(n)?(e=new D({vd:t.getDescription()}),e.addSegment(t,!0)):e=t,e.hasNonLinearSegments()&&(e=new _().execute(e,0,r.getTolerance(0),0,a)),s!==r){const c=r.getSRToGCSTransform();if(r.isPannable()){e=q(e,r),n===y.enumPolyline&&e===t&&(e=t.clone());const d=new T;r.getPannableExtent().queryIntervalX(d);for(let g=0,h=e.getPointCount();g<h;g++){const p=e.getXY(g);p.x=X(p.x,d),e.setXY(g,p)}}const f=e.createInstance();e=I(c,e,f,a)?f:new b().execute(e,c,a)}return this._ExecuteMultiPathGeodeticLength(e,m,i,l,u)}_ExecuteMultiPathGeodeticLength(t,r,m,a,s){const o={stack:[],error:void 0,hasError:!1};try{const i=S(o,new L,!1);let l=0;const u=t.querySegmentIterator();for(;u.nextPath();)for(;u.hasNextSegment();){const e=u.nextSegment(),n=e.getStartXY(),c=e.getEndXY();n.scale(s),c.scale(s),Y.geodeticDistance(m,a,n.x,n.y,c.x,c.y,i,null,null,r),l+=i.val}return l}catch(i){o.error=i,o.hasError=!0}finally{x(o)}}}export{K as OperatorGeodeticLength};
