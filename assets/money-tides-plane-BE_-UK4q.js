import{e2 as d,av as W,ax as A,a5 as s,cR as _,at as f,cW as X,cX as y,dZ as E,cQ as m,Z as Q,ca as F}from"./money-tides-app-config-BzZR01Jy.js";import{c as i,r as G,f as R}from"./money-tides-vectorStacks-Gdvmsgbp.js";function tt(n){const t=n[0]*n[0]+n[4]*n[4]+n[8]*n[8],r=n[1]*n[1]+n[5]*n[5]+n[9]*n[9],c=n[2]*n[2]+n[6]*n[6]+n[10]*n[10];return Math.sqrt(Math.max(t,r,c))}function nt(n,t){const r=Math.sqrt(t[0]*t[0]+t[4]*t[4]+t[8]*t[8]),c=Math.sqrt(t[1]*t[1]+t[5]*t[5]+t[9]*t[9]),u=Math.sqrt(t[2]*t[2]+t[6]*t[6]+t[10]*t[10]);return d(n,r,c,u),n}function J(n,t,r){Math.abs(n[0])>Math.abs(n[1])?d(t,0,1,0):d(t,1,0,0),W(r,n,t),W(t,r,n),A(r,r),A(t,t)}function rt(n,t,r,c=s()){const u=_(n),o=_(t),a=f(n,t)/(u*o);if(a<.9999999999999999){const e=Math.acos(a),h=((1-r)*u+r*o)/Math.sin(e),$=h/u*Math.sin((1-r)*e),M=h/o*Math.sin(r*e);return y(k,n,$),y(w,t,M),X(c,k,w)}return E(c,n,t,r)}const k=s(),w=s();function z(n=b){return[n[0],n[1],n[2],n[3]]}function ct(n=b[0],t=b[1],r=b[2],c=b[3]){return C(n,t,r,c,G.get())}function K(n,t){return C(t[0],t[1],t[2],t[3],n)}function ut(n){return n}function C(n,t,r,c,u=z()){return u[0]=n,u[1]=t,u[2]=r,u[3]=c,u}function L(n,t,r){const c=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],u=Math.abs(c-1)>1e-5&&c>1e-12?1/Math.sqrt(c):1;return r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u,r[3]=-(r[0]*n[0]+r[1]*n[1]+r[2]*n[2]),r}function N(n,t,r,c=z()){const u=r[0]-t[0],o=r[1]-t[1],a=r[2]-t[2],e=n[0]-t[0],h=n[1]-t[1],$=n[2]-t[2],M=o*$-a*h,B=a*e-u*$,H=u*h-o*e,I=M*M+B*B+H*H,P=Math.abs(I-1)>1e-5&&I>1e-12?1/Math.sqrt(I):1;return c[0]=M*P,c[1]=B*P,c[2]=H*P,c[3]=-(c[0]*n[0]+c[1]*n[1]+c[2]*n[2]),c}function D(n,t,r,c=0,u=Math.floor(r*(1/3)),o=Math.floor(r*(2/3))){if(r<3)return!1;t(q,c);let a=u,e=!1;for(;a<r-1&&!e;)t(l,a),a++,e=!Q(q,l);if(!e)return!1;for(a=Math.max(a,o),e=!1;a<r&&!e;)t(g,a),a++,m(p,q,l),A(p,p),m(v,l,g),A(v,v),e=!Q(q,g)&&!Q(l,g)&&Math.abs(f(p,v))<O;return e?(N(q,l,g,n),!0):(c!==0||u!==1||o!==2)&&D(n,t,r,0,1,2)}function et(n,t,r=!0){const c=t.length/3;return D(n,(u,o)=>d(u,t[3*o+0],t[3*o+1],t[3*o+2]),r?c-1:c)}const O=.99619469809,q=s(),l=s(),g=s(),p=s(),v=s();function at(n,t,r){return t!==n&&K(n,t),n[3]=-f(n,r),n}function ot(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function it(n,t,r,c){return W(g,t,n),L(r,g,c)}function st(n,t,r,c){return Z(j(n,t,m(i.get(),r,t),T,c))}function ft(n,t,r){return t!=null&&Z(j(n,t.origin,t.direction,U,r))}function ht(n,t,r){return Z(j(n,t.origin,t.vector,0,r))}function Mt(n,t,r){return Z(j(n,t.origin,t.vector,1,r))}function gt(n,t){return x(n,t)>=0}function $t(n,t){const r=f(n,t.ray.direction),c=-x(n,t.ray.origin);if(c<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return c>0;if((c<0||r<0)&&!(c<0&&r<0))return!0;const u=c/r;return r>0?u<t.c1&&(t.c1=u):u>t.c0&&(t.c0=u),t.c0<=t.c1}function lt(n,t){const r=f(n,t.ray.direction),c=-x(n,t.ray.origin);if(r>-1e-6&&r<1e-6)return c>0;const u=c/r;return r>0?u<t.c1&&(t.c1=u):u>t.c0&&(t.c0=u),t.c0<=t.c1}function mt(n,t,r){const c=y(i.get(),n,-n[3]),u=S(n,m(i.get(),t,c),i.get());return X(r,u,c),r}function qt(n,t,r,c){const u=n,o=i.get(),a=i.get();J(u,o,a);const e=m(i.get(),r,t),h=R(o,e),$=R(a,e),M=R(u,e);return d(c,h,$,M)}function S(n,t,r){const c=y(i.get(),n,f(n,t));return m(r,t,c),r}function bt(n,t){return Math.abs(x(n,t))}function x(n,t){return f(n,t)+n[3]}function Z(n){return n===0||n===1}function j(n,t,r,c,u){const o=f(n,r),a=x(n,t);if(o===0)return a>=0?2:3;let e=-a/o;return 1&c&&(e=F(e,0,1)),!(4&c)&&e<0||!(8&c)&&e>1?a>=0?2:3:(X(u,t,y(u,r,e)),a>=0?0:1)}const b=[0,0,1,0],T=12,U=8;export{at as G,ot as H,it as I,st as J,ft as K,ht as L,Mt as N,gt as O,$t as P,lt as Q,mt as R,D as S,qt as T,L as U,bt as W,x as X,j as Z,J as a,rt as b,ct as d,nt as g,z as j,ut as k,tt as m,C as q,N as w,K as y,et as z};
