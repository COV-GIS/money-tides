const l=(s,t)=>{let e=s;for(;e;){if(e===t)return!0;if(!e.parentNode)return!1;e.parentNode instanceof ShadowRoot?e=e.parentNode.host:e=e.parentNode}return!1},m=(s,t,e)=>{const o=d(t).subscribe;return o(r=>{r.some(n=>l(s,n.target))&&e()})},i={},d=s=>{const t=s.join(","),e=i[t];if(e!==void 0)return e;const o=new Set,r=new MutationObserver(n=>o.forEach(u=>u(n)));globalThis.document&&r.observe(document.documentElement,{attributes:!0,attributeFilter:s,subtree:!0});const c={subscribe:n=>(o.add(n),()=>{o.delete(n),o.size===0&&(r.disconnect(),i[t]=void 0)})};return i[t]=c,c},a=(s,t)=>{let e=s;for(;e;){const o=e.closest?.(t);if(o)return o;const r=e.getRootNode?.();if(r===globalThis.document)return;e=r.host}};function b(s){const t=a(s,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return t?.classList.contains("calcite-mode-dark")||t?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const f=(s,t,e)=>a(s,`[${t}]`)?.getAttribute(t)??e;export{f as g,m as o,b as u};
