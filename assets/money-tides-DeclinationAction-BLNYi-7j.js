import{as as u,Z as f,at as l,m as _,b as m}from"./money-tides-jsxFactory-DEIYsQlk.js";import"./money-tides-config-Dy31BTur.js";import{a as D}from"./money-tides-MoneyTides-3vuPd4UY.js";import{ds as c}from"./money-tides-app-config-B_lDikIq.js";import"./index-B1HIWYBB.js";import"./money-tides-index-Bz5uSspo.js";import"./money-tides-runtime-BTGwkf2p.js";import"./money-tides-ReactiveMap-DcqEaPSm.js";import"./money-tides-messageBundle-mChLUIbw.js";import"./money-tides-index-BSQMl5Dg.js";var g=Object.defineProperty,b=Object.getOwnPropertyDescriptor,h=(e,n,a,o)=>{for(var t=o>1?void 0:o?b(n,a):n,i=e.length-1,r;i>=0;i--)(r=e[i])&&(t=(o?r(n,a,t):r(t))||t);return o&&t&&g(n,a,t),t};const v="declination-popover",y={content:`${v}_content`};let s=class extends u{constructor(e){super(e),this.declination="Set your compass to ???."}get container(){return this._container}set container(e){this._container=e}postInitialize(){this.updateDeclination(),this.addHandles(f(()=>c.date,this.updateDeclination.bind(this)))}async updateDeclination(){try{this.declination=`Set your compass to ${(await D(c.date,44.927,-124.013)).bearing}.`}catch(e){console.log("declination update",e),this.declination="An error occurred computing declination."}}render(){return l("calcite-popover",{"auto-close":"",class:v,closable:!0,heading:"Declination","overlay-positioning":"fixed",placement:"leading",scale:c.scale,"reference-element":this.referenceElementId},l("div",{class:y.content},this.declination))}};h([_()],s.prototype,"declination",2);s=h([m("DeclinationPopover")],s);var S=Object.getOwnPropertyDescriptor,P=(e,n,a,o)=>{for(var t=o>1?void 0:o?S(n,a):n,i=e.length-1,r;i>=0;i--)(r=e[i])&&(t=r(t)||t);return t};const p="money-tides-declination-MDKHhMeEQm";let d=class extends u{constructor(){super(...arguments),this.popover=new s({container:document.createElement("calcite-popover"),referenceElementId:p})}get container(){return this._container}set container(e){this._container=e}postInitialize(){const e=document.querySelector("calcite-shell");e&&e.appendChild(this.popover.container)}render(){return l("calcite-action",{icon:"explore",id:p,scale:c.scale,text:"Declination"})}};d=P([m("AboutAction")],d);export{d as default};
