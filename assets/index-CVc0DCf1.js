const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c-IdentityManager-B2C9u8xm.js","assets/c-substitute-CGotvqAu.js","assets/c-ElevationLayer-Q44TpIDj.js","assets/c-MultiOriginJSONSupport-BR5aIa7N.js","assets/c-ArcGISCachedService-CGuWw_qs.js","assets/c-TileInfoTilemapCache-C68GAtxf.js","assets/c-TilemapCache-Bqgl6Rr2.js","assets/c-LRUCache-C3bqVy_I.js","assets/c-MemCache-CciY65Wn.js","assets/c-memoryEstimations-3ZXh_K-O.js","assets/c-ArcGISService-BaR_UJ9e.js","assets/c-OperationalLayer-BnV_cGr6.js","assets/c-PortalLayer-KeCTuDxJ.js","assets/c-portalItemUtils-BXLo9C98.js","assets/c-WorkerHandle-DMgJAiYe.js","assets/c-portalLayers-ian1Cnyd.js","assets/c-associatedFeatureServiceUtils-tHPIK6XW.js","assets/c-fetchService-B2jqAhyU.js","assets/c-loadUtils-82kuJqHD.js","assets/c-lazyLayerLoader-BbWwH4OG.js","assets/c-arcgisLayers-Ca0kbuhf.js","assets/c-layersCreator-DfZtFQRm.js","assets/c-styleUtils-D_nTvN5f.js","assets/c-ElevationQuery-CfQBkrFq.js","assets/c-GeometryDescriptor-lLWfciv7.js","assets/c-projectOperator-CSZEVenB.js","assets/c-operatorProject--c9M9eF4.js","assets/c-SimpleGeometryCursor-B92kdZ15.js","assets/c-projectOperator-YIPJ7Z6u.js","assets/c-statsWorker-DeM95VRc.js","assets/c-utils-52W4zlAv.js","assets/c-quantizationUtils-CWTxCGZR.js","assets/c-heatmapUtils-BIiO2EUy.js","assets/c-vec42-BPDVeEv-.js","assets/c-vec4f64-DPb6J-GU.js","assets/c-utils-B071kh6g.js","assets/c-utils-BkqG-95B.js","assets/c-ClassBreaksDefinition-B0VBX0Zj.js","assets/c-geometryEngineWorker-CnFtEzLz.js","assets/c-geometryEngineJSON-DeoTkbrO.js","assets/c-geometryEngineBase-E0YtDiwL.js","assets/c-_commonjsHelpers-DCkdB7M8.js","assets/c-CSVSourceWorker--93juYZE.js","assets/c-date-DCujAECq.js","assets/c-OptimizedFeature-HxS-zYcJ.js","assets/c-FeatureStore-BpmHO3el.js","assets/c-featureConversionUtils-vBpkT6lQ.js","assets/c-OptimizedFeatureSet-BR8EEvDc.js","assets/c-BoundsStore-QNz7EfQI.js","assets/c-PooledRBush-BPH2PfpB.js","assets/c-timeSupport-DKeHjIqT.js","assets/c-queryUtils-DDGNVn2Q.js","assets/c-optimizedFeatureQueryEngineAdapter-BA4pJUPa.js","assets/c-QueryEngine-BcY35gsf.js","assets/c-WhereClauseCache-9ypWY4gS.js","assets/c-WhereClause-BG3bxqzW.js","assets/c-TimeOnly-DEnO2YMB.js","assets/c-enum-DTT4AqJa.js","assets/c-UnknownTimeZone-I4QdoeOJ.js","assets/c-QueryEngineCapabilities-DJC_YILC.js","assets/c-SnappingCandidate-DGkpYqI6.js","assets/c-FixedIntervalBinParameters-CM8WmLDv.js","assets/c-NormalizationBinParametersMixin-Bs9OzIrV.js","assets/c-FieldsIndex-Boq2G-uL.js","assets/c-number-Dsajil3u.js","assets/c-locationUtils-BbZTrL_z.js","assets/c-clientSideDefaults-DwAYqXvH.js","assets/c-defaultsJSON-GKolV7NZ.js","assets/c-EdgeProcessingWorker-CJHWicFe.js","assets/c-workerHelper-CSaISmwO.js","assets/c-InterleavedLayout-CLIE3Pe9.js","assets/c-BufferView-BhCMD_N9.js","assets/c-types-BKo2foNY.js","assets/c-VertexElementDescriptor-BLyltQyJ.js","assets/c-VertexAttributeLocations-BfZbt_DV.js","assets/c-edgeProcessing-Dmam8RB9.js","assets/c-deduplicate-B7pxh0CZ.js","assets/c-Indices-DgEvoiYi.js","assets/c-Normals-BDZGRzKv.js","assets/c-ElevationSamplerWorker-DFPJiRg3.js","assets/c-MeshLocalVertexSpace-D28c4ACw.js","assets/c-vertexSpaceConversion-BWXNc1r7.js","assets/c-spatialReferenceEllipsoidUtils-CfGFMbl6.js","assets/c-computeTranslationToOriginAndRotation-23QGUJoS.js","assets/c-projectPointToVector-BdY1118Q.js","assets/c-meshVertexSpaceUtils-DpaI9dXG.js","assets/c-vec3-iiW9C-Ty.js","assets/c-vec4-CqcWOA2J.js","assets/c-FeatureServiceSnappingSourceWorker-D60fBh8W.js","assets/c-symbologySnappingCandidates-kG7nwr7g.js","assets/c-pbfQueryUtils-Vg4g4vtw.js","assets/c-pbf-Dkgm-as6.js","assets/c-query-DQmwNpa-.js","assets/c-queryZScale-DgbIP8Lr.js","assets/c-GeoJSONSourceWorker-D__7I6UX.js","assets/c-geojson-DnNlRkEj.js","assets/c-sourceUtils-D9c8HvqB.js","assets/c-MemorySourceWorker-B8xY6Jv9.js","assets/c-objectIdUtils-BmFjqQA3.js","assets/c-PBFDecoderWorker-BSnJjCAY.js","assets/c-dehydratedFeatures-CUHk-eFw.js","assets/c-FeaturePipelineWorker-BWUD71C0.js","assets/c-diffUtils-BYeo-aZa.js","assets/c-AttributeStore-BOHbVWNj.js","assets/c-Utils-Bg6w_krY.js","assets/c-BoundingBox-D0ij0n07.js","assets/c-UpdateTracking2D-tLuQhOwX.js","assets/c-ArcadeExpression-DdYEVAkG.js","assets/c-FeatureStoreQueryAdapter-DaZaRbGY.js","assets/c-labelPoint-C3Dn2owE.js","assets/c-labelUtils-DU80epQH.js","assets/c-utils-CHZjXsGA.js","assets/c-defaultCIMValues-XI-Li77m.js","assets/c-constants-BBnGEY1d.js","assets/c-streamLayerUtils-DFlbJ4P1.js","assets/c-DictionaryScriptEvaluator-DC9Zp4B_.js","assets/c-MeshWriterRegistry-CufYGpyE.js","assets/c-rasterizingUtils-Cec2p-Uf.js","assets/c-CIMSymbolHelper-CXJmCQe6.js","assets/c-BidiEngine-BvER9tXK.js","assets/c-GeometryUtils-DYv1GqWY.js","assets/c-Rect-CUzevAry.js","assets/c-defaults-Cnuh1GGw.js","assets/c-TexturedLineMeshWriter-B-2phh6u.js","assets/c-TurboLine-DXUM3ZdE.js","assets/c-grouping-DGDBvB7R.js","assets/c-QueueProcessor-DAks2Ucy.js","assets/c-FeatureMetadata-DivRnW__.js","assets/c-SourceChunkStore-HhyHljhN.js","assets/c-parquet-zRYM6EJL.js","assets/c-operatorGeodeticDensify-DPwbDKWV.js","assets/c-geodeticCurveType-CirnHLSB.js","assets/c-normalizeUtilsSync-BHefqztC.js","assets/c-FeatureIdInfo-wHxQO0J7.js","assets/c-displayFilterUtils-Dc8MV4K1.js","assets/c-ogcFeatureUtils-B7b7-2de.js","assets/c-CircularArray-CujHzHWW.js","assets/c-createConnection-CSK43nmd.js","assets/c-PointCloudWorker-JyhL0tpl.js","assets/c-quat-Bye_Cut1.js","assets/c-quatf64-aQ5IuZRd.js","assets/c-vec3f32-WCVSSNPR.js","assets/c-PointCloudUniqueValueRenderer-CbXng78s.js","assets/c-RendererLegendOptions-CnOoR1vM.js","assets/c-ColorStop-DEpz-My8.js","assets/c-I3SBinaryReader-By3Gj7Kl.js","assets/c-orientedBoundingBox-CQvbv8F-.js","assets/c-plane-BFD_eSN4.js","assets/c-vectorStacks-BaEaWkRF.js","assets/c-RasterWorker-BNEhZkLc.js","assets/c-PixelBlock-osTji96N.js","assets/c-RasterSymbolizer-BWFDk_Jn.js","assets/c-vectorFieldUtils-QsAQRX7H.js","assets/c-colorUtils-B_EF_xeO.js","assets/c-rasterFunctionHelper-D7ifS8I5.js","assets/c-clipUtils-DdBdij9z.js","assets/c-rasterProjectionHelper-B2QVi14J.js","assets/c-colorRamps-CTBIUHJg.js","assets/c-PolynomialTransform-D6qDRTIg.js","assets/c-dataUtils-sf4vA7dk.js","assets/c-SceneLayerSnappingSourceWorker-CyM34D_u.js","assets/c-lineSegment-CtH_Bgjz.js","assets/c-sphere-Cp1gu_qf.js","assets/c-Octree-CZtLa7oY.js","assets/c-frustum-CWi__75l.js","assets/c-SceneLayerWorker-CQA56LjN.js","assets/c-projectVectorToVector-DN4cPDCz.js","assets/c-WFSSourceWorker-CnIDHXAd.js","assets/c-wfsUtils-BOmf0xr3.js","assets/c-xmlUtils-CtUoQO7q.js","assets/c-WorkerTileHandler-B69MP63Z.js","assets/c-constants-BHYAGdRm.js","assets/c-config-BOD8--da.js","assets/c-SourceLayerData-Bf1LyGDM.js","assets/c-StyleRepository-DQew5Z1M.js","assets/c-earcut-D9gy186-.js","assets/c-Feature3DPipelineWorker-BAYPG3Dc.js","assets/c-jsonUtils-CmW2nqUW.js","assets/c-typeUtils-CJpZ5c-T.js","assets/c-ClassBreaksRenderer-D5Ir3jIB.js","assets/c-commonProperties-B1Z7tvWo.js","assets/c-visualVariableUtils-4MMAko_c.js","assets/c-jsonUtils-D0LIKWt-.js","assets/c-defaults3D-qpPaIWMT.js","assets/c-SimpleRenderer-BoK43_lK.js","assets/c-UniqueValueRenderer-CUcoj9D7.js","assets/c-styleUtils-DWl5syjG.js","assets/c-HUDMaterial.glsl-B0HE14tQ.js","assets/c-hydratedFeatures-Bq1LMqnt.js","assets/c-OutputColorHighlightOID.glsl-sRLIqpUI.js","assets/c-triangle-mJrXprrh.js","assets/c-renderState-CKc66y4x.js","assets/c-glsl-B5bJgrnA.js","assets/c-ShaderBuilder-C9-y8AFf.js","assets/c-placementUtils-A8x6H3qU.js","assets/c-sdfPrimitives-DjtISSB0.js","assets/c-Texture-B-hMQbbu.js","assets/c-videoUtils-BOakW7ON.js","assets/c-requestImageUtils-B_FFPt7q.js","assets/c-RealisticTree.glsl-CTNHIft8.js","assets/c-DefaultMaterial-B-I7c26P.js","assets/c-VertexBuffer-DFRLDn-p.js","assets/c-BufferObject-BBTSB8os.js","assets/c-boundedPlane-BAhzr3C1.js","assets/c-FlowWorker-BmU_cWP1.js","assets/c-ParquetSourceWorker-Cr138Ei_.js","assets/c-parquetUtils-D3C2htUi.js","assets/c-PanoramicMeshWorker-CSMEcJcI.js","assets/c-Popup-7L7oOnWU.js","assets/c-throttle-CMni01mM.js","assets/c-unitFormatUtils-C_V-4O0h.js","assets/c-quantityUtils-BqWZLCQ0.js","assets/c-AttachmentInfo-FFnG4OVU.js","assets/c-labelingInfo-h1axV38j.js","assets/c-featureUtils-BsJMZLHY.js","assets/c-utils-Cjsx9T_z.js","assets/c-cimSymbolUtils-WUcjSsVH.js","assets/c-executeQueryJSON-BooxHqtz.js","assets/c-FeatureSet-CvaH2s5p.js","assets/c-shared-DWYjXnNM.js","assets/c-isImageryGraphicOrigin-Ccuhb4eK.js","assets/c-isImageryTileGraphicOrigin-ZR-gBf9D.js","assets/c-FeatureLayer-DfUPwYsY.js","assets/c-FormTemplate-D2kL7sWw.js","assets/c-GraphicOrigin-CfZ2WQ3G.js","assets/c-editsZScale-fW8h2CXO.js","assets/c-APIKeyMixin-FWAOAt6k.js","assets/c-CustomParametersMixin-DRSbj8VC.js","assets/c-DisplayFilteredLayer-Dve3eWKV.js","assets/c-scaleUtils--W92aB0s.js","assets/c-EditBusLayer-Cvv5JKEH.js","assets/c-FeatureEffectLayer-BwZ-es-D.js","assets/c-FeatureEffect-BdXo2tjC.js","assets/c-FeatureFilter-DQN8ed7a.js","assets/c-FeatureLayerBase-CcgTuEQt.js","assets/c-LayerFloorInfo-C4QqP7xN.js","assets/c-multiLayerServiceUtils-7A1e4Hw1.js","assets/c-Relationship-DSKZ_yZr.js","assets/c-serviceCapabilitiesUtils-bUnjM7Ht.js","assets/c-infoFor3D-DhzudQro.js","assets/c-FeatureReductionLayer-Cho8d3cj.js","assets/c-FeatureReductionSelection-C6oHv_ep.js","assets/c-OrderedLayer-vw3Xe87v.js","assets/c-OrderByInfo-BXjIfEA1.js","assets/c-RefreshableLayer-CDadMad3.js","assets/c-TemporalLayer-Dc7PEfQZ.js","assets/c-TimeInfo-SY248gIU.js","assets/c-TrackableLayer-Dj9p_OFX.js","assets/c-FeatureTemplate-D8gNUngP.js","assets/c-FeatureType-B5_4866t.js","assets/c-fieldProperties-CfQzFggv.js","assets/c-TitleCreator-BUAGUFIp.js","assets/c-versionUtils-C1tdH2_Y.js","assets/c-popupUtils-DvZlMIaO.js","assets/c-NetworkElement-DLY7gfEp.js","assets/c-ReactiveSet-C7LOwyER.js","assets/c-symbolUtils-D-WYr-GE.js","assets/c-layerViewUtils-DdpQTyjF.js","assets/c-arcadeUtils-YkvuUaYb.js","assets/c-arcade-B-wZmQVs.js","assets/c-arcadeEnvironment-DwSBImK0.js","assets/c-Dictionary-BB4qwaru.js","assets/c-ImmutableArray-BPVd6ESQ.js","assets/c-Feature-CmQADspb.js","assets/c-aiServices-CiPeCHnd.js","assets/c-commonProperties-DHiB1uzW.js","assets/c-unitConversion-DUxSfwmL.js","assets/c-rasterFieldUtils-CoYKP5qa.js","assets/c-batchExec-BAgUNzHJ.js","assets/c-webStyleSymbolUtils-BPNxmVpT.js","assets/c-devEnvironmentUtils-8WtPGj6h.js","assets/c-geometryServiceUtils-DmuTq8cQ.js","assets/c-project-CS-5dAol.js","assets/c-webglDeps-CE-Hzvb8.js","assets/c-FramebufferObject-DdSE3C6n.js","assets/c-ProgramTemplate-C6Lhkxqs.js","assets/c-VertexArrayObject-DAL231e6.js","assets/c-mapViewDeps-410viBHN.js","assets/c-FeatureCommandQueue-kk6IvqZA.js","assets/c-GraphShaderModule-CaRMVecr.js","assets/c-utils-CzL25DS0.js","assets/c-WGLContainer-Dr1TPBia.js","assets/c-Container-iCHwEEaT.js","assets/c-SDFHelper-C0JRBNn3.js","assets/c-OverrideHelper-KVi6xu_K.js","assets/c-callExpressionWithFeature-Q8hwudfV.js","assets/c-GridShader-D9oCtyQU.js","assets/c-testSVGPremultipliedAlpha-D6QD5KbU.js","assets/c-SymbolFader-m-JDjcJg.js","assets/c-RenderingContext-gtcBBYDH.js","assets/c-CIMResourceManager-u4Nw-3Vq.js","assets/c-utils-CxOUuatK.js","assets/c-utils-DDjZAYSk.js","assets/c-GraphicsView2D-D1ybtgHG.js","assets/c-GraphicContainer-CbRol7Ht.js","assets/c-AGraphicContainer-C0yslXd0.js","assets/c-TechniqueInstance-CXc9paLb.js","assets/c-TileContainer-BTnjgPAe.js","assets/c-gridUtils-BhXELhcG.js","assets/c-geodesicUtils-XEvwcQwY.js","assets/c-TileLayerView2D-B9UywUDN.js","assets/c-imageUtils-l4dTSeYi.js","assets/c-BitmapTechnique-CtxPRzvD.js","assets/c-bitmapUtils-DFdluwOs.js","assets/c-LayerView2D-CFKVYoXX.js","assets/c-HighlightGraphicContainer-DLpfuauw.js","assets/c-LayerView-BRL1RRQ2.js","assets/c-RefreshableLayerView-BqvKOgh5.js","assets/c-MapServiceLayerViewHelper-CbpPVL8_.js","assets/c-floorFilterUtils-DKzVzLpH.js","assets/c-drapedUtils-BmgmDpT3.js","assets/c-sublayerUtils-BEQnBRaB.js","assets/c-popupUtils-CzVDJEsJ.js","assets/c-highlightOptionsUtils-DwWiNNTW.js","assets/c-FeatureLayerView2D-D1c-UgfF.js","assets/c-timeSupport-CXwGlSRa.js","assets/c-AttributeBinsFeatureSet-BkfDQyeC.js","assets/c-AttributeBinsQuery-D_VW0voM.js","assets/c-constants-SxxbBSOD.js","assets/c-BaseDynamicLayerView2D-CwTi7B0Z.js","assets/c-BitmapContainer-ieFhJMyD.js","assets/c-ExportStrategy-DByXNZgH.js","assets/c-CatalogLayerView2D-DB9KtILm.js","assets/c-CatalogDynamicGroupLayerView2D-zPTK1adF.js","assets/c-CatalogFootprintLayerView2D-Di_tOqX2.js","assets/c-GeoRSSLayerView2D-GEpAlZHL.js","assets/c-GraphicsLayerView2D-BMDS-tUV.js","assets/c-GroupLayerView2D-BZgb3FEh.js","assets/c-ImageryLayerView2D-CaNECO0w.js","assets/c-RasterVFDisplayObject-COMcDRtE.js","assets/c-ImageryTileLayerView2D-C37FW6_r.js","assets/c-datasetUtils-CydNpcQZ.js","assets/c-rasterUtils-BASAMUrD.js","assets/c-RawBlockCache-BxJoWrOw.js","assets/c-KMLLayerView2D-CncF5m7v.js","assets/c-kmlUtils-Dd87HFeT.js","assets/c-KnowledgeGraphLayerView2D-D2aCShiT.js","assets/c-MapImageLayerView2D-C0zmc_IZ.js","assets/c-ExportImageParameters-dg40DHTf.js","assets/c-MapNotesLayerView2D-BThI1nuZ.js","assets/c-MediaLayerView2D-CXeGQddD.js","assets/c-mediaLayerUtils-DUjffKfq.js","assets/c-OverlayContainer-DyVX_n4D.js","assets/c-OGCFeatureLayerView2D-BW_UikJD.js","assets/c-RouteLayerView2D-CyIzoyiF.js","assets/c-Stop-CjK99CEw.js","assets/c-networkEnums-BtGt0gh5.js","assets/c-StreamLayerView2D-CBWka-ku.js","assets/c-SubtypeGroupLayerView2D-BwsTWA7E.js","assets/c-VectorTileLayerView2D-Cdtxe3le.js","assets/c-VideoLayerView2D-D7Oa7VgJ.js","assets/c-videoUtils-D07i3XBF.js","assets/c-ControlPoint-COMXUfki.js","assets/c-WMSLayerView2D-C3dyDa1f.js","assets/c-ExportWMSImageParameters-BgMuUTPY.js","assets/c-WMTSLayerView2D-BXeKUTY-.js","assets/c-ElevationProfileAnalysisView2D-BVFy0wmm.js","assets/c-createUtils-DHF2zRkF.js","assets/c-distanceOperator-Bq9iOra5.js","assets/c-Point2D-ByVU2sJE.js","assets/c-Distance2DCalculator-CXhBP-8I-IYEmIo5F.js","assets/c-ProjectionTransformation-DVTGpvej.js","assets/c-Envelope2D-CEWegsoz.js","assets/c-Transformation2D-ocQ-FQoq.js","assets/c-OperatorDefinitions-DP7_WWTp.js","assets/c-apiConverter-CuhGd8Yj.js","assets/c-jsonConverter-B7yCYgbc.js","assets/c-simplifyOperator-D4Mm_Q99.js","assets/c-operatorSimplify-BfwW5eoK.js","assets/c-mapCollectionUtils-BEsIrvgr.js","assets/c-elevationInfoUtils-H33s5vqC.js","assets/c-getDefaultUnitForView-SGvDpliR.js","assets/c-SketchViewModel-D41UTXj9.js","assets/c-hitTestSelectUtils-CwuuhBzK.js","assets/c-geodeticLengthOperator-CYKFhggB.js","assets/c-apng-DQyChFRD.js"])))=>i.map(i=>d[i]);
var nj=Object.getPrototypeOf;var sj=Reflect.get;var UM=t=>{throw TypeError(t)};var Nw=(t,e,i)=>e.has(t)||UM("Cannot "+i);var ct=(t,e,i)=>(Nw(t,e,"read from private field"),i?i.call(t):e.get(t)),Fn=(t,e,i)=>e.has(t)?UM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),jn=(t,e,i,r)=>(Nw(t,e,"write to private field"),r?r.call(t,i):e.set(t,i),i),fp=(t,e,i)=>(Nw(t,e,"access private method"),i);var VM=(t,e,i)=>sj(nj(t),i,e);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();const Lt=(t,e,...i)=>{try{return t?.call(e,...i)}catch(r){console.error(r,t)}},Sx=async(t,e,...i)=>{try{return await t?.call(e,...i)}catch(r){console.error(r,t)}},CT=Symbol.for("controller"),oj=t=>typeof t=="object"&&t!==null&&(CT in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),aj=t=>typeof t?.then=="function";let Bp;const od=t=>{Bp!==t&&(Bp=t,queueMicrotask(()=>Bp===t?Bp=void 0:0))},c1=t=>Bp;let Fl=[];const rR=t=>{if(t===void 0){Fl=[];return}const e=Fl.indexOf(t);Fl=e===-1?[...Fl,t]:Fl.slice(0,e+1),queueMicrotask(()=>Fl=[])},nR=()=>Fl;let ad;const lj=t=>{ad!==t&&(ad=t,queueMicrotask(()=>ad===t?ad=void 0:0))},cj=()=>{const t=ad;return ad=void 0,t},uj=async(t,e)=>{const i=IT(t);if(i===void 0)return t;if(await i.ready,typeof e=="function"){const r=i.watchExports(n=>e(n,r))}return i.exports},dj=async t=>{const e=IT(t);return await e.ready,e},IT=t=>{const i=c1().manager.X(t);if(i!==void 0)return i;if(oj(t))return t;const r=cj();if(r!==void 0)return r};let kx=!1;const hj=t=>{kx=!0;try{return t()}finally{kx=!1}};const iv=globalThis,AT=iv.ShadowRoot&&(iv.ShadyCSS===void 0||iv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,PT=Symbol(),BM=new WeakMap;let sR=class{constructor(e,i,r){if(this._$cssResult$=!0,r!==PT)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=i}get styleSheet(){let e=this.o;const i=this.t;if(AT&&e===void 0){const r=i!==void 0&&i.length===1;r&&(e=BM.get(i)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&BM.set(i,e))}return e}toString(){return this.cssText}};const pj=t=>new sR(typeof t=="string"?t:t+"",void 0,PT),mt=(t,...e)=>{const i=t.length===1?t[0]:e.reduce(((r,n,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[s+1]),t[0]);return new sR(i,t,PT)},fj=(t,e)=>{if(AT)t.adoptedStyleSheets=e.map((i=>i instanceof CSSStyleSheet?i:i.styleSheet));else for(const i of e){const r=document.createElement("style"),n=iv.litNonce;n!==void 0&&r.setAttribute("nonce",n),r.textContent=i.cssText,t.appendChild(r)}},qM=AT?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let i="";for(const r of e.cssRules)i+=r.cssText;return pj(i)})(t):t;const{is:mj,defineProperty:gj,getOwnPropertyDescriptor:yj,getOwnPropertyNames:vj,getOwnPropertySymbols:bj,getPrototypeOf:wj}=Object,u1=globalThis,HM=u1.trustedTypes,_j=HM?HM.emptyScript:"",xj=u1.reactiveElementPolyfillSupport,Tf=(t,e)=>t,Tx={toAttribute(t,e){switch(e){case Boolean:t=t?_j:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=t!==null;break;case Number:i=t===null?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch{i=null}}return i}},OT=(t,e)=>!mj(t,e),GM={attribute:!0,type:String,converter:Tx,reflect:!1,useDefault:!1,hasChanged:OT};Symbol.metadata??=Symbol("metadata"),u1.litPropertyMetadata??=new WeakMap;let Ou=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,i=GM){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(e,i),!i.noAccessor){const r=Symbol(),n=this.getPropertyDescriptor(e,r,i);n!==void 0&&gj(this.prototype,e,n)}}static getPropertyDescriptor(e,i,r){const{get:n,set:s}=yj(this.prototype,e)??{get(){return this[i]},set(o){this[i]=o}};return{get:n,set(o){const a=n?.call(this);s?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??GM}static _$Ei(){if(this.hasOwnProperty(Tf("elementProperties")))return;const e=wj(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Tf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Tf("properties"))){const i=this.properties,r=[...vj(i),...bj(i)];for(const n of r)this.createProperty(n,i[n])}const e=this[Symbol.metadata];if(e!==null){const i=litPropertyMetadata.get(e);if(i!==void 0)for(const[r,n]of i)this.elementProperties.set(r,n)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const n=this._$Eu(i,r);n!==void 0&&this._$Eh.set(n,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const i=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const n of r)i.unshift(qM(n))}else e!==void 0&&i.push(qM(e));return i}static _$Eu(e,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return fj(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,i,r){this._$AK(e,r)}_$ET(e,i){const r=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,r);if(n!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:Tx).toAttribute(i,r.type);this._$Em=e,s==null?this.removeAttribute(n):this.setAttribute(n,s),this._$Em=null}}_$AK(e,i){const r=this.constructor,n=r._$Eh.get(e);if(n!==void 0&&this._$Em!==n){const s=r.getPropertyOptions(n),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:Tx;this._$Em=n;const a=o.fromAttribute(i,s.type);this[n]=a??this._$Ej?.get(n)??a,this._$Em=null}}requestUpdate(e,i,r){if(e!==void 0){const n=this.constructor,s=this[e];if(r??=n.getPropertyOptions(e),!((r.hasChanged??OT)(s,i)||r.useDefault&&r.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,i,{useDefault:r,reflect:n,wrapped:s},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??i??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(i=void 0),this._$AL.set(e,i)),n===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[n,s]of this._$Ep)this[n]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[n,s]of r){const{wrapped:o}=s,a=this[n];o!==!0||this._$AL.has(n)||a===void 0||this.C(n,void 0,s,a)}}let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),this._$EO?.forEach((r=>r.hostUpdate?.())),this.update(i)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(i)}willUpdate(e){}_$AE(e){this._$EO?.forEach((i=>i.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((i=>this._$ET(i,this[i]))),this._$EM()}updated(e){}firstUpdated(e){}};Ou.elementStyles=[],Ou.shadowRootOptions={mode:"open"},Ou[Tf("elementProperties")]=new Map,Ou[Tf("finalized")]=new Map,xj?.({ReactiveElement:Ou}),(u1.reactiveElementVersions??=[]).push("2.1.1");const RT=globalThis,c0=RT.trustedTypes,WM=c0?c0.createPolicy("lit-html",{createHTML:t=>t}):void 0,oR="$lit$",Da=`lit$${Math.random().toFixed(9).slice(2)}$`,aR="?"+Da,$j=`<${aR}>`,Nc=document,om=()=>Nc.createComment(""),am=t=>t===null||typeof t!="object"&&typeof t!="function",DT=Array.isArray,Sj=t=>DT(t)||typeof t?.[Symbol.iterator]=="function",Lw=`[ 	
\f\r]`,mp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ZM=/-->/g,YM=/>/g,Il=RegExp(`>|${Lw}(?:([^\\s"'>=/]+)(${Lw}*=${Lw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),JM=/'/g,KM=/"/g,lR=/^(?:script|style|textarea|title)$/i,cR=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),q=cR(1),lm=cR(2),kn=Symbol.for("lit-noChange"),he=Symbol.for("lit-nothing"),XM=new WeakMap,cc=Nc.createTreeWalker(Nc,129);function uR(t,e){if(!DT(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return WM!==void 0?WM.createHTML(e):e}const kj=(t,e)=>{const i=t.length-1,r=[];let n,s=e===2?"<svg>":e===3?"<math>":"",o=mp;for(let a=0;a<i;a++){const l=t[a];let d,h,f=-1,y=0;for(;y<l.length&&(o.lastIndex=y,h=o.exec(l),h!==null);)y=o.lastIndex,o===mp?h[1]==="!--"?o=ZM:h[1]!==void 0?o=YM:h[2]!==void 0?(lR.test(h[2])&&(n=RegExp("</"+h[2],"g")),o=Il):h[3]!==void 0&&(o=Il):o===Il?h[0]===">"?(o=n??mp,f=-1):h[1]===void 0?f=-2:(f=o.lastIndex-h[2].length,d=h[1],o=h[3]===void 0?Il:h[3]==='"'?KM:JM):o===KM||o===JM?o=Il:o===ZM||o===YM?o=mp:(o=Il,n=void 0);const b=o===Il&&t[a+1].startsWith("/>")?" ":"";s+=o===mp?l+$j:f>=0?(r.push(d),l.slice(0,f)+oR+l.slice(f)+Da+b):l+Da+(f===-2?a:b)}return[uR(t,s+(t[i]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let Ex=class dR{constructor({strings:e,_$litType$:i},r){let n;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[d,h]=kj(e,i);if(this.el=dR.createElement(d,r),cc.currentNode=this.el.content,i===2||i===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(n=cc.nextNode())!==null&&l.length<a;){if(n.nodeType===1){if(n.hasAttributes())for(const f of n.getAttributeNames())if(f.endsWith(oR)){const y=h[o++],b=n.getAttribute(f).split(Da),x=/([.?@])?(.*)/.exec(y);l.push({type:1,index:s,name:x[2],strings:b,ctor:x[1]==="."?Ej:x[1]==="?"?Mj:x[1]==="@"?Cj:d1}),n.removeAttribute(f)}else f.startsWith(Da)&&(l.push({type:6,index:s}),n.removeAttribute(f));if(lR.test(n.tagName)){const f=n.textContent.split(Da),y=f.length-1;if(y>0){n.textContent=c0?c0.emptyScript:"";for(let b=0;b<y;b++)n.append(f[b],om()),cc.nextNode(),l.push({type:2,index:++s});n.append(f[y],om())}}}else if(n.nodeType===8)if(n.data===aR)l.push({type:2,index:s});else{let f=-1;for(;(f=n.data.indexOf(Da,f+1))!==-1;)l.push({type:7,index:s}),f+=Da.length-1}s++}}static createElement(e,i){const r=Nc.createElement("template");return r.innerHTML=e,r}};function rh(t,e,i=t,r){if(e===kn)return e;let n=r!==void 0?i._$Co?.[r]:i._$Cl;const s=am(e)?void 0:e._$litDirective$;return n?.constructor!==s&&(n?._$AO?.(!1),s===void 0?n=void 0:(n=new s(t),n._$AT(t,i,r)),r!==void 0?(i._$Co??=[])[r]=n:i._$Cl=n),n!==void 0&&(e=rh(t,n._$AS(t,e.values),n,r)),e}let Tj=class{constructor(e,i){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:i},parts:r}=this._$AD,n=(e?.creationScope??Nc).importNode(i,!0);cc.currentNode=n;let s=cc.nextNode(),o=0,a=0,l=r[0];for(;l!==void 0;){if(o===l.index){let d;l.type===2?d=new zT(s,s.nextSibling,this,e):l.type===1?d=new l.ctor(s,l.name,l.strings,this,e):l.type===6&&(d=new Ij(s,this,e)),this._$AV.push(d),l=r[++a]}o!==l?.index&&(s=cc.nextNode(),o++)}return cc.currentNode=Nc,n}p(e){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,i),i+=r.strings.length-2):r._$AI(e[i])),i++}},zT=class hR{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,i,r,n){this.type=2,this._$AH=he,this._$AN=void 0,this._$AA=e,this._$AB=i,this._$AM=r,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&e?.nodeType===11&&(e=i.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,i=this){e=rh(this,e,i),am(e)?e===he||e==null||e===""?(this._$AH!==he&&this._$AR(),this._$AH=he):e!==this._$AH&&e!==kn&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Sj(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==he&&am(this._$AH)?this._$AA.nextSibling.data=e:this.T(Nc.createTextNode(e)),this._$AH=e}$(e){const{values:i,_$litType$:r}=e,n=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Ex.createElement(uR(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===n)this._$AH.p(i);else{const s=new Tj(n,this),o=s.u(this.options);s.p(i),this.T(o),this._$AH=s}}_$AC(e){let i=XM.get(e.strings);return i===void 0&&XM.set(e.strings,i=new Ex(e)),i}k(e){DT(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,n=0;for(const s of e)n===i.length?i.push(r=new hR(this.O(om()),this.O(om()),this,this.options)):r=i[n],r._$AI(s),n++;n<i.length&&(this._$AR(r&&r._$AB.nextSibling,n),i.length=n)}_$AR(e=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},d1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,i,r,n,s){this.type=1,this._$AH=he,this._$AN=void 0,this.element=e,this.name=i,this._$AM=n,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=he}_$AI(e,i=this,r,n){const s=this.strings;let o=!1;if(s===void 0)e=rh(this,e,i,0),o=!am(e)||e!==this._$AH&&e!==kn,o&&(this._$AH=e);else{const a=e;let l,d;for(e=s[0],l=0;l<s.length-1;l++)d=rh(this,a[r+l],i,l),d===kn&&(d=this._$AH[l]),o||=!am(d)||d!==this._$AH[l],d===he?e=he:e!==he&&(e+=(d??"")+s[l+1]),this._$AH[l]=d}o&&!n&&this.j(e)}j(e){e===he?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Ej=class extends d1{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===he?void 0:e}},Mj=class extends d1{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==he)}},Cj=class extends d1{constructor(e,i,r,n,s){super(e,i,r,n,s),this.type=5}_$AI(e,i=this){if((e=rh(this,e,i,0)??he)===kn)return;const r=this._$AH,n=e===he&&r!==he||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==he&&(r===he||n);n&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},Ij=class{constructor(e,i,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){rh(this,e)}};const Aj=RT.litHtmlPolyfillSupport;Aj?.(Ex,zT),(RT.litHtmlVersions??=[]).push("3.3.1");const NT=(t,e,i)=>{const r=i?.renderBefore??e;let n=r._$litPart$;if(n===void 0){const s=i?.renderBefore??null;r._$litPart$=n=new zT(e.insertBefore(om(),s),s,void 0,i??{})}return n._$AI(t),n};const LT=globalThis;let bd=class extends Ou{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=NT(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return kn}};bd._$litElement$=!0,bd.finalized=!0,LT.litElementHydrateSupport?.({LitElement:bd});const Pj=LT.litElementPolyfillSupport;Pj?.({LitElement:bd});(LT.litElementVersions??=[]).push("4.2.1");class cm{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}const Oj=(t,e)=>{const i=e/Rj;let r=0;const n=setInterval(()=>{r+=i,r>=e&&(clearInterval(n),t())},i);return n},Rj=4,Dj=(t,e,i)=>{const r=Object.keys(t),n=r.length;ld===void 0&&queueMicrotask(h1),ld??=new Map;let s=ld.get(t);return s===void 0&&(s={callbacks:[],keyCount:n},ld.set(t,s)),s.keyCount!==n&&(s.callbacks.forEach(o=>o(r)),s.callbacks=[],s.keyCount=n),s.callbacks.push(o=>{const a=d=>Lt(e,null,d),l=o[n];l===void 0?a(void 0):t[l]===i?a(l):a(void 0)}),i};let ld;const h1=()=>{ld?.forEach(({callbacks:t},e)=>{const i=Object.keys(e);t.forEach(r=>r(i))}),ld=void 0},zj=(t,e,i)=>{const r=t.manager;return r.V!==he&&r.V!==i&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=i,r.T.push((n,s)=>Lt(e,void 0,i===s?n:void 0)),i},pR=(t=[c1(),...nR()],e,i)=>{const r=Array.isArray(t)?t:[t];let n=r.length+1;const s=o=>{n-=1,o!==void 0&&(n=Math.min(n,0)),n===0&&e(o)};r.forEach(o=>Dj(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!1}),i));for(const o of r)if("manager"in o&&o.manager.component===o){zj(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!0}),i);break}return i},Nj=(t="",e={},i=c1())=>{const r={emit:n=>{t===""&&h1();const s=new CustomEvent(t,{detail:n,cancelable:!0,bubbles:!0,composed:!0,...e});return i.el.dispatchEvent(s),s}};return t===""&&pR(void 0,n=>t=n.key,r),r},Ie=Nj.bind(null,"");var fR;fR=CT;class FT{constructor(e){this.#t=[],this.#e=[],this.#i=[],this.#l=[],this.#c=[],this.#u=[],this.#d=[],this.#h=[],this.#o=[],this.#a=!1,this.P=new cm,this.connectedCalled=!1,this.loadedCalled=!1,this[fR]=!0,this.#s=[];const i=this,r=e??c1();i.#r=r,i.ready=i.P.promise,i.#n=eC(i),i.component=r,i.#r.addController(i),i.#r.manager===void 0||(rR(i),queueMicrotask(()=>i.catchUpLifecycle()))}#t;#e;#i;#l;#c;#u;#d;#h;#o;#a;#r;catchUpLifecycle(){const{manager:e}=this.#r;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#a&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#n;get exports(){return this.#n}set exports(e){const i=this.#n;i!==e&&(this.#n=e,this.#s.forEach(Lt),this.connectedCalled&&this.O!==!1&&this.#r.requestUpdate(this.O,i)),this.P.resolve(e)}setProvisionalExports(e,i=!0){this.#n=i?eC(e):e,this.#s.forEach(Lt)}#s;watchExports(e){const i=()=>e(this.#n);return this.#s.push(i),()=>void this.#s.splice(this.#s.indexOf(i),1)}get use(){return od(this.#r),uj}get useRef(){return od(this.#r),dj}get useRefSync(){return od(this.#r),IT}controllerRemoved(){this.#r.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#t.push(e)}onDisconnected(e){this.#e.push(e)}onLoad(e){this.#i.push(e)}onLoaded(e){this.#l.push(e)}onUpdate(e){this.#c.push(e)}onUpdated(e){this.#u.push(e)}onDestroy(e){this.#d.push(e)}onLifecycle(e){this.#h.push(e),this.connectedCalled&&this.#r.el.isConnected&&this.#p(e)}triggerConnected(){const e=this;e.hostConnected&&Lt(e.hostConnected,e),e.#t.forEach(Lt),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Lt(e.hostDisconnected,e),e.#e.forEach(Lt),e.#o.forEach(Lt),e.#o=[]}async triggerLoad(){if(this.#a)return;this.#a=!0;const e=this;e.hostLoad&&await Sx(e.hostLoad,e),this.#i.length>0&&await Promise.allSettled(this.#i.map(Sx)),this.P.resolve(this.#n)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&Lt(this.hostLoaded,this),this.#l.forEach(Lt),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&Lt(this.hostUpdate,this,e),this.#c.forEach(QM,e)}triggerUpdated(e){this.hostUpdated&&Lt(this.hostUpdated,this,e),this.#u.forEach(QM,e)}triggerDestroy(){this.hostDestroy&&Lt(this.hostDestroy,this),this.#d.forEach(Lt)}triggerLifecycle(){this.hostLifecycle&&this.#p(()=>this.hostLifecycle()),this.#h.forEach(this.#p,this)}#p(e){od(this.#r);const i=Lt(e);(Array.isArray(i)?i:[i]).forEach(n=>{typeof n=="function"?this.#o.push(n):typeof n=="object"&&typeof n.remove=="function"&&this.#o.push(n.remove)})}}function QM(t){Lt(t,void 0,this)}const Lj=FT,eC=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(r,n,s){if(!((n==="exports"||n==="_exports")&&n in r&&r[n]===i)&&(n in r||n in Promise.prototype||typeof n=="symbol"))return typeof r=="function"?r[n]:Reflect.get(r,n,s)}},i=new Proxy(t,e);return i},Fj=t=>t.replace(jj,(e,i)=>`${i===0?"":"-"}${e.toLowerCase()}`),jj=/[A-Z]+(?![a-z])|[A-Z]/gu,Uj=1,Vj=2,Bj=4,qj=8,Hj=16,Gj=32,Wj=64,mR=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const i=e;return i.manager?.loadedCalled||(i.J??i._offspring).push(t),(i.I??i._postLoad).promise}return!1},tC={};function gR(){}const rv=Object.defineProperty,Zj=globalThis.HTMLElement??gR;var wr,Uo,Nd,Hm,Mx;const bM=class bM extends Zj{constructor(){var n;super();Fn(this,Hm);Fn(this,wr);Fn(this,Uo);Fn(this,Nd);jn(this,Uo,{}),jn(this,Nd,[]),this.I=new cm,this.H=new cm,this.J=[];const i=this,r=i.constructor;i._offspring=i.J,i._postLoad=i.I,r.C?.forEach(s=>{Object.hasOwn(i,s)&&(ct(i,Uo)[s]=i[s],delete i[s])}),r.A?fp(n=i,Hm,Mx).call(n,{a:r.A}):r.B.then(async s=>{var o;await r.K.p,fp(o=i,Hm,Mx).call(o,await(s.default?.then(a=>typeof a=="function"?{a}:a)??s))}).catch(s=>{i.H.reject(s),setTimeout(()=>{throw s})})}static F(){for(const i of this.C??[])rv(this.prototype,i,{configurable:!0,enumerable:!0,get(){return ct(this,Uo)[i]},set(r){ct(this,Uo)[i]=r}});for(const i of this.E??[])rv(this.prototype,i,{async value(...r){return ct(this,wr)||await this.H.promise,await ct(this,wr)[i](...r)},configurable:!0});for(const i of this.D??[])rv(this.prototype,i,{value(...r){return ct(this,wr)[i](...r)},configurable:!0})}get manager(){return ct(this,wr)?.manager}attributeChangedCallback(i,r,n){ct(this,wr)?.attributeChangedCallback(i,r,n),ct(this,wr)||ct(this,Nd).push(i)}connectedCallback(){ct(this,wr)?ct(this,wr).connectedCallback?.():queueMicrotask(()=>this.G=mR(this))}disconnectedCallback(){ct(this,wr)?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){ct(this,wr)?.requestUpdate()}};wr=new WeakMap,Uo=new WeakMap,Nd=new WeakMap,Hm=new WeakSet,Mx=function(i){const r=this.constructor,n=r.L,s=ct(this,Uo),o=Object.values(i).find(y=>y.L===n),a=`${n}--lazy`;let l=o;for(;l&&!Object.hasOwn(l,"lumina");)l=Object.getPrototypeOf(l);Jj(l),!r.A&&(r.A=o,customElements.define(a,o)),o.N=this;const h=document.createElement(a);o.N=void 0,jn(this,wr,h),jn(this,Uo,h),ct(this,Nd).forEach(y=>h.attributeChangedCallback(y,null,this.getAttribute(y))),Object.entries(s).forEach(Yj,h);const f=this.isConnected;(f||this.G)&&(h.connectedCallback?.(),f||h.disconnectedCallback())},bM.lumina=!0;let iC=bM;function Yj([t,e]){this[t]=e}const Jj=t=>{const e=t.prototype,i=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(n,s){i.setAttribute.call(this.el,n,s)},e.removeAttribute=function(n){i.removeAttribute.call(this.el,n)},rv(e,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};const Ro={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Zm=t=>(...e)=>({_$litDirective$:t,values:e});let Ym=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,i,r){this._$Ct=e,this._$AM=i,this._$Ci=r}_$AS(e,i){return this.update(e,i)}update(e,i){return this.render(...i)}};const Kj=Zm(class extends Ym{constructor(t){if(super(t),t.type!==Ro.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((r=>r!==""))));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const i=t.element.classList;for(const r of this.st)r in e||(i.remove(r),this.st.delete(r));for(const r in e){const n=!!e[r];n===this.st.has(r)||this.nt?.has(r)||(n?(i.add(r),this.st.add(r)):(i.remove(r),this.st.delete(r)))}return kn}});const yR="important",Xj=" !"+yR,Qj=Zm(class extends Ym{constructor(t){if(super(t),t.type!==Ro.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const r=t[i];return r==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`}),"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in e){const n=e[r];if(n!=null){this.ft.add(r);const s=typeof n=="string"&&n.endsWith(Xj);r.includes("-")||s?i.setProperty(r,s?n.slice(0,-11):n,s?yR:""):i[r]=n}}return kn}});const vR=t=>t.strings===void 0,eU={},bR=(t,e=eU)=>t._$AH=e;const wR=Zm(class extends Ym{constructor(t){if(super(t),t.type!==Ro.PROPERTY&&t.type!==Ro.ATTRIBUTE&&t.type!==Ro.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!vR(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===kn||e===he)return e;const i=t.element,r=t.name;if(t.type===Ro.PROPERTY){if(e===i[r])return kn}else if(t.type===Ro.BOOLEAN_ATTRIBUTE){if(!!e===i.hasAttribute(r))return kn}else if(t.type===Ro.ATTRIBUTE&&i.getAttribute(r)===e+"")return kn;return bR(t),e}});const Ef=(t,e)=>{const i=t._$AN;if(i===void 0)return!1;for(const r of i)r._$AO?.(e,!1),Ef(r,e);return!0},u0=t=>{let e,i;do{if((e=t._$AM)===void 0)break;i=e._$AN,i.delete(t),t=e}while(i?.size===0)},_R=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(i===void 0)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),rU(e)}};function tU(t){this._$AN!==void 0?(u0(this),this._$AM=t,_R(this)):this._$AM=t}function iU(t,e=!1,i=0){const r=this._$AH,n=this._$AN;if(n!==void 0&&n.size!==0)if(e)if(Array.isArray(r))for(let s=i;s<r.length;s++)Ef(r[s],!1),u0(r[s]);else r!=null&&(Ef(r,!1),u0(r));else Ef(this,t)}const rU=t=>{t.type==Ro.CHILD&&(t._$AP??=iU,t._$AQ??=tU)};let nU=class extends Ym{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,i,r){super._$AT(e,i,r),_R(this),this.isConnected=e._$AU}_$AO(e,i=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),i&&(Ef(this,e),u0(this))}setValue(e){if(vR(this._$Ct))this._$Ct._$AI(e,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=e,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}};const At=()=>new sU;let sU=class{};const Fw=new WeakMap,Be=Zm(class extends nU{render(t){return he}update(t,[e]){const i=e!==this.G;return i&&this.G!==void 0&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),he}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let i=Fw.get(e);i===void 0&&(i=new WeakMap,Fw.set(e,i)),i.get(this.G)!==void 0&&this.G.call(this.ht,void 0),i.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?Fw.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});class oU extends Lj{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=he,this.T=[],this.#i=new WeakMap,this.#e=e,this.exports=void 0,this.hasDestroy=Cx in e&&typeof e.destroy=="function",bd.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const i=e.el.localName;throw e.el.remove(),new Error(`The ${i} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${Cx} prop.`)}this.#t!==void 0&&clearTimeout(this.#t),h1();for(const i of e.M)"triggerConnected"in i?i.triggerConnected():Lt(i.hostConnected,i)},hostDisconnected:()=>{for(const i of e.M)"triggerDisconnected"in i?i.triggerDisconnected():Lt(i.hostDisconnected,i);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const i of e.M)"triggerUpdate"in i?i.triggerUpdate(this.Q):Lt(i.hostUpdate,i,this.Q)},hostUpdated:()=>{for(const i of e.M)"triggerUpdated"in i?i.triggerUpdated(this.Q):Lt(i.hostUpdated,i,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),od(e)}#t;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#t=void 0,this.destroyed=!0;for(const e of this.#e.M)"triggerDestroy"in e?e.triggerDestroy():Lt(e.hostDestroy,e);this.#e.M.splice(0)}}U(){if(this.#t!==void 0&&clearTimeout(this.#t),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const e=()=>void this.#e.destroy();this.#t=Oj(e,aU)}}S(e,i){const r=this.T;this.V=he,this.T=[],r.forEach(n=>n(e,i))}#i;W(e,i){(typeof i=="object"&&i!==null||typeof i=="function")&&this.#i.set(i,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#i.get(e)}}let aU=1e3;const Cx="autoDestroyDisabled";var yc,Gm,Wm,vc,Os,Ch,xR,$R;const rm=class rm extends bd{constructor(){super();Fn(this,Ch);Fn(this,yc);Fn(this,Gm);Fn(this,Wm);Fn(this,vc);Fn(this,Os);this.M=[],this.manager=new oU(this);const i=this,r=i.constructor,n=r.N,s=r.K.o,o=rm.prototype.shouldUpdate;jn(i,vc,n?.H??new cm),i.I=n?.I??new cm,i.J=n?.J??[],i._offspring=i.J,i._postLoad=i.I,i.el=n??i,jn(i,Wm,i.enableUpdating),i.enableUpdating=gR,i.shouldUpdate!==o&&(jn(i,Gm,i.shouldUpdate),i.shouldUpdate=o),s&&(jn(i,yc,new Map),r.elementProperties.forEach((a,l)=>ct(i,yc).set(l,s())))}static finalizeStyles(i){const r=super.finalizeStyles(i),n=this.shadowRootOptions===tC;return this.K?.commonStyles===void 0||n?r:[this.K.commonStyles,...r]}static createProperty(i,r){const n=typeof r=="number"?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0,o=s?.hasChanged??OT,a={attribute:n&Uj&&typeof i=="string"?Fj(i):!1,reflect:!!(n&Vj),type:n&Bj?Boolean:n&qj?Number:void 0,state:!!(n&Hj),readOnly:!!(n&Gj),noAccessor:!!(n&Wj),c:!1,...s,hasChanged(l,d){const h=o(l,d);return a.c=h,h}};super.createProperty(i,a)}static getPropertyDescriptor(i,r,n){const s=this.K,o=super.getPropertyDescriptor(i,r,n);return n.d=o,{...o,get(){return s.t?.(ct(this,yc).get(i)),o.get?.call(this)},set(a){const l=this.manager;if(n.readOnly&&!kx&&(l.R||l.connectedCalled))throw Error(`Cannot assign to read-only property "${i}" of ${this.el.localName}. Trying to assign "${a}"`);o.set.call(this,a??void 0),n.c&&ct(this,yc)?.get(i)?.notify(),l.T.length>0&&(h1(),l?.S(i,a))}}}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const i=this.constructor.K.c?.(()=>this.requestUpdate());jn(this,Os,i);const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>fp(this,Ch,$R).call(this).catch(n=>{ct(this,vc).reject(n),setTimeout(()=>{throw n})})):i&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),ct(this,Os)?.destroy(),jn(this,Os,void 0)}createRenderRoot(){const i=this.el.shadowRoot,r=this.constructor,n=r.shadowRootOptions,o=i??(n===tC?this.el:this.el.attachShadow(n));if(this.isConnected){const a=o.getRootNode();a.adoptedStyleSheets=[...a.adoptedStyleSheets,...r.elementStyles.map(l=>"styleSheet"in l?l.styleSheet:l)]}return o}shouldUpdate(i){var r;return this.manager.Q=i,((r=ct(this,Gm))==null?void 0:r.call(this,i))??!0}update(i){ct(this,Os)?fp(this,Ch,xR).call(this,i):super.update(i)}listen(i,r,n){const s=r?.bind(this)??r;this.manager.onLifecycle(()=>(this.el.addEventListener(i,s,n),()=>this.el.removeEventListener(i,s,n)))}listenOn(i,r,n,s){const o=n?.bind(this)??n;this.manager.onLifecycle(()=>(i.addEventListener(r,o,s),()=>i.removeEventListener(r,o,s)))}async componentOnReady(){return await ct(this,vc).promise,this}addController(i){this.M.push(i),!(CT in i)&&this.renderRoot&&this.el.isConnected&&i.hostConnected?.()}removeController(i){this.M.splice(this.M.indexOf(i),1),i.controllerRemoved?.()}};yc=new WeakMap,Gm=new WeakMap,Wm=new WeakMap,vc=new WeakMap,Os=new WeakMap,Ch=new WeakSet,xR=function(i){try{ct(this,Os).clear(),this.constructor.K.r(ct(this,Os),()=>VM(rm.prototype,this,"update").call(this,i))}catch(r){throw ct(this,Os).clear(),r}},$R=async function(){const i=this.el.G??mR(this.el);i&&await i;const r=[];for(const s of this.M)"triggerLoad"in s?r.push(s.triggerLoad()):r.push(Sx(s.hostLoad,s));await Promise.all(r),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(s=>s.has(Cx)&&this.manager.U()),ct(this,Wm).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const n=this.J.filter(s=>!s.manager?.loadedCalled);n.length&&await Promise.allSettled(n.map(async s=>await s.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const s of this.M)"triggerLoaded"in s?s.triggerLoaded():Lt(s.hostLoaded,s);this.loaded?.(),ct(this,vc).resolve()},rm.lumina=!0;let lt=rm;const lU=t=>{let e;const i=n=>{e=new URL(n,globalThis.location?.href||void 0).href},r={...t,getAssetPath(n){const s=new URL(n,e);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:i,customElement(n,s){s.K=r,s.L=n,customElements.get(n)||customElements.define(n,s)}};return i(t.defaultAssetPath),r},U=t=>typeof t=="object"&&t!=null?Kj(t):t,SR=t=>typeof t=="object"&&t!=null?Qj(t):t,uc=he;function um(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i)}const tl={toAttribute:t=>t===!0?"":t===!1?null:t},cU="calcite-mode-auto",uU="calcite-mode-dark",Rs={rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},dU={filter:250,nextTick:0,resize:150,reposition:100},hU=10,Vr=25;function rC(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(uU)||t.contains(cU)&&e?"dark":"light",r=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),n=o=>{s!==o&&r(o),s=o};let s=i();r(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>n(o.matches?"dark":"light")),new MutationObserver(()=>n(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const Mf=globalThis.calciteConfig,pU=Mf?.focusTrapStack||[],fU=Mf?.logLevel||"info",nC="3.3.3",mU="2025-10-08",gU="7391af08e";function yU(){if(Mf&&Mf.version)return;console.info(`Using Calcite Components ${nC} [Date: ${mU}, Revision: ${gU}]`);const t=Mf||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:nC,writable:!1}),globalThis.calciteConfig=t}document.readyState==="interactive"?rC():document.addEventListener("DOMContentLoaded",rC,{once:!0});queueMicrotask(yU);const vU=lU({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:gt,getAssetPath:jT,setAssetPath:bU}=vU;function wU(t){return t.map(e=>{let i="";for(let r=0;r<e;r++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const nh=()=>wU([2,1,1,1,3]);var _U=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ix=_U.join(","),kR=typeof Element>"u",dm=kR?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,d0=!kR&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},h0=function t(e,i){var r;i===void 0&&(i=!0);var n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=n===""||n==="true",o=s||i&&e&&t(e.parentNode);return o},xU=function(e){var i,r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return r===""||r==="true"},TR=function(e,i,r){if(h0(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(Ix));return i&&dm.call(e,Ix)&&n.unshift(e),n=n.filter(r),n},ER=function t(e,i,r){for(var n=[],s=Array.from(e);s.length;){var o=s.shift();if(!h0(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,d=t(l,!0,r);r.flatten?n.push.apply(n,d):n.push({scopeParent:o,candidates:d})}else{var h=dm.call(o,Ix);h&&r.filter(o)&&(i||!e.includes(o))&&n.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),y=!h0(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&y){var b=t(f===!0?o.children:f.children,!0,r);r.flatten?n.push.apply(n,b):n.push({scopeParent:o,candidates:b})}else s.unshift.apply(s,o.children)}}return n},MR=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},CR=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||xU(e))&&!MR(e)?0:e.tabIndex},$U=function(e,i){var r=CR(e);return r<0&&i&&!MR(e)?0:r},SU=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},IR=function(e){return e.tagName==="INPUT"},kU=function(e){return IR(e)&&e.type==="hidden"},TU=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return i},EU=function(e,i){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===i)return e[r]},MU=function(e){if(!e.name)return!0;var i=e.form||d0(e),r=function(a){return i.querySelectorAll('input[type="radio"][name="'+a+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=EU(n,e.form);return!s||s===e},CU=function(e){return IR(e)&&e.type==="radio"},IU=function(e){return CU(e)&&!MU(e)},AU=function(e){var i,r=e&&d0(e),n=(i=r)===null||i===void 0?void 0:i.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=n)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(n)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&n;){var d,h,f;r=d0(n),n=(d=r)===null||d===void 0?void 0:d.host,s=!!((h=n)!==null&&h!==void 0&&(f=h.ownerDocument)!==null&&f!==void 0&&f.contains(n))}}return s},sC=function(e){var i=e.getBoundingClientRect(),r=i.width,n=i.height;return r===0&&n===0},PU=function(e,i){var r=i.displayCheck,n=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=dm.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(dm.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof n=="function"){for(var a=e;e;){var l=e.parentElement,d=d0(e);if(l&&!l.shadowRoot&&n(l)===!0)return sC(e);e.assignedSlot?e=e.assignedSlot:!l&&d!==e.ownerDocument?e=d.host:e=l}e=a}if(AU(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return sC(e);return!1},OU=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var r=0;r<i.children.length;r++){var n=i.children.item(r);if(n.tagName==="LEGEND")return dm.call(i,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}i=i.parentElement}return!1},Ax=function(e,i){return!(i.disabled||h0(i)||kU(i)||PU(i,e)||TU(i)||OU(i))},oC=function(e,i){return!(IU(i)||CR(i)<0||!Ax(e,i))},RU=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},DU=function t(e){var i=[],r=[];return e.forEach(function(n,s){var o=!!n.scopeParent,a=o?n.scopeParent:n,l=$U(a,o),d=o?t(n.candidates):a;l===0?o?i.push.apply(i,d):i.push(a):r.push({documentOrder:s,tabIndex:l,item:n,isScope:o,content:d})}),r.sort(SU).reduce(function(n,s){return s.isScope?n.push.apply(n,s.content):n.push(s.content),n},[]).concat(i)},zU=function(e,i){i=i||{};var r;return i.getShadowRoot?r=ER([e],i.includeContainer,{filter:oC.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:RU}):r=TR(e,i.includeContainer,oC.bind(null,i)),DU(r)},NU=function(e,i){i=i||{};var r;return i.getShadowRoot?r=ER([e],i.includeContainer,{filter:Ax.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):r=TR(e,i.includeContainer,Ax.bind(null,i)),r};const UT={getShadowRoot:!0};function Vo(t){const r=pl(t,"[dir]");return r?r.getAttribute("dir"):"ltr"}function p1(t){return t.getRootNode()}function $ye(t){const e=p1(t);return"host"in e?e:null}function LU(t,e){if(!t)return 0;const r=document.createElement("canvas").getContext("2d");return r.font=e,r.measureText(t).width}function AR(t){return t.host||null}function f1(t,{selector:e,id:i}){if(!t)return null;t.assignedSlot&&(t=t.assignedSlot);const r=p1(t);return(i?"getElementById"in r?r.getElementById(i):null:e?r.querySelector(e):null)||f1(AR(r),{selector:e,id:i})}function pl(t,e){return t?t.closest(e)||pl(AR(p1(t)),e):null}function FU(t){return typeof t?.setFocus=="function"}async function m1(t,e=!1,i="tabbable",r,n){return t?FU(t)&&r!==t?t.setFocus(n):(i==="tabbable"?UU:BU)(t,e,n):void 0}function jU(t,e){if(t)return zU(t,{...UT,includeContainer:e})[0]??t}function UU(t,e,i){jU(t,e)?.focus(i)}function VU(t,e){if(t)return NU(t,{...UT,includeContainer:e})[0]??t}function BU(t,e,i){VU(t,e)?.focus(i)}function qU(t,e){return t.filter(i=>i.matches(e))}function hm(t,e,i){if(typeof e=="string"&&e!=="")return e;if(e===""||e===!0)return t[i]}function g1(t){return(!!t).toString()}function HU(t){return Ft(t)||ZU(t)}function GU(t){return YU(t).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent).join("").trim()}function WU(t){for(const e of t.childNodes)if(e.nodeType===Node.TEXT_NODE&&e.textContent?.trim()!==""||e.nodeType===Node.ELEMENT_NODE)return!0;return!1}function ZU(t){return!!GU(t)}function YU(t){return t.currentTarget.assignedNodes({flatten:!0})}function Ft(t){return!!La(t).length}function La(t,e){return JU(t.currentTarget,e)}function JU(t,e){const i=t.assignedElements({flatten:!0});return e?qU(i,e):i}function KU(t){return!!(t.isPrimary&&t.button===0)}function XU(t){return t.detail===0}const Qg=(t,e,i,r=!0,n=!0,s=!1)=>{const o=t.indexOf(e),a=o===0,l=o===t.length-1;r&&(i=i==="previous"&&a?"last":i==="next"&&l?"first":i);let d;return i==="previous"?d=t[o-1]||t[r?t.length-1:o]:i==="next"?d=t[o+1]||t[r?0:o]:i==="last"?d=t[t.length-1]:d=t[0],m1(d,n,"tabbable",s?d:void 0),d};function QU(t,e){if(t.parentNode!==e.parentNode)return!1;const i=Array.from(t.parentNode.children);return i.indexOf(t)<i.indexOf(e)}async function Sye(t,e){return PR(t,e,"animation")}async function eV(t,e){return PR(t,e,"transition")}function aC(t,e,i){const r=e==="transition"?"transitionProperty":"animationName";return t.getAnimations().find(n=>n[r]===i)}async function PR(t,e,i){let r=aC(t,i,e);if(r||(await tV(),r=aC(t,i,e)),!!r)try{await r.finished}catch{}}async function tV(){await new Promise(t=>requestAnimationFrame(()=>t()))}function xn(t){return t.endsWith("px")?parseFloat(t):t.endsWith("vw")?lC(parseFloat(t),window.innerWidth):t.endsWith("vh")?lC(parseFloat(t),window.innerHeight):0}function lC(t,e){return t*e/100}function hs(t,e,i){const r=iV(t);return new r(e,i)}function iV(t){class e extends window.MutationObserver{constructor(r){super(r),this.observedEntry=[],this.callback=r}observe(r,n){return this.observedEntry.push({target:r,options:n}),super.observe(r,n)}unobserve(r){const n=this.observedEntry.filter(s=>s.target!==r);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),n.forEach(s=>this.observe(s.target,s.options))}}return(function(){return t==="intersection"?window.IntersectionObserver:t==="mutation"?e:window.ResizeObserver})()}function OR(t,e,i,r){if(t&&(e&&t.unobserve(e),!!i)){if(t instanceof MutationObserver){t.observe(i,r);return}t.observe(i)}}const cC=new Set,uC={trace:0,debug:1,info:2,warn:4,error:8,off:10};function rV(t){return uC[t]>=uC[fU]}function Ru(t,...e){if(!rV(t))return;console[t].call(this,"%ccalcite","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",...e)}let jw;const nV={debug:t=>Ru("debug",t),info:t=>Ru("info",t),warn:t=>Ru("warn",t),error:t=>Ru("error",t),trace:t=>Ru("trace",t),deprecated:sV};function sV(t,{component:e,name:i,suggested:r,removalVersion:n}){const s=`${t}:${t==="component"?"":e}${i}`;if(cC.has(s))return;cC.add(s);const o=Array.isArray(r);o&&!jw&&(jw=new Intl.ListFormat("en",{style:"long",type:"disjunction"}));const a=`[${i}] ${t} is deprecated and will be removed in ${n==="future"?"a future version":`v${n}`}.${r?` Use ${o?jw.format(r.map(l=>`"${l}"`)):`"${r}"`} instead.`:""}`;Ru("warn",a)}const dC={flipRtl:"flip-rtl",svg:"svg"},RR={},Uw={},DR={s:16,m:24,l:32};function zR({icon:t,scale:e}){const i=DR[e],r=lV(t),n=r.charAt(r.length-1)==="F";return`${n?r.substring(0,r.length-1):r}${i}${n?"F":""}`}async function oV(t){const e=zR(t),i=NR(e);if(i)return i;Uw[e]||(Uw[e]=fetch(jT(`./assets/icon/${e}.json`)).then(n=>n.json()).catch(()=>(nV.error(`${t.icon} (${t.scale}) icon failed to load`),"")));const r=await Uw[e];return RR[e]=r,r}function aV(t){return NR(zR(t))}function NR(t){return RR[t]}function lV(t){const e=!isNaN(Number(t.charAt(0))),i=t.split("-");if(i.length>0){const n=/[a-z]/i;t=i.map((s,o)=>s.replace(n,function(l,d){return o===0&&d===0?l:l.toUpperCase()})).join("")}return e?`i${t}`:t}const cV=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`,Nb=class Nb extends lt{constructor(){super(...arguments),this.visible=!1,this.flipRtl=!1,this.icon=null,this.preload=!1,this.scale="m"}connectedCallback(){if(super.connectedCallback(),this.preload){this.visible=!0,this.loadIconPathData();return}this.visible||this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}willUpdate(e){(e.has("icon")&&(this.hasUpdated||this.icon!==null)||e.has("scale")&&(this.hasUpdated||this.scale!=="m"))&&this.loadIconPathData()}disconnectedCallback(){super.disconnectedCallback(),this.intersectionObserver?.disconnect(),this.intersectionObserver=null}async loadIconPathData(){const{icon:e,scale:i,visible:r}=this;if(!e||!r)return;const n={icon:e,scale:i},s=aV(n)||await oV(n);e===this.icon&&(this.pathData=s)}waitUntilVisible(e){if(this.intersectionObserver=hs("intersection",i=>{i.forEach(r=>{r.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}render(){const{el:e,flipRtl:i,pathData:r,scale:n,textLabel:s}=this,o=Vo(e),a=DR[n],l=!!s,d=[].concat(r||"");return this.el.ariaHidden=g1(!l),this.el.ariaLabel=l?s:null,this.el.role=l?"img":null,q`<svg aria-hidden=true class=${U({[dC.flipRtl]:o==="rtl"&&i,[dC.svg]:!0})} fill=currentColor height=100% viewBox=${`0 0 ${a} ${a}`} width=100% xmlns=http://www.w3.org/2000/svg>${d.map(h=>typeof h=="string"?lm`<path d=${h??he} />`:lm`<path d=${h.d??he} opacity=${("opacity"in h?h.opacity:1)??he} />`)}</svg>`}};Nb.properties={pathData:[16,{},{state:!0}],visible:[16,{},{state:!0}],flipRtl:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],preload:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],textLabel:1},Nb.styles=cV;let p0=Nb;gt("calcite-icon",p0);const uV=Object.freeze(Object.defineProperty({__proto__:null,Icon:p0},Symbol.toStringTag,{value:"Module"}));function dV(){const{disabled:t}=this;t||HTMLElement.prototype.click.call(this)}function LR(t){t.target.disabled&&t.preventDefault()}const FR=["mousedown","mouseup","click"];function jR(t){t.target.disabled&&(t.stopImmediatePropagation(),t.preventDefault())}const f0={capture:!0};function vs(t){if(t.disabled){t.el.setAttribute("aria-disabled","true"),t.el.contains(document.activeElement)&&document.activeElement.blur(),hV(t);return}fV(t),t.el.removeAttribute("aria-disabled")}function hV(t){t.el.click=dV,pV(t.el)}function pV(t){t.addEventListener("pointerdown",LR,f0),FR.forEach(e=>t.addEventListener(e,jR,f0))}function fV(t){delete t.el.click,mV(t.el)}function mV(t){t.removeEventListener("pointerdown",LR,f0),FR.forEach(e=>t.removeEventListener(e,jR,f0))}const gV={container:"interaction-container"},bs=({children:t,disabled:e})=>q`<div class=${U(gV.container)} .inert=${e}>${t}</div>`;function Lc(t){return t==="Enter"||t===" "}const pm=["0","1","2","3","4","5","6","7","8","9"];function ii(t){return t==="l"?"m":"s"}function Vw(t){return t.hidden||t.itemHidden}async function yV(t){await t.componentOnReady(),await t.updateComplete}const vV=t=>(...e)=>{const i=nR(),r=new t(...e),n=r.exports;rR(i.at(-1));const s=r.component.manager;s.W(r,n),r.watchExports(s.W.bind(s,r)),lj(r);const o=[r.component,...i].reverse();return pR(o,a=>a===void 0?void 0:bV(r,a,n),n)},bV=(t,{host:e,key:i,isReactive:r},n)=>{const s=e,o=s[i]!==t.exports,a=s[i]!==n,l=n!==t.exports;if(o&&!a&&l&&(s[i]=t.exports),e===t.component){if(r){const f=t.component.manager;a&&f.W(t,s[i]),t.onUpdate(y=>{if(y.has(i)){const b=s[i];b!==t.exports&&f.W(t,b)}})}t.O=r?void 0:i}const h=t.component.constructor.elementProperties.get(i)?.readOnly;t.watchExports(()=>{s[i]!==t.exports&&(h?hj(()=>{s[i]=t.exports}):s[i]=t.exports)})},wV=(t,e)=>{let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1},_V=(t,e,i)=>{const r=xV(e).subscribe;return r(n=>{n.some(o=>wV(t,o.target))&&i()})},Bw={},xV=t=>{const e=t.join(","),i=Bw[e];if(i!==void 0)return i;const r=new Set,n=new MutationObserver(o=>r.forEach(a=>a(o)));globalThis.document&&n.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const s={subscribe:o=>(r.add(o),()=>{r.delete(o),r.size===0&&(n.disconnect(),Bw[e]=void 0)})};return Bw[e]=s,s},UR=(t,e)=>{let i=t;for(;i;){const r=i.closest?.(e);if(r)return r;const n=i.getRootNode?.();if(n===globalThis.document)return;i=n.host}};function $V(t){const e=UR(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e?.classList.contains("calcite-mode-dark")||e?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const SV=(t,e,i)=>UR(t,`[${e}]`)?.getAttribute(e)??i,kV="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),TV=new Set(kV),m0="en",EV={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},MV=async(t,e,i="")=>{const r=`${e}/${i}`,n=`${r}${t}.json`;return qw[n]??(qw[n]=VR(t,r)),await qw[n]},qw={},VR=async(t,e)=>{const i=`${e}${t}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return t===m0?{}:await VR(m0,e)},BR=t=>{const e=SV(t,"lang",globalThis.navigator?.language||m0);return{lang:e,t9nLocale:qR(e)}},qR=t=>{const[e,i]=t.split("-"),r=e.toLowerCase();let n=r;return i&&(n=`${r}-${i.toUpperCase()}`),n=EV[n]??n,TV.has(n)?n:i?qR(r):m0},CV=(t,e,i,r)=>{let n;const s=()=>IV(t,e(),r).then(o=>{(n?.lang!==o.lang||n.t9nLocale!==o.t9nLocale||n.t9nStrings!==o.t9nStrings)&&i(o),n=o}).catch(console.error);return queueMicrotask(s),_V(t,["lang"],s)},IV=async(t,e,i=t.localName.split("-").slice(1).join("-"))=>{const{lang:r,t9nLocale:n}=BR(t),s=`${e}/${i}/t9n`,a=i===null?{}:await MV(n,s,"messages.");return{lang:r,t9nLocale:n,t9nStrings:a}},AV=t=>HR(void 0,t),VT=t=>e=>HR(e,t);class PV extends FT{constructor(e,i){super(e);const r=this.exports;try{od(this.component);const n=i(this.component,this),s=this.exports!==r;if(aj(n)){s||this.setProvisionalExports(n);const o=n.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!s||n!==void 0)&&(this.exports=n),queueMicrotask(()=>super.catchUpLifecycle())}catch(n){this.P.reject(n),console.error(n)}}catchUpLifecycle(){}}const HR=vV(PV),GR=(t,e)=>new OV(t,e);class OV extends FT{#t;#e;#i;constructor(e,i){super(),this.#e=e,this.#i=i,this.#t=new MutationObserver(r=>{r.forEach(n=>{e.includes(n.attributeName)&&i.call(this.component,this.component.el.getAttribute(n.attributeName),n.oldValue,n.attributeName)})})}hostConnected(){this.#e.forEach(e=>{this.component.el.hasAttribute(e)&&this.#i.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#t.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#e})}hostDisconnected(){this.#t.disconnect()}}const RV=t=>(e={})=>AV((i,r)=>{const n=BR(i.el),s={_lang:n.lang,_t9nLocale:n.t9nLocale,_loading:!0},o=i;r.onLifecycle(()=>CV(i.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:d,lang:h})=>{const f={...d,_lang:h,_t9nLocale:l,_loading:!1};r.exports=f;const y=d.componentLabel;typeof y=="string"&&"label"in i&&i.label==null&&(i.label??=y),a(o.messageOverrides)},e.name));const a=l=>{const d=r.exports,h=d._original??d,f=WR(h,l);l&&(f._original=h),r.exports=f};return"messageOverrides"in o&&r.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),e.blocking?(r.setProvisionalExports(s,!1),r.ready):s}),WR=(t,e)=>{if(!e)return t;const i={...t};return Object.entries(e).forEach(([r,n])=>{typeof n=="object"?i[r]=WR(t[r],n):i[r]=n??t[r]}),i};const Ei=RV(jT);const Ai=()=>VT((t,e)=>{let i;function r(){i?.abort()}return e.onLoad(()=>{t.listen("focus",()=>{i=new AbortController,t.el.addEventListener("focusout",r,{signal:i.signal})})}),e.onDisconnected(()=>{t.el.removeEventListener("focusout",r)}),async(n,s)=>{if(t.disabled)return;const o=zV(n());if(!o)return;const{target:a,includeContainer:l,strategy:d}=o,h=p1(t.el),f=h.activeElement;if(await yV(t),!(f!==h.activeElement||i&&!i?.signal.aborted))return t.el.removeEventListener("focus",r),m1(a,l,d,t.el,s)}});function DV(t){return"target"in t&&("includeContainer"in t||"strategy"in t)}function zV(t){if(t)return DV(t)?t:{target:t}}const Pi={title:"title",close:"close",imageContainer:"image-container",chipIcon:"chip-icon",textSlotted:"text--slotted",container:"container",imageSlotted:"image--slotted",closable:"closable",multiple:"multiple",single:"single",selectable:"selectable",selectIcon:"select-icon",selectIconActive:"select-icon--active",nonInteractive:"non-interactive",isCircle:"is-circle",selected:"selected"},NV={image:"image"},ey={close:"x",checkedSingle:"circle-f",uncheckedMultiple:"square",checkedMultiple:"check-square-f"},LV=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-flex;cursor:default;border-radius:var(--calcite-chip-corner-radius, 9999px)}:host([closed]){display:none}:host([appearance=outline]) .container,:host([appearance=outline-fill]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([appearance=outline]) .close,:host([appearance=outline-fill]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([appearance=outline]):host([kind=brand]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-brand));--calcite-internal-chip-selectable-hover-border-color: var(--calcite-chip-border-color, var(--calcite-color-brand));--calcite-internal-chip-selectable-active-border-color: var( --calcite-chip-border-color, var(--calcite-color-brand) )}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=inverse]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-inverse))}:host([appearance=outline]):host([kind=neutral]),:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-1))}:host([appearance=outline]){--calcite-internal-chip-background-color: transparent}:host([appearance=outline-fill]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-1))}:host([appearance=solid]){--calcite-internal-chip-border-color: transparent;--calcite-internal-chip-selectable-hover-border-color: transparent;--calcite-internal-chip-selectable-active-border-color: transparent}:host([appearance=solid]):host([kind=brand]) .container,:host([appearance=solid]):host([kind=inverse]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-inverse))}:host([appearance=solid]):host([kind=brand]) .close,:host([appearance=solid]):host([kind=inverse]) .close{outline-color:var(--calcite-color-text-inverse)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-brand))}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-inverse))}:host([appearance=solid]):host([kind=inverse]) .close:hover{background-color:var(--calcite-color-inverse-hover)}:host([appearance=solid]):host([kind=inverse]) .close:active{background-color:var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-2))}:host([kind=neutral]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([kind=neutral]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([selected]) .select-icon{opacity:1}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-border-3)}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-inverse-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-brand-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline-fill]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press)}:host([scale=s]) .container{--calcite-internal-chip-block-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--2);--calcite-internal-chip-icon-size: var(--calcite-size-xs, 1rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-image-size: var(--calcite-spacing-xl, 1.25rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-close-size: var(--calcite-size-xs, 1rem) }:host([scale=s]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px)}:host([scale=s]) .container.image--slotted:has(.chip-icon),:host([scale=s]) .container.image--slotted.text--slotted,:host([scale=s]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.image--slotted:not(.text--slotted,:has(.chip-icon)),:host([scale=s]) .container.image--slotted:not(.selectable){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=s]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.multiple:not(.is-circle).image--slotted:not(.text--slotted){--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container{--calcite-internal-chip-block-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--1);--calcite-internal-chip-icon-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-image-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-close-size: var(--calcite-size-sm, 1.5rem) }:host([scale=m]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=m]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.image--slotted:has(.chip-icon),:host([scale=m]) .container.image--slotted.text--slotted,:host([scale=m]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=m]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.multiple:not(.is-circle){--calcite-internal-chip-select-space-x-end: .125rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=m]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container{--calcite-internal-chip-block-size: 2.75rem ;--calcite-internal-chip-container-space-x-end: .5rem ;--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-font-size: var(--calcite-font-size-0);--calcite-internal-chip-icon-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-icon-space: .5rem ;--calcite-internal-chip-image-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-title-space: .5rem ;--calcite-internal-close-size: var(--calcite-size-md, 2rem) }:host([scale=l]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.image--slotted:has(.chip-icon),:host([scale=l]) .container.image--slotted.text--slotted,:host([scale=l]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: .5rem }:host([scale=l]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=l]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: .5rem }:host([scale=l]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .75rem }:host([scale=l]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) }.container{box-sizing:border-box;display:inline-flex;block-size:100%;max-inline-size:100%;align-items:center;justify-content:center;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-internal-chip-background-color);border-color:var(--calcite-internal-chip-border-color);border-radius:var(--calcite-chip-corner-radius, 9999px);border-width:var(--calcite-border-width-sm);border-style:solid;font-size:var(--calcite-internal-chip-font-size, var(--calcite-font-size));padding-inline-start:var(--calcite-internal-chip-container-space-x-start);padding-inline-end:var(--calcite-internal-chip-container-space-x-end);block-size:var(--calcite-internal-chip-block-size, auto);inline-size:var(--calcite-internal-chip-inline-size, auto);min-inline-size:var(--calcite-internal-chip-block-size, auto)}.container:hover .select-icon--active{opacity:var(--calcite-opacity-full, 1)}.container.selectable{cursor:pointer}.container.selectable:hover{background-color:var(--calcite-internal-chip-selectable-hover-background-color);border-color:var(--calcite-internal-chip-selectable-hover-border-color)}.container.selectable:active{background-color:var(--calcite-internal-chip-selectable-active-background-color);border-color:var(--calcite-internal-chip-selectable-active-border-color)}.container:not(.non-interactive):focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container.text--slotted .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container:not(.text--slotted) .title,.container:not(.image--slotted) .image-container{display:none}.container.is-circle .chip-icon,.container.is-circle .image-container{padding:var(--calcite-spacing-none, 0)}.title{padding-inline:var(--calcite-internal-chip-title-space)}.image-container{display:inline-flex;overflow:hidden;align-items:center;justify-content:center;pointer-events:none;block-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));padding-inline-start:var(--calcite-spacing-none, 0);padding-inline-end:var(--calcite-internal-chip-image-space-x-end, 0)}.chip-icon{position:relative;margin-block:0px;display:inline-flex;transition-timing-function:cubic-bezier(.4,0,.2,1);color:var(--calcite-chip-icon-color, var(--calcite-chip-text-color, var(--calcite-icon-color, currentColor)));padding-inline:var(--calcite-internal-chip-icon-space, var(--calcite-spacing-xs, .375rem))}.select-icon{align-self:center;justify-content:center;align-items:center;display:flex;inset-block-start:-1px;position:absolute;visibility:hidden;inline-size:auto;opacity:0;transition:opacity .15s ease-in-out,inline-size .15s ease-in-out;color:var(--calcite-chip-select-icon-color, currentColor)}.select-icon.select-icon--active{position:relative;visibility:visible;opacity:var(--calcite-opacity-half, .5);color:var(--calcite-chip-select-icon-color-press, var(--calcite-chip-select-icon-color-pressed, var(--calcite-chip-select-icon-color, currentColor)))}.multiple .select-icon{display:flex;align-items:center;justify-content:center}.multiple .select-icon,.single .select-icon--active{padding-inline-start:var(--calcite-internal-chip-select-space-x-start);padding-inline-end:var(--calcite-internal-chip-select-space-x-end);block-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem))}slot[name=image]::slotted(*){display:flex;block-size:100%;inline-size:100%;overflow:hidden;border-radius:50%}.close{margin:0;cursor:pointer;align-items:center;border-radius:50%;border-style:none;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;background-color:var(--calcite-close-background-color, var(--calcite-color-transparent));-webkit-appearance:none;display:flex;align-content:center;justify-content:center;color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, currentColor));block-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));padding:0}.close:hover,.close:focus{background-color:var(--calcite-close-background-color-hover, var(--calcite-color-transparent-hover))}.close:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.close:active{background-color:var(--calcite-close-background-color-press, var(--calcite-color-transparent-press))}.close calcite-icon{color:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,Lb=class Lb extends lt{constructor(){super(),this.closeButtonRef=At(),this.containerRef=At(),this.messages=Ei(),this.focusSetter=Ai()(this),this.hasImage=!1,this.hasText=!1,this.appearance="solid",this.closable=!1,this.closed=!1,this.closeOnDelete=!1,this.disabled=!1,this.iconFlipRtl=!1,this.interactive=!1,this.kind="neutral",this.scale="m",this.selected=!1,this.selectionMode="none",this.calciteChipClose=Ie({cancelable:!1}),this.calciteChipSelect=Ie({cancelable:!1}),this.calciteInternalChipKeyEvent=Ie({cancelable:!1}),this.calciteInternalChipSelect=Ie({cancelable:!1}),this.calciteInternalSyncSelectedChips=Ie({cancelable:!1}),this.listen("keydown",this.keyDownHandler),this.listen("click",this.clickHandler)}async setFocus(e){return this.focusSetter(()=>{if(this.interactive)return this.containerRef.value;if(this.closable)return this.closeButtonRef.value},e)}async load(){this.updateHasText()}willUpdate(e){e.has("selected")&&this.hasUpdated&&this.watchSelected(this.selected)}updated(){vs(this)}loaded(){this.selectionMode!=="none"&&this.interactive&&this.selected&&this.handleSelectionPropertyChange(this.selected)}watchSelected(e){this.selectionMode!=="none"&&this.handleSelectionPropertyChange(e)}keyDownHandler(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.handleEmittingEvent(),e.preventDefault();break;case"Backspace":case"Delete":this.closable&&!this.closed&&this.closeOnDelete&&(e.preventDefault(),this.close());break;case"ArrowRight":case"ArrowLeft":case"Home":case"End":this.calciteInternalChipKeyEvent.emit(e),e.preventDefault();break}}clickHandler(){!this.interactive&&this.closable&&m1(this.closeButtonRef.value)}handleDefaultSlotChange(){this.updateHasText()}close(){this.calciteChipClose.emit(),this.selected=!1,this.closed=!0}closeButtonKeyDownHandler(e){Lc(e.key)&&(e.preventDefault(),this.close())}updateHasText(){this.hasText=this.el.textContent.trim().length>0}handleSlotImageChange(e){this.hasImage=Ft(e)}handleEmittingEvent(){this.interactive&&this.calciteChipSelect.emit()}handleSelectionPropertyChange(e){this.selectionMode==="single"&&this.calciteInternalSyncSelectedChips.emit(),!this.parentChipGroup.selectedItems.includes(this.el)&&e&&this.selectionMode!=="multiple"&&this.calciteInternalChipSelect.emit(),this.selectionMode!=="single"&&this.calciteInternalSyncSelectedChips.emit()}renderChipImage(){return q`<div class=${U(Pi.imageContainer)}><slot name=${NV.image} @slotchange=${this.handleSlotImageChange}></slot></div>`}renderSelectionIcon(){const e=this.selectionMode==="multiple"?this.selected?ey.checkedMultiple:ey.uncheckedMultiple:this.selected?ey.checkedSingle:void 0;return q`<div class=${U({[Pi.selectIcon]:!0,[Pi.selectIconActive]:this.selectionMode==="multiple"||this.selected})}>${e?q`<calcite-icon .icon=${e} .scale=${ii(this.scale)}></calcite-icon>`:null}</div>`}renderCloseButton(){return q`<button .ariaLabel=${this.messages.dismissLabel} class=${U(Pi.close)} @click=${this.close} @keydown=${this.closeButtonKeyDownHandler} .tabIndex=${this.disabled?-1:0} ${Be(this.closeButtonRef)}><calcite-icon .icon=${ey.close} .scale=${ii(this.scale)}></calcite-icon></button>`}renderIcon(){return q`<calcite-icon class=${U(Pi.chipIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.icon} .scale=${ii(this.scale)}></calcite-icon>`}render(){const{disabled:e}=this,i=e||!e&&!this.interactive,r=this.selectionMode==="multiple"&&this.interactive?"checkbox":this.selectionMode!=="none"&&this.interactive?"radio":this.interactive?"button":"img";return bs({disabled:e,children:q`<div .ariaChecked=${this.selectionMode!=="none"&&this.interactive?this.selected:void 0} .ariaLabel=${this.label} class=${U({[Pi.container]:!0,[Pi.textSlotted]:this.hasText,[Pi.imageSlotted]:this.hasImage,[Pi.selectable]:this.selectionMode!=="none",[Pi.multiple]:this.selectionMode==="multiple",[Pi.single]:this.selectionMode==="single"||this.selectionMode==="single-persist",[Pi.selected]:this.selected,[Pi.closable]:this.closable,[Pi.nonInteractive]:!this.interactive,[Pi.isCircle]:!this.closable&&!this.hasText&&(!this.icon||!this.hasImage)&&(this.selectionMode==="none"||!!this.selectionMode&&this.selectionMode!=="multiple"&&!this.selected)})} @click=${this.handleEmittingEvent} .role=${r} .tabIndex=${i?-1:0} ${Be(this.containerRef)}>${this.selectionMode!=="none"&&this.renderSelectionIcon()||""}${this.renderChipImage()}${this.icon&&this.renderIcon()||""}<span class=${U(Pi.title)}><slot @slotchange=${this.handleDefaultSlotChange}></slot></span>${this.closable&&this.renderCloseButton()||""}</div>`})}};Lb.properties={hasImage:[16,{},{state:!0}],hasText:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],closeOnDelete:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],interactive:[5,{},{type:Boolean}],kind:[3,{},{reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],parentChipGroup:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],selectionMode:1,value:1},Lb.styles=LV;let g0=Lb;gt("calcite-chip",g0);const kye=Object.freeze(Object.defineProperty({__proto__:null,Chip:g0},Symbol.toStringTag,{value:"Module"}));const Ve=Zm(class extends Ym{constructor(){super(...arguments),this.key=he}render(t,e){return this.key=t,e}update(t,[e,i]){return e!==this.key&&(bR(t),this.key=e),i}});const FV=new RegExp("\\.(0+)?$"),jV=new RegExp("0+$"),ft=class ft{constructor(e){if(e instanceof ft)return e;const[i,r]=WV(e).split(".").concat("");this.value=BigInt(i+r.padEnd(ft.DECIMALS,"0").slice(0,ft.DECIMALS))+BigInt(ft.ROUNDED&&r[ft.DECIMALS]>="5"),this.isNegative=e.charAt(0)==="-"}getIntegersAndDecimals(){const e=this.value.toString().replace("-","").padStart(ft.DECIMALS+1,"0"),i=e.slice(0,-ft.DECIMALS),r=e.slice(-ft.DECIMALS).replace(jV,"");return{integers:i,decimals:r}}toString(){const{integers:e,decimals:i}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${e}${i.length?"."+i:""}`}formatToParts(e){const{integers:i,decimals:r}=this.getIntegersAndDecimals(),n=e.numberFormatter.formatToParts(BigInt(i));return this.isNegative&&n.unshift({type:"minusSign",value:e.minusSign}),r.length&&(n.push({type:"decimal",value:e.decimal}),r.split("").forEach(s=>n.push({type:"fraction",value:s}))),n}format(e){const{integers:i,decimals:r}=this.getIntegersAndDecimals(),n=`${this.isNegative?e.minusSign:""}${e.numberFormatter.format(BigInt(i))}`,s=r.length?`${e.decimal}${r.split("").map(o=>e.numberFormatter.format(Number(o))).join("")}`:"";return`${n}${s}`}add(e){return ft.fromBigInt(this.value+new ft(e).value)}subtract(e){return ft.fromBigInt(this.value-new ft(e).value)}multiply(e){return ft._divRound(this.value*new ft(e).value,ft.SHIFT)}divide(e){return ft._divRound(this.value*ft.SHIFT,new ft(e).value)}};ft.DECIMALS=100,ft.ROUNDED=!0,ft.SHIFT=BigInt("1"+"0".repeat(ft.DECIMALS)),ft._divRound=(e,i)=>ft.fromBigInt(e/i+(ft.ROUNDED?e*BigInt(2)/i%BigInt(2):BigInt(0))),ft.fromBigInt=e=>Object.assign(Object.create(ft.prototype),{value:e,isNegative:e<BigInt(0)});let fm=ft;function BT(t){return!(!t||isNaN(Number(t)))}function Tye(t){return!t||!ZV(t)?"":y0(t,e=>{let i=!1;const r=e.split("").filter((n,s)=>n.match(/\./g)&&!i?(i=!0,!0):n.match(/-/g)&&s===0?!0:pm.includes(n)).join("");return BT(r)?new fm(r).toString():""})}const ZR=/^([-0])0+(?=\d)/,UV=/(?!^\.)\.$/,VV=/(?!^-)-/g,BV=/^-\b0\b\.?0*$/,qV=/0*$/,HV=new Set(["e","E","-",",",".",...pm]),Eye=t=>{const e=Array.from(t).filter(i=>HV.has(i)).join("");return y0(e,i=>{const r=i.replace(VV,"").replace(UV,"").replace(ZR,"$1");return BT(r)?BV.test(r)?r:GV(r):i})};function GV(t){const e=t.split(".")[1],i=new fm(t).toString(),[r,n]=i.split(".");return e&&n!==e?`${r}.${e}`:i}function y0(t,e){if(!t)return t;const i=t.toLowerCase().indexOf("e")+1;return i?t.replace(/[eE]*$/g,"").substring(0,i).concat(t.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((r,n)=>e(n===1?r.replace(/\./g,""):r)).join("e").replace(/^e/,"1e"):e(t)}function WV(t){const e=t.split(/[eE]/);if(e.length===1)return t;const i=+t;if(Number.isSafeInteger(i))return`${i}`;const r=t.charAt(0)==="-",n=+e[1],s=e[0].split("."),o=(r?s[0].substring(1):s[0])||"",a=s[1]||"",l=(f,y)=>{const b=Math.abs(y)-f.length,x=b>0?`${"0".repeat(b)}${f}`:f;return`${x.slice(0,y)}.${x.slice(y)}`},d=(f,y)=>{const b=y>f.length?`${f}${"0".repeat(y-f.length)}`:f;return`${b.slice(0,y)}.${b.slice(y)}`},h=n>0?`${o}${d(a,n)}`:`${l(o,n)}${a}`;return`${r?"-":""}${h.charAt(0)==="."?"0":""}${h.replace(FV,"").replace(ZR,"")}`}function ZV(t){return pm.some(e=>t.includes(e))}function Mye(t,e,i){const r=e.split(".")[1];if(r){const n=r.match(qV)[0];if(n&&i.delocalize(t).length!==e.length&&r.indexOf("e")===-1){const s=i.decimal;return t=t.includes(s)?t:`${t}${s}`,t.padEnd(t.length+n.length,i.localize("0"))}}return t}const v0="en",YV=["ar","bg","bs","ca","cs","da","de","de-AT","de-CH","el",v0,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"];new Map(Object.entries({bg:{am:"..",pm:".."},bs:{am:"prijepodne",pm:"popodne"},ca:{am:"a.m.",pm:"p.m."},cs:{am:"dop.",pm:"odp."},es:{am:"a.m.",pm:"p.m."},"es-mx":{am:"a.m.",pm:"p.m."},"es-MX":{am:"a.m.",pm:"p.m."},fi:{am:"ap.",pm:"ip."},he:{am:"",pm:""},hu:{am:"de. ",pm:"du."},lt:{am:"priepiet",pm:"popiet"},lv:{am:"priekpusdien",pm:"pcpusdien"},mk:{am:".",pm:"."},no:{am:"a.m.",pm:"p.m."},nl:{am:"a.m.",pm:"p.m."},"pt-pt":{am:"da manh",pm:"da tarde"},"pt-PT":{am:"da manh",pm:"da tarde"},ro:{am:"a.m.",pm:"p.m."},sl:{am:"dop.",pm:"pop."},sv:{am:"fm",pm:"em"},th:{am:"",pm:""},tr:{am:"",pm:"S"},uk:{am:"",pm:""},vi:{am:"SA",pm:"CH"}}));const JV=["arab","arabext","latn"],Hw=[...YV],YR=t=>JV.includes(t),Gw=new Intl.NumberFormat().resolvedOptions().numberingSystem,JR=Gw==="arab"||!YR(Gw)?"latn":Gw,KR=t=>YR(t)?t:JR;function y1(t){return t?Hw.includes(t)?t:(t=t.toLowerCase(),t.includes("-")&&(t=t.replace(/(\w+)-(\w+)/,(e,i,r)=>`${i}-${r.toUpperCase()}`),Hw.includes(t)||(t=t.split("-")[0])),t==="nb"||t==="nn"?"no":t==="zh"?"zh-CN":Hw.includes(t)?t:(console.warn(`Translations for the "${t}" locale are not available and will fall back to the default, English (en).`),v0)):v0}function KV(t){switch(t){case"it-CH":return"de-CH";case"bs":return"sr-Latn-CS";default:return t}}class XR{constructor(){this.delocalize=e=>this._numberFormatOptions?y0(e,i=>i.replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex)):e,this.localize=e=>this._numberFormatOptions?y0(e,i=>BT(i.trim())?new fm(i.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):i):e}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(e){if(e.locale=y1(e?.locale),e.numberingSystem=KR(e?.numberingSystem),!this._numberFormatOptions&&e.locale===v0&&e.numberingSystem===JR&&Object.keys(e).length===2||JSON.stringify(this._numberFormatOptions)===JSON.stringify(e))return;this._numberFormatOptions=e,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const i=new Map(this._digits.map((n,s)=>[n,s])),r=new Intl.NumberFormat(this._numberFormatOptions.locale,{numberingSystem:this._numberFormatOptions.numberingSystem}).formatToParts(-123456789e-1);this._actualGroup=r.find(n=>n.type==="group").value,this._group=this._actualGroup.trim().length===0||this._actualGroup==" "?"":this._actualGroup,this._decimal=e.locale==="bs"||e.locale==="mk"?",":r.find(n=>n.type==="decimal").value,this._minusSign=r.find(n=>n.type==="minusSign").value,this._getDigitIndex=n=>i.get(n)}}const gi=new XR;let gp,hC;function XV(t={}){return Object.entries(t).sort(([e],[i])=>e.localeCompare(i)).map(e=>`${e[0]}-${e[1]}`).flat().join(":")}function QV(t,e){t=y1(t),gp||(gp=new Map),hC!==t&&(gp.clear(),hC=t);const i=XV(e),r=gp.get(i);if(r)return r;const n=new Intl.DateTimeFormat(t,e);return gp.set(i,n),n}function pC(t){return t[t.openProp||"open"]}async function v1(t){await t.updateComplete,pC(t)?t.onBeforeOpen():t.onBeforeClose(),await t.updateComplete,t.transitionEl&&await eV(t.transitionEl,t.transitionProp),pC(t)?t.onOpen():t.onClose()}const eB={brand:"lightbulb",danger:"exclamationMarkTriangle",info:"information",success:"checkCircle",warning:"exclamationMarkTriangle"};const Ww={slow:14e3,medium:1e4,fast:6e3},ty={actionsEnd:"actions-end",title:"title",message:"message",link:"link"},an={actionsEnd:"actions-end",close:"close",container:"container",containerActive:"container--active",dismissProgress:"dismiss-progress",icon:"icon",containerEmbedded:"container--embedded",queueCount:"queue-count",queueCountActive:"queue-count--active",textContainer:"text-container",focused:"focused"},tB=300;class iB{constructor(){this.registeredElements=[],this.queueTimeoutId=null}registerElement(e){const{registeredElements:i}=this;if(!i.includes(e)){switch(e.queue){case"immediate":i.unshift(e);break;case"next":i.splice(1,0,e);break;case"last":i.push(e);break}this.updateAlerts()}}unregisterElement(e){const{registeredElements:i}=this,r=i.indexOf(e);r!==-1&&i.splice(r,1),e.active=!1,this.updateAlerts()}updateAlerts(){window.clearTimeout(this.queueTimeoutId),this.queueTimeoutId=null,this.registeredElements.forEach((e,i)=>{e.openAlertCount=this.registeredElements.length,i===0?this.queueTimeoutId=window.setTimeout(()=>e.active=!0,tB):e.active=!1})}}const rB=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block;inline-size:var(--calcite-alert-width)}.container{pointer-events:none;position:fixed;z-index:var(--calcite-z-index-toast);margin-inline:auto;margin-block:0px;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:min-content;align-items:center;justify-content:center;text-align:start;opacity:0;--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--calcite-alert-shadow, var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow));background-color:var(--calcite-alert-background-color, var(--calcite-color-foreground-1));border-radius:var(--calcite-alert-corner-radius, var(--calcite-border-radius));border-block-start:0 solid transparent;border-inline:1px solid var(--calcite-color-border-3);border-block-end:1px solid var(--calcite-color-border-3);max-inline-size:calc(100% - var(--calcite-alert-offset-size, 2rem) * 2);transition:opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),all var(--calcite-animation-timing) ease-in-out}.container--bottom,.container--top{inset-inline-end:0;inset-inline-start:0}.container[class*=bottom]{transform:translate3d(0,var(--calcite-alert-offset-size, 2rem),0);inset-block-end:var(--calcite-alert-offset-size, 2rem)}.container[class*=top]{transform:translate3d(0,calc(-1 * var(--calcite-alert-offset-size, 2rem)),0);inset-block-start:var(--calcite-alert-offset-size, 2rem)}.container[class*=start]{inset-inline-start:var(--calcite-alert-offset-size, 2rem);inset-inline-end:auto}.container[class*=end]{inset-inline-end:var(--calcite-alert-offset-size, 2rem);inset-inline-start:auto}.icon{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0;margin-block:auto;margin-inline-end:auto}.close{display:flex;cursor:pointer;align-items:center;justify-content:flex-end;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-color-text-3);outline:2px solid transparent;outline-offset:2px;-webkit-appearance:none;border-start-end-radius:var(--calcite-alert-corner-radius, var(--calcite-border-radius));border-end-end-radius:var(--calcite-alert-corner-radius, var(--calcite-border-radius));outline-color:transparent}.close:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.close:hover,.close:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-2)}.close:active{background-color:var(--calcite-color-foreground-3)}.queue-count{visibility:hidden;display:flex;min-inline-size:min-content;cursor:default;align-items:center;justify-content:space-around;align-self:stretch;overflow:hidden;text-align:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2);opacity:0;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;border-inline:0 solid transparent;border-start-end-radius:0}.queue-count--active{visibility:visible;opacity:1}.dismiss-progress{position:absolute;display:block;inline-size:100%;overflow:hidden;inset-inline:0;inset-block-start:-2px;block-size:2px;border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}.dismiss-progress:after{position:absolute;inset-block-start:0px;display:block;block-size:2px;content:"";background-color:var(--calcite-color-transparent-tint);inset-inline-end:0}.actions-end{display:flex;align-self:stretch}.text-container{box-sizing:border-box;display:flex;min-inline-size:0px;flex:1 1 auto;flex-direction:column;overflow-wrap:break-word}.footer{position:relative;display:flex;inline-size:auto;justify-content:flex-end;align-self:stretch;padding-block-start:1px;block-size:inherit}:host([scale=s]) slot[name=title]::slotted(*),:host([scale=s]) *::slotted([slot=title]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) slot[name=message]::slotted(*),:host([scale=s]) *::slotted([slot=message]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) slot[name=link]::slotted(*),:host([scale=s]) *::slotted([slot=link]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .queue-count{margin-inline:.5rem}:host([scale=s]) .container{--calcite-internal-alert-min-height: 3.5rem;inline-size:var(--calcite-alert-width, 40em)}:host([scale=s]) .close{padding:.75rem}:host([scale=s]) .icon{padding-inline-start:.75rem}:host([scale=s]) .text-container{padding-block:.5rem;padding-inline:.75rem .5rem}:host([scale=m]) slot[name=title]::slotted(*),:host([scale=m]) *::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) slot[name=message]::slotted(*),:host([scale=m]) *::slotted([slot=message]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) slot[name=link]::slotted(*),:host([scale=m]) *::slotted([slot=link]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .queue-count{margin-inline:.75rem}:host([scale=m]) .container{--calcite-internal-alert-min-height: 4.1875rem;inline-size:var(--calcite-alert-width, 50em)}:host([scale=m]) .close{padding:1rem}:host([scale=m]) .icon{padding-inline-start:1rem}:host([scale=m]) .text-container{padding-block:.75rem;padding-inline:1rem .75rem}:host([scale=l]) slot[name=title]::slotted(*),:host([scale=l]) *::slotted([slot=title]){margin-block-end:.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) slot[name=message]::slotted(*),:host([scale=l]) *::slotted([slot=message]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) slot[name=link]::slotted(*),:host([scale=l]) *::slotted([slot=link]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .queue-count{margin-inline:1rem}:host([scale=l]) .container{--calcite-internal-alert-min-height: 5.625rem;inline-size:var(--calcite-alert-width, 60em)}:host([scale=l]) .close{padding:1.25rem}:host([scale=l]) .icon{padding-inline-start:1.25rem}:host([scale=l]) .text-container{padding-block:1rem;padding-inline:1.25rem 1rem}:host([open]) .container--active{border-block-start-width:2px;opacity:1;pointer-events:initial}:host([open]) .container--active[class*=bottom]{transform:translate3d(0,calc(-1 * var(--calcite-alert-offset-size, 2rem)),inherit)}:host([open]) .container--active[class*=top]{transform:translate3d(0,var(--calcite-alert-offset-size, 2rem),inherit)}:host([auto-close])>.queue-count{border-inline-end:0 solid transparent}slot[name=title]::slotted(*),*::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}slot[name=message]::slotted(*),*::slotted([slot=message]){margin:0;display:inline;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-normal);margin-inline-end:.5rem;color:var(--calcite-color-text-2)}slot[name=link]::slotted(*),*::slotted([slot=link]){display:inline-flex;color:var(--calcite-color-text-link)}:host([kind=brand]) .container{border-block-start-color:var(--calcite-color-brand)}:host([kind=brand]) .container .icon{color:var(--calcite-color-brand)}:host([kind=info]) .container{border-block-start-color:var(--calcite-color-status-info)}:host([kind=info]) .container .icon{color:var(--calcite-color-status-info)}:host([kind=danger]) .container{border-block-start-color:var(--calcite-color-status-danger)}:host([kind=danger]) .container .icon{color:var(--calcite-color-status-danger)}:host([kind=success]) .container{border-block-start-color:var(--calcite-color-status-success)}:host([kind=success]) .container .icon{color:var(--calcite-color-status-success)}:host([kind=warning]) .container{border-block-start-color:var(--calcite-color-status-warning)}:host([kind=warning]) .container .icon{color:var(--calcite-color-status-warning)}:host([auto-close-duration=fast]) .dismiss-progress:after{animation:dismissProgress 6s ease-out}:host(:hover[auto-close-duration=fast]) .dismiss-progress:after,:host(:focus[auto-close-duration=fast]) .dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=medium]) .dismiss-progress:after{animation:dismissProgress 10s ease-out}:host(:hover[auto-close-duration=medium]) .dismiss-progress:after,:host(:focus[auto-close-duration=medium]) .dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=slow]) .dismiss-progress:after{animation:dismissProgress 14s ease-out}:host(:hover[auto-close-duration=slow]) .dismiss-progress:after,:host(:focus[auto-close-duration=slow]) .dismiss-progress:after{animation-play-state:paused}.container.focused .dismiss-progress:after{animation-play-state:paused}@keyframes dismissProgress{0%{inline-size:0px;opacity:.75}to{inline-size:100%;opacity:1}}.container--embedded{position:absolute}:host([hidden]){display:none}[hidden]{display:none}:host([calcite-hydrated-hidden]){visibility:hidden!important;pointer-events:none}`,pu=new iB,Fb=class Fb extends lt{constructor(){super(...arguments),this.autoCloseTimeoutId=null,this.transitionProp="opacity",this.totalHoverTime=0,this.totalOpenTime=0,this.messages=Ei(),this.focusSetter=Ai()(this),this.hasEndActions=!1,this.isFocused=!1,this.numberStringFormatter=new XR,this.active=!1,this.autoClose=!1,this.autoCloseDuration="medium",this.embedded=!1,this.iconFlipRtl=!1,this.kind="brand",this.open=!1,this.openAlertCount=0,this.placement="bottom",this.queue="last",this.scale="m",this.calciteAlertBeforeClose=Ie({cancelable:!1}),this.calciteAlertBeforeOpen=Ie({cancelable:!1}),this.calciteAlertClose=Ie({cancelable:!1}),this.calciteAlertOpen=Ie({cancelable:!1})}async setFocus(e){return this.focusSetter(()=>this.el,e)}connectedCallback(){super.connectedCallback(),this.open&&pu.registerElement(this.el),this.numberStringFormatter.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,signDisplay:"always"}}willUpdate(e){e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),e.has("active")&&(this.hasUpdated||this.active!==!1)&&this.handleActiveChange(),e.has("autoCloseDuration")&&(this.hasUpdated||this.autoCloseDuration!=="medium")&&this.updateDuration(),e.has("queue")&&(this.hasUpdated||this.queue!=="last")&&this.handleQueueChange(),e.has("numberingSystem")&&this.numberingSystemChange(),e.has("messages")&&this.effectiveLocaleChange()}disconnectedCallback(){super.disconnectedCallback(),pu.unregisterElement(this.el),this.clearAutoCloseTimeout(),this.embedded=!1}handleActiveChange(){v1(this),this.clearAutoCloseTimeout(),this.active&&this.autoClose&&!this.autoCloseTimeoutId&&(this.initialOpenTime=Date.now(),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),Ww[this.autoCloseDuration]))}openHandler(){this.open?pu.registerElement(this.el):pu.unregisterElement(this.el)}updateDuration(){this.autoClose&&this.autoCloseTimeoutId&&(this.clearAutoCloseTimeout(),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),Ww[this.autoCloseDuration]))}handleQueueChange(){this.open&&(pu.unregisterElement(this.el),pu.registerElement(this.el))}handleKeyBoardFocus(){this.isFocused=!0,this.handleFocus()}handleKeyBoardBlur(){this.isFocused=!1,this.isHovered||this.handleBlur()}effectiveLocaleChange(){this.numberStringFormatter.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,signDisplay:"always"}}numberingSystemChange(){this.numberStringFormatter.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,signDisplay:"always"}}clearAutoCloseTimeout(){window.clearTimeout(this.autoCloseTimeoutId),this.autoCloseTimeoutId=null}setTransitionEl(e){e&&(this.transitionEl=e)}closeAlert(){this.open=!1,this.clearAutoCloseTimeout()}onBeforeOpen(){this.calciteAlertBeforeOpen.emit()}onOpen(){this.calciteAlertOpen.emit()}onBeforeClose(){this.calciteAlertBeforeClose.emit()}onClose(){this.calciteAlertClose.emit()}actionsEndSlotChangeHandler(e){this.hasEndActions=Ft(e)}handleMouseOver(){this.isHovered=!0,this.handleFocus()}handleMouseLeave(){this.isHovered=!1,this.isFocused||this.handleBlur()}handleFocus(){this.clearAutoCloseTimeout(),this.totalOpenTime=Date.now()-this.initialOpenTime,this.lastMouseOverBegin=Date.now()}handleBlur(){const e=Date.now()-this.lastMouseOverBegin,i=Ww[this.autoCloseDuration]-this.totalOpenTime+this.totalHoverTime;this.totalHoverTime=this.totalHoverTime?e+this.totalHoverTime:e,this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),i)}render(){const{open:e,autoClose:i,label:r,placement:n,active:s,openAlertCount:o}=this,a=i?"alert":"alertdialog",l=!e,d=hm(eB,this.icon,this.kind),h=o>1;return this.el.inert=l,this.el.ariaLabel=r,this.el.toggleAttribute("calcite-hydrated-hidden",l),this.el.role=a,q`<div class=${U({[an.container]:!0,[an.containerActive]:s,[`${an.container}--${n}`]:!0,[an.containerEmbedded]:this.embedded,[an.focused]:this.isFocused})} @pointerenter=${this.autoClose&&this.autoCloseTimeoutId?this.handleMouseOver:null} @pointerleave=${this.autoClose?this.handleMouseLeave:null} ${Be(this.setTransitionEl)}>${d&&this.renderIcon(d)||""}<div class=${U(an.textContainer)} @focusin=${this.autoClose&&this.autoCloseTimeoutId?this.handleKeyBoardFocus:null} @focusout=${this.autoClose?this.handleKeyBoardBlur:null}><slot name=${ty.title}></slot><slot name=${ty.message}></slot><slot name=${ty.link}></slot></div>${this.renderActionsEnd()}${h?this.renderQueueCount():null}${this.renderCloseButton()}${e&&s&&i?q`<div class=${U(an.dismissProgress)}></div>`:null}</div>`}renderCloseButton(){return Ve("close",q`<button .ariaLabel=${this.messages.close} class=${U(an.close)} @click=${this.closeAlert} @focusin=${this.autoClose?this.handleKeyBoardFocus:null} @focusout=${this.autoClose?this.handleKeyBoardBlur:null} type=button><calcite-icon icon=x .scale=${ii(this.scale)}></calcite-icon></button>`)}renderQueueCount(){const{openAlertCount:e}=this,i=e>2?e-1:1,r=this.numberStringFormatter.numberFormatter.format(i);return Ve("queue-count",q`<div class=${U({[an.queueCount]:!0,[an.queueCountActive]:e>1})}><calcite-chip .label=${r} .scale=${this.scale} .value=${r}>${r}</calcite-chip></div>`)}renderActionsEnd(){return q`<div class=${U(an.actionsEnd)}><slot name=${ty.actionsEnd} @slotchange=${this.actionsEndSlotChangeHandler}></slot></div>`}renderIcon(e){return q`<div class=${U(an.icon)}><calcite-icon .flipRtl=${this.iconFlipRtl} .icon=${e} .scale=${ii(this.scale)}></calcite-icon></div>`}};Fb.properties={hasEndActions:[16,{},{state:!0}],isFocused:[16,{},{state:!0}],numberStringFormatter:[16,{},{state:!0}],active:[5,{},{type:Boolean}],autoClose:[7,{},{reflect:!0,type:Boolean}],autoCloseDuration:[3,{},{reflect:!0}],embedded:[5,{},{type:Boolean}],icon:[3,{converter:tl},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],kind:[3,{},{reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],numberingSystem:[3,{},{reflect:!0}],open:[7,{},{reflect:!0,type:Boolean}],openAlertCount:[9,{},{type:Number}],placement:[3,{},{reflect:!0}],queue:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},Fb.styles=rB;let Px=Fb;gt("calcite-alert",Px);const fu={percentage:"percentage",progressRing:"ring--progress",ring:"ring",rings:"rings",text:"text",trackRing:"ring--track"},nB=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`,jb=class jb extends lt{constructor(){super(...arguments),this.messages=Ei({name:null}),this.complete=!1,this.inline=!1,this.scale="m",this.text="",this.type="indeterminate",this.value=0}connectedCallback(){super.connectedCallback(),this.updateFormatter()}load(){requestAnimationFrame(()=>this.valueChangeHandler())}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==0)&&this.valueChangeHandler(),(e.has("type")&&(this.hasUpdated||this.type!=="indeterminate")||e.has("messages"))&&this.updateFormatter()}valueChangeHandler(){this.complete=this.type.startsWith("determinate")&&this.value===100}formatValue(){return this.type!=="determinate-value"?`${this.value}`:this.formatter.format(this.value/100)}getSize(e){return{s:32,m:64,l:96}[e]}getInlineSize(e){return{s:12,m:16,l:24}[e]}updateFormatter(){this.type!=="determinate-value"||this.formatter?.resolvedOptions().locale===this.messages._lang||(this.formatter=new Intl.NumberFormat(this.messages._lang,{style:"percent"}))}render(){const{el:e,inline:i,label:r,text:n,type:s,value:o}=this,a=e.id||nh(),l=s!=="indeterminate",d=Math.floor(o);return this.el.ariaLabel=r,this.el.ariaValueMax=l?"100":void 0,this.el.ariaValueMin=l?"0":void 0,this.el.ariaValueNow=l?d.toString():void 0,um(this.el,"id",a),this.el.role="progressbar",q`<div class=${U(fu.rings)}>${this.renderRing("track")}${this.renderRing("progress")}${!i&&l&&q`<div class=${U(fu.percentage)}>${this.formatValue()}</div>`||""}</div>${!i&&n&&q`<div class=${U(fu.text)}>${n}</div>`||""}`}renderRing(e){const{inline:i,scale:r,value:n}=this,s=i?this.getInlineSize(r):this.getSize(r),a=s*.45;let l;if(e==="progress"){const d=2*a*Math.PI,h=(this.type.startsWith("determinate")?n:24)/100*d,f=d-h;l={"stroke-dasharray":`${h} ${f}`}}return q`<svg aria-hidden=true class=${U({[fu.ring]:!0,[fu.trackRing]:e==="track",[fu.progressRing]:e==="progress"})} style=${SR(l)} viewBox=${`0 0 ${s} ${s}`}>${lm`<circle cx=${s/2} cy=${s/2} r=${a??he} />`}</svg>`}};jb.properties={complete:[7,{},{reflect:!0,type:Boolean}],inline:[7,{},{reflect:!0,type:Boolean}],label:1,scale:[3,{},{reflect:!0}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]},jb.styles=nB;let b0=jb;gt("calcite-loader",b0);const Cye=Object.freeze(Object.defineProperty({__proto__:null,Loader:b0},Symbol.toStringTag,{value:"Module"}));const fC={scrim:"scrim",content:"content"},mC={s:72,l:480},sB=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0}to{--tw-text-opacity: 1}}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`,Ub=class Ub extends lt{constructor(){super(...arguments),this.loaderRef=At(),this.resizeObserver=hs("resize",()=>this.handleResize()),this.messages=Ei(),this.hasContent=!1,this.loading=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver?.observe(this.el)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}handleDefaultSlotChange(e){this.hasContent=HU(e)}getScale(e){return e<mC.s?"s":e>=mC.l?"l":"m"}handleResize(){const{el:e}=this;this.loaderScale=this.getScale(Math.min(e.clientHeight,e.clientWidth)??0)}render(){const{hasContent:e,loading:i,loaderScale:r,messages:n}=this;return q`<div class=${U(fC.scrim)}>${i&&r?q`<calcite-loader .label=${n.loading} .scale=${r} ${Be(this.loaderRef)}></calcite-loader>`:null}<div class=${U(fC.content)} .hidden=${!e}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`}};Ub.properties={hasContent:[16,{},{state:!0}],loaderScale:[16,{},{state:!0}],loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}]},Ub.styles=sB;let Ox=Ub;gt("calcite-scrim",Ox);const oB=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function aB(t){return`${t.split("-").map((r,n)=>n===0?r:`${r[0].toUpperCase()}${r.slice(1)}`).join("")}${oB.includes(t)?"Input":"Change"}`}const Rx="hidden-form-input";function qT(t){return"checked"in t}const Dx=new WeakMap,HT=new WeakSet;function lB(t,e){if(pl(e.parentElement,"[form]"))return!0;const r="calciteInternalFormComponentRegister";let n=!1;return t.addEventListener(r,s=>{n=s.composedPath().some(o=>HT.has(o)),s.stopPropagation()},{once:!0}),e.dispatchEvent(new CustomEvent(r,{bubbles:!0,composed:!0})),n}function cB(t,{status:e,message:i,icon:r}){"status"in t&&(t.status=e),"validationIcon"in t&&typeof t.validationIcon!="string"&&(t.validationIcon=r),"validationMessage"in t&&!t.validationMessage&&(t.validationMessage=i)}function QR(t){return t.nodeName==="CALCITE-RADIO-BUTTON"?pl(t,"calcite-radio-button-group"):t}const uB=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function gC(t){const e=t?.target,i=e?.validationMessage,r=QR(e?.parentElement);if(!r)return;const n=r?.nodeName?.toLowerCase(),s=n?.split("-");if(s.length<2||s[0]!=="calcite")return;t?.preventDefault(),"validity"in r&&(r.validity=e?.validity),r.dispatchEvent(uB),cB(r,{message:i,icon:!0,status:"invalid"});const o=aB(n);r.addEventListener(o,()=>{"status"in r&&(r.status="idle"),"validationIcon"in r&&(r.validationIcon===""||r.validationIcon===!0)&&(r.validationIcon=!1),"validationMessage"in r&&r.validationMessage===i&&(r.validationMessage=""),"validity"in r&&(r.validity=e?.validity)},{once:!0})}function b1(t){const{formEl:e}=t;return e?(e.addEventListener("invalid",gC,!0),e.requestSubmit(),e.removeEventListener("invalid",gC,!0),requestAnimationFrame(()=>{const i=e.querySelectorAll("[status=invalid]");for(const r of i)if(r?.validationMessage){r?.setFocus();break}}),!0):!1}function eD(t){t.formEl?.reset()}function GT(t){const{el:e,value:i}=t,r=WT(t);if(!r||lB(r,e))return;t.formEl=r,t.defaultValue=i,qT(t)&&(t.defaultChecked=t.checked);const n=dB.bind(t);r.addEventListener("reset",n),Dx.set(t.el,n),HT.add(e)}function WT(t){const{el:e,form:i}=t;return i?f1(e,{id:i}):pl(e,"form")}function dB(){if("status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),qT(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue,this.onFormReset?.()}function ZT(t){const{el:e,formEl:i}=t;if(!i)return;const r=Dx.get(e);i.removeEventListener("reset",r),Dx.delete(e),t.formEl=null,HT.delete(e)}function hB(t,e){t.defaultValue=e}const zx="calciteInternalHiddenInputInput",tD=t=>{t.target.dispatchEvent(new CustomEvent(zx,{bubbles:!0}))},yC=t=>t.removeEventListener("input",tD);function pB(t){const{el:e,formEl:i,name:r,value:n}=t,{ownerDocument:s}=e,o=e.querySelectorAll(`input[slot="${Rx}"]`);if(!i||!r){o.forEach(f=>{yC(f),f.remove()});return}const a=Array.isArray(n)?n:[n],l=[],d=new Set;o.forEach(f=>{const y=a.find(b=>b==f.value);y!=null?(d.add(y),vC(t,f,y)):l.push(f)});let h;a.forEach(f=>{if(d.has(f))return;let y=l.pop();y||(y=s.createElement("input"),y.ariaHidden="true",y.slot=Rx),h||(h=s.createDocumentFragment()),h.append(y),y.addEventListener("input",tD),vC(t,y,f)}),h&&e.append(h),l.forEach(f=>{yC(f),f.remove()})}function vC(t,e,i){const{defaultValue:r,disabled:n,form:s,name:o,required:a}=t;e.defaultValue=r,e.disabled=n,e.name=o,e.required=a,e.tabIndex=-1,s?e.setAttribute("form",s):e.removeAttribute("form"),qT(t)?(e.checked=t.checked,e.defaultChecked=t.defaultChecked,e.value=t.checked?i||"on":""):e.value=i||"",t.syncHiddenFormInput?.(e);const l=QR(t.el);if(l&&"validity"in l)for(const d in{...e?.validity})l.validity[d]=e.validity[d]}const YT=({component:t})=>(pB(t),q`<slot name=${Rx}></slot>`);const Un={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",indicatorText:"indicator-text",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible",indicatorWithIcon:"indicator-with-icon",indicatorWithoutIcon:"indicator-without-icon"},bC="calcite-action",fB={button:t=>`${bC}-${t}-button`,indicator:t=>`${bC}-${t}-indicator`},mB={tooltip:"tooltip"},gB=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;cursor:pointer;background-color:transparent;--calcite-internal-action-text-color: var(--calcite-color-text-3);border-radius:var(--calcite-action-corner-radius, var(--calcite-action-corner-radius-start-start, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-start-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-start, var(--calcite-corner-radius)))}.interaction-container{border-radius:inherit}:host([width=full]){flex:1 0 auto}:host([width=full]) .button{justify-content:center}:host([width=full]) .button .text-container--visible{flex:none}:host([drag-handle]){cursor:move;--calcite-internal-action-text-color: var(--calcite-color-border-input);--calcite-internal-action-padding-inline: var(--calcite-spacing-xxs)}.button{border-radius:inherit;position:relative;margin:0;display:flex;inline-size:auto;align-items:center;justify-content:flex-start;border-style:none;font-family:var(--calcite-font-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1));color:var(--calcite-action-text-color, var(--calcite-internal-action-text-color));text-align:unset;flex:1 0 auto;cursor:inherit}.button:hover{background-color:var(--calcite-action-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)))}.button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.button:active{background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}.icon-container{pointer-events:none;margin:0;display:flex;align-items:center;justify-content:center;min-inline-size:1rem;min-block-size:1.5rem}.text-container{margin:0;inline-size:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5rem;opacity:0;transition-property:opacity;transition-duration:var(--calcite-animation-timing);transition-timing-function:cubic-bezier(.4,0,.2,1);transition-property:inline-size}.text-container--visible{inline-size:auto;flex:1 1 auto;opacity:1}:host([active]) .button{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-3));color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)))}:host([active]) .button:hover{background-color:var(--calcite-action-background-color-hover, var(--calcite-color-foreground-3))}:host([active]) .button:active{background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .text-container{opacity:var(--calcite-opacity-disabled)}:host([loading]) calcite-loader[inline]{margin-inline-end:0px}:host([appearance=transparent]):host([active]) .button{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent]) .button{background-color:transparent;transition-property:box-shadow;transition-duration:var(--calcite-animation-timing);transition-timing-function:cubic-bezier(.4,0,.2,1)}:host([appearance=transparent]) .button:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]) .button:active{background-color:var(--calcite-color-transparent-press)}:host([active-descendant]) .button{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .button{font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, .5rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xxs))}:host([scale=s]) .button--text-visible .icon-container{margin-inline-end:.5rem}:host([scale=m]) .button{font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-md))}:host([scale=m]) .button--text-visible .icon-container{margin-inline-end:.75rem}:host([scale=l]) .button{font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1.25rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xl))}:host([scale=l]) .button--text-visible .icon-container{margin-inline-end:1rem}:host([alignment=center]) .button{justify-content:center}:host([alignment=end]) .button{justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-inline:0px}.slot-container{display:flex}.slot-container--hidden{display:none}.button--text-visible{inline-size:100%}.indicator-with-icon{position:relative}.indicator-with-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-without-icon{margin-inline:.25rem;inline-size:1rem;position:relative}.indicator-without-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color, var(--calcite-action-background-color, var(--calcite-color-foreground-1)))}:host([disabled]):host([active]) .button,:host([disabled]):host([active]) .button:hover,:host([disabled]):host([active]) .button:focus{opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3))))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,Vb=class Vb extends lt{constructor(){super(...arguments),this.guid=nh(),this.buttonEl=At(),this.buttonId=fB.button(this.guid),this.mutationObserver=hs("mutation",()=>this.requestUpdate()),this.messages=Ei({blocking:!0}),this.focusSetter=Ai()(this),this.active=!1,this.activeDescendant=!1,this.appearance="solid",this.compact=!1,this.disabled=!1,this.dragHandle=!1,this.iconFlipRtl=!1,this.indicator=!1,this.loading=!1,this.scale="m",this.width="auto",this.textEnabled=!1,this.type="button"}async setFocus(e){return this.focusSetter(()=>this.buttonEl.value,e)}connectedCallback(){super.connectedCallback(),this.formEl=WT(this),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}updated(){vs(this)}disconnectedCallback(){super.disconnectedCallback(),this.formEl=null,this.mutationObserver?.disconnect()}handleClick(){const{type:e}=this;e==="submit"?b1(this):e==="reset"&&eD(this)}handleTooltipSlotChange(e){const r=e.target.assignedElements({flatten:!0}).filter(n=>n?.matches("calcite-tooltip"))[0];r&&(r.referenceElement=this.buttonEl.value)}storeIndicatorEl(e){this.indicatorEl=e}renderTextContainer(){const{text:e,textEnabled:i}=this,r={[Un.textContainer]:!0,[Un.textContainerVisible]:i};return e?Ve("text-container",q`<div class=${U(r)}>${e}</div>`):null}renderIndicatorText(){const{indicator:e,messages:i,buttonId:r}=this;return q`<div aria-labelledby=${r??uc} aria-live=polite class=${U(Un.indicatorText)} role=region ${Be(this.storeIndicatorEl)}>${e?i.indicator:null}</div>`}renderIconContainer(){const{loading:e,icon:i,scale:r,el:n,iconFlipRtl:s,indicator:o}=this,a=r==="l"?"l":"m",l=e?q`<calcite-loader inline .label=${this.messages.loading} .scale=${a}></calcite-loader>`:null,d=i?q`<calcite-icon class=${U({[Un.indicatorWithIcon]:o})} .flipRtl=${s} .icon=${i} .scale=${ii(this.scale)}></calcite-icon>`:null,h=l||d,f=h||n.children?.length,y=q`<div class=${U({[Un.slotContainer]:!0,[Un.slotContainerHidden]:e})}><slot></slot></div>`;return f?Ve("icon-container",q`<div aria-hidden=true class=${U(Un.iconContainer)}>${h}${y}</div>`):null}renderButton(){const{compact:e,disabled:i,icon:r,loading:n,textEnabled:s,label:o,text:a,indicator:l,indicatorEl:d,buttonId:h,messages:f}=this,y=o||a||"",b=l?f.indicatorLabel.replace("{label}",y):y,x={[Un.button]:!0,[Un.buttonTextVisible]:s,[Un.buttonCompact]:e},$=q`${this.renderIconContainer()}${this.renderTextContainer()}${!r&&l&&Ve("indicator-no-icon",q`<div class=${U(Un.indicatorWithoutIcon)}></div>`)||""}`,E=l&&d?[d]:[],C=[...this.aria?.controlsElements??[],...E];return this.dragHandle?q`<span .ariaBusy=${n} .ariaControlsElements=${C} .ariaDescribedByElements=${this.aria?.describedByElements} .ariaExpanded=${this.aria?.expanded} .ariaHasPopup=${this.aria?.hasPopup} .ariaLabel=${b} .ariaLabelledByElements=${this.aria?.labelledByElements} .ariaOwnsElements=${this.aria?.ownsElements} .ariaPressed=${this.aria?.pressed} class=${U(x)} id=${h??uc} role=button tabindex=${this.disabled?null:0} ${Be(this.buttonEl)}>${$}</span>`:q`<button .ariaBusy=${n} .ariaControlsElements=${C} .ariaDescribedByElements=${this.aria?.describedByElements} .ariaExpanded=${this.aria?.expanded} .ariaHasPopup=${this.aria?.hasPopup} .ariaLabel=${b} .ariaLabelledByElements=${this.aria?.labelledByElements} .ariaOwnsElements=${this.aria?.ownsElements} .ariaPressed=${this.aria?.pressed} class=${U(x)} .disabled=${i} id=${h??uc} @click=${this.handleClick} ${Be(this.buttonEl)}>${$}</button>`}render(){return bs({disabled:this.disabled,children:q`${this.renderButton()}<slot name=${mB.tooltip} @slotchange=${this.handleTooltipSlotChange}></slot>${this.renderIndicatorText()}`})}};Vb.properties={aria:[0,{},{attribute:!1}],active:[7,{},{reflect:!0,type:Boolean}],activeDescendant:[7,{},{reflect:!0,type:Boolean}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],compact:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],dragHandle:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],indicator:[7,{},{reflect:!0,type:Boolean}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}],text:1,textEnabled:[7,{},{reflect:!0,type:Boolean}],type:[3,{},{reflect:!0}]},Vb.styles=gB;let w0=Vb;gt("calcite-action",w0);const Iye=Object.freeze(Object.defineProperty({__proto__:null,Action:w0},Symbol.toStringTag,{value:"Module"})),iD=["top","right","bottom","left"],wC=["start","end"],_C=iD.reduce((t,e)=>t.concat(e,e+"-"+wC[0],e+"-"+wC[1]),[]),sh=Math.min,bc=Math.max,_0=Math.round,iy=Math.floor,js=t=>({x:t,y:t}),yB={left:"right",right:"left",bottom:"top",top:"bottom"},vB={start:"end",end:"start"};function Nx(t,e,i){return bc(t,sh(e,i))}function Kc(t,e){return typeof t=="function"?t(e):t}function Wo(t){return t.split("-")[0]}function Us(t){return t.split("-")[1]}function rD(t){return t==="x"?"y":"x"}function JT(t){return t==="y"?"height":"width"}const bB=new Set(["top","bottom"]);function Fa(t){return bB.has(Wo(t))?"y":"x"}function KT(t){return rD(Fa(t))}function nD(t,e,i){i===void 0&&(i=!1);const r=Us(t),n=KT(t),s=JT(n);let o=n==="x"?r===(i?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=$0(o)),[o,$0(o)]}function wB(t){const e=$0(t);return[x0(t),e,x0(e)]}function x0(t){return t.replace(/start|end/g,e=>vB[e])}const xC=["left","right"],$C=["right","left"],_B=["top","bottom"],xB=["bottom","top"];function $B(t,e,i){switch(t){case"top":case"bottom":return i?e?$C:xC:e?xC:$C;case"left":case"right":return e?_B:xB;default:return[]}}function SB(t,e,i,r){const n=Us(t);let s=$B(Wo(t),i==="start",r);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(x0)))),s}function $0(t){return t.replace(/left|right|bottom|top/g,e=>yB[e])}function kB(t){return{top:0,right:0,bottom:0,left:0,...t}}function sD(t){return typeof t!="number"?kB(t):{top:t,right:t,bottom:t,left:t}}function S0(t){const{x:e,y:i,width:r,height:n}=t;return{width:r,height:n,top:i,left:e,right:e+r,bottom:i+n,x:e,y:i}}function SC(t,e,i){let{reference:r,floating:n}=t;const s=Fa(e),o=KT(e),a=JT(o),l=Wo(e),d=s==="y",h=r.x+r.width/2-n.width/2,f=r.y+r.height/2-n.height/2,y=r[a]/2-n[a]/2;let b;switch(l){case"top":b={x:h,y:r.y-n.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:f};break;case"left":b={x:r.x-n.width,y:f};break;default:b={x:r.x,y:r.y}}switch(Us(e)){case"start":b[o]-=y*(i&&d?-1:1);break;case"end":b[o]+=y*(i&&d?-1:1);break}return b}const TB=async(t,e,i)=>{const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:o}=i,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:h,y:f}=SC(d,r,l),y=r,b={},x=0;for(let $=0;$<a.length;$++){const{name:E,fn:C}=a[$],{x:O,y:j,data:D,reset:F}=await C({x:h,y:f,initialPlacement:r,placement:y,strategy:n,middlewareData:b,rects:d,platform:o,elements:{reference:t,floating:e}});h=O??h,f=j??f,b={...b,[E]:{...b[E],...D}},F&&x<=50&&(x++,typeof F=="object"&&(F.placement&&(y=F.placement),F.rects&&(d=F.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:n}):F.rects),{x:h,y:f}=SC(d,y,l)),$=-1)}return{x:h,y:f,placement:y,strategy:n,middlewareData:b}};async function mm(t,e){var i;e===void 0&&(e={});const{x:r,y:n,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:y=!1,padding:b=0}=Kc(e,t),x=sD(b),E=a[y?f==="floating"?"reference":"floating":f],C=S0(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(E)))==null||i?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),O=f==="floating"?{x:r,y:n,width:o.floating.width,height:o.floating.height}:o.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},F=S0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:j,strategy:l}):O);return{top:(C.top-F.top+x.top)/D.y,bottom:(F.bottom-C.bottom+x.bottom)/D.y,left:(C.left-F.left+x.left)/D.x,right:(F.right-C.right+x.right)/D.x}}const EB=t=>({name:"arrow",options:t,async fn(e){const{x:i,y:r,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=Kc(t,e)||{};if(d==null)return{};const f=sD(h),y={x:i,y:r},b=KT(n),x=JT(b),$=await o.getDimensions(d),E=b==="y",C=E?"top":"left",O=E?"bottom":"right",j=E?"clientHeight":"clientWidth",D=s.reference[x]+s.reference[b]-y[b]-s.floating[x],F=y[b]-s.reference[b],G=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let z=G?G[j]:0;(!z||!await(o.isElement==null?void 0:o.isElement(G)))&&(z=a.floating[j]||s.floating[x]);const se=D/2-F/2,oe=z/2-$[x]/2-1,ee=sh(f[C],oe),ge=sh(f[O],oe),te=ee,Y=z-$[x]-ge,H=z/2-$[x]/2+se,ce=Nx(te,H,Y),_e=!l.arrow&&Us(n)!=null&&H!==ce&&s.reference[x]/2-(H<te?ee:ge)-$[x]/2<0,we=_e?H<te?H-te:H-Y:0;return{[b]:y[b]+we,data:{[b]:ce,centerOffset:H-ce-we,..._e&&{alignmentOffset:we}},reset:_e}}});function MB(t,e,i){return(t?[...i.filter(n=>Us(n)===t),...i.filter(n=>Us(n)!==t)]:i.filter(n=>Wo(n)===n)).filter(n=>t?Us(n)===t||(e?x0(n)!==n:!1):!0)}const CB=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var i,r,n;const{rects:s,middlewareData:o,placement:a,platform:l,elements:d}=e,{crossAxis:h=!1,alignment:f,allowedPlacements:y=_C,autoAlignment:b=!0,...x}=Kc(t,e),$=f!==void 0||y===_C?MB(f||null,b,y):y,E=await mm(e,x),C=((i=o.autoPlacement)==null?void 0:i.index)||0,O=$[C];if(O==null)return{};const j=nD(O,s,await(l.isRTL==null?void 0:l.isRTL(d.floating)));if(a!==O)return{reset:{placement:$[0]}};const D=[E[Wo(O)],E[j[0]],E[j[1]]],F=[...((r=o.autoPlacement)==null?void 0:r.overflows)||[],{placement:O,overflows:D}],G=$[C+1];if(G)return{data:{index:C+1,overflows:F},reset:{placement:G}};const z=F.map(ee=>{const ge=Us(ee.placement);return[ee.placement,ge&&h?ee.overflows.slice(0,2).reduce((te,Y)=>te+Y,0):ee.overflows[0],ee.overflows]}).sort((ee,ge)=>ee[1]-ge[1]),oe=((n=z.filter(ee=>ee[2].slice(0,Us(ee[0])?2:3).every(ge=>ge<=0))[0])==null?void 0:n[0])||z[0][0];return oe!==a?{data:{index:C+1,overflows:F},reset:{placement:oe}}:{}}}},IB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,r;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:$=!0,...E}=Kc(t,e);if((i=s.arrow)!=null&&i.alignmentOffset)return{};const C=Wo(n),O=Fa(a),j=Wo(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(d.floating)),F=y||(j||!$?[$0(a)]:wB(a)),G=x!=="none";!y&&G&&F.push(...SB(a,$,x,D));const z=[a,...F],se=await mm(e,E),oe=[];let ee=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&oe.push(se[C]),f){const H=nD(n,o,D);oe.push(se[H[0]],se[H[1]])}if(ee=[...ee,{placement:n,overflows:oe}],!oe.every(H=>H<=0)){var ge,te;const H=(((ge=s.flip)==null?void 0:ge.index)||0)+1,ce=z[H];if(ce&&(!(f==="alignment"?O!==Fa(ce):!1)||ee.every(me=>Fa(me.placement)===O?me.overflows[0]>0:!0)))return{data:{index:H,overflows:ee},reset:{placement:ce}};let _e=(te=ee.filter(we=>we.overflows[0]<=0).sort((we,me)=>we.overflows[1]-me.overflows[1])[0])==null?void 0:te.placement;if(!_e)switch(b){case"bestFit":{var Y;const we=(Y=ee.filter(me=>{if(G){const ke=Fa(me.placement);return ke===O||ke==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(ke=>ke>0).reduce((ke,rt)=>ke+rt,0)]).sort((me,ke)=>me[1]-ke[1])[0])==null?void 0:Y[0];we&&(_e=we);break}case"initialPlacement":_e=a;break}if(n!==_e)return{reset:{placement:_e}}}return{}}}};function kC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TC(t){return iD.some(e=>t[e]>=0)}const AB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:i}=e,{strategy:r="referenceHidden",...n}=Kc(t,e);switch(r){case"referenceHidden":{const s=await mm(e,{...n,elementContext:"reference"}),o=kC(s,i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TC(o)}}}case"escaped":{const s=await mm(e,{...n,altBoundary:!0}),o=kC(s,i.floating);return{data:{escapedOffsets:o,escaped:TC(o)}}}default:return{}}}}},PB=new Set(["left","top"]);async function OB(t,e){const{placement:i,platform:r,elements:n}=t,s=await(r.isRTL==null?void 0:r.isRTL(n.floating)),o=Wo(i),a=Us(i),l=Fa(i)==="y",d=PB.has(o)?-1:1,h=s&&l?-1:1,f=Kc(e,t);let{mainAxis:y,crossAxis:b,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(b=a==="end"?x*-1:x),l?{x:b*h,y:y*d}:{x:y*d,y:b*h}}const RB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,r;const{x:n,y:s,placement:o,middlewareData:a}=e,l=await OB(e,t);return o===((i=a.offset)==null?void 0:i.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},DB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:r,placement:n}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:C,y:O}=E;return{x:C,y:O}}},...l}=Kc(t,e),d={x:i,y:r},h=await mm(e,l),f=Fa(Wo(n)),y=rD(f);let b=d[y],x=d[f];if(s){const E=y==="y"?"top":"left",C=y==="y"?"bottom":"right",O=b+h[E],j=b-h[C];b=Nx(O,b,j)}if(o){const E=f==="y"?"top":"left",C=f==="y"?"bottom":"right",O=x+h[E],j=x-h[C];x=Nx(O,x,j)}const $=a.fn({...e,[y]:b,[f]:x});return{...$,data:{x:$.x-i,y:$.y-r,enabled:{[y]:s,[f]:o}}}}}};function w1(){return typeof window<"u"}function Ih(t){return oD(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qs(t){var e;return(e=(oD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oD(t){return w1()?t instanceof Node||t instanceof en(t).Node:!1}function ps(t){return w1()?t instanceof Element||t instanceof en(t).Element:!1}function Ws(t){return w1()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function EC(t){return!w1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}const zB=new Set(["inline","contents"]);function Jm(t){const{overflow:e,overflowX:i,overflowY:r,display:n}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+i)&&!zB.has(n)}const NB=new Set(["table","td","th"]);function LB(t){return NB.has(Ih(t))}const FB=[":popover-open",":modal"];function _1(t){return FB.some(e=>{try{return t.matches(e)}catch{return!1}})}const jB=["transform","translate","scale","rotate","perspective"],UB=["transform","translate","scale","rotate","perspective","filter"],VB=["paint","layout","strict","content"];function x1(t){const e=XT(),i=ps(t)?fs(t):t;return jB.some(r=>i[r]?i[r]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||UB.some(r=>(i.willChange||"").includes(r))||VB.some(r=>(i.contain||"").includes(r))}function BB(t){let e=il(t);for(;Ws(e)&&!oh(e);){if(x1(e))return e;if(_1(e))return null;e=il(e)}return null}function XT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qB=new Set(["html","body","#document"]);function oh(t){return qB.has(Ih(t))}function fs(t){return en(t).getComputedStyle(t)}function $1(t){return ps(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function il(t){if(Ih(t)==="html")return t;const e=t.assignedSlot||t.parentNode||EC(t)&&t.host||Qs(t);return EC(e)?e.host:e}function aD(t){const e=il(t);return oh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ws(e)&&Jm(e)?e:aD(e)}function gm(t,e,i){var r;e===void 0&&(e=[]),i===void 0&&(i=!0);const n=aD(t),s=n===((r=t.ownerDocument)==null?void 0:r.body),o=en(n);if(s){const a=Lx(o);return e.concat(o,o.visualViewport||[],Jm(n)?n:[],a&&i?gm(a):[])}return e.concat(n,gm(n,[],i))}function Lx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lD(t){const e=fs(t);let i=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const n=Ws(t),s=n?t.offsetWidth:i,o=n?t.offsetHeight:r,a=_0(i)!==s||_0(r)!==o;return a&&(i=s,r=o),{width:i,height:r,$:a}}function QT(t){return ps(t)?t:t.contextElement}function wd(t){const e=QT(t);if(!Ws(e))return js(1);const i=e.getBoundingClientRect(),{width:r,height:n,$:s}=lD(e);let o=(s?_0(i.width):i.width)/r,a=(s?_0(i.height):i.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const HB=js(0);function cD(t){const e=en(t);return!XT()||!e.visualViewport?HB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GB(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==en(t)?!1:e}function Fc(t,e,i,r){e===void 0&&(e=!1),i===void 0&&(i=!1);const n=t.getBoundingClientRect(),s=QT(t);let o=js(1);e&&(r?ps(r)&&(o=wd(r)):o=wd(t));const a=GB(s,i,r)?cD(s):js(0);let l=(n.left+a.x)/o.x,d=(n.top+a.y)/o.y,h=n.width/o.x,f=n.height/o.y;if(s){const y=en(s),b=r&&ps(r)?en(r):r;let x=y,$=Lx(x);for(;$&&r&&b!==x;){const E=wd($),C=$.getBoundingClientRect(),O=fs($),j=C.left+($.clientLeft+parseFloat(O.paddingLeft))*E.x,D=C.top+($.clientTop+parseFloat(O.paddingTop))*E.y;l*=E.x,d*=E.y,h*=E.x,f*=E.y,l+=j,d+=D,x=en($),$=Lx(x)}}return S0({width:h,height:f,x:l,y:d})}function S1(t,e){const i=$1(t).scrollLeft;return e?e.left+i:Fc(Qs(t)).left+i}function uD(t,e){const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-S1(t,i),n=i.top+e.scrollTop;return{x:r,y:n}}function WB(t){let{elements:e,rect:i,offsetParent:r,strategy:n}=t;const s=n==="fixed",o=Qs(r),a=e?_1(e.floating):!1;if(r===o||a&&s)return i;let l={scrollLeft:0,scrollTop:0},d=js(1);const h=js(0),f=Ws(r);if((f||!f&&!s)&&((Ih(r)!=="body"||Jm(o))&&(l=$1(r)),Ws(r))){const b=Fc(r);d=wd(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const y=o&&!f&&!s?uD(o,l):js(0);return{width:i.width*d.x,height:i.height*d.y,x:i.x*d.x-l.scrollLeft*d.x+h.x+y.x,y:i.y*d.y-l.scrollTop*d.y+h.y+y.y}}function ZB(t){return Array.from(t.getClientRects())}function YB(t){const e=Qs(t),i=$1(t),r=t.ownerDocument.body,n=bc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=bc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-i.scrollLeft+S1(t);const a=-i.scrollTop;return fs(r).direction==="rtl"&&(o+=bc(e.clientWidth,r.clientWidth)-n),{width:n,height:s,x:o,y:a}}const MC=25;function JB(t,e){const i=en(t),r=Qs(t),n=i.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const h=XT();(!h||h&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}const d=S1(r);if(d<=0){const h=r.ownerDocument,f=h.body,y=getComputedStyle(f),b=h.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,x=Math.abs(r.clientWidth-f.clientWidth-b);x<=MC&&(s-=x)}else d<=MC&&(s+=d);return{width:s,height:o,x:a,y:l}}const KB=new Set(["absolute","fixed"]);function XB(t,e){const i=Fc(t,!0,e==="fixed"),r=i.top+t.clientTop,n=i.left+t.clientLeft,s=Ws(t)?wd(t):js(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=n*s.x,d=r*s.y;return{width:o,height:a,x:l,y:d}}function CC(t,e,i){let r;if(e==="viewport")r=JB(t,i);else if(e==="document")r=YB(Qs(t));else if(ps(e))r=XB(e,i);else{const n=cD(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return S0(r)}function dD(t,e){const i=il(t);return i===e||!ps(i)||oh(i)?!1:fs(i).position==="fixed"||dD(i,e)}function QB(t,e){const i=e.get(t);if(i)return i;let r=gm(t,[],!1).filter(a=>ps(a)&&Ih(a)!=="body"),n=null;const s=fs(t).position==="fixed";let o=s?il(t):t;for(;ps(o)&&!oh(o);){const a=fs(o),l=x1(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&KB.has(n.position)||Jm(o)&&!l&&dD(t,o))?r=r.filter(h=>h!==o):n=a,o=il(o)}return e.set(t,r),r}function eq(t){let{element:e,boundary:i,rootBoundary:r,strategy:n}=t;const o=[...i==="clippingAncestors"?_1(e)?[]:QB(e,this._c):[].concat(i),r],a=o[0],l=o.reduce((d,h)=>{const f=CC(e,h,n);return d.top=bc(f.top,d.top),d.right=sh(f.right,d.right),d.bottom=sh(f.bottom,d.bottom),d.left=bc(f.left,d.left),d},CC(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tq(t){const{width:e,height:i}=lD(t);return{width:e,height:i}}function iq(t,e,i){const r=Ws(e),n=Qs(e),s=i==="fixed",o=Fc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=js(0);function d(){l.x=S1(n)}if(r||!r&&!s)if((Ih(e)!=="body"||Jm(n))&&(a=$1(e)),r){const b=Fc(e,!0,s,e);l.x=b.x+e.clientLeft,l.y=b.y+e.clientTop}else n&&d();s&&!r&&n&&d();const h=n&&!r&&!s?uD(n,a):js(0),f=o.left+a.scrollLeft-l.x-h.x,y=o.top+a.scrollTop-l.y-h.y;return{x:f,y,width:o.width,height:o.height}}function Zw(t){return fs(t).position==="static"}function IC(t,e){if(!Ws(t)||fs(t).position==="fixed")return null;if(e)return e(t);let i=t.offsetParent;return Qs(t)===i&&(i=i.ownerDocument.body),i}function hD(t,e){const i=en(t);if(_1(t))return i;if(!Ws(t)){let n=il(t);for(;n&&!oh(n);){if(ps(n)&&!Zw(n))return n;n=il(n)}return i}let r=IC(t,e);for(;r&&LB(r)&&Zw(r);)r=IC(r,e);return r&&oh(r)&&Zw(r)&&!x1(r)?i:r||BB(t)||i}const rq=async function(t){const e=this.getOffsetParent||hD,i=this.getDimensions,r=await i(t.floating);return{reference:iq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nq(t){return fs(t).direction==="rtl"}const Fx={convertOffsetParentRelativeRectToViewportRelativeRect:WB,getDocumentElement:Qs,getClippingRect:eq,getOffsetParent:hD,getElementRects:rq,getClientRects:ZB,getDimensions:tq,getScale:wd,isElement:ps,isRTL:nq};function pD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sq(t,e){let i=null,r;const n=Qs(t);function s(){var a;clearTimeout(r),(a=i)==null||a.disconnect(),i=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const d=t.getBoundingClientRect(),{left:h,top:f,width:y,height:b}=d;if(a||e(),!y||!b)return;const x=iy(f),$=iy(n.clientWidth-(h+y)),E=iy(n.clientHeight-(f+b)),C=iy(h),j={rootMargin:-x+"px "+-$+"px "+-E+"px "+-C+"px",threshold:bc(0,sh(1,l))||1};let D=!0;function F(G){const z=G[0].intersectionRatio;if(z!==l){if(!D)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!pD(d,t.getBoundingClientRect())&&o(),D=!1}try{i=new IntersectionObserver(F,{...j,root:n.ownerDocument})}catch{i=new IntersectionObserver(F,j)}i.observe(t)}return o(!0),s}function oq(t,e,i,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=QT(t),h=n||s?[...d?gm(d):[],...gm(e)]:[];h.forEach(C=>{n&&C.addEventListener("scroll",i,{passive:!0}),s&&C.addEventListener("resize",i)});const f=d&&a?sq(d,i):null;let y=-1,b=null;o&&(b=new ResizeObserver(C=>{let[O]=C;O&&O.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(e)})),i()}),d&&!l&&b.observe(d),b.observe(e));let x,$=l?Fc(t):null;l&&E();function E(){const C=Fc(t);$&&!pD($,C)&&i(),$=C,x=requestAnimationFrame(E)}return i(),()=>{var C;h.forEach(O=>{n&&O.removeEventListener("scroll",i),s&&O.removeEventListener("resize",i)}),f?.(),(C=b)==null||C.disconnect(),b=null,l&&cancelAnimationFrame(x)}}const aq=RB,lq=CB,cq=DB,AC=IB,uq=AB,dq=EB,hq=(t,e,i)=>{const r=new Map,n={platform:Fx,...i},s={...n.platform,_c:r};return TB(t,e,{...n,platform:s})};function pq(t,e,{signal:i,edges:r}={}){let n,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(t.apply(n,s),n=void 0,s=null)},d=()=>{a&&l(),b()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},e)},y=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{y(),n=void 0,s=null},x=()=>{l()},$=function(...E){if(i?.aborted)return;n=this,s=E;const C=h==null;f(),o&&C&&l()};return $.schedule=f,$.cancel=b,$.flush=x,i?.addEventListener("abort",b,{once:!0}),$}function fq(t){return mq(t)}function Yw(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function mq(t){for(let e=t;e;e=Yw(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=Yw(t);e;e=Yw(e)){if(!(e instanceof Element))continue;const i=getComputedStyle(e);if(i.display!=="contents"&&(i.position!=="static"||x1(i)||e.tagName==="BODY"))return e}return null}(function(){{const e=Fx.getOffsetParent;Fx.getOffsetParent=i=>e(i,fq)}})();function PC(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e}const fD=(async(t,{referenceEl:e,floatingEl:i,overlayPositioning:r="absolute",placement:n,flipDisabled:s,flipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:d,type:h})=>{if(!e||!i)return;const f=Vo(i)==="rtl",{x:y,y:b,placement:x,strategy:$,middlewareData:E}=await hq(e,i,{strategy:r,placement:n==="auto"||n==="auto-start"||n==="auto-end"?void 0:OC(n,f),middleware:bq({placement:n,flipDisabled:s,flipPlacements:o?.map(D=>OC(D,f)),offsetDistance:a,offsetSkidding:l,arrowEl:d,type:h})});if(d&&E.arrow){const{x:D,y:F}=E.arrow,G=x.split("-")[0],z=D!=null?"left":"top",se=xq[G],oe={left:"",top:"",bottom:"",right:""};"floatingLayout"in t&&(t.floatingLayout=G==="left"||G==="right"?"horizontal":"vertical"),Object.assign(d.style,{...oe,[z]:`${z=="left"?D:F}px`,[G]:"100%",transform:se})}const O=E.hide?.referenceHidden?"hidden":null,j=O?"none":null;i.setAttribute(gq,x),Object.assign(i.style,{pointerEvents:j,position:$,transform:`translate(${PC(y)}px,${PC(b)}px)`,visibility:O})}),gq="data-placement",mD=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end","leading","trailing","leading-start","leading-end","trailing-start","trailing-end"],yq="bottom-start",vq="bottom-end",k0={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function bq({placement:t,flipDisabled:e,flipPlacements:i,offsetDistance:r,offsetSkidding:n,arrowEl:s,type:o}){const a=[cq(),uq()];return o==="menu"&&a.push(AC({fallbackPlacements:i||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})),a.push(aq({mainAxis:typeof r=="number"?r:0,crossAxis:typeof n=="number"?n:0})),t==="auto"||t==="auto-start"||t==="auto-end"?a.push(lq({alignment:t==="auto-start"?"start":t==="auto-end"?"end":null})):e||a.push(AC(i?{fallbackPlacements:i}:{})),s&&a.push(dq({element:s})),a}function wq(t){return mD.includes(t)}function gD(t,e){const i=t.filter(wq);return i.length!==t.length&&console.warn(`${e.tagName}: Invalid value found in: flipPlacements. Try any of these: ${mD.map(r=>`"${r}"`).join(", ").trim()}`,{el:e}),i}function OC(t,e=!1){const i=["left","right"];return e&&i.reverse(),t.replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}async function yD(t,e,i=!1){if(!t.open||!e.floatingEl||!e.referenceEl)return;if(Object.assign(e.floatingEl.style,{display:"block",position:e.overlayPositioning??"absolute"}),!ym.get(t))return vD(t);await(i?_q(t):fD)(t,e)}function _q(t){let e=T0.get(t);return e||(e=pq(fD,dU.reposition,{edges:["leading","trailing"]}),T0.set(t,e),e)}const xq={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},ym=new WeakMap,T0=new WeakMap;async function vD(t){const{referenceEl:e,floatingEl:i}=t;if(!i.isConnected)return;const r=oq;ym.set(t,{state:"pending"});let n;const s=r(e,i,()=>{const o=t.reposition();n||(n=o)});return ym.set(t,{state:"active",cleanUp:s}),n}function e2(t){const{floatingEl:e}=t;e&&Object.assign(e.style,{display:"",pointerEvents:"",position:"",transform:"",visibility:""})}async function qp(t){const{floatingEl:e,referenceEl:i}=t;if(e2(t),!(!e||!i)&&(t2(t),!!t.open))return vD(t)}function t2(t){const e=ym.get(t);e?.state==="active"&&e.cleanUp(),ym.delete(t),T0.get(t)?.cancel(),T0.delete(t)}const RC=4,DC=Math.ceil(Math.hypot(RC,RC));const i2=Symbol.for(""),$q=t=>{if(t?.r===i2)return t?._$litStatic$},Sq=t=>({_$litStatic$:t,r:i2}),vm=(t,...e)=>({_$litStatic$:e.reduce(((i,r,n)=>i+(s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${s}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(r)+t[n+1]),t[0]),r:i2}),zC=new Map,kq=t=>(e,...i)=>{const r=i.length;let n,s;const o=[],a=[];let l,d=0,h=!1;for(;d<r;){for(l=e[d];d<r&&(s=i[d],(n=$q(s))!==void 0);)l+=n+e[++d],h=!0;d!==r&&a.push(s),o.push(l),d++}if(d===r&&o.push(e[r]),h){const f=o.join("$$lit$$");(e=zC.get(f))===void 0&&(o.raw=o,zC.set(f,e=o)),i=a}return t(e,...i)},r2=kq(q);const bD=({children:t,...e})=>{const i=e.level?Sq(`h${e.level}`):vm`div`;return Ve(e.key,r2`<${i} class=${U(e.class)}>${t}</${i}>`)};const NC={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},Tq={width:12,height:6,strokeWidth:1},Eq=({floatingLayout:t,key:e,ref:i})=>{const{width:r,height:n,strokeWidth:s}=Tq,o=r/2,a=t==="vertical",l=`M0,0 H${r} L${r-o},${n} Q${o},${n} ${o},${n} Z`;return Ve(e,q`<svg aria-hidden=true class=${U(NC.arrow)} height=${r} viewBox=${`0 0 ${r} ${r+(a?0:s)}`} width=${r+(a?s:0)} ${Be(i)}>${lm`${lm`<path class=${U(NC.arrowStroke)} d=${l??he} fill=none stroke-width=${s+1} />`||""}<path d=${l??he} stroke=none />`}</svg>`)};var wD=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],E0=wD.join(","),_D=typeof Element>"u",jc=_D?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,M0=!_D&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},bm=function(e,i){var r;i===void 0&&(i=!0);var n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=n===""||n==="true",o=s||i&&e&&bm(e.parentNode);return o},Mq=function(e){var i,r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return r===""||r==="true"},xD=function(e,i,r){if(bm(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(E0));return i&&jc.call(e,E0)&&n.unshift(e),n=n.filter(r),n},C0=function(e,i,r){for(var n=[],s=Array.from(e);s.length;){var o=s.shift();if(!bm(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,d=C0(l,!0,r);r.flatten?n.push.apply(n,d):n.push({scopeParent:o,candidates:d})}else{var h=jc.call(o,E0);h&&r.filter(o)&&(i||!e.includes(o))&&n.push(o);var f=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),y=!bm(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(f&&y){var b=C0(f===!0?o.children:f.children,!0,r);r.flatten?n.push.apply(n,b):n.push({scopeParent:o,candidates:b})}else s.unshift.apply(s,o.children)}}return n},$D=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},nc=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Mq(e))&&!$D(e)?0:e.tabIndex},Cq=function(e,i){var r=nc(e);return r<0&&i&&!$D(e)?0:r},Iq=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},SD=function(e){return e.tagName==="INPUT"},Aq=function(e){return SD(e)&&e.type==="hidden"},Pq=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return i},Oq=function(e,i){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===i)return e[r]},Rq=function(e){if(!e.name)return!0;var i=e.form||M0(e),r=function(a){return i.querySelectorAll('input[type="radio"][name="'+a+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Oq(n,e.form);return!s||s===e},Dq=function(e){return SD(e)&&e.type==="radio"},zq=function(e){return Dq(e)&&!Rq(e)},Nq=function(e){var i,r=e&&M0(e),n=(i=r)===null||i===void 0?void 0:i.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=n)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(n)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&n;){var d,h,f;r=M0(n),n=(d=r)===null||d===void 0?void 0:d.host,s=!!((h=n)!==null&&h!==void 0&&(f=h.ownerDocument)!==null&&f!==void 0&&f.contains(n))}}return s},LC=function(e){var i=e.getBoundingClientRect(),r=i.width,n=i.height;return r===0&&n===0},Lq=function(e,i){var r=i.displayCheck,n=i.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var s=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(e).visibility==="hidden")return!0;var o=jc.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(jc.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof n=="function"){for(var l=e;e;){var d=e.parentElement,h=M0(e);if(d&&!d.shadowRoot&&n(d)===!0)return LC(e);e.assignedSlot?e=e.assignedSlot:!d&&h!==e.ownerDocument?e=h.host:e=d}e=l}if(Nq(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return LC(e);return!1},Fq=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var r=0;r<i.children.length;r++){var n=i.children.item(r);if(n.tagName==="LEGEND")return jc.call(i,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}i=i.parentElement}return!1},I0=function(e,i){return!(i.disabled||bm(i)||Aq(i)||Lq(i,e)||Pq(i)||Fq(i))},jx=function(e,i){return!(zq(i)||nc(i)<0||!I0(e,i))},jq=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},kD=function(e){var i=[],r=[];return e.forEach(function(n,s){var o=!!n.scopeParent,a=o?n.scopeParent:n,l=Cq(a,o),d=o?kD(n.candidates):a;l===0?o?i.push.apply(i,d):i.push(a):r.push({documentOrder:s,tabIndex:l,item:n,isScope:o,content:d})}),r.sort(Iq).reduce(function(n,s){return s.isScope?n.push.apply(n,s.content):n.push(s.content),n},[]).concat(i)},Uq=function(e,i){i=i||{};var r;return i.getShadowRoot?r=C0([e],i.includeContainer,{filter:jx.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:jq}):r=xD(e,i.includeContainer,jx.bind(null,i)),kD(r)},Vq=function(e,i){i=i||{};var r;return i.getShadowRoot?r=C0([e],i.includeContainer,{filter:I0.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):r=xD(e,i.includeContainer,I0.bind(null,i)),r},mu=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return jc.call(e,E0)===!1?!1:jx(i,e)},Bq=wD.concat("iframe").join(","),Jw=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return jc.call(e,Bq)===!1?!1:I0(i,e)};function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}function qq(t){if(Array.isArray(t))return Ux(t)}function Hq(t,e,i){return(e=Jq(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Gq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FC(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function jC(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(i),!0).forEach(function(r){Hq(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):FC(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Zq(t){return qq(t)||Gq(t)||Kq(t)||Wq()}function Yq(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jq(t){var e=Yq(t,"string");return typeof e=="symbol"?e:e+""}function Kq(t,e){if(t){if(typeof t=="string")return Ux(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ux(t,e):void 0}}var UC={activateTrap:function(e,i){if(e.length>0){var r=e[e.length-1];r!==i&&r._setPausedState(!0)}var n=e.indexOf(i);n===-1||e.splice(n,1),e.push(i)},deactivateTrap:function(e,i){var r=e.indexOf(i);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Xq=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Qq=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},Cf=function(e){return e?.key==="Tab"||e?.keyCode===9},eH=function(e){return Cf(e)&&!e.shiftKey},tH=function(e){return Cf(e)&&e.shiftKey},VC=function(e){return setTimeout(e,0)},yp=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,r):e},ry=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},iH=[],rH=function(e,i){var r=i?.document||document,n=i?.trapStack||iH,s=jC({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:eH,isKeyBackward:tH},i),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(Y,H,ce){return Y&&Y[H]!==void 0?Y[H]:s[ce||H]},d=function(Y,H){var ce=typeof H?.composedPath=="function"?H.composedPath():void 0;return o.containerGroups.findIndex(function(_e){var we=_e.container,me=_e.tabbableNodes;return we.contains(Y)||ce?.includes(we)||me.find(function(ke){return ke===Y})})},h=function(Y){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=H.hasFallback,_e=ce===void 0?!1:ce,we=H.params,me=we===void 0?[]:we,ke=s[Y];if(typeof ke=="function"&&(ke=ke.apply(void 0,Zq(me))),ke===!0&&(ke=void 0),!ke){if(ke===void 0||ke===!1)return ke;throw new Error("`".concat(Y,"` was specified but was not a node, or did not return a node"))}var rt=ke;if(typeof ke=="string"){try{rt=r.querySelector(ke)}catch(St){throw new Error("`".concat(Y,'` appears to be an invalid selector; error="').concat(St.message,'"'))}if(!rt&&!_e)throw new Error("`".concat(Y,"` as selector refers to no known node"))}return rt},f=function(){var Y=h("initialFocus",{hasFallback:!0});if(Y===!1)return!1;if(Y===void 0||Y&&!Jw(Y,s.tabbableOptions))if(d(r.activeElement)>=0)Y=r.activeElement;else{var H=o.tabbableGroups[0],ce=H&&H.firstTabbableNode;Y=ce||h("fallbackFocus")}else Y===null&&(Y=h("fallbackFocus"));if(!Y)throw new Error("Your focus-trap needs to have at least one focusable element");return Y},y=function(){if(o.containerGroups=o.containers.map(function(Y){var H=Uq(Y,s.tabbableOptions),ce=Vq(Y,s.tabbableOptions),_e=H.length>0?H[0]:void 0,we=H.length>0?H[H.length-1]:void 0,me=ce.find(function(St){return mu(St)}),ke=ce.slice().reverse().find(function(St){return mu(St)}),rt=!!H.find(function(St){return nc(St)>0});return{container:Y,tabbableNodes:H,focusableNodes:ce,posTabIndexesFound:rt,firstTabbableNode:_e,lastTabbableNode:we,firstDomTabbableNode:me,lastDomTabbableNode:ke,nextTabbableNode:function(on){var Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Rr=H.indexOf(on);return Rr<0?Rn?ce.slice(ce.indexOf(on)+1).find(function(Dn){return mu(Dn)}):ce.slice(0,ce.indexOf(on)).reverse().find(function(Dn){return mu(Dn)}):H[Rr+(Rn?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(Y){return Y.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(Y){return Y.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},b=function(Y){var H=Y.activeElement;if(H)return H.shadowRoot&&H.shadowRoot.activeElement!==null?b(H.shadowRoot):H},x=function(Y){if(Y!==!1&&Y!==b(document)){if(!Y||!Y.focus){x(f());return}Y.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=Y,Xq(Y)&&Y.select()}},$=function(Y){var H=h("setReturnFocus",{params:[Y]});return H||(H===!1?!1:Y)},E=function(Y){var H=Y.target,ce=Y.event,_e=Y.isBackward,we=_e===void 0?!1:_e;H=H||ry(ce),y();var me=null;if(o.tabbableGroups.length>0){var ke=d(H,ce),rt=ke>=0?o.containerGroups[ke]:void 0;if(ke<0)we?me=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:me=o.tabbableGroups[0].firstTabbableNode;else if(we){var St=o.tabbableGroups.findIndex(function(Qo){var ea=Qo.firstTabbableNode;return H===ea});if(St<0&&(rt.container===H||Jw(H,s.tabbableOptions)&&!mu(H,s.tabbableOptions)&&!rt.nextTabbableNode(H,!1))&&(St=ke),St>=0){var on=St===0?o.tabbableGroups.length-1:St-1,Rn=o.tabbableGroups[on];me=nc(H)>=0?Rn.lastTabbableNode:Rn.lastDomTabbableNode}else Cf(ce)||(me=rt.nextTabbableNode(H,!1))}else{var Rr=o.tabbableGroups.findIndex(function(Qo){var ea=Qo.lastTabbableNode;return H===ea});if(Rr<0&&(rt.container===H||Jw(H,s.tabbableOptions)&&!mu(H,s.tabbableOptions)&&!rt.nextTabbableNode(H))&&(Rr=ke),Rr>=0){var Dn=Rr===o.tabbableGroups.length-1?0:Rr+1,Xo=o.tabbableGroups[Dn];me=nc(H)>=0?Xo.firstTabbableNode:Xo.firstDomTabbableNode}else Cf(ce)||(me=rt.nextTabbableNode(H))}}else me=h("fallbackFocus");return me},C=function(Y){var H=ry(Y);if(!(d(H,Y)>=0)){if(yp(s.clickOutsideDeactivates,Y)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}yp(s.allowOutsideClick,Y)||Y.preventDefault()}},O=function(Y){var H=ry(Y),ce=d(H,Y)>=0;if(ce||H instanceof Document)ce&&(o.mostRecentlyFocusedNode=H);else{Y.stopImmediatePropagation();var _e,we=!0;if(o.mostRecentlyFocusedNode)if(nc(o.mostRecentlyFocusedNode)>0){var me=d(o.mostRecentlyFocusedNode),ke=o.containerGroups[me].tabbableNodes;if(ke.length>0){var rt=ke.findIndex(function(St){return St===o.mostRecentlyFocusedNode});rt>=0&&(s.isKeyForward(o.recentNavEvent)?rt+1<ke.length&&(_e=ke[rt+1],we=!1):rt-1>=0&&(_e=ke[rt-1],we=!1))}}else o.containerGroups.some(function(St){return St.tabbableNodes.some(function(on){return nc(on)>0})})||(we=!1);else we=!1;we&&(_e=E({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),x(_e||o.mostRecentlyFocusedNode||f())}o.recentNavEvent=void 0},j=function(Y){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=Y;var ce=E({event:Y,isBackward:H});ce&&(Cf(Y)&&Y.preventDefault(),x(ce))},D=function(Y){(s.isKeyForward(Y)||s.isKeyBackward(Y))&&j(Y,s.isKeyBackward(Y))},F=function(Y){Qq(Y)&&yp(s.escapeDeactivates,Y)!==!1&&(Y.preventDefault(),a.deactivate())},G=function(Y){var H=ry(Y);d(H,Y)>=0||yp(s.clickOutsideDeactivates,Y)||yp(s.allowOutsideClick,Y)||(Y.preventDefault(),Y.stopImmediatePropagation())},z=function(){if(o.active)return UC.activateTrap(n,a),o.delayInitialFocusTimer=s.delayInitialFocus?VC(function(){x(f())}):x(f()),r.addEventListener("focusin",O,!0),r.addEventListener("mousedown",C,{capture:!0,passive:!1}),r.addEventListener("touchstart",C,{capture:!0,passive:!1}),r.addEventListener("click",G,{capture:!0,passive:!1}),r.addEventListener("keydown",D,{capture:!0,passive:!1}),r.addEventListener("keydown",F),a},se=function(){if(o.active)return r.removeEventListener("focusin",O,!0),r.removeEventListener("mousedown",C,!0),r.removeEventListener("touchstart",C,!0),r.removeEventListener("click",G,!0),r.removeEventListener("keydown",D,!0),r.removeEventListener("keydown",F),a},oe=function(Y){var H=Y.some(function(ce){var _e=Array.from(ce.removedNodes);return _e.some(function(we){return we===o.mostRecentlyFocusedNode})});H&&x(f())},ee=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(oe):void 0,ge=function(){ee&&(ee.disconnect(),o.active&&!o.paused&&o.containers.map(function(Y){ee.observe(Y,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(Y){if(o.active)return this;var H=l(Y,"onActivate"),ce=l(Y,"onPostActivate"),_e=l(Y,"checkCanFocusTrap");_e||y(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=b(r),H?.();var we=function(){_e&&y(),z(),ge(),ce?.()};return _e?(_e(o.containers.concat()).then(we,we),this):(we(),this)},deactivate:function(Y){if(!o.active)return this;var H=jC({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},Y);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,se(),o.active=!1,o.paused=!1,ge(),UC.deactivateTrap(n,a);var ce=l(H,"onDeactivate"),_e=l(H,"onPostDeactivate"),we=l(H,"checkCanReturnFocus"),me=l(H,"returnFocus","returnFocusOnDeactivate");ce?.();var ke=function(){VC(function(){me&&x($(o.nodeFocusedBeforeActivation)),_e?.()})};return me&&we?(we($(o.nodeFocusedBeforeActivation)).then(ke,ke),this):(ke(),this)},pause:function(Y){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,Y)):this},unpause:function(Y){return o.active?(o.manuallyPaused=!1,n[n.length-1]!==this?this:this._setPausedState(!1,Y)):this},updateContainerElements:function(Y){var H=[].concat(Y).filter(Boolean);return o.containers=H.map(function(ce){return typeof ce=="string"?r.querySelector(ce):ce}),o.active&&y(),ge(),this}},Object.defineProperties(a,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(Y,H){if(o.paused===Y)return this;if(o.paused=Y,Y){var ce=l(H,"onPause"),_e=l(H,"onPostPause");ce?.(),se(),ge(),_e?.()}else{var we=l(H,"onUnpause"),me=l(H,"onPostUnpause");we?.(),y(),z(),ge(),me?.()}return this}}}),a.updateContainerElements(e),a};const nv=new WeakSet;function nH(t,e){return nv.has(t)||m1(e),!1}function sH(t,e){const i=e?.fallbackFocus||t,r=e?.clickOutsideDeactivates??!0;return{fallbackFocus:i,...e,document:t.ownerDocument,tabbableOptions:UT,trapStack:pU,clickOutsideDeactivates:n=>(nv.has(t)||nv.add(t),typeof r=="function"?r(n):r),onPostDeactivate:()=>{nv.delete(t)},setReturnFocus:n=>{const s=typeof e?.setReturnFocus=="function"?e.setReturnFocus(n):e?.setReturnFocus;return s===void 0?nH(t,n):s}}}function BC(t,{focusTrapOptions:e},i){return!e?.extraContainers&&!i?t:[t,...qC(e?.extraContainers),...qC(i)]}function qC(t=[]){return Array.isArray(t)?t:[t]}const n2=t=>VT((e,i)=>{let r,n,s;const o=t.focusTrapOptions;i.onConnected(()=>{e[t.triggerProp]&&r&&a.activate()}),i.onUpdate(l=>{e.hasUpdated&&l.has("focusTrapDisabled")&&(e.focusTrapDisabled?a.deactivate():a.activate())}),i.onDisconnected(()=>a.deactivate());const a={activate:()=>{const l=n||e.el;if(l.isConnected){if(!r){const d={...o,...e.focusTrapOptions};s||=BC(l,e),r=rH(s,sH(l,d))}(typeof e.focusTrapDisabledOverride=="function"?!e.focusTrapDisabledOverride():!e.focusTrapDisabled)&&r.activate()}},deactivate:()=>r?.deactivate(),overrideFocusTrapEl:l=>{if(r)throw new Error("Focus trap already created");n=l},setExtraContainers:l=>{const d=n||e.el;s=BC(d,e,l)},updateContainerElements:()=>r?.updateContainerElements(s)};return a});const oH=5;function aH({startX:t,startY:e,endX:i,endY:r}){return Math.hypot(i-t,r-e)>oH}class lH{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=e=>{const{registeredElements:i}=this,r=e.find(n=>i.has(n));return i.get(r)},this.togglePopovers=e=>{const i=e.composedPath(),r=this.queryPopover(i);r&&!r.triggerDisabled&&(r.open=!r.open),Array.from(this.registeredElements.values()).filter(n=>n!==r&&n.autoClose&&n.open&&!i.includes(n)).forEach(n=>n.open=!1)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"?this.closeAllPopovers():Lc(e.key)&&this.togglePopovers(e))},this.pointerDownHandler=e=>{if(e.defaultPrevented||!KU(e))return;const{clientX:i,clientY:r}=e;this.pointerDownPosition={x:i,y:r}},this.clickHandler=e=>{XU(e)||e.defaultPrevented||this.pointerDownPosition&&aH({endY:e.clientY,endX:e.clientX,startY:this.pointerDownPosition.y,startX:this.pointerDownPosition.x})||(this.pointerDownPosition=void 0,this.togglePopovers(e))}}registerElement(e,i){this.registeredElementCount++,this.registeredElements.set(e,i),this.registeredElementCount===1&&this.addListeners()}unregisterElement(e){this.registeredElements.delete(e)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(e=>e.open=!1)}addListeners(){window.addEventListener("pointerdown",this.pointerDownHandler),window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("pointerdown",this.pointerDownHandler),window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}}const Vn={positionContainer:"position-container",container:"container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContainer:"header-container",heading:"heading"},HC="auto",GC="aria-controls",WC="aria-expanded",cH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:contents;--calcite-floating-ui-z-index: var(--calcite-popover-z-index, var(--calcite-z-index-popup))}.position-container{inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}@starting-style{.position-container{opacity:0;inset-block-start:0;left:0}}.position-container{max-inline-size:var(--calcite-popover-max-size-x, 100vw)}.position-container .calcite-floating-ui-anim{position:relative;transition-duration:var(--calcite-floating-ui-transition);transition-property:inset-block-start,left,opacity,display;transition-behavior:allow-discrete;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.position-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.position-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.position-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.position-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.position-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@starting-style{.position-container[data-placement] .calcite-floating-ui-anim--active{opacity:0}}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding:.5rem .75rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding:.75rem 1rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding:1rem 1.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}.position-container .calcite-floating-ui-anim{border-width:1px;border-style:solid;background-color:var(--calcite-popover-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-popover-border-color, var(--calcite-color-border-3));border-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round))}.calcite-floating-ui-arrow{fill:var(--calcite-popover-background-color, var(--calcite-color-foreground-1))}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-bottom-width:1px;border-style:solid;border-block-end-color:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.heading{margin:0;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);word-wrap:break-word;word-break:break-word;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container{position:relative;display:flex;height:100%;flex-direction:row;flex-wrap:nowrap;border-radius:.25rem;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container.has-header{flex-direction:column}.content{display:flex;height:100%;width:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));--calcite-action-corner-radius-start-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp));--calcite-action-corner-radius-end-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp))}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}:host([hidden]){display:none}[hidden]{display:none}`,ZC=new lH,Bb=class Bb extends lt{constructor(){super(...arguments),this.focusTrap=n2({triggerProp:"open",focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:e=>(e.defaultPrevented||(this.open=!1,e.preventDefault()),!1)}})(this),this.guid=`calcite-popover-${nh()}`,this.hasLoaded=!1,this.mutationObserver=hs("mutation",()=>this.focusTrap.updateContainerElements()),this.transitionProp="opacity",this.messages=Ei(),this.focusSetter=Ai()(this),this.floatingLayout="vertical",this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.offsetDistance=DC,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=HC,this.pointerDisabled=!1,this.scale="m",this.triggerDisabled=!1,this.calcitePopoverBeforeClose=Ie({cancelable:!1}),this.calcitePopoverBeforeOpen=Ie({cancelable:!1}),this.calcitePopoverClose=Ie({cancelable:!1}),this.calcitePopoverOpen=Ie({cancelable:!1})}async reposition(e=!1){const{referenceEl:i,placement:r,overlayPositioning:n,flipDisabled:s,filteredFlipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:d,floatingEl:h}=this;return yD(this,{floatingEl:h,referenceEl:i,overlayPositioning:n,placement:r,flipDisabled:s,flipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:d,type:"popover"},e)}async setFocus(e){return this.focusSetter(()=>this.el,e)}async updateFocusTrapElements(){this.focusTrap.updateContainerElements()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),requestAnimationFrame(()=>this.setUpReferenceElement(this.hasLoaded))}willUpdate(e){e.has("flipPlacements")&&this.flipPlacementsHandler(),e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),(e.has("offsetDistance")&&(this.hasUpdated||this.offsetDistance!==DC)||e.has("offsetSkidding")&&(this.hasUpdated||this.offsetSkidding!==0)||e.has("overlayPositioning")&&(this.hasUpdated||this.overlayPositioning!=="absolute")||e.has("placement")&&(this.hasUpdated||this.placement!==HC))&&this.reposition(!0),e.has("referenceElement")&&this.referenceElementHandler()}loaded(){this.referenceElement&&!this.referenceEl&&this.setUpReferenceElement(),this.hasLoaded=!0}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.removeReferences(),t2(this)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}openHandler(){v1(this),this.reposition(!0),this.setExpandedAttr()}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}setFloatingEl(e){this.floatingEl=e,e&&requestAnimationFrame(()=>this.setUpReferenceElement())}setTransitionEl(e){e&&(this.transitionEl=e)}setFilteredPlacements(){const{el:e,flipPlacements:i}=this;this.filteredFlipPlacements=i?gD(i,e):null}setUpReferenceElement(e=!0){this.removeReferences(),this.referenceEl=this.getReferenceElement(),qp(this);const{el:i,referenceElement:r,referenceEl:n}=this;e&&r&&!n&&console.warn(`${i.tagName}: reference-element id "${r}" was not found.`,{el:i}),this.addReferences()}getId(){return this.el.id||this.guid}setExpandedAttr(){const{referenceEl:e,open:i}=this;e&&"setAttribute"in e&&e.setAttribute(WC,g1(i))}addReferences(){const{referenceEl:e}=this;if(!e)return;const i=this.getId();"setAttribute"in e&&e.setAttribute(GC,i),ZC.registerElement(e,this.el),this.setExpandedAttr()}removeReferences(){const{referenceEl:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(GC),e.removeAttribute(WC)),ZC.unregisterElement(e))}getReferenceElement(){const{referenceElement:e,el:i}=this;return(typeof e=="string"?f1(i,{id:e}):e)||null}hide(){this.open=!1}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),this.focusTrap.activate()}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),e2(this),this.focusTrap.deactivate()}storeArrowEl(e){this.arrowEl=e,this.reposition(!0)}renderCloseButton(){const{messages:e,closable:i}=this;return i?Ve(Vn.closeButtonContainer,q`<div class=${U(Vn.closeButtonContainer)}><calcite-action appearance=transparent class=${U(Vn.closeButton)} @click=${this.hide} .scale=${this.scale} .text=${e.close}><calcite-icon icon=x .scale=${ii(this.scale)}></calcite-icon></calcite-action></div>`):null}renderHeader(){const{heading:e,headingLevel:i}=this,r=e?bD({class:Vn.heading,level:i,children:e}):null;return r?Ve(Vn.header,q`<div class=${U(Vn.header)}>${r}${this.renderCloseButton()}</div>`):null}render(){const{referenceEl:e,heading:i,label:r,open:n,pointerDisabled:s,floatingLayout:o}=this,a=e&&n,l=!a,d=s?null:Ve("floating-arrow",Eq({floatingLayout:o,ref:this.storeArrowEl}));return this.el.inert=l,this.el.ariaLabel=r,this.el.ariaLive="polite",um(this.el,"id",this.getId()),this.el.role="dialog",q`<div class=${U(Vn.positionContainer)} ${Be(this.setFloatingEl)}><div class=${U({[Vn.container]:!0,[k0.animation]:!0,[k0.animationActive]:a})} ${Be(this.setTransitionEl)}>${d}<div class=${U({[Vn.hasHeader]:!!i,[Vn.headerContainer]:!0})}>${this.renderHeader()}<div class=${U(Vn.content)}><slot></slot></div>${i?null:this.renderCloseButton()}</div></div></div>`}};Bb.properties={floatingLayout:[16,{},{state:!0}],referenceEl:[16,{},{state:!0}],autoClose:[7,{},{reflect:!0,type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],flipDisabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],focusTrapOptions:[0,{},{attribute:!1}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],offsetDistance:[11,{},{type:Number,reflect:!0}],offsetSkidding:[11,{},{reflect:!0,type:Number}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],pointerDisabled:[7,{},{reflect:!0,type:Boolean}],referenceElement:1,scale:[3,{},{reflect:!0}],triggerDisabled:[7,{},{reflect:!0,type:Boolean}]},Bb.styles=cH;let Vx=Bb;gt("calcite-popover",Vx);function YC(t,e){return(t+e)%e}const JC={menu:"menu",defaultTrigger:"default-trigger"},Kw="calcite-action-menu",Xw={button:t=>`${Kw}-${t}-menu-button`,menu:t=>`${Kw}-${t}-menu`,action:(t,e)=>`${Kw}-${t}-action-${e}`},Bx={tooltip:"tooltip",trigger:"trigger"},uH={menu:"ellipsis"};const dH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}`,hH=["ArrowUp","ArrowDown","End","Home"],qb=class qb extends lt{constructor(){super(...arguments),this.guid=nh(),this.actionElements=[],this.menuButtonClick=()=>{this.toggleOpen()},this.menuButtonId=Xw.button(this.guid),this.menuButtonKeyDown=e=>{const{key:i}=e,{actionElements:r,activeMenuItemIndex:n,open:s}=this;if(r.length){if(Lc(i)){if(e.preventDefault(),!s){this.toggleOpen();return}const o=r[n];o?o.click():this.toggleOpen(!1)}if(i==="Tab"){this.open=!1;return}if(i==="Escape"){this.toggleOpen(!1),e.preventDefault();return}this.handleActionNavigation(e,i,r)}},this.menuId=Xw.menu(this.guid),this._open=!1,this.updateAction=(e,i)=>{const{guid:r,activeMenuItemIndex:n}=this,s=Xw.action(r,i);e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=s),e.activeDescendant=i===n},this.focusSetter=Ai()(this),this.activeMenuItemIndex=-1,this.appearance="solid",this.expanded=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale="m",this.calciteActionMenuCollapse=Ie({cancelable:!1}),this.calciteActionMenuExpand=Ie({cancelable:!1}),this.calciteActionMenuOpen=Ie({cancelable:!1})}get open(){return this._open}set open(e){const i=this._open;e!==i&&(this._open=e,this.openHandler(e))}async setFocus(e){return this.focusSetter(()=>this.menuButtonEl,e)}connectedCallback(){super.connectedCallback(),this.connectMenuButtonEl()}willUpdate(e){e.has("expanded")&&(this.hasUpdated||this.expanded!==!1)&&this.expandedHandler(),e.has("activeMenuItemIndex")&&(this.hasUpdated||this.activeMenuItemIndex!==-1)&&this.updateActions(this.actionElements),e.has("expanded")&&this.hasUpdated&&(this.expanded?this.calciteActionMenuExpand.emit():this.calciteActionMenuCollapse.emit())}disconnectedCallback(){super.disconnectedCallback(),this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.menuButtonEl&&(this.menuButtonEl.active=e,this.menuButtonEl.aria={expanded:e}),this.popoverEl&&(this.popoverEl.open=e),this.activeMenuItemIndex=this.open?0:-1,this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}connectMenuButtonEl(){const{menuButtonId:e,menuId:i,open:r,label:n}=this,s=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==s&&(this.disconnectMenuButtonEl(),this.menuButtonEl=s,this.setTooltipReferenceElement(),s&&(s.active=r,s.setAttribute("aria-controls",i),s.setAttribute("aria-expanded",g1(r)),s.setAttribute("aria-haspopup","true"),s.id||(s.id=e),s.label||(s.label=n),s.text||(s.text=n),s.addEventListener("click",this.menuButtonClick),s.addEventListener("keydown",this.menuButtonKeyDown)))}disconnectMenuButtonEl(){const{menuButtonEl:e}=this;e&&(e.removeEventListener("click",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown),this.menuButtonEl=null)}setMenuButtonEl(e){const i=e.target.assignedElements({flatten:!0}).filter(r=>r?.matches("calcite-action"));this.slottedMenuButtonEl=i[0],this.connectMenuButtonEl()}setDefaultMenuButtonEl(e){this.defaultMenuButtonEl=e,this.connectMenuButtonEl()}setPopoverEl(e){e&&(this.popoverEl=e,e.open=this.open)}handleCalciteActionClick(){this.open=!1,this.setFocus()}updateTooltip(e){const i=e.target.assignedElements({flatten:!0}).filter(r=>r?.matches("calcite-tooltip"));this.tooltipEl=i[0],this.setTooltipReferenceElement()}setTooltipReferenceElement(){const{tooltipEl:e,expanded:i,menuButtonEl:r,open:n}=this;e&&(e.referenceElement=!i&&!n?r:null)}updateActions(e){e?.forEach(this.updateAction)}async handleDefaultSlotChange(e){const i=e.target.assignedElements({flatten:!0}).reduce((r,n)=>n?.matches("calcite-action")?(r.push(n),r):n?.matches("calcite-action-group")?r.concat(Array.from(n.querySelectorAll("calcite-action"))):r,[]);await this.componentOnReady(),this.actionElements=i.filter(r=>!r.disabled&&!r.hidden)}isValidKey(e,i){return!!i.find(r=>r===e)}handleActionNavigation(e,i,r){if(!this.isValidKey(i,hH))return;if(e.preventDefault(),!this.open){this.toggleOpen(),(i==="Home"||i==="ArrowDown")&&(this.activeMenuItemIndex=0),(i==="End"||i==="ArrowUp")&&(this.activeMenuItemIndex=r.length-1);return}i==="Home"&&(this.activeMenuItemIndex=0),i==="End"&&(this.activeMenuItemIndex=r.length-1);const n=this.activeMenuItemIndex;i==="ArrowUp"&&(this.activeMenuItemIndex=YC(Math.max(n-1,-1),r.length)),i==="ArrowDown"&&(this.activeMenuItemIndex=YC(n+1,r.length))}toggleOpen(e=!this.open){this.open=e}handlePopoverOpen(e){e.stopPropagation(),this.open=!0,this.setFocus()}handlePopoverClose(e){e.stopPropagation(),this.open=!1}renderMenuButton(){const{appearance:e,label:i,scale:r,expanded:n}=this;return q`<slot name=${Bx.trigger} @slotchange=${this.setMenuButtonEl}><calcite-action .appearance=${e} .aria=${{expanded:n}} class=${U(JC.defaultTrigger)} .icon=${uH.menu} .scale=${r} .text=${i} .textEnabled=${n} ${Be(this.setDefaultMenuButtonEl)}></calcite-action></slot>`}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:i,menuId:r,menuButtonEl:n,label:s,placement:o,overlayPositioning:a,flipPlacements:l}=this,h=e[i]?.id||null;return q`<calcite-popover auto-close .flipPlacements=${l} focus-trap-disabled .label=${s} offset-distance=0 @calcitePopoverClose=${this.handlePopoverClose} @calcitePopoverOpen=${this.handlePopoverOpen} .overlayPositioning=${a} .placement=${o} pointer-disabled .referenceElement=${n} trigger-disabled ${Be(this.setPopoverEl)}><div aria-activedescendant=${h??he} aria-labelledby=${n?.id??he} class=${U(JC.menu)} id=${r??he} @click=${this.handleCalciteActionClick} role=menu tabindex=-1><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></calcite-popover>`}render(){return q`${this.renderMenuButton()}${this.renderMenuItems()}<slot name=${Bx.tooltip} @slotchange=${this.updateTooltip}></slot>`}};qb.properties={activeMenuItemIndex:[16,{},{state:!0}],menuButtonEl:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],expanded:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],label:1,open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},qb.styles=dH;let qx=qb;gt("calcite-action-menu",qx);const wt={actionBarContainer:"action-bar-container",container:"container",contentBottom:"content-bottom",contentTop:"content-top",header:"header",headerContainer:"header-container",headerContainerBorderEnd:"header-container--border-end",headingTextContent:"heading-text-content",heading:"heading",description:"description",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",icon:"icon",contentWrapper:"content-wrapper",fabContainer:"fab-container",footer:"footer",footerContent:"footer-content",footerActions:"footer-actions",footerStart:"footer-start",footerEnd:"footer-end",headerSlottedContent:"header--slotted-content",headerNonSlottedContent:"header--non-slotted-content",menuAction:"menu-action"},KC={close:"close",collapse:"collapse"},ny={close:"x",menu:"ellipsis",expand:"chevron-down",collapse:"chevron-up"},Ct={actionBar:"action-bar",alerts:"alerts",contentBottom:"content-bottom",contentTop:"content-top",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerEnd:"footer-end",footerStart:"footer-start",footerActions:"footer-actions"};const pH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height: calc(var(--calcite-icon-size) * 3);border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-sharp))}slot[name=alerts]::slotted(calcite-alert){block-size:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}:host([scale=s]){--calcite-internal-panel-default-space: var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-sm-plus)}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1)}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2)}:host([scale=s]) .header-content .icon{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]){--calcite-internal-panel-default-space: var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-md-plus)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0)}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1)}:host([scale=m]) .header-content .icon{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]){--calcite-internal-panel-default-space: var(--calcite-spacing-lg);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-xl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1)}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0)}:host([scale=l]) .header-content .icon{margin-inline-end:var(--calcite-spacing-lg)}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;padding:var(--calcite-internal-panel-default-space);border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));background-color:var(--calcite-panel-background-color, var(--calcite-color-foreground-1))}.container{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;overflow:hidden;background-color:var(--calcite-color-background);padding:0;color:var(--calcite-color-text-2);transition:max-block-size var(--calcite-animation-timing),inline-size var(--calcite-animation-timing);box-sizing:border-box;font-size:var(--calcite-font-size--1)}.container *{box-sizing:border-box}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-panel-header-border-block-end, var(--calcite-color-border-3)))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3))}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:.75rem;padding-block:.875rem;margin-inline-end:auto;justify-content:center}.header-content .heading-text-content{flex:1 1 auto;overflow:hidden}.header-content .heading,.header-content .description{display:block;flex:none;overflow-wrap:break-word;padding:0;line-height:var(--calcite-font-line-height-relative-snug)}.header-content .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-panel-heading-text-color, var(--calcite-color-text-1))}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-panel-description-text-color, var(--calcite-color-text-2))}#close,#collapse,.back-button,calcite-action-menu{--calcite-action-background-color: var(--calcite-panel-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-panel-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-panel-header-action-background-color-press);--calcite-action-text-color: var(--calcite-panel-header-action-text-color);--calcite-action-text-color-press: var(--calcite-panel-header-action-text-color-press)}.back-button{border-width:0px;border-style:solid;border-inline-end-width:1px;border-color:var(--calcite-panel-border-color, var(--calcite-color-border-3))}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{position:relative;display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;color:var(--calcite-color-text-2);outline-color:transparent;padding:var(--calcite-panel-space, var(--calcite-panel-content-space, 0));background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content{flex:1 1 auto;justify-content:center;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-space)}.header-content.header--slotted-content{padding:var(--calcite-panel-header-content-space, var(--calcite-internal-panel-header-vertical-padding) var(--calcite-internal-panel-default-space))}.header-content.header--non-slotted-content{align-items:center;flex-direction:row}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));padding:var(--calcite-panel-footer-space, var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-space)));background-color:var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-space)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-space)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-space)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:.5rem;inset-inline:0;inline-size:fit-content}calcite-icon{--calcite-icon-color: var(--calcite-panel-icon-color, var(--calcite-color-text-1))}:host([hidden]){display:none}[hidden]{display:none}`,Hb=class Hb extends lt{constructor(){super(),this.containerRef=At(),this.resizeObserver=hs("resize",()=>this.resizeHandler()),this.messages=Ei(),this._closed=!1,this.focusSetter=Ai()(this),this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasEndActions=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.hasHeaderContent=!1,this.hasMenuItems=!1,this.hasStartActions=!1,this.showHeaderContent=!1,this.closable=!1,this.collapseDirection="down",this.collapsed=!1,this.collapsible=!1,this.disabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.menuOpen=!1,this.menuPlacement=vq,this.overlayPositioning="absolute",this.scale="m",this.calcitePanelClose=Ie({cancelable:!0}),this.calcitePanelCollapse=Ie({cancelable:!1}),this.calcitePanelExpand=Ie({cancelable:!1}),this.calcitePanelScroll=Ie({cancelable:!1}),this.calcitePanelToggle=Ie({cancelable:!1}),this.listen("keydown",this.panelKeyDownHandler),this.listen("calcitePanelClose",this.panelCloseHandler)}get closed(){return this._closed}set closed(e){const i=this._closed;e!==i&&this.setClosedState(e)}async scrollContentTo(e){this.panelScrollEl?.scrollTo(e)}async setFocus(e){return this.focusSetter(()=>this.containerRef.value,e)}willUpdate(e){e.has("collapsed")&&this.hasUpdated&&(this.collapsed?this.calcitePanelCollapse.emit():this.calcitePanelExpand.emit())}updated(){vs(this)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}async setClosedState(e){if(this.beforeClose&&e)try{await this.beforeClose?.()}catch{return}this._closed=e}resizeHandler(){const{panelScrollEl:e}=this;if(!e||typeof e.scrollHeight!="number"||typeof e.offsetHeight!="number")return;e.scrollHeight>e.offsetHeight?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}closeClickHandler(){this.emitCloseEvent()}emitCloseEvent(){this.calcitePanelClose.emit()}panelKeyDownHandler(e){this.closable&&e.key==="Escape"&&!e.defaultPrevented&&(this.emitCloseEvent(),e.preventDefault())}panelCloseHandler(e){e.defaultPrevented||e.target!==this.el||(this.closed=!0)}collapse(){this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()}panelScrollHandler(){this.calcitePanelScroll.emit()}handleHeaderActionsStartSlotChange(e){this.hasStartActions=Ft(e)}handleHeaderActionsEndSlotChange(e){this.hasEndActions=Ft(e)}handleHeaderMenuActionsSlotChange(e){this.hasMenuItems=Ft(e)}handleActionBarSlotChange(e){const i=La(e).filter(r=>r?.matches("calcite-action-bar"));i.forEach(r=>r.layout="horizontal"),this.hasActionBar=!!i.length}handleHeaderContentSlotChange(e){this.hasHeaderContent=Ft(e)}handleFabSlotChange(e){this.hasFab=Ft(e)}handleFooterActionsSlotChange(e){this.hasFooterActions=Ft(e)}handleFooterEndSlotChange(e){this.hasFooterEndContent=Ft(e)}handleFooterStartSlotChange(e){this.hasFooterStartContent=Ft(e)}handleFooterSlotChange(e){this.hasFooterContent=Ft(e)}contentBottomSlotChangeHandler(e){this.hasContentBottom=Ft(e)}contentTopSlotChangeHandler(e){this.hasContentTop=Ft(e)}setPanelScrollEl(e){OR(this.resizeObserver,this.panelScrollEl,e),this.panelScrollEl=e}handleAlertsSlotChange(e){La(e)?.map(i=>{i.nodeName==="CALCITE-ALERT"&&(i.embedded=!0)})}renderHeaderContent(){const{heading:e,headingLevel:i,description:r,hasHeaderContent:n,icon:s,scale:o}=this,a=s?q`<calcite-icon class=${U(wt.icon)} .flipRtl=${this.iconFlipRtl} .icon=${s} .scale=${ii(o)}></calcite-icon>`:null,l=e?bD({class:wt.heading,level:i,children:e}):null,d=r?q`<span class=${U(wt.description)}>${r}</span>`:null;return!n&&(l||d)?Ve("header-content",q`<div class=${U({[wt.headerContent]:!0,[wt.headerNonSlottedContent]:!0})}>${a}<div class=${U(wt.headingTextContent)}>${l}${d}</div></div>`):null}renderActionBar(){return q`<div class=${U(wt.actionBarContainer)} .hidden=${!this.hasActionBar}><slot name=${Ct.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`}renderHeaderSlottedContent(){return Ve("slotted-header-content",q`<div class=${U({[wt.headerContent]:!0,[wt.headerSlottedContent]:!0})} .hidden=${!this.hasHeaderContent}><slot name=${Ct.headerContent} @slotchange=${this.handleHeaderContentSlotChange}></slot></div>`)}renderHeaderStartActions(){const{hasStartActions:e}=this;return Ve("header-actions-start",q`<div class=${U({[wt.headerActionsStart]:!0,[wt.headerActions]:!0})} .hidden=${!e}><slot name=${Ct.headerActionsStart} @slotchange=${this.handleHeaderActionsStartSlotChange}></slot></div>`)}renderHeaderActionsEnd(){const{hasEndActions:e,messages:i,closable:r,collapsed:n,collapseDirection:s,collapsible:o,hasMenuItems:a}=this,{collapse:l,expand:d,close:h}=i,f=[ny.expand,ny.collapse];s==="up"&&f.reverse();const y=o?q`<calcite-action .aria=${{expanded:!n}} .icon=${n?f[0]:f[1]} id=${KC.collapse} .label=${l} @click=${this.collapse} .scale=${this.scale} .text=${l} title=${(n?d:l)??he}></calcite-action>`:null,b=r?q`<calcite-action .ariaLabel=${h} .icon=${ny.close} id=${KC.close} @click=${this.closeClickHandler} .scale=${this.scale} .text=${h} title=${h??he}></calcite-action>`:null,x=q`<slot name=${Ct.headerActionsEnd} @slotchange=${this.handleHeaderActionsEndSlotChange}></slot>`,$=e||y||b||a;return Ve("header-actions-end",q`<div class=${U({[wt.headerActionsEnd]:!0,[wt.headerActions]:!0})} .hidden=${!$}>${x}${this.renderMenu()}${y}${b}</div>`)}renderMenu(){const{hasMenuItems:e,messages:i,menuOpen:r,menuFlipPlacements:n,menuPlacement:s}=this;return Ve("menu",q`<calcite-action-menu .flipPlacements=${n??["top","bottom"]} .hidden=${!e} .label=${i.options} .open=${r} .overlayPositioning=${this.overlayPositioning} .placement=${s}><calcite-action class=${U(wt.menuAction)} .icon=${ny.menu} .scale=${this.scale} slot=${Bx.trigger} .text=${i.options}></calcite-action><slot name=${Ct.headerMenuActions} @slotchange=${this.handleHeaderMenuActionsSlotChange}></slot></calcite-action-menu>`)}renderHeaderNode(){const{hasHeaderContent:e,hasStartActions:i,hasEndActions:r,closable:n,collapsible:s,hasMenuItems:o,hasActionBar:a,hasContentTop:l}=this,d=this.renderHeaderContent(),h=e||!!d||i||r||s||n||o||a||l;return this.showHeaderContent=h,q`<header class=${U(wt.header)} .hidden=${!(h||a||l)}><div class=${U({[wt.headerContainer]:!0,[wt.headerContainerBorderEnd]:a})} .hidden=${!h}>${this.renderHeaderStartActions()}${this.renderHeaderSlottedContent()}${d}${this.renderHeaderActionsEnd()}</div>${this.renderActionBar()}${this.renderContentTop()}</header>`}renderFooterNode(){const{hasFooterEndContent:e,hasFooterStartContent:i,hasFooterContent:r,hasFooterActions:n}=this,s=i||e||r||n;return q`<footer class=${U(wt.footer)} .hidden=${!s}><div class=${U(wt.footerContent)} .hidden=${!r}><slot name=${Ct.footer} @slotchange=${this.handleFooterSlotChange}></slot></div><div class=${U(wt.footerStart)} .hidden=${r||!i}><slot name=${Ct.footerStart} @slotchange=${this.handleFooterStartSlotChange}></slot></div><div class=${U(wt.footerEnd)} .hidden=${r||!e}><slot name=${Ct.footerEnd} @slotchange=${this.handleFooterEndSlotChange}></slot></div><div class=${U(wt.footerActions)} .hidden=${r||!n}>${Ve("footer-actions-slot",q`<slot name=${Ct.footerActions} @slotchange=${this.handleFooterActionsSlotChange}></slot>`)}</div></footer>`}renderContent(){return q`<div class=${U(wt.contentWrapper)} .hidden=${this.collapsible&&this.collapsed} @scroll=${this.panelScrollHandler} ${Be(this.setPanelScrollEl)}><slot></slot>${this.renderFab()}</div>`}renderContentBottom(){return q`<div class=${U(wt.contentBottom)} .hidden=${!this.hasContentBottom}><slot name=${Ct.contentBottom} @slotchange=${this.contentBottomSlotChangeHandler}></slot></div>`}renderContentTop(){return q`<div class=${U(wt.contentTop)} .hidden=${!this.hasContentTop}><slot name=${Ct.contentTop} @slotchange=${this.contentTopSlotChangeHandler}></slot></div>`}renderFab(){return q`<div class=${U(wt.fabContainer)} .hidden=${!this.hasFab}><slot name=${Ct.fab} @slotchange=${this.handleFabSlotChange}></slot></div>`}render(){const{disabled:e,loading:i,closed:r}=this,n=q`<article .ariaBusy=${i} class=${U(wt.container)} .hidden=${r} ${Be(this.containerRef)}>${this.renderHeaderNode()}${this.renderContent()}${this.renderContentBottom()}${this.renderFooterNode()}${Ve("alerts",q`<slot name=${Ct.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</article>`;return bs({disabled:e,children:q`${i?q`<calcite-scrim .loading=${i}></calcite-scrim>`:null}${n}`})}};Hb.properties={hasActionBar:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasEndActions:[16,{},{state:!0}],hasFab:[16,{},{state:!0}],hasFooterActions:[16,{},{state:!0}],hasFooterContent:[16,{},{state:!0}],hasFooterEndContent:[16,{},{state:!0}],hasFooterStartContent:[16,{},{state:!0}],hasHeaderContent:[16,{},{state:!0}],hasMenuItems:[16,{},{state:!0}],hasStartActions:[16,{},{state:!0}],showHeaderContent:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],collapseDirection:1,collapsed:[7,{},{reflect:!0,type:Boolean}],collapsible:[7,{},{reflect:!0,type:Boolean}],description:1,disabled:[7,{},{reflect:!0,type:Boolean}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],loading:[7,{},{reflect:!0,type:Boolean}],menuFlipPlacements:[0,{},{attribute:!1}],menuOpen:[7,{},{reflect:!0,type:Boolean}],menuPlacement:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overlayPositioning:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},Hb.styles=pH;let Hx=Hb;gt("calcite-panel",Hx);function fH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hp={exports:{}},mH=Hp.exports,XC;function gH(){return XC||(XC=1,(function(t,e){(function(i,r){t.exports=r()})(mH,function(){function i(g,m){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(g);m&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(g,_).enumerable})),v.push.apply(v,w)}return v}function r(g){for(var m=1;m<arguments.length;m++){var v=arguments[m]!=null?arguments[m]:{};m%2?i(Object(v),!0).forEach(function(w){l(g,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):i(Object(v)).forEach(function(w){Object.defineProperty(g,w,Object.getOwnPropertyDescriptor(v,w))})}return g}function n(g){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},n(g)}function s(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function o(g,m){for(var v=0;v<m.length;v++){var w=m[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,$(w.key),w)}}function a(g,m,v){return m&&o(g.prototype,m),Object.defineProperty(g,"prototype",{writable:!1}),g}function l(g,m,v){return(m=$(m))in g?Object.defineProperty(g,m,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[m]=v,g}function d(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),m&&f(g,m)}function h(g){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},h(g)}function f(g,m){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,w){return v.__proto__=w,v},f(g,m)}function y(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function b(g){var m=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})();return function(){var v,w=h(g);if(m){var _=h(this).constructor;v=Reflect.construct(w,arguments,_)}else v=w.apply(this,arguments);return(function(S,T){if(T&&(typeof T=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(S)})(this,v)}}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(g,m,v){var w=(function(S,T){for(;!Object.prototype.hasOwnProperty.call(S,T)&&(S=h(S))!==null;);return S})(g,m);if(w){var _=Object.getOwnPropertyDescriptor(w,m);return _.get?_.get.call(arguments.length<3?g:v):_.value}},x.apply(this,arguments)}function $(g){var m=(function(v,w){if(typeof v!="object"||v===null)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var S=_.call(v,w);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)})(g,"string");return typeof m=="symbol"?m:m+""}var E=function(g){return!(!g||!g.Window)&&g instanceof g.Window},C=void 0,O=void 0;function j(g){C=g;var m=g.document.createTextNode("");m.ownerDocument!==g.document&&typeof g.wrap=="function"&&g.wrap(m)===m&&(g=g.wrap(g)),O=g}function D(g){return E(g)?g:(g.ownerDocument||g).defaultView||O.window}typeof window<"u"&&window&&j(window);var F=function(g){return!!g&&n(g)==="object"},G=function(g){return typeof g=="function"},z={window:function(g){return g===O||E(g)},docFrag:function(g){return F(g)&&g.nodeType===11},object:F,func:G,number:function(g){return typeof g=="number"},bool:function(g){return typeof g=="boolean"},string:function(g){return typeof g=="string"},element:function(g){if(!g||n(g)!=="object")return!1;var m=D(g)||O;return/object|function/.test(typeof Element>"u"?"undefined":n(Element))?g instanceof Element||g instanceof m.Element:g.nodeType===1&&typeof g.nodeName=="string"},plainObject:function(g){return F(g)&&!!g.constructor&&/function Object\b/.test(g.constructor.toString())},array:function(g){return F(g)&&g.length!==void 0&&G(g.splice)}};function se(g){var m=g.interaction;if(m.prepared.name==="drag"){var v=m.prepared.axis;v==="x"?(m.coords.cur.page.y=m.coords.start.page.y,m.coords.cur.client.y=m.coords.start.client.y,m.coords.velocity.client.y=0,m.coords.velocity.page.y=0):v==="y"&&(m.coords.cur.page.x=m.coords.start.page.x,m.coords.cur.client.x=m.coords.start.client.x,m.coords.velocity.client.x=0,m.coords.velocity.page.x=0)}}function oe(g){var m=g.iEvent,v=g.interaction;if(v.prepared.name==="drag"){var w=v.prepared.axis;if(w==="x"||w==="y"){var _=w==="x"?"y":"x";m.page[_]=v.coords.start.page[_],m.client[_]=v.coords.start.client[_],m.delta[_]=0}}}var ee={id:"actions/drag",install:function(g){var m=g.actions,v=g.Interactable,w=g.defaults;v.prototype.draggable=ee.draggable,m.map.drag=ee,m.methodDict.drag="draggable",w.actions.drag=ee.defaults},listeners:{"interactions:before-action-move":se,"interactions:action-resume":se,"interactions:action-move":oe,"auto-start:check":function(g){var m=g.interaction,v=g.interactable,w=g.buttons,_=v.options.drag;if(_&&_.enabled&&(!m.pointerIsDown||!/mouse|pointer/.test(m.pointerType)||(w&v.options.drag.mouseButtons)!=0))return g.action={name:"drag",axis:_.lockAxis==="start"?_.startAxis:_.lockAxis},!1}},draggable:function(g){return z.object(g)?(this.options.drag.enabled=g.enabled!==!1,this.setPerAction("drag",g),this.setOnEvents("drag",g),/^(xy|x|y|start)$/.test(g.lockAxis)&&(this.options.drag.lockAxis=g.lockAxis),/^(xy|x|y)$/.test(g.startAxis)&&(this.options.drag.startAxis=g.startAxis),this):z.bool(g)?(this.options.drag.enabled=g,this):this.options.drag},beforeMove:se,move:oe,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(g){return g.search("drag")===0}},ge=ee,te={init:function(g){var m=g;te.document=m.document,te.DocumentFragment=m.DocumentFragment||Y,te.SVGElement=m.SVGElement||Y,te.SVGSVGElement=m.SVGSVGElement||Y,te.SVGElementInstance=m.SVGElementInstance||Y,te.Element=m.Element||Y,te.HTMLElement=m.HTMLElement||te.Element,te.Event=m.Event,te.Touch=m.Touch||Y,te.PointerEvent=m.PointerEvent||m.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Y(){}var H=te,ce={init:function(g){var m=H.Element,v=g.navigator||{};ce.supportsTouch="ontouchstart"in g||z.func(g.DocumentTouch)&&H.document instanceof g.DocumentTouch,ce.supportsPointerEvent=v.pointerEnabled!==!1&&!!H.PointerEvent,ce.isIOS=/iP(hone|od|ad)/.test(v.platform),ce.isIOS7=/iP(hone|od|ad)/.test(v.platform)&&/OS 7[^\d]/.test(v.appVersion),ce.isIe9=/MSIE 9/.test(v.userAgent),ce.isOperaMobile=v.appName==="Opera"&&ce.supportsTouch&&/Presto/.test(v.userAgent),ce.prefixedMatchesSelector="matches"in m.prototype?"matches":"webkitMatchesSelector"in m.prototype?"webkitMatchesSelector":"mozMatchesSelector"in m.prototype?"mozMatchesSelector":"oMatchesSelector"in m.prototype?"oMatchesSelector":"msMatchesSelector",ce.pEventTypes=ce.supportsPointerEvent?H.PointerEvent===g.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ce.wheelEvent=H.document&&"onmousewheel"in H.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},_e=ce;function we(g,m){if(g.contains)return g.contains(m);for(;m;){if(m===g)return!0;m=m.parentNode}return!1}function me(g,m){for(;z.element(g);){if(rt(g,m))return g;g=ke(g)}return null}function ke(g){var m=g.parentNode;if(z.docFrag(m)){for(;(m=m.host)&&z.docFrag(m););return m}return m}function rt(g,m){return O!==C&&(m=m.replace(/\/deep\//g," ")),g[_e.prefixedMatchesSelector](m)}var St=function(g){return g.parentNode||g.host};function on(g,m){for(var v,w=[],_=g;(v=St(_))&&_!==m&&v!==_.ownerDocument;)w.unshift(_),_=v;return w}function Rn(g,m,v){for(;z.element(g);){if(rt(g,m))return!0;if((g=ke(g))===v)return rt(g,m)}return!1}function Rr(g){return g.correspondingUseElement||g}function Dn(g){var m=g instanceof H.SVGElement?g.getBoundingClientRect():g.getClientRects()[0];return m&&{left:m.left,right:m.right,top:m.top,bottom:m.bottom,width:m.width||m.right-m.left,height:m.height||m.bottom-m.top}}function Xo(g){var m,v=Dn(g);if(!_e.isIOS7&&v){var w={x:(m=(m=D(g))||O).scrollX||m.document.documentElement.scrollLeft,y:m.scrollY||m.document.documentElement.scrollTop};v.left+=w.x,v.right+=w.x,v.top+=w.y,v.bottom+=w.y}return v}function Qo(g){for(var m=[];g;)m.push(g),g=ke(g);return m}function ea(g){return!!z.string(g)&&(H.document.querySelector(g),!0)}function Oe(g,m){for(var v in m)g[v]=m[v];return g}function Tg(g,m,v){return g==="parent"?ke(v):g==="self"?m.getRect(v):me(v,g)}function bl(g,m,v,w){var _=g;return z.string(_)?_=Tg(_,m,v):z.func(_)&&(_=_.apply(void 0,w)),z.element(_)&&(_=Xo(_)),_}function ou(g){return g&&{x:"x"in g?g.x:g.left,y:"y"in g?g.y:g.top}}function Kh(g){return!g||"x"in g&&"y"in g||((g=Oe({},g)).x=g.left||0,g.y=g.top||0,g.width=g.width||(g.right||0)-g.x,g.height=g.height||(g.bottom||0)-g.y),g}function au(g,m,v){g.left&&(m.left+=v.x),g.right&&(m.right+=v.x),g.top&&(m.top+=v.y),g.bottom&&(m.bottom+=v.y),m.width=m.right-m.left,m.height=m.bottom-m.top}function wl(g,m,v){var w=v&&g.options[v];return ou(bl(w&&w.origin||g.options.origin,g,m,[g&&m]))||{x:0,y:0}}function to(g,m){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(I){return!0},w=arguments.length>3?arguments[3]:void 0;if(w=w||{},z.string(g)&&g.search(" ")!==-1&&(g=Eg(g)),z.array(g))return g.forEach(function(I){return to(I,m,v,w)}),w;if(z.object(g)&&(m=g,g=""),z.func(m)&&v(g))w[g]=w[g]||[],w[g].push(m);else if(z.array(m))for(var _=0,S=m;_<S.length;_++){var T=S[_];to(g,T,v,w)}else if(z.object(m))for(var M in m)to(Eg(M).map(function(I){return"".concat(g).concat(I)}),m[M],v,w);return w}function Eg(g){return g.trim().split(/ +/)}var _l=function(g,m){return Math.sqrt(g*g+m*m)},Mg=["webkit","moz"];function xl(g,m){g.__set||(g.__set={});var v=function(_){if(Mg.some(function(S){return _.indexOf(S)===0}))return 1;typeof g[_]!="function"&&_!=="__set"&&Object.defineProperty(g,_,{get:function(){return _ in g.__set?g.__set[_]:g.__set[_]=m[_]},set:function(S){g.__set[_]=S},configurable:!0})};for(var w in m)v(w);return g}function Dr(g,m){g.page=g.page||{},g.page.x=m.page.x,g.page.y=m.page.y,g.client=g.client||{},g.client.x=m.client.x,g.client.y=m.client.y,g.timeStamp=m.timeStamp}function Cg(g){g.page.x=0,g.page.y=0,g.client.x=0,g.client.y=0}function Ig(g){return g instanceof H.Event||g instanceof H.Touch}function lu(g,m,v){return g=g||"page",(v=v||{}).x=m[g+"X"],v.y=m[g+"Y"],v}function Ag(g,m){return m=m||{x:0,y:0},_e.isOperaMobile&&Ig(g)?(lu("screen",g,m),m.x+=window.scrollX,m.y+=window.scrollY):lu("page",g,m),m}function $l(g){return z.number(g.pointerId)?g.pointerId:g.identifier}function xw(g,m,v){var w=m.length>1?$w(m):m[0];Ag(w,g.page),(function(_,S){S=S||{},_e.isOperaMobile&&Ig(_)?lu("screen",_,S):lu("client",_,S)})(w,g.client),g.timeStamp=v}function Xh(g){var m=[];return z.array(g)?(m[0]=g[0],m[1]=g[1]):g.type==="touchend"?g.touches.length===1?(m[0]=g.touches[0],m[1]=g.changedTouches[0]):g.touches.length===0&&(m[0]=g.changedTouches[0],m[1]=g.changedTouches[1]):(m[0]=g.touches[0],m[1]=g.touches[1]),m}function $w(g){for(var m={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},v=0;v<g.length;v++){var w=g[v];for(var _ in m)m[_]+=w[_]}for(var S in m)m[S]/=g.length;return m}function Qh(g){if(!g.length)return null;var m=Xh(g),v=Math.min(m[0].pageX,m[1].pageX),w=Math.min(m[0].pageY,m[1].pageY),_=Math.max(m[0].pageX,m[1].pageX),S=Math.max(m[0].pageY,m[1].pageY);return{x:v,y:w,left:v,top:w,right:_,bottom:S,width:_-v,height:S-w}}function ep(g,m){var v=m+"X",w=m+"Y",_=Xh(g),S=_[0][v]-_[1][v],T=_[0][w]-_[1][w];return _l(S,T)}function tp(g,m){var v=m+"X",w=m+"Y",_=Xh(g),S=_[1][v]-_[0][v],T=_[1][w]-_[0][w];return 180*Math.atan2(T,S)/Math.PI}function Pg(g){return z.string(g.pointerType)?g.pointerType:z.number(g.pointerType)?[void 0,void 0,"touch","pen","mouse"][g.pointerType]:/touch/.test(g.type||"")||g instanceof H.Touch?"touch":"mouse"}function Og(g){var m=z.func(g.composedPath)?g.composedPath():g.path;return[Rr(m?m[0]:g.target),Rr(g.currentTarget)]}var cu=(function(){function g(m){s(this,g),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=m}return a(g,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),g})();Object.defineProperty(cu.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Rg=function(g,m){for(var v=0;v<m.length;v++){var w=m[v];g.push(w)}return g},Dg=function(g){return Rg([],g)},Sl=function(g,m){for(var v=0;v<g.length;v++)if(m(g[v],v,g))return v;return-1},kl=function(g,m){return g[Sl(g,m)]},ta=(function(g){d(v,g);var m=b(v);function v(w,_,S){var T;s(this,v),(T=m.call(this,_._interaction)).dropzone=void 0,T.dragEvent=void 0,T.relatedTarget=void 0,T.draggable=void 0,T.propagationStopped=!1,T.immediatePropagationStopped=!1;var M=S==="dragleave"?w.prev:w.cur,I=M.element,N=M.dropzone;return T.type=S,T.target=I,T.currentTarget=I,T.dropzone=N,T.dragEvent=_,T.relatedTarget=_.target,T.draggable=_.interactable,T.timeStamp=_.timeStamp,T}return a(v,[{key:"reject",value:function(){var w=this,_=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&_.cur.dropzone===this.dropzone&&_.cur.element===this.target)if(_.prev.dropzone=this.dropzone,_.prev.element=this.target,_.rejected=!0,_.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var S=_.activeDrops,T=Sl(S,function(I){var N=I.dropzone,A=I.element;return N===w.dropzone&&A===w.target});_.activeDrops.splice(T,1);var M=new v(_,this.dragEvent,"dropdeactivate");M.dropzone=this.dropzone,M.target=this.target,this.dropzone.fire(M)}else this.dropzone.fire(new v(_,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),v})(cu);function zg(g,m){for(var v=0,w=g.slice();v<w.length;v++){var _=w[v],S=_.dropzone,T=_.element;m.dropzone=S,m.target=T,S.fire(m),m.propagationStopped=m.immediatePropagationStopped=!1}}function ip(g,m){for(var v=(function(S,T){for(var M=[],I=0,N=S.interactables.list;I<N.length;I++){var A=N[I];if(A.options.drop.enabled){var V=A.options.drop.accept;if(!(z.element(V)&&V!==T||z.string(V)&&!rt(T,V)||z.func(V)&&!V({dropzone:A,draggableElement:T})))for(var J=0,ne=A.getAllElements();J<ne.length;J++){var ie=ne[J];ie!==T&&M.push({dropzone:A,element:ie,rect:A.getRect(ie)})}}}return M})(g,m),w=0;w<v.length;w++){var _=v[w];_.rect=_.dropzone.getRect(_.element)}return v}function Ng(g,m,v){for(var w=g.dropState,_=g.interactable,S=g.element,T=[],M=0,I=w.activeDrops;M<I.length;M++){var N=I[M],A=N.dropzone,V=N.element,J=N.rect,ne=A.dropCheck(m,v,_,S,V,J);T.push(ne?V:null)}var ie=(function(le){for(var ye,fe,Ae,He=[],Xe=0;Xe<le.length;Xe++){var Le=le[Xe],Ge=le[ye];if(Le&&Xe!==ye)if(Ge){var er=St(Le),Rt=St(Ge);if(er!==Le.ownerDocument)if(Rt!==Le.ownerDocument)if(er!==Rt){He=He.length?He:on(Ge);var Nr=void 0;if(Ge instanceof H.HTMLElement&&Le instanceof H.SVGElement&&!(Le instanceof H.SVGSVGElement)){if(Le===Rt)continue;Nr=Le.ownerSVGElement}else Nr=Le;for(var Ln=on(Nr,Ge.ownerDocument),no=0;Ln[no]&&Ln[no]===He[no];)no++;var Xg=[Ln[no-1],Ln[no],He[no]];if(Xg[0])for(var pp=Xg[0].lastChild;pp;){if(pp===Xg[1]){ye=Xe,He=Ln;break}if(pp===Xg[2])break;pp=pp.previousSibling}}else Ae=Ge,(parseInt(D(fe=Le).getComputedStyle(fe).zIndex,10)||0)>=(parseInt(D(Ae).getComputedStyle(Ae).zIndex,10)||0)&&(ye=Xe);else ye=Xe}else ye=Xe}return ye})(T);return w.activeDrops[ie]||null}function rp(g,m,v){var w=g.dropState,_={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return v.type==="dragstart"&&(_.activate=new ta(w,v,"dropactivate"),_.activate.target=null,_.activate.dropzone=null),v.type==="dragend"&&(_.deactivate=new ta(w,v,"dropdeactivate"),_.deactivate.target=null,_.deactivate.dropzone=null),w.rejected||(w.cur.element!==w.prev.element&&(w.prev.dropzone&&(_.leave=new ta(w,v,"dragleave"),v.dragLeave=_.leave.target=w.prev.element,v.prevDropzone=_.leave.dropzone=w.prev.dropzone),w.cur.dropzone&&(_.enter=new ta(w,v,"dragenter"),v.dragEnter=w.cur.element,v.dropzone=w.cur.dropzone)),v.type==="dragend"&&w.cur.dropzone&&(_.drop=new ta(w,v,"drop"),v.dropzone=w.cur.dropzone,v.relatedTarget=w.cur.element),v.type==="dragmove"&&w.cur.dropzone&&(_.move=new ta(w,v,"dropmove"),v.dropzone=w.cur.dropzone)),_}function np(g,m){var v=g.dropState,w=v.activeDrops,_=v.cur,S=v.prev;m.leave&&S.dropzone.fire(m.leave),m.enter&&_.dropzone.fire(m.enter),m.move&&_.dropzone.fire(m.move),m.drop&&_.dropzone.fire(m.drop),m.deactivate&&zg(w,m.deactivate),v.prev.dropzone=_.dropzone,v.prev.element=_.element}function Lg(g,m){var v=g.interaction,w=g.iEvent,_=g.event;if(w.type==="dragmove"||w.type==="dragend"){var S=v.dropState;m.dynamicDrop&&(S.activeDrops=ip(m,v.element));var T=w,M=Ng(v,T,_);S.rejected=S.rejected&&!!M&&M.dropzone===S.cur.dropzone&&M.element===S.cur.element,S.cur.dropzone=M&&M.dropzone,S.cur.element=M&&M.element,S.events=rp(v,0,T)}}var Z={id:"actions/drop",install:function(g){var m=g.actions,v=g.interactStatic,w=g.Interactable,_=g.defaults;g.usePlugin(ge),w.prototype.dropzone=function(S){return(function(T,M){if(z.object(M)){if(T.options.drop.enabled=M.enabled!==!1,M.listeners){var I=to(M.listeners),N=Object.keys(I).reduce(function(V,J){return V[/^(enter|leave)/.test(J)?"drag".concat(J):/^(activate|deactivate|move)/.test(J)?"drop".concat(J):J]=I[J],V},{}),A=T.options.drop.listeners;A&&T.off(A),T.on(N),T.options.drop.listeners=N}return z.func(M.ondrop)&&T.on("drop",M.ondrop),z.func(M.ondropactivate)&&T.on("dropactivate",M.ondropactivate),z.func(M.ondropdeactivate)&&T.on("dropdeactivate",M.ondropdeactivate),z.func(M.ondragenter)&&T.on("dragenter",M.ondragenter),z.func(M.ondragleave)&&T.on("dragleave",M.ondragleave),z.func(M.ondropmove)&&T.on("dropmove",M.ondropmove),/^(pointer|center)$/.test(M.overlap)?T.options.drop.overlap=M.overlap:z.number(M.overlap)&&(T.options.drop.overlap=Math.max(Math.min(1,M.overlap),0)),"accept"in M&&(T.options.drop.accept=M.accept),"checker"in M&&(T.options.drop.checker=M.checker),T}return z.bool(M)?(T.options.drop.enabled=M,T):T.options.drop})(this,S)},w.prototype.dropCheck=function(S,T,M,I,N,A){return(function(V,J,ne,ie,le,ye,fe){var Ae=!1;if(!(fe=fe||V.getRect(ye)))return!!V.options.drop.checker&&V.options.drop.checker(J,ne,Ae,V,ye,ie,le);var He=V.options.drop.overlap;if(He==="pointer"){var Xe=wl(ie,le,"drag"),Le=Ag(J);Le.x+=Xe.x,Le.y+=Xe.y;var Ge=Le.x>fe.left&&Le.x<fe.right,er=Le.y>fe.top&&Le.y<fe.bottom;Ae=Ge&&er}var Rt=ie.getRect(le);if(Rt&&He==="center"){var Nr=Rt.left+Rt.width/2,Ln=Rt.top+Rt.height/2;Ae=Nr>=fe.left&&Nr<=fe.right&&Ln>=fe.top&&Ln<=fe.bottom}return Rt&&z.number(He)&&(Ae=Math.max(0,Math.min(fe.right,Rt.right)-Math.max(fe.left,Rt.left))*Math.max(0,Math.min(fe.bottom,Rt.bottom)-Math.max(fe.top,Rt.top))/(Rt.width*Rt.height)>=He),V.options.drop.checker&&(Ae=V.options.drop.checker(J,ne,Ae,V,ye,ie,le)),Ae})(this,S,T,M,I,N,A)},v.dynamicDrop=function(S){return z.bool(S)?(g.dynamicDrop=S,v):g.dynamicDrop},Oe(m.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),m.methodDict.drop="dropzone",g.dynamicDrop=!1,_.actions.drop=Z.defaults},listeners:{"interactions:before-action-start":function(g){var m=g.interaction;m.prepared.name==="drag"&&(m.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(g,m){var v=g.interaction,w=(g.event,g.iEvent);if(v.prepared.name==="drag"){var _=v.dropState;_.activeDrops=[],_.events={},_.activeDrops=ip(m,v.element),_.events=rp(v,0,w),_.events.activate&&(zg(_.activeDrops,_.events.activate),m.fire("actions/drop:start",{interaction:v,dragEvent:w}))}},"interactions:action-move":Lg,"interactions:after-action-move":function(g,m){var v=g.interaction,w=g.iEvent;if(v.prepared.name==="drag"){var _=v.dropState;np(v,_.events),m.fire("actions/drop:move",{interaction:v,dragEvent:w}),_.events={}}},"interactions:action-end":function(g,m){if(g.interaction.prepared.name==="drag"){var v=g.interaction,w=g.iEvent;Lg(g,m),np(v,v.dropState.events),m.fire("actions/drop:end",{interaction:v,dragEvent:w})}},"interactions:stop":function(g){var m=g.interaction;if(m.prepared.name==="drag"){var v=m.dropState;v&&(v.activeDrops=null,v.events=null,v.cur.dropzone=null,v.cur.element=null,v.prev.dropzone=null,v.prev.element=null,v.rejected=!1)}}},getActiveDrops:ip,getDrop:Ng,getDropEvents:rp,fireDropEvents:np,filterEventType:function(g){return g.search("drag")===0||g.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},xt=Z;function ws(g){var m=g.interaction,v=g.iEvent,w=g.phase;if(m.prepared.name==="gesture"){var _=m.pointers.map(function(N){return N.pointer}),S=w==="start",T=w==="end",M=m.interactable.options.deltaSource;if(v.touches=[_[0],_[1]],S)v.distance=ep(_,M),v.box=Qh(_),v.scale=1,v.ds=0,v.angle=tp(_,M),v.da=0,m.gesture.startDistance=v.distance,m.gesture.startAngle=v.angle;else if(T||m.pointers.length<2){var I=m.prevEvent;v.distance=I.distance,v.box=I.box,v.scale=I.scale,v.ds=0,v.angle=I.angle,v.da=0}else v.distance=ep(_,M),v.box=Qh(_),v.scale=v.distance/m.gesture.startDistance,v.angle=tp(_,M),v.ds=v.scale-m.gesture.scale,v.da=v.angle-m.gesture.angle;m.gesture.distance=v.distance,m.gesture.angle=v.angle,z.number(v.scale)&&v.scale!==1/0&&!isNaN(v.scale)&&(m.gesture.scale=v.scale)}}var io={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(g){var m=g.actions,v=g.Interactable,w=g.defaults;v.prototype.gesturable=function(_){return z.object(_)?(this.options.gesture.enabled=_.enabled!==!1,this.setPerAction("gesture",_),this.setOnEvents("gesture",_),this):z.bool(_)?(this.options.gesture.enabled=_,this):this.options.gesture},m.map.gesture=io,m.methodDict.gesture="gesturable",w.actions.gesture=io.defaults},listeners:{"interactions:action-start":ws,"interactions:action-move":ws,"interactions:action-end":ws,"interactions:new":function(g){g.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(g){if(!(g.interaction.pointers.length<2)){var m=g.interactable.options.gesture;if(m&&m.enabled)return g.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(g){return g.search("gesture")===0}},zr=io;function uu(g,m,v,w,_,S,T){if(!m)return!1;if(m===!0){var M=z.number(S.width)?S.width:S.right-S.left,I=z.number(S.height)?S.height:S.bottom-S.top;if(T=Math.min(T,Math.abs((g==="left"||g==="right"?M:I)/2)),M<0&&(g==="left"?g="right":g==="right"&&(g="left")),I<0&&(g==="top"?g="bottom":g==="bottom"&&(g="top")),g==="left"){var N=M>=0?S.left:S.right;return v.x<N+T}if(g==="top"){var A=I>=0?S.top:S.bottom;return v.y<A+T}if(g==="right")return v.x>(M>=0?S.right:S.left)-T;if(g==="bottom")return v.y>(I>=0?S.bottom:S.top)-T}return!!z.element(w)&&(z.element(m)?m===w:Rn(w,m,_))}function xe(g){var m=g.iEvent,v=g.interaction;if(v.prepared.name==="resize"&&v.resizeAxes){var w=m;v.interactable.options.resize.square?(v.resizeAxes==="y"?w.delta.x=w.delta.y:w.delta.y=w.delta.x,w.axes="xy"):(w.axes=v.resizeAxes,v.resizeAxes==="x"?w.delta.y=0:v.resizeAxes==="y"&&(w.delta.x=0))}}var pr,ro,yt={id:"actions/resize",before:["actions/drag"],install:function(g){var m=g.actions,v=g.browser,w=g.Interactable,_=g.defaults;yt.cursors=(function(S){return S.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}})(v),yt.defaultMargin=v.supportsTouch||v.supportsPointerEvent?20:10,w.prototype.resizable=function(S){return(function(T,M,I){return z.object(M)?(T.options.resize.enabled=M.enabled!==!1,T.setPerAction("resize",M),T.setOnEvents("resize",M),z.string(M.axis)&&/^x$|^y$|^xy$/.test(M.axis)?T.options.resize.axis=M.axis:M.axis===null&&(T.options.resize.axis=I.defaults.actions.resize.axis),z.bool(M.preserveAspectRatio)?T.options.resize.preserveAspectRatio=M.preserveAspectRatio:z.bool(M.square)&&(T.options.resize.square=M.square),T):z.bool(M)?(T.options.resize.enabled=M,T):T.options.resize})(this,S,g)},m.map.resize=yt,m.methodDict.resize="resizable",_.actions.resize=yt.defaults},listeners:{"interactions:new":function(g){g.interaction.resizeAxes="xy"},"interactions:action-start":function(g){(function(m){var v=m.iEvent,w=m.interaction;if(w.prepared.name==="resize"&&w.prepared.edges){var _=v,S=w.rect;w._rects={start:Oe({},S),corrected:Oe({},S),previous:Oe({},S),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},_.edges=w.prepared.edges,_.rect=w._rects.corrected,_.deltaRect=w._rects.delta}})(g),xe(g)},"interactions:action-move":function(g){(function(m){var v=m.iEvent,w=m.interaction;if(w.prepared.name==="resize"&&w.prepared.edges){var _=v,S=w.interactable.options.resize.invert,T=S==="reposition"||S==="negate",M=w.rect,I=w._rects,N=I.start,A=I.corrected,V=I.delta,J=I.previous;if(Oe(J,A),T){if(Oe(A,M),S==="reposition"){if(A.top>A.bottom){var ne=A.top;A.top=A.bottom,A.bottom=ne}if(A.left>A.right){var ie=A.left;A.left=A.right,A.right=ie}}}else A.top=Math.min(M.top,N.bottom),A.bottom=Math.max(M.bottom,N.top),A.left=Math.min(M.left,N.right),A.right=Math.max(M.right,N.left);for(var le in A.width=A.right-A.left,A.height=A.bottom-A.top,A)V[le]=A[le]-J[le];_.edges=w.prepared.edges,_.rect=A,_.deltaRect=V}})(g),xe(g)},"interactions:action-end":function(g){var m=g.iEvent,v=g.interaction;if(v.prepared.name==="resize"&&v.prepared.edges){var w=m;w.edges=v.prepared.edges,w.rect=v._rects.corrected,w.deltaRect=v._rects.delta}},"auto-start:check":function(g){var m=g.interaction,v=g.interactable,w=g.element,_=g.rect,S=g.buttons;if(_){var T=Oe({},m.coords.cur.page),M=v.options.resize;if(M&&M.enabled&&(!m.pointerIsDown||!/mouse|pointer/.test(m.pointerType)||(S&M.mouseButtons)!=0)){if(z.object(M.edges)){var I={left:!1,right:!1,top:!1,bottom:!1};for(var N in I)I[N]=uu(N,M.edges[N],T,m._latestPointer.eventTarget,w,_,M.margin||yt.defaultMargin);I.left=I.left&&!I.right,I.top=I.top&&!I.bottom,(I.left||I.right||I.top||I.bottom)&&(g.action={name:"resize",edges:I})}else{var A=M.axis!=="y"&&T.x>_.right-yt.defaultMargin,V=M.axis!=="x"&&T.y>_.bottom-yt.defaultMargin;(A||V)&&(g.action={name:"resize",axes:(A?"x":"")+(V?"y":"")})}return!g.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(g){var m=g.edges,v=g.axis,w=g.name,_=yt.cursors,S=null;if(v)S=_[w+v];else if(m){for(var T="",M=0,I=["top","bottom","left","right"];M<I.length;M++){var N=I[M];m[N]&&(T+=N)}S=_[T]}return S},filterEventType:function(g){return g.search("resize")===0},defaultMargin:null},Tl=yt,Sw={id:"actions",install:function(g){g.usePlugin(zr),g.usePlugin(Tl),g.usePlugin(ge),g.usePlugin(xt)}},zn=0,Nn={request:function(g){return pr(g)},cancel:function(g){return ro(g)},init:function(g){if(pr=g.requestAnimationFrame,ro=g.cancelAnimationFrame,!pr)for(var m=["ms","moz","webkit","o"],v=0;v<m.length;v++){var w=m[v];pr=g["".concat(w,"RequestAnimationFrame")],ro=g["".concat(w,"CancelAnimationFrame")]||g["".concat(w,"CancelRequestAnimationFrame")]}pr=pr&&pr.bind(g),ro=ro&&ro.bind(g),pr||(pr=function(_){var S=Date.now(),T=Math.max(0,16-(S-zn)),M=g.setTimeout(function(){_(S+T)},T);return zn=S+T,M},ro=function(_){return clearTimeout(_)})}},Ne={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(g){Ne.isScrolling=!0,Nn.cancel(Ne.i),g.autoScroll=Ne,Ne.interaction=g,Ne.prevTime=Ne.now(),Ne.i=Nn.request(Ne.scroll)},stop:function(){Ne.isScrolling=!1,Ne.interaction&&(Ne.interaction.autoScroll=null),Nn.cancel(Ne.i)},scroll:function(){var g=Ne.interaction,m=g.interactable,v=g.element,w=g.prepared.name,_=m.options[w].autoScroll,S=je(_.container,m,v),T=Ne.now(),M=(T-Ne.prevTime)/1e3,I=_.speed*M;if(I>=1){var N={x:Ne.x*I,y:Ne.y*I};if(N.x||N.y){var A=Fg(S);z.window(S)?S.scrollBy(N.x,N.y):S&&(S.scrollLeft+=N.x,S.scrollTop+=N.y);var V=Fg(S),J={x:V.x-A.x,y:V.y-A.y};(J.x||J.y)&&m.fire({type:"autoscroll",target:v,interactable:m,delta:J,interaction:g,container:S})}Ne.prevTime=T}Ne.isScrolling&&(Nn.cancel(Ne.i),Ne.i=Nn.request(Ne.scroll))},check:function(g,m){var v;return(v=g.options[m].autoScroll)==null?void 0:v.enabled},onInteractionMove:function(g){var m=g.interaction,v=g.pointer;if(m.interacting()&&Ne.check(m.interactable,m.prepared.name))if(m.simulation)Ne.x=Ne.y=0;else{var w,_,S,T,M=m.interactable,I=m.element,N=m.prepared.name,A=M.options[N].autoScroll,V=je(A.container,M,I);if(z.window(V))T=v.clientX<Ne.margin,w=v.clientY<Ne.margin,_=v.clientX>V.innerWidth-Ne.margin,S=v.clientY>V.innerHeight-Ne.margin;else{var J=Dn(V);T=v.clientX<J.left+Ne.margin,w=v.clientY<J.top+Ne.margin,_=v.clientX>J.right-Ne.margin,S=v.clientY>J.bottom-Ne.margin}Ne.x=_?1:T?-1:0,Ne.y=S?1:w?-1:0,Ne.isScrolling||(Ne.margin=A.margin,Ne.speed=A.speed,Ne.start(m))}}};function je(g,m,v){return(z.string(g)?Tg(g,m,v):g)||D(v)}function Fg(g){return z.window(g)&&(g=window.document.body),{x:g.scrollLeft,y:g.scrollTop}}var jg={id:"auto-scroll",install:function(g){var m=g.defaults,v=g.actions;g.autoScroll=Ne,Ne.now=function(){return g.now()},v.phaselessTypes.autoscroll=!0,m.perAction.autoScroll=Ne.defaults},listeners:{"interactions:new":function(g){g.interaction.autoScroll=null},"interactions:destroy":function(g){g.interaction.autoScroll=null,Ne.stop(),Ne.interaction&&(Ne.interaction=null)},"interactions:stop":Ne.stop,"interactions:action-move":function(g){return Ne.onInteractionMove(g)}}},kw=jg;function El(g,m){var v=!1;return function(){return v||(O.console.warn(m),v=!0),g.apply(this,arguments)}}function Ml(g,m){return g.name=m.name,g.axis=m.axis,g.edges=m.edges,g}function Tw(g){return z.bool(g)?(this.options.styleCursor=g,this):g===null?(delete this.options.styleCursor,this):this.options.styleCursor}function sp(g){return z.func(g)?(this.options.actionChecker=g,this):g===null?(delete this.options.actionChecker,this):this.options.actionChecker}var ri={id:"auto-start/interactableMethods",install:function(g){var m=g.Interactable;m.prototype.getAction=function(v,w,_,S){var T=(function(M,I,N,A,V){var J=M.getRect(A),ne=I.buttons||{0:1,1:4,3:8,4:16}[I.button],ie={action:null,interactable:M,interaction:N,element:A,rect:J,buttons:ne};return V.fire("auto-start:check",ie),ie.action})(this,w,_,S,g);return this.options.actionChecker?this.options.actionChecker(v,w,T,this,S,_):T},m.prototype.ignoreFrom=El(function(v){return this._backCompatOption("ignoreFrom",v)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),m.prototype.allowFrom=El(function(v){return this._backCompatOption("allowFrom",v)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),m.prototype.actionChecker=sp,m.prototype.styleCursor=Tw}};function Ug(g,m,v,w,_){return m.testIgnoreAllow(m.options[g.name],v,w)&&m.options[g.name].enabled&&du(m,v,g,_)?g:null}function Vg(g,m,v,w,_,S,T){for(var M=0,I=w.length;M<I;M++){var N=w[M],A=_[M],V=N.getAction(m,v,g,A);if(V){var J=Ug(V,N,A,S,T);if(J)return{action:J,interactable:N,element:A}}}return{action:null,interactable:null,element:null}}function Bg(g,m,v,w,_){var S=[],T=[],M=w;function I(A){S.push(A),T.push(M)}for(;z.element(M);){S=[],T=[],_.interactables.forEachMatch(M,I);var N=Vg(g,m,v,S,T,w,_);if(N.action&&!N.interactable.options[N.action.name].manualStart)return N;M=ke(M)}return{action:null,interactable:null,element:null}}function qg(g,m,v){var w=m.action,_=m.interactable,S=m.element;w=w||{name:null},g.interactable=_,g.element=S,Ml(g.prepared,w),g.rect=_&&w.name?_.getRect(S):null,Xi(g,v),v.fire("autoStart:prepared",{interaction:g})}function du(g,m,v,w){var _=g.options,S=_[v.name].max,T=_[v.name].maxPerElement,M=w.autoStart.maxInteractions,I=0,N=0,A=0;if(!(S&&T&&M))return!1;for(var V=0,J=w.interactions.list;V<J.length;V++){var ne=J[V],ie=ne.prepared.name;if(ne.interacting()&&(++I>=M||ne.interactable===g&&((N+=ie===v.name?1:0)>=S||ne.element===m&&(A++,ie===v.name&&A>=T))))return!1}return M>0}function Hg(g,m){return z.number(g)?(m.autoStart.maxInteractions=g,this):m.autoStart.maxInteractions}function op(g,m,v){var w=v.autoStart.cursorElement;w&&w!==g&&(w.style.cursor=""),g.ownerDocument.documentElement.style.cursor=m,g.style.cursor=m,v.autoStart.cursorElement=m?g:null}function Xi(g,m){var v=g.interactable,w=g.element,_=g.prepared;if(g.pointerType==="mouse"&&v&&v.options.styleCursor){var S="";if(_.name){var T=v.options[_.name].cursorChecker;S=z.func(T)?T(_,v,w,g._interacting):m.actions.map[_.name].getCursor(_)}op(g.element,S||"",m)}else m.autoStart.cursorElement&&op(m.autoStart.cursorElement,"",m)}var Ew={id:"auto-start/base",before:["actions"],install:function(g){var m=g.interactStatic,v=g.defaults;g.usePlugin(ri),v.base.actionChecker=null,v.base.styleCursor=!0,Oe(v.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),m.maxInteractions=function(w){return Hg(w,g)},g.autoStart={maxInteractions:1/0,withinInteractionLimit:du,cursorElement:null}},listeners:{"interactions:down":function(g,m){var v=g.interaction,w=g.pointer,_=g.event,S=g.eventTarget;v.interacting()||qg(v,Bg(v,w,_,S,m),m)},"interactions:move":function(g,m){(function(v,w){var _=v.interaction,S=v.pointer,T=v.event,M=v.eventTarget;_.pointerType!=="mouse"||_.pointerIsDown||_.interacting()||qg(_,Bg(_,S,T,M,w),w)})(g,m),(function(v,w){var _=v.interaction;if(_.pointerIsDown&&!_.interacting()&&_.pointerWasMoved&&_.prepared.name){w.fire("autoStart:before-start",v);var S=_.interactable,T=_.prepared.name;T&&S&&(S.options[T].manualStart||!du(S,_.element,_.prepared,w)?_.stop():(_.start(_.prepared,S,_.element),Xi(_,w)))}})(g,m)},"interactions:stop":function(g,m){var v=g.interaction,w=v.interactable;w&&w.options.styleCursor&&op(v.element,"",m)}},maxInteractions:Hg,withinInteractionLimit:du,validateAction:Ug},ap=Ew,lp={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(g,m){var v=g.interaction,w=g.eventTarget,_=g.dx,S=g.dy;if(v.prepared.name==="drag"){var T=Math.abs(_),M=Math.abs(S),I=v.interactable.options.drag,N=I.startAxis,A=T>M?"x":T<M?"y":"xy";if(v.prepared.axis=I.lockAxis==="start"?A[0]:I.lockAxis,A!=="xy"&&N!=="xy"&&N!==A){v.prepared.name=null;for(var V=w,J=function(ie){if(ie!==v.interactable){var le=v.interactable.options.drag;if(!le.manualStart&&ie.testIgnoreAllow(le,V,w)){var ye=ie.getAction(v.downPointer,v.downEvent,v,V);if(ye&&ye.name==="drag"&&(function(fe,Ae){if(!Ae)return!1;var He=Ae.options.drag.startAxis;return fe==="xy"||He==="xy"||He===fe})(A,ie)&&ap.validateAction(ye,ie,V,w,m))return ie}}};z.element(V);){var ne=m.interactables.forEachMatch(V,J);if(ne){v.prepared.name="drag",v.interactable=ne,v.element=V;break}V=ke(V)}}}}}};function hu(g){var m=g.prepared&&g.prepared.name;if(!m)return null;var v=g.interactable.options;return v[m].hold||v[m].delay}var P={id:"auto-start/hold",install:function(g){var m=g.defaults;g.usePlugin(ap),m.perAction.hold=0,m.perAction.delay=0},listeners:{"interactions:new":function(g){g.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(g){var m=g.interaction,v=hu(m);v>0&&(m.autoStartHoldTimer=setTimeout(function(){m.start(m.prepared,m.interactable,m.element)},v))},"interactions:move":function(g){var m=g.interaction,v=g.duplicate;m.autoStartHoldTimer&&m.pointerWasMoved&&!v&&(clearTimeout(m.autoStartHoldTimer),m.autoStartHoldTimer=null)},"autoStart:before-start":function(g){var m=g.interaction;hu(m)>0&&(m.prepared.name=null)}},getHoldDuration:hu},W=P,re={id:"auto-start",install:function(g){g.usePlugin(ap),g.usePlugin(W),g.usePlugin(lp)}},Re=function(g){return/^(always|never|auto)$/.test(g)?(this.options.preventDefault=g,this):z.bool(g)?(this.options.preventDefault=g?"always":"never",this):this.options.preventDefault};function nt(g){var m=g.interaction,v=g.event;m.interactable&&m.interactable.checkAndPreventDefault(v)}var kt={id:"core/interactablePreventDefault",install:function(g){var m=g.Interactable;m.prototype.preventDefault=Re,m.prototype.checkAndPreventDefault=function(v){return(function(w,_,S){var T=w.options.preventDefault;if(T!=="never")if(T!=="always"){if(_.events.supportsPassive&&/^touch(start|move)$/.test(S.type)){var M=D(S.target).document,I=_.getDocOptions(M);if(!I||!I.events||I.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(S.type)||z.element(S.target)&&rt(S.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||S.preventDefault()}else S.preventDefault()})(this,g,v)},g.interactions.docEvents.push({type:"dragstart",listener:function(v){for(var w=0,_=g.interactions.list;w<_.length;w++){var S=_[w];if(S.element&&(S.element===v.target||we(S.element,v.target)))return void S.interactable.checkAndPreventDefault(v)}}})},listeners:["down","move","up","cancel"].reduce(function(g,m){return g["interactions:".concat(m)]=nt,g},{})};function Ot(g,m){if(m.phaselessTypes[g])return!0;for(var v in m.map)if(g.indexOf(v)===0&&g.substr(v.length)in m.phases)return!0;return!1}function Nt(g){var m={};for(var v in g){var w=g[v];z.plainObject(w)?m[v]=Nt(w):z.array(w)?m[v]=Dg(w):m[v]=w}return m}var Mw=(function(){function g(m){s(this,g),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=m,this.result=Gg(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return a(g,[{key:"start",value:function(m,v){var w,_,S=m.phase,T=this.interaction,M=(function(N){var A=N.interactable.options[N.prepared.name],V=A.modifiers;return V&&V.length?V:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(J){var ne=A[J];return ne&&ne.enabled&&{options:ne,methods:ne._methods}}).filter(function(J){return!!J})})(T);this.prepareStates(M),this.startEdges=Oe({},T.edges),this.edges=Oe({},this.startEdges),this.startOffset=(w=T.rect,_=v,w?{left:_.x-w.left,top:_.y-w.top,right:w.right-_.x,bottom:w.bottom-_.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var I=this.fillArg({phase:S,pageCoords:v,preEnd:!1});return this.result=Gg(),this.startAll(I),this.result=this.setAll(I)}},{key:"fillArg",value:function(m){var v=this.interaction;return m.interaction=v,m.interactable=v.interactable,m.element=v.element,m.rect||(m.rect=v.rect),m.edges||(m.edges=this.startEdges),m.startOffset=this.startOffset,m}},{key:"startAll",value:function(m){for(var v=0,w=this.states;v<w.length;v++){var _=w[v];_.methods.start&&(m.state=_,_.methods.start(m))}}},{key:"setAll",value:function(m){var v=m.phase,w=m.preEnd,_=m.skipModifiers,S=m.rect,T=m.edges;m.coords=Oe({},m.pageCoords),m.rect=Oe({},S),m.edges=Oe({},T);for(var M=_?this.states.slice(_):this.states,I=Gg(m.coords,m.rect),N=0;N<M.length;N++){var A,V=M[N],J=V.options,ne=Oe({},m.coords),ie=null;(A=V.methods)!=null&&A.set&&this.shouldDo(J,w,v)&&(m.state=V,ie=V.methods.set(m),au(m.edges,m.rect,{x:m.coords.x-ne.x,y:m.coords.y-ne.y})),I.eventProps.push(ie)}Oe(this.edges,m.edges),I.delta.x=m.coords.x-m.pageCoords.x,I.delta.y=m.coords.y-m.pageCoords.y,I.rectDelta.left=m.rect.left-S.left,I.rectDelta.right=m.rect.right-S.right,I.rectDelta.top=m.rect.top-S.top,I.rectDelta.bottom=m.rect.bottom-S.bottom;var le=this.result.coords,ye=this.result.rect;if(le&&ye){var fe=I.rect.left!==ye.left||I.rect.right!==ye.right||I.rect.top!==ye.top||I.rect.bottom!==ye.bottom;I.changed=fe||le.x!==I.coords.x||le.y!==I.coords.y}return I}},{key:"applyToInteraction",value:function(m){var v=this.interaction,w=m.phase,_=v.coords.cur,S=v.coords.start,T=this.result,M=this.startDelta,I=T.delta;w==="start"&&Oe(this.startDelta,T.delta);for(var N=0,A=[[S,M],[_,I]];N<A.length;N++){var V=A[N],J=V[0],ne=V[1];J.page.x+=ne.x,J.page.y+=ne.y,J.client.x+=ne.x,J.client.y+=ne.y}var ie=this.result.rectDelta,le=m.rect||v.rect;le.left+=ie.left,le.right+=ie.right,le.top+=ie.top,le.bottom+=ie.bottom,le.width=le.right-le.left,le.height=le.bottom-le.top}},{key:"setAndApply",value:function(m){var v=this.interaction,w=m.phase,_=m.preEnd,S=m.skipModifiers,T=this.setAll(this.fillArg({preEnd:_,phase:w,pageCoords:m.modifiedCoords||v.coords.cur.page}));if(this.result=T,!T.changed&&(!S||S<this.states.length)&&v.interacting())return!1;if(m.modifiedCoords){var M=v.coords.cur.page,I={x:m.modifiedCoords.x-M.x,y:m.modifiedCoords.y-M.y};T.coords.x+=I.x,T.coords.y+=I.y,T.delta.x+=I.x,T.delta.y+=I.y}this.applyToInteraction(m)}},{key:"beforeEnd",value:function(m){var v=m.interaction,w=m.event,_=this.states;if(_&&_.length){for(var S=!1,T=0;T<_.length;T++){var M=_[T];m.state=M;var I=M.options,N=M.methods,A=N.beforeEnd&&N.beforeEnd(m);if(A)return this.endResult=A,!1;S=S||!S&&this.shouldDo(I,!0,m.phase,!0)}S&&v.move({event:w,preEnd:!0})}}},{key:"stop",value:function(m){var v=m.interaction;if(this.states&&this.states.length){var w=Oe({states:this.states,interactable:v.interactable,element:v.element,rect:null},m);this.fillArg(w);for(var _=0,S=this.states;_<S.length;_++){var T=S[_];w.state=T,T.methods.stop&&T.methods.stop(w)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(m){this.states=[];for(var v=0;v<m.length;v++){var w=m[v],_=w.options,S=w.methods,T=w.name;this.states.push({options:_,methods:S,index:v,name:T})}return this.states}},{key:"restoreInteractionCoords",value:function(m){var v=m.interaction,w=v.coords,_=v.rect,S=v.modification;if(S.result){for(var T=S.startDelta,M=S.result,I=M.delta,N=M.rectDelta,A=0,V=[[w.start,T],[w.cur,I]];A<V.length;A++){var J=V[A],ne=J[0],ie=J[1];ne.page.x-=ie.x,ne.page.y-=ie.y,ne.client.x-=ie.x,ne.client.y-=ie.y}_.left-=N.left,_.right-=N.right,_.top-=N.top,_.bottom-=N.bottom}}},{key:"shouldDo",value:function(m,v,w,_){return!(!m||m.enabled===!1||_&&!m.endOnly||m.endOnly&&!v||w==="start"&&!m.setStart)}},{key:"copyFrom",value:function(m){this.startOffset=m.startOffset,this.startDelta=m.startDelta,this.startEdges=m.startEdges,this.edges=m.edges,this.states=m.states.map(function(v){return Nt(v)}),this.result=Gg(Oe({},m.result.coords),Oe({},m.result.rect))}},{key:"destroy",value:function(){for(var m in this)this[m]=null}}]),g})();function Gg(g,m){return{rect:m,coords:g,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ia(g,m){var v=g.defaults,w={start:g.start,set:g.set,beforeEnd:g.beforeEnd,stop:g.stop},_=function(S){var T=S||{};for(var M in T.enabled=T.enabled!==!1,v)M in T||(T[M]=v[M]);var I={options:T,methods:w,name:m,enable:function(){return T.enabled=!0,I},disable:function(){return T.enabled=!1,I}};return I};return m&&typeof m=="string"&&(_._defaults=v,_._methods=w),_}function cp(g){var m=g.iEvent,v=g.interaction.modification.result;v&&(m.modifiers=v.eventProps)}var d7={id:"modifiers/base",before:["actions"],install:function(g){g.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(g){var m=g.interaction;m.modification=new Mw(m)},"interactions:before-action-start":function(g){var m=g.interaction,v=g.interaction.modification;v.start(g,m.coords.start.page),m.edges=v.edges,v.applyToInteraction(g)},"interactions:before-action-move":function(g){var m=g.interaction,v=m.modification,w=v.setAndApply(g);return m.edges=v.edges,w},"interactions:before-action-end":function(g){var m=g.interaction,v=m.modification,w=v.beforeEnd(g);return m.edges=v.startEdges,w},"interactions:action-start":cp,"interactions:action-move":cp,"interactions:action-end":cp,"interactions:after-action-start":function(g){return g.interaction.modification.restoreInteractionCoords(g)},"interactions:after-action-move":function(g){return g.interaction.modification.restoreInteractionCoords(g)},"interactions:stop":function(g){return g.interaction.modification.stop(g)}}},wM=d7,_M={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Cw=(function(g){d(v,g);var m=b(v);function v(w,_,S,T,M,I,N){var A;s(this,v),(A=m.call(this,w)).relatedTarget=null,A.screenX=void 0,A.screenY=void 0,A.button=void 0,A.buttons=void 0,A.ctrlKey=void 0,A.shiftKey=void 0,A.altKey=void 0,A.metaKey=void 0,A.page=void 0,A.client=void 0,A.delta=void 0,A.rect=void 0,A.x0=void 0,A.y0=void 0,A.t0=void 0,A.dt=void 0,A.duration=void 0,A.clientX0=void 0,A.clientY0=void 0,A.velocity=void 0,A.speed=void 0,A.swipe=void 0,A.axes=void 0,A.preEnd=void 0,M=M||w.element;var V=w.interactable,J=(V&&V.options||_M).deltaSource,ne=wl(V,M,S),ie=T==="start",le=T==="end",ye=ie?y(A):w.prevEvent,fe=ie?w.coords.start:le?{page:ye.page,client:ye.client,timeStamp:w.coords.cur.timeStamp}:w.coords.cur;return A.page=Oe({},fe.page),A.client=Oe({},fe.client),A.rect=Oe({},w.rect),A.timeStamp=fe.timeStamp,le||(A.page.x-=ne.x,A.page.y-=ne.y,A.client.x-=ne.x,A.client.y-=ne.y),A.ctrlKey=_.ctrlKey,A.altKey=_.altKey,A.shiftKey=_.shiftKey,A.metaKey=_.metaKey,A.button=_.button,A.buttons=_.buttons,A.target=M,A.currentTarget=M,A.preEnd=I,A.type=N||S+(T||""),A.interactable=V,A.t0=ie?w.pointers[w.pointers.length-1].downTime:ye.t0,A.x0=w.coords.start.page.x-ne.x,A.y0=w.coords.start.page.y-ne.y,A.clientX0=w.coords.start.client.x-ne.x,A.clientY0=w.coords.start.client.y-ne.y,A.delta=ie||le?{x:0,y:0}:{x:A[J].x-ye[J].x,y:A[J].y-ye[J].y},A.dt=w.coords.delta.timeStamp,A.duration=A.timeStamp-A.t0,A.velocity=Oe({},w.coords.velocity[J]),A.speed=_l(A.velocity.x,A.velocity.y),A.swipe=le||T==="inertiastart"?A.getSwipe():null,A}return a(v,[{key:"getSwipe",value:function(){var w=this._interaction;if(w.prevEvent.speed<600||this.timeStamp-w.prevEvent.timeStamp>150)return null;var _=180*Math.atan2(w.prevEvent.velocityY,w.prevEvent.velocityX)/Math.PI;_<0&&(_+=360);var S=112.5<=_&&_<247.5,T=202.5<=_&&_<337.5;return{up:T,down:!T&&22.5<=_&&_<157.5,left:S,right:!S&&(292.5<=_||_<67.5),angle:_,speed:w.prevEvent.speed,velocity:{x:w.prevEvent.velocityX,y:w.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),v})(cu);Object.defineProperties(Cw.prototype,{pageX:{get:function(){return this.page.x},set:function(g){this.page.x=g}},pageY:{get:function(){return this.page.y},set:function(g){this.page.y=g}},clientX:{get:function(){return this.client.x},set:function(g){this.client.x=g}},clientY:{get:function(){return this.client.y},set:function(g){this.client.y=g}},dx:{get:function(){return this.delta.x},set:function(g){this.delta.x=g}},dy:{get:function(){return this.delta.y},set:function(g){this.delta.y=g}},velocityX:{get:function(){return this.velocity.x},set:function(g){this.velocity.x=g}},velocityY:{get:function(){return this.velocity.y},set:function(g){this.velocity.y=g}}});var h7=a(function g(m,v,w,_,S){s(this,g),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=m,this.pointer=v,this.event=w,this.downTime=_,this.downTarget=S}),p7=(function(g){return g.interactable="",g.element="",g.prepared="",g.pointerIsDown="",g.pointerWasMoved="",g._proxy="",g})({}),xM=(function(g){return g.start="",g.move="",g.end="",g.stop="",g.interacting="",g})({}),f7=0,m7=(function(){function g(m){var v=this,w=m.pointerType,_=m.scopeFire;s(this,g),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=El(function(A){this.move(A)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=f7++,this._scopeFire=_,this.pointerType=w;var S=this;this._proxy={};var T=function(A){Object.defineProperty(v._proxy,A,{get:function(){return S[A]}})};for(var M in p7)T(M);var I=function(A){Object.defineProperty(v._proxy,A,{value:function(){return S[A].apply(S,arguments)}})};for(var N in xM)I(N);this._scopeFire("interactions:new",{interaction:this})}return a(g,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(m,v,w){var _=this.updatePointer(m,v,w,!0),S=this.pointers[_];this._scopeFire("interactions:down",{pointer:m,event:v,eventTarget:w,pointerIndex:_,pointerInfo:S,type:"down",interaction:this})}},{key:"start",value:function(m,v,w){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(m.name==="gesture"?2:1)||!v.options[m.name].enabled)&&(Ml(this.prepared,m),this.interactable=v,this.element=w,this.rect=v.getRect(w),this.edges=this.prepared.edges?Oe({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(m,v,w){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(m,v,w,!1);var _,S,T=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(_=this.coords.cur.client.x-this.coords.start.client.x,S=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=_l(_,S)>this.pointerMoveTolerance);var M,I,N,A=this.getPointerIndex(m),V={pointer:m,pointerIndex:A,pointerInfo:this.pointers[A],event:v,type:"move",eventTarget:w,dx:_,dy:S,duplicate:T,interaction:this};T||(M=this.coords.velocity,I=this.coords.delta,N=Math.max(I.timeStamp/1e3,.001),M.page.x=I.page.x/N,M.page.y=I.page.y/N,M.client.x=I.client.x/N,M.client.y=I.client.y/N,M.timeStamp=N),this._scopeFire("interactions:move",V),T||this.simulation||(this.interacting()&&(V.type=null,this.move(V)),this.pointerWasMoved&&Dr(this.coords.prev,this.coords.cur))}},{key:"move",value:function(m){m&&m.event||Cg(this.coords.delta),(m=Oe({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},m||{})).phase="move",this._doPhase(m)}},{key:"pointerUp",value:function(m,v,w,_){var S=this.getPointerIndex(m);S===-1&&(S=this.updatePointer(m,v,w,!1));var T=/cancel$/i.test(v.type)?"cancel":"up";this._scopeFire("interactions:".concat(T),{pointer:m,pointerIndex:S,pointerInfo:this.pointers[S],event:v,eventTarget:w,type:T,curEventTarget:_,interaction:this}),this.simulation||this.end(v),this.removePointer(m,v)}},{key:"documentBlur",value:function(m){this.end(m),this._scopeFire("interactions:blur",{event:m,type:"blur",interaction:this})}},{key:"end",value:function(m){var v;this._ending=!0,m=m||this._latestPointer.event,this.interacting()&&(v=this._doPhase({event:m,interaction:this,phase:"end"})),this._ending=!1,v===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(m){var v=$l(m);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Sl(this.pointers,function(w){return w.id===v})}},{key:"getPointerInfo",value:function(m){return this.pointers[this.getPointerIndex(m)]}},{key:"updatePointer",value:function(m,v,w,_){var S,T,M,I=$l(m),N=this.getPointerIndex(m),A=this.pointers[N];return _=_!==!1&&(_||/(down|start)$/i.test(v.type)),A?A.pointer=m:(A=new h7(I,m,v,null,null),N=this.pointers.length,this.pointers.push(A)),xw(this.coords.cur,this.pointers.map(function(V){return V.pointer}),this._now()),S=this.coords.delta,T=this.coords.prev,M=this.coords.cur,S.page.x=M.page.x-T.page.x,S.page.y=M.page.y-T.page.y,S.client.x=M.client.x-T.client.x,S.client.y=M.client.y-T.client.y,S.timeStamp=M.timeStamp-T.timeStamp,_&&(this.pointerIsDown=!0,A.downTime=this.coords.cur.timeStamp,A.downTarget=w,xl(this.downPointer,m),this.interacting()||(Dr(this.coords.start,this.coords.cur),Dr(this.coords.prev,this.coords.cur),this.downEvent=v,this.pointerWasMoved=!1)),this._updateLatestPointer(m,v,w),this._scopeFire("interactions:update-pointer",{pointer:m,event:v,eventTarget:w,down:_,pointerInfo:A,pointerIndex:N,interaction:this}),N}},{key:"removePointer",value:function(m,v){var w=this.getPointerIndex(m);if(w!==-1){var _=this.pointers[w];this._scopeFire("interactions:remove-pointer",{pointer:m,event:v,eventTarget:null,pointerIndex:w,pointerInfo:_,interaction:this}),this.pointers.splice(w,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(m,v,w){this._latestPointer.pointer=m,this._latestPointer.event=v,this._latestPointer.eventTarget=w}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(m,v,w,_){return new Cw(this,m,this.prepared.name,v,this.element,w,_)}},{key:"_fireEvent",value:function(m){var v;(v=this.interactable)==null||v.fire(m),(!this.prevEvent||m.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=m)}},{key:"_doPhase",value:function(m){var v=m.event,w=m.phase,_=m.preEnd,S=m.type,T=this.rect;if(T&&w==="move"&&(au(this.edges,T,this.coords.delta[this.interactable.options.deltaSource]),T.width=T.right-T.left,T.height=T.bottom-T.top),this._scopeFire("interactions:before-action-".concat(w),m)===!1)return!1;var M=m.iEvent=this._createPreparedEvent(v,w,_,S);return this._scopeFire("interactions:action-".concat(w),m),w==="start"&&(this.prevEvent=M),this._fireEvent(M),this._scopeFire("interactions:after-action-".concat(w),m),!0}},{key:"_now",value:function(){return Date.now()}}]),g})();function $M(g){SM(g.interaction)}function SM(g){if(!(function(v){return!(!v.offset.pending.x&&!v.offset.pending.y)})(g))return!1;var m=g.offset.pending;return Iw(g.coords.cur,m),Iw(g.coords.delta,m),au(g.edges,g.rect,m),m.x=0,m.y=0,!0}function g7(g){var m=g.x,v=g.y;this.offset.pending.x+=m,this.offset.pending.y+=v,this.offset.total.x+=m,this.offset.total.y+=v}function Iw(g,m){var v=g.page,w=g.client,_=m.x,S=m.y;v.x+=_,v.y+=S,w.x+=_,w.y+=S}xM.offsetBy="";var y7={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(g){g.Interaction.prototype.offsetBy=g7},listeners:{"interactions:new":function(g){g.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(g){return(function(m){m.pointerIsDown&&(Iw(m.coords.cur,m.offset.total),m.offset.pending.x=0,m.offset.pending.y=0)})(g.interaction)},"interactions:before-action-start":$M,"interactions:before-action-move":$M,"interactions:before-action-end":function(g){var m=g.interaction;if(SM(m))return m.move({offset:!0}),m.end(),!1},"interactions:stop":function(g){var m=g.interaction;m.offset.total.x=0,m.offset.total.y=0,m.offset.pending.x=0,m.offset.pending.y=0}}},kM=y7,v7=(function(){function g(m){s(this,g),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=m}return a(g,[{key:"start",value:function(m){var v=this.interaction,w=Wg(v);if(!w||!w.enabled)return!1;var _=v.coords.velocity.client,S=_l(_.x,_.y),T=this.modification||(this.modification=new Mw(v));if(T.copyFrom(v.modification),this.t0=v._now(),this.allowResume=w.allowResume,this.v0=S,this.currentOffset={x:0,y:0},this.startCoords=v.coords.cur.page,this.modifierArg=T.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-v.coords.cur.timeStamp<50&&S>w.minSpeed&&S>w.endSpeed)this.startInertia();else{if(T.result=T.setAll(this.modifierArg),!T.result.changed)return!1;this.startSmoothEnd()}return v.modification.result.rect=null,v.offsetBy(this.targetOffset),v._doPhase({interaction:v,event:m,phase:"inertiastart"}),v.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),v.modification.result.rect=null,this.active=!0,v.simulation=this,!0}},{key:"startInertia",value:function(){var m=this,v=this.interaction.coords.velocity.client,w=Wg(this.interaction),_=w.resistance,S=-Math.log(w.endSpeed/this.v0)/_;this.targetOffset={x:(v.x-S)/_,y:(v.y-S)/_},this.te=S,this.lambda_v0=_/this.v0,this.one_ve_v0=1-w.endSpeed/this.v0;var T=this.modification,M=this.modifierArg;M.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},T.result=T.setAll(M),T.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+T.result.delta.x,y:this.targetOffset.y+T.result.delta.y}),this.onNextFrame(function(){return m.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var m=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return m.smoothEndTick()})}},{key:"onNextFrame",value:function(m){var v=this;this.timeout=Nn.request(function(){v.active&&m()})}},{key:"inertiaTick",value:function(){var m,v,w,_,S,T,M,I=this,N=this.interaction,A=Wg(N).resistance,V=(N._now()-this.t0)/1e3;if(V<this.te){var J,ne=1-(Math.exp(-A*V)-this.lambda_v0)/this.one_ve_v0;this.isModified?(m=0,v=0,w=this.targetOffset.x,_=this.targetOffset.y,S=this.modifiedOffset.x,T=this.modifiedOffset.y,J={x:TM(M=ne,m,w,S),y:TM(M,v,_,T)}):J={x:this.targetOffset.x*ne,y:this.targetOffset.y*ne};var ie={x:J.x-this.currentOffset.x,y:J.y-this.currentOffset.y};this.currentOffset.x+=ie.x,this.currentOffset.y+=ie.y,N.offsetBy(ie),N.move(),this.onNextFrame(function(){return I.inertiaTick()})}else N.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var m=this,v=this.interaction,w=v._now()-this.t0,_=Wg(v).smoothEndDuration;if(w<_){var S={x:EM(w,0,this.targetOffset.x,_),y:EM(w,0,this.targetOffset.y,_)},T={x:S.x-this.currentOffset.x,y:S.y-this.currentOffset.y};this.currentOffset.x+=T.x,this.currentOffset.y+=T.y,v.offsetBy(T),v.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return m.smoothEndTick()})}else v.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(m){var v=m.pointer,w=m.event,_=m.eventTarget,S=this.interaction;S.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),S.updatePointer(v,w,_,!0),S._doPhase({interaction:S,event:w,phase:"resume"}),Dr(S.coords.prev,S.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Nn.cancel(this.timeout)}}]),g})();function Wg(g){var m=g.interactable,v=g.prepared;return m&&m.options&&v.name&&m.options[v.name].inertia}var b7={id:"inertia",before:["modifiers","actions"],install:function(g){var m=g.defaults;g.usePlugin(kM),g.usePlugin(wM),g.actions.phases.inertiastart=!0,g.actions.phases.resume=!0,m.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(g){var m=g.interaction;m.inertia=new v7(m)},"interactions:before-action-end":function(g){var m=g.interaction,v=g.event;return(!m._interacting||m.simulation||!m.inertia.start(v))&&null},"interactions:down":function(g){var m=g.interaction,v=g.eventTarget,w=m.inertia;if(w.active)for(var _=v;z.element(_);){if(_===m.element){w.resume(g);break}_=ke(_)}},"interactions:stop":function(g){var m=g.interaction.inertia;m.active&&m.stop()},"interactions:before-action-resume":function(g){var m=g.interaction.modification;m.stop(g),m.start(g,g.interaction.coords.cur.page),m.applyToInteraction(g)},"interactions:before-action-inertiastart":function(g){return g.interaction.modification.setAndApply(g)},"interactions:action-resume":cp,"interactions:action-inertiastart":cp,"interactions:after-action-inertiastart":function(g){return g.interaction.modification.restoreInteractionCoords(g)},"interactions:after-action-resume":function(g){return g.interaction.modification.restoreInteractionCoords(g)}}};function TM(g,m,v,w){var _=1-g;return _*_*m+2*_*g*v+g*g*w}function EM(g,m,v,w){return-v*(g/=w)*(g-2)+m}var w7=b7;function MM(g,m){for(var v=0;v<m.length;v++){var w=m[v];if(g.immediatePropagationStopped)break;w(g)}}var CM=(function(){function g(m){s(this,g),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Oe({},m||{})}return a(g,[{key:"fire",value:function(m){var v,w=this.global;(v=this.types[m.type])&&MM(m,v),!m.propagationStopped&&w&&(v=w[m.type])&&MM(m,v)}},{key:"on",value:function(m,v){var w=to(m,v);for(m in w)this.types[m]=Rg(this.types[m]||[],w[m])}},{key:"off",value:function(m,v){var w=to(m,v);for(m in w){var _=this.types[m];if(_&&_.length)for(var S=0,T=w[m];S<T.length;S++){var M=T[S],I=_.indexOf(M);I!==-1&&_.splice(I,1)}}}},{key:"getRect",value:function(m){return null}}]),g})(),_7=(function(){function g(m){s(this,g),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=m,xl(this,m)}return a(g,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),g})();function up(g){return z.object(g)?{capture:!!g.capture,passive:!!g.passive}:{capture:!!g,passive:!1}}function Zg(g,m){return g===m||(typeof g=="boolean"?!!m.capture===g&&!m.passive:!!g.capture==!!m.capture&&!!g.passive==!!m.passive)}var x7={id:"events",install:function(g){var m,v=[],w={},_=[],S={add:T,remove:M,addDelegate:function(A,V,J,ne,ie){var le=up(ie);if(!w[J]){w[J]=[];for(var ye=0;ye<_.length;ye++){var fe=_[ye];T(fe,J,I),T(fe,J,N,!0)}}var Ae=w[J],He=kl(Ae,function(Xe){return Xe.selector===A&&Xe.context===V});He||(He={selector:A,context:V,listeners:[]},Ae.push(He)),He.listeners.push({func:ne,options:le})},removeDelegate:function(A,V,J,ne,ie){var le,ye=up(ie),fe=w[J],Ae=!1;if(fe)for(le=fe.length-1;le>=0;le--){var He=fe[le];if(He.selector===A&&He.context===V){for(var Xe=He.listeners,Le=Xe.length-1;Le>=0;Le--){var Ge=Xe[Le];if(Ge.func===ne&&Zg(Ge.options,ye)){Xe.splice(Le,1),Xe.length||(fe.splice(le,1),M(V,J,I),M(V,J,N,!0)),Ae=!0;break}}if(Ae)break}}},delegateListener:I,delegateUseCapture:N,delegatedEvents:w,documents:_,targets:v,supportsOptions:!1,supportsPassive:!1};function T(A,V,J,ne){if(A.addEventListener){var ie=up(ne),le=kl(v,function(ye){return ye.eventTarget===A});le||(le={eventTarget:A,events:{}},v.push(le)),le.events[V]||(le.events[V]=[]),kl(le.events[V],function(ye){return ye.func===J&&Zg(ye.options,ie)})||(A.addEventListener(V,J,S.supportsOptions?ie:ie.capture),le.events[V].push({func:J,options:ie}))}}function M(A,V,J,ne){if(A.addEventListener&&A.removeEventListener){var ie=Sl(v,function(er){return er.eventTarget===A}),le=v[ie];if(le&&le.events)if(V!=="all"){var ye=!1,fe=le.events[V];if(fe){if(J==="all"){for(var Ae=fe.length-1;Ae>=0;Ae--){var He=fe[Ae];M(A,V,He.func,He.options)}return}for(var Xe=up(ne),Le=0;Le<fe.length;Le++){var Ge=fe[Le];if(Ge.func===J&&Zg(Ge.options,Xe)){A.removeEventListener(V,J,S.supportsOptions?Xe:Xe.capture),fe.splice(Le,1),fe.length===0&&(delete le.events[V],ye=!0);break}}}ye&&!Object.keys(le.events).length&&v.splice(ie,1)}else for(V in le.events)le.events.hasOwnProperty(V)&&M(A,V,"all")}}function I(A,V){for(var J=up(V),ne=new _7(A),ie=w[A.type],le=Og(A)[0],ye=le;z.element(ye);){for(var fe=0;fe<ie.length;fe++){var Ae=ie[fe],He=Ae.selector,Xe=Ae.context;if(rt(ye,He)&&we(Xe,le)&&we(Xe,ye)){var Le=Ae.listeners;ne.currentTarget=ye;for(var Ge=0;Ge<Le.length;Ge++){var er=Le[Ge];Zg(er.options,J)&&er.func(ne)}}}ye=ke(ye)}}function N(A){return I(A,!0)}return(m=g.document)==null||m.createElement("div").addEventListener("test",null,{get capture(){return S.supportsOptions=!0},get passive(){return S.supportsPassive=!0}}),g.events=S,S}},Aw={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(g){for(var m=0,v=Aw.methodOrder;m<v.length;m++){var w=v[m],_=Aw[w](g);if(_)return _}return null},simulationResume:function(g){var m=g.pointerType,v=g.eventType,w=g.eventTarget,_=g.scope;if(!/down|start/i.test(v))return null;for(var S=0,T=_.interactions.list;S<T.length;S++){var M=T[S],I=w;if(M.simulation&&M.simulation.allowResume&&M.pointerType===m)for(;I;){if(I===M.element)return M;I=ke(I)}}return null},mouseOrPen:function(g){var m,v=g.pointerId,w=g.pointerType,_=g.eventType,S=g.scope;if(w!=="mouse"&&w!=="pen")return null;for(var T=0,M=S.interactions.list;T<M.length;T++){var I=M[T];if(I.pointerType===w){if(I.simulation&&!IM(I,v))continue;if(I.interacting())return I;m||(m=I)}}if(m)return m;for(var N=0,A=S.interactions.list;N<A.length;N++){var V=A[N];if(!(V.pointerType!==w||/down/i.test(_)&&V.simulation))return V}return null},hasPointer:function(g){for(var m=g.pointerId,v=0,w=g.scope.interactions.list;v<w.length;v++){var _=w[v];if(IM(_,m))return _}return null},idle:function(g){for(var m=g.pointerType,v=0,w=g.scope.interactions.list;v<w.length;v++){var _=w[v];if(_.pointers.length===1){var S=_.interactable;if(S&&(!S.options.gesture||!S.options.gesture.enabled))continue}else if(_.pointers.length>=2)continue;if(!_.interacting()&&m===_.pointerType)return _}return null}};function IM(g,m){return g.pointers.some(function(v){return v.id===m})}var $7=Aw,Pw=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function AM(g,m){return function(v){var w=m.interactions.list,_=Pg(v),S=Og(v),T=S[0],M=S[1],I=[];if(/^touch/.test(v.type)){m.prevTouchTime=m.now();for(var N=0,A=v.changedTouches;N<A.length;N++){var V=A[N],J={pointer:V,pointerId:$l(V),pointerType:_,eventType:v.type,eventTarget:T,curEventTarget:M,scope:m},ne=PM(J);I.push([J.pointer,J.eventTarget,J.curEventTarget,ne])}}else{var ie=!1;if(!_e.supportsPointerEvent&&/mouse/.test(v.type)){for(var le=0;le<w.length&&!ie;le++)ie=w[le].pointerType!=="mouse"&&w[le].pointerIsDown;ie=ie||m.now()-m.prevTouchTime<500||v.timeStamp===0}if(!ie){var ye={pointer:v,pointerId:$l(v),pointerType:_,eventType:v.type,curEventTarget:M,eventTarget:T,scope:m},fe=PM(ye);I.push([ye.pointer,ye.eventTarget,ye.curEventTarget,fe])}}for(var Ae=0;Ae<I.length;Ae++){var He=I[Ae],Xe=He[0],Le=He[1],Ge=He[2];He[3][g](Xe,v,Le,Ge)}}}function PM(g){var m=g.pointerType,v=g.scope,w={interaction:$7.search(g),searchDetails:g};return v.fire("interactions:find",w),w.interaction||v.interactions.new({pointerType:m})}function Ow(g,m){var v=g.doc,w=g.scope,_=g.options,S=w.interactions.docEvents,T=w.events,M=T[m];for(var I in w.browser.isIOS&&!_.events&&(_.events={passive:!1}),T.delegatedEvents)M(v,I,T.delegateListener),M(v,I,T.delegateUseCapture,!0);for(var N=_&&_.events,A=0;A<S.length;A++){var V=S[A];M(v,V.type,V.listener,N)}}var S7={id:"core/interactions",install:function(g){for(var m={},v=0;v<Pw.length;v++){var w=Pw[v];m[w]=AM(w,g)}var _,S=_e.pEventTypes;function T(){for(var M=0,I=g.interactions.list;M<I.length;M++){var N=I[M];if(N.pointerIsDown&&N.pointerType==="touch"&&!N._interacting)for(var A=function(){var ne=J[V];g.documents.some(function(ie){return we(ie.doc,ne.downTarget)})||N.removePointer(ne.pointer,ne.event)},V=0,J=N.pointers;V<J.length;V++)A()}}(_=H.PointerEvent?[{type:S.down,listener:T},{type:S.down,listener:m.pointerDown},{type:S.move,listener:m.pointerMove},{type:S.up,listener:m.pointerUp},{type:S.cancel,listener:m.pointerUp}]:[{type:"mousedown",listener:m.pointerDown},{type:"mousemove",listener:m.pointerMove},{type:"mouseup",listener:m.pointerUp},{type:"touchstart",listener:T},{type:"touchstart",listener:m.pointerDown},{type:"touchmove",listener:m.pointerMove},{type:"touchend",listener:m.pointerUp},{type:"touchcancel",listener:m.pointerUp}]).push({type:"blur",listener:function(M){for(var I=0,N=g.interactions.list;I<N.length;I++)N[I].documentBlur(M)}}),g.prevTouchTime=0,g.Interaction=(function(M){d(N,M);var I=b(N);function N(){return s(this,N),I.apply(this,arguments)}return a(N,[{key:"pointerMoveTolerance",get:function(){return g.interactions.pointerMoveTolerance},set:function(A){g.interactions.pointerMoveTolerance=A}},{key:"_now",value:function(){return g.now()}}]),N})(m7),g.interactions={list:[],new:function(M){M.scopeFire=function(N,A){return g.fire(N,A)};var I=new g.Interaction(M);return g.interactions.list.push(I),I},listeners:m,docEvents:_,pointerMoveTolerance:1},g.usePlugin(kt)},listeners:{"scope:add-document":function(g){return Ow(g,"add")},"scope:remove-document":function(g){return Ow(g,"remove")},"interactable:unset":function(g,m){for(var v=g.interactable,w=m.interactions.list.length-1;w>=0;w--){var _=m.interactions.list[w];_.interactable===v&&(_.stop(),m.fire("interactions:destroy",{interaction:_}),_.destroy(),m.interactions.list.length>2&&m.interactions.list.splice(w,1))}}},onDocSignal:Ow,doOnInteractions:AM,methodNames:Pw},k7=S7,ra=(function(g){return g[g.On=0]="On",g[g.Off=1]="Off",g})(ra||{}),T7=(function(){function g(m,v,w,_){s(this,g),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new CM,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=v.actions,this.target=m,this._context=v.context||w,this._win=D(ea(m)?this._context:m),this._doc=this._win.document,this._scopeEvents=_,this.set(v)}return a(g,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(m,v){return z.func(v.onstart)&&this.on("".concat(m,"start"),v.onstart),z.func(v.onmove)&&this.on("".concat(m,"move"),v.onmove),z.func(v.onend)&&this.on("".concat(m,"end"),v.onend),z.func(v.oninertiastart)&&this.on("".concat(m,"inertiastart"),v.oninertiastart),this}},{key:"updatePerActionListeners",value:function(m,v,w){var _,S=this,T=(_=this._actions.map[m])==null?void 0:_.filterEventType,M=function(I){return(T==null||T(I))&&Ot(I,S._actions)};(z.array(v)||z.object(v))&&this._onOff(ra.Off,m,v,void 0,M),(z.array(w)||z.object(w))&&this._onOff(ra.On,m,w,void 0,M)}},{key:"setPerAction",value:function(m,v){var w=this._defaults;for(var _ in v){var S=_,T=this.options[m],M=v[S];S==="listeners"&&this.updatePerActionListeners(m,T.listeners,M),z.array(M)?T[S]=Dg(M):z.plainObject(M)?(T[S]=Oe(T[S]||{},Nt(M)),z.object(w.perAction[S])&&"enabled"in w.perAction[S]&&(T[S].enabled=M.enabled!==!1)):z.bool(M)&&z.object(w.perAction[S])?T[S].enabled=M:T[S]=M}}},{key:"getRect",value:function(m){return m=m||(z.element(this.target)?this.target:null),z.string(this.target)&&(m=m||this._context.querySelector(this.target)),Xo(m)}},{key:"rectChecker",value:function(m){var v=this;return z.func(m)?(this.getRect=function(w){var _=Oe({},m.apply(v,w));return"width"in _||(_.width=_.right-_.left,_.height=_.bottom-_.top),_},this):m===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(m,v){if(ea(v)||z.object(v)){for(var w in this.options[m]=v,this._actions.map)this.options[w][m]=v;return this}return this.options[m]}},{key:"origin",value:function(m){return this._backCompatOption("origin",m)}},{key:"deltaSource",value:function(m){return m==="page"||m==="client"?(this.options.deltaSource=m,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var m=this.target;return z.string(m)?Array.from(this._context.querySelectorAll(m)):z.func(m)&&m.getAllElements?m.getAllElements():z.element(m)?[m]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(m){return this._context===m.ownerDocument||we(this._context,m)}},{key:"testIgnoreAllow",value:function(m,v,w){return!this.testIgnore(m.ignoreFrom,v,w)&&this.testAllow(m.allowFrom,v,w)}},{key:"testAllow",value:function(m,v,w){return!m||!!z.element(w)&&(z.string(m)?Rn(w,m,v):!!z.element(m)&&we(m,w))}},{key:"testIgnore",value:function(m,v,w){return!(!m||!z.element(w))&&(z.string(m)?Rn(w,m,v):!!z.element(m)&&we(m,w))}},{key:"fire",value:function(m){return this.events.fire(m),this}},{key:"_onOff",value:function(m,v,w,_,S){z.object(v)&&!z.array(v)&&(_=w,w=null);var T=to(v,w,S);for(var M in T){M==="wheel"&&(M=_e.wheelEvent);for(var I=0,N=T[M];I<N.length;I++){var A=N[I];Ot(M,this._actions)?this.events[m===ra.On?"on":"off"](M,A):z.string(this.target)?this._scopeEvents[m===ra.On?"addDelegate":"removeDelegate"](this.target,this._context,M,A,_):this._scopeEvents[m===ra.On?"add":"remove"](this.target,M,A,_)}}return this}},{key:"on",value:function(m,v,w){return this._onOff(ra.On,m,v,w)}},{key:"off",value:function(m,v,w){return this._onOff(ra.Off,m,v,w)}},{key:"set",value:function(m){var v=this._defaults;for(var w in z.object(m)||(m={}),this.options=Nt(v.base),this._actions.methodDict){var _=w,S=this._actions.methodDict[_];this.options[_]={},this.setPerAction(_,Oe(Oe({},v.perAction),v.actions[_])),this[S](m[_])}for(var T in m)T!=="getRect"?z.func(this[T])&&this[T](m[T]):this.rectChecker(m.getRect);return this}},{key:"unset",value:function(){if(z.string(this.target))for(var m in this._scopeEvents.delegatedEvents)for(var v=this._scopeEvents.delegatedEvents[m],w=v.length-1;w>=0;w--){var _=v[w],S=_.selector,T=_.context,M=_.listeners;S===this.target&&T===this._context&&v.splice(w,1);for(var I=M.length-1;I>=0;I--)this._scopeEvents.removeDelegate(this.target,this._context,m,M[I][0],M[I][1])}else this._scopeEvents.remove(this.target,"all")}}]),g})(),E7=(function(){function g(m){var v=this;s(this,g),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=m,m.addListeners({"interactable:unset":function(w){var _=w.interactable,S=_.target,T=z.string(S)?v.selectorMap[S]:S[v.scope.id],M=Sl(T,function(I){return I===_});T.splice(M,1)}})}return a(g,[{key:"new",value:function(m,v){v=Oe(v||{},{actions:this.scope.actions});var w=new this.scope.Interactable(m,v,this.scope.document,this.scope.events);return this.scope.addDocument(w._doc),this.list.push(w),z.string(m)?(this.selectorMap[m]||(this.selectorMap[m]=[]),this.selectorMap[m].push(w)):(w.target[this.scope.id]||Object.defineProperty(m,this.scope.id,{value:[],configurable:!0}),m[this.scope.id].push(w)),this.scope.fire("interactable:new",{target:m,options:v,interactable:w,win:this.scope._win}),w}},{key:"getExisting",value:function(m,v){var w=v&&v.context||this.scope.document,_=z.string(m),S=_?this.selectorMap[m]:m[this.scope.id];if(S)return kl(S,function(T){return T._context===w&&(_||T.inContext(m))})}},{key:"forEachMatch",value:function(m,v){for(var w=0,_=this.list;w<_.length;w++){var S=_[w],T=void 0;if((z.string(S.target)?z.element(m)&&rt(m,S.target):m===S.target)&&S.inContext(m)&&(T=v(S)),T!==void 0)return T}}}]),g})(),M7=(function(){function g(){var m=this;s(this,g),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=_e,this.defaults=Nt(_M),this.Eventable=CM,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(function(w){var _=function S(T,M){var I=w.interactables.getExisting(T,M);return I||((I=w.interactables.new(T,M)).events.global=S.globalEvents),I};return _.getPointerAverage=$w,_.getTouchBBox=Qh,_.getTouchDistance=ep,_.getTouchAngle=tp,_.getElementRect=Xo,_.getElementClientRect=Dn,_.matchesSelector=rt,_.closest=me,_.globalEvents={},_.version="1.10.27",_.scope=w,_.use=function(S,T){return this.scope.usePlugin(S,T),this},_.isSet=function(S,T){return!!this.scope.interactables.get(S,T&&T.context)},_.on=El(function(S,T,M){if(z.string(S)&&S.search(" ")!==-1&&(S=S.trim().split(/ +/)),z.array(S)){for(var I=0,N=S;I<N.length;I++){var A=N[I];this.on(A,T,M)}return this}if(z.object(S)){for(var V in S)this.on(V,S[V],T);return this}return Ot(S,this.scope.actions)?this.globalEvents[S]?this.globalEvents[S].push(T):this.globalEvents[S]=[T]:this.scope.events.add(this.scope.document,S,T,{options:M}),this},"The interact.on() method is being deprecated"),_.off=El(function(S,T,M){if(z.string(S)&&S.search(" ")!==-1&&(S=S.trim().split(/ +/)),z.array(S)){for(var I=0,N=S;I<N.length;I++){var A=N[I];this.off(A,T,M)}return this}if(z.object(S)){for(var V in S)this.off(V,S[V],T);return this}var J;return Ot(S,this.scope.actions)?S in this.globalEvents&&(J=this.globalEvents[S].indexOf(T))!==-1&&this.globalEvents[S].splice(J,1):this.scope.events.remove(this.scope.document,S,T,M),this},"The interact.off() method is being deprecated"),_.debug=function(){return this.scope},_.supportsTouch=function(){return _e.supportsTouch},_.supportsPointerEvent=function(){return _e.supportsPointerEvent},_.stop=function(){for(var S=0,T=this.scope.interactions.list;S<T.length;S++)T[S].stop();return this},_.pointerMoveTolerance=function(S){return z.number(S)?(this.scope.interactions.pointerMoveTolerance=S,this):this.scope.interactions.pointerMoveTolerance},_.addDocument=function(S,T){this.scope.addDocument(S,T)},_.removeDocument=function(S){this.scope.removeDocument(S)},_})(this),this.InteractEvent=Cw,this.Interactable=void 0,this.interactables=new E7(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(w){return m.removeDocument(w.target)};var v=this;this.Interactable=(function(w){d(S,w);var _=b(S);function S(){return s(this,S),_.apply(this,arguments)}return a(S,[{key:"_defaults",get:function(){return v.defaults}},{key:"set",value:function(T){return x(h(S.prototype),"set",this).call(this,T),v.fire("interactable:set",{options:T,interactable:this}),this}},{key:"unset",value:function(){x(h(S.prototype),"unset",this).call(this);var T=v.interactables.list.indexOf(this);T<0||(v.interactables.list.splice(T,1),v.fire("interactable:unset",{interactable:this}))}}]),S})(T7)}return a(g,[{key:"addListeners",value:function(m,v){this.listenerMaps.push({id:v,map:m})}},{key:"fire",value:function(m,v){for(var w=0,_=this.listenerMaps;w<_.length;w++){var S=_[w].map[m];if(S&&S(v,this,m)===!1)return!1}}},{key:"init",value:function(m){return this.isInitialized?this:(function(v,w){return v.isInitialized=!0,z.window(w)&&j(w),H.init(w),_e.init(w),Nn.init(w),v.window=w,v.document=w.document,v.usePlugin(k7),v.usePlugin(x7),v})(this,m)}},{key:"pluginIsInstalled",value:function(m){var v=m.id;return v?!!this._plugins.map[v]:this._plugins.list.indexOf(m)!==-1}},{key:"usePlugin",value:function(m,v){if(!this.isInitialized)return this;if(this.pluginIsInstalled(m))return this;if(m.id&&(this._plugins.map[m.id]=m),this._plugins.list.push(m),m.install&&m.install(this,v),m.listeners&&m.before){for(var w=0,_=this.listenerMaps.length,S=m.before.reduce(function(M,I){return M[I]=!0,M[OM(I)]=!0,M},{});w<_;w++){var T=this.listenerMaps[w].id;if(T&&(S[T]||S[OM(T)]))break}this.listenerMaps.splice(w,0,{id:m.id,map:m.listeners})}else m.listeners&&this.listenerMaps.push({id:m.id,map:m.listeners});return this}},{key:"addDocument",value:function(m,v){if(this.getDocIndex(m)!==-1)return!1;var w=D(m);v=v?Oe({},v):{},this.documents.push({doc:m,options:v}),this.events.documents.push(m),m!==this.document&&this.events.add(w,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:m,window:w,scope:this,options:v})}},{key:"removeDocument",value:function(m){var v=this.getDocIndex(m),w=D(m),_=this.documents[v].options;this.events.remove(w,"unload",this.onWindowUnload),this.documents.splice(v,1),this.events.documents.splice(v,1),this.fire("scope:remove-document",{doc:m,window:w,scope:this,options:_})}},{key:"getDocIndex",value:function(m){for(var v=0;v<this.documents.length;v++)if(this.documents[v].doc===m)return v;return-1}},{key:"getDocOptions",value:function(m){var v=this.getDocIndex(m);return v===-1?null:this.documents[v].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),g})();function OM(g){return g&&g.replace(/\/.*$/,"")}var RM=new M7,Qi=RM.interactStatic,C7=typeof globalThis<"u"?globalThis:window;RM.init(C7);var I7=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(g){var m=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(w){var _=w[0],S=w[1];return _ in g||S in g}),v=function(w,_){for(var S=g.range,T=g.limits,M=T===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:T,I=g.offset,N=I===void 0?{x:0,y:0}:I,A={range:S,grid:g,x:null,y:null},V=0;V<m.length;V++){var J=m[V],ne=J[0],ie=J[1],le=Math.round((w-N.x)/g[ne]),ye=Math.round((_-N.y)/g[ie]);A[ne]=Math.max(M.left,Math.min(M.right,le*g[ne]+N.x)),A[ie]=Math.max(M.top,Math.min(M.bottom,ye*g[ie]+N.y))}return A};return v.grid=g,v.coordFields=m,v}}),A7={id:"snappers",install:function(g){var m=g.interactStatic;m.snappers=Oe(m.snappers||{},I7),m.createSnapGrid=m.snappers.grid}},P7=A7,O7={start:function(g){var m=g.state,v=g.rect,w=g.edges,_=g.pageCoords,S=m.options,T=S.ratio,M=S.enabled,I=m.options,N=I.equalDelta,A=I.modifiers;T==="preserve"&&(T=v.width/v.height),m.startCoords=Oe({},_),m.startRect=Oe({},v),m.ratio=T,m.equalDelta=N;var V=m.linkedEdges={top:w.top||w.left&&!w.bottom,left:w.left||w.top&&!w.right,bottom:w.bottom||w.right&&!w.top,right:w.right||w.bottom&&!w.left};if(m.xIsPrimaryAxis=!(!w.left&&!w.right),m.equalDelta){var J=(V.left?1:-1)*(V.top?1:-1);m.edgeSign={x:J,y:J}}else m.edgeSign={x:V.left?-1:1,y:V.top?-1:1};if(M!==!1&&Oe(w,V),A!=null&&A.length){var ne=new Mw(g.interaction);ne.copyFrom(g.interaction.modification),ne.prepareStates(A),m.subModification=ne,ne.startAll(r({},g))}},set:function(g){var m=g.state,v=g.rect,w=g.coords,_=m.linkedEdges,S=Oe({},w),T=m.equalDelta?R7:D7;if(Oe(g.edges,_),T(m,m.xIsPrimaryAxis,w,v),!m.subModification)return null;var M=Oe({},v);au(_,M,{x:w.x-S.x,y:w.y-S.y});var I=m.subModification.setAll(r(r({},g),{},{rect:M,edges:_,pageCoords:w,prevCoords:w,prevRect:M})),N=I.delta;return I.changed&&(T(m,Math.abs(N.x)>Math.abs(N.y),I.coords,I.rect),Oe(w,I.coords)),I.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function R7(g,m,v){var w=g.startCoords,_=g.edgeSign;m?v.y=w.y+(v.x-w.x)*_.y:v.x=w.x+(v.y-w.y)*_.x}function D7(g,m,v,w){var _=g.startRect,S=g.startCoords,T=g.ratio,M=g.edgeSign;if(m){var I=w.width/T;v.y=S.y+(I-_.height)*M.y}else{var N=w.height*T;v.x=S.x+(N-_.width)*M.x}}var z7=ia(O7,"aspectRatio"),DM=function(){};DM._defaults={};var Yg=DM;function Cl(g,m,v){return z.func(g)?bl(g,m.interactable,m.element,[v.x,v.y,m]):bl(g,m.interactable,m.element)}var Jg={start:function(g){var m=g.rect,v=g.startOffset,w=g.state,_=g.interaction,S=g.pageCoords,T=w.options,M=T.elementRect,I=Oe({left:0,top:0,right:0,bottom:0},T.offset||{});if(m&&M){var N=Cl(T.restriction,_,S);if(N){var A=N.right-N.left-m.width,V=N.bottom-N.top-m.height;A<0&&(I.left+=A,I.right+=A),V<0&&(I.top+=V,I.bottom+=V)}I.left+=v.left-m.width*M.left,I.top+=v.top-m.height*M.top,I.right+=v.right-m.width*(1-M.right),I.bottom+=v.bottom-m.height*(1-M.bottom)}w.offset=I},set:function(g){var m=g.coords,v=g.interaction,w=g.state,_=w.options,S=w.offset,T=Cl(_.restriction,v,m);if(T){var M=(function(I){return!I||"left"in I&&"top"in I||((I=Oe({},I)).left=I.x||0,I.top=I.y||0,I.right=I.right||I.left+I.width,I.bottom=I.bottom||I.top+I.height),I})(T);m.x=Math.max(Math.min(M.right-S.right,m.x),M.left+S.left),m.y=Math.max(Math.min(M.bottom-S.bottom,m.y),M.top+S.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},N7=ia(Jg,"restrict"),zM={top:1/0,left:1/0,bottom:-1/0,right:-1/0},NM={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function LM(g,m){for(var v=0,w=["top","left","bottom","right"];v<w.length;v++){var _=w[v];_ in g||(g[_]=m[_])}return g}var dp={noInner:zM,noOuter:NM,start:function(g){var m,v=g.interaction,w=g.startOffset,_=g.state,S=_.options;S&&(m=ou(Cl(S.offset,v,v.coords.start.page))),m=m||{x:0,y:0},_.offset={top:m.y+w.top,left:m.x+w.left,bottom:m.y-w.bottom,right:m.x-w.right}},set:function(g){var m=g.coords,v=g.edges,w=g.interaction,_=g.state,S=_.offset,T=_.options;if(v){var M=Oe({},m),I=Cl(T.inner,w,M)||{},N=Cl(T.outer,w,M)||{};LM(I,zM),LM(N,NM),v.top?m.y=Math.min(Math.max(N.top+S.top,M.y),I.top+S.top):v.bottom&&(m.y=Math.max(Math.min(N.bottom+S.bottom,M.y),I.bottom+S.bottom)),v.left?m.x=Math.min(Math.max(N.left+S.left,M.x),I.left+S.left):v.right&&(m.x=Math.max(Math.min(N.right+S.right,M.x),I.right+S.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},L7=ia(dp,"restrictEdges"),F7=Oe({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(g){}},Jg.defaults),j7=ia({start:Jg.start,set:Jg.set,defaults:F7},"restrictRect"),U7={width:-1/0,height:-1/0},V7={width:1/0,height:1/0},B7=ia({start:function(g){return dp.start(g)},set:function(g){var m=g.interaction,v=g.state,w=g.rect,_=g.edges,S=v.options;if(_){var T=Kh(Cl(S.min,m,g.coords))||U7,M=Kh(Cl(S.max,m,g.coords))||V7;v.options={endOnly:S.endOnly,inner:Oe({},dp.noInner),outer:Oe({},dp.noOuter)},_.top?(v.options.inner.top=w.bottom-T.height,v.options.outer.top=w.bottom-M.height):_.bottom&&(v.options.inner.bottom=w.top+T.height,v.options.outer.bottom=w.top+M.height),_.left?(v.options.inner.left=w.right-T.width,v.options.outer.left=w.right-M.width):_.right&&(v.options.inner.right=w.left+T.width,v.options.outer.right=w.left+M.width),dp.set(g),v.options=S}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Rw={start:function(g){var m,v=g.interaction,w=g.interactable,_=g.element,S=g.rect,T=g.state,M=g.startOffset,I=T.options,N=I.offsetWithOrigin?(function(J){var ne=J.interaction.element,ie=ou(bl(J.state.options.origin,null,null,[ne])),le=ie||wl(J.interactable,ne,J.interaction.prepared.name);return le})(g):{x:0,y:0};if(I.offset==="startCoords")m={x:v.coords.start.page.x,y:v.coords.start.page.y};else{var A=bl(I.offset,w,_,[v]);(m=ou(A)||{x:0,y:0}).x+=N.x,m.y+=N.y}var V=I.relativePoints;T.offsets=S&&V&&V.length?V.map(function(J,ne){return{index:ne,relativePoint:J,x:M.left-S.width*J.x+m.x,y:M.top-S.height*J.y+m.y}}):[{index:0,relativePoint:null,x:m.x,y:m.y}]},set:function(g){var m=g.interaction,v=g.coords,w=g.state,_=w.options,S=w.offsets,T=wl(m.interactable,m.element,m.prepared.name),M=Oe({},v),I=[];_.offsetWithOrigin||(M.x-=T.x,M.y-=T.y);for(var N=0,A=S;N<A.length;N++)for(var V=A[N],J=M.x-V.x,ne=M.y-V.y,ie=0,le=_.targets.length;ie<le;ie++){var ye=_.targets[ie],fe=void 0;(fe=z.func(ye)?ye(J,ne,m._proxy,V,ie):ye)&&I.push({x:(z.number(fe.x)?fe.x:J)+V.x,y:(z.number(fe.y)?fe.y:ne)+V.y,range:z.number(fe.range)?fe.range:_.range,source:ye,index:ie,offset:V})}for(var Ae={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},He=0;He<I.length;He++){var Xe=I[He],Le=Xe.range,Ge=Xe.x-M.x,er=Xe.y-M.y,Rt=_l(Ge,er),Nr=Rt<=Le;Le===1/0&&Ae.inRange&&Ae.range!==1/0&&(Nr=!1),Ae.target&&!(Nr?Ae.inRange&&Le!==1/0?Rt/Le<Ae.distance/Ae.range:Le===1/0&&Ae.range!==1/0||Rt<Ae.distance:!Ae.inRange&&Rt<Ae.distance)||(Ae.target=Xe,Ae.distance=Rt,Ae.range=Le,Ae.inRange=Nr,Ae.delta.x=Ge,Ae.delta.y=er)}return Ae.inRange&&(v.x=Ae.target.x,v.y=Ae.target.y),w.closest=Ae,Ae},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},q7=ia(Rw,"snap"),Kg={start:function(g){var m=g.state,v=g.edges,w=m.options;if(!v)return null;g.state={options:{targets:null,relativePoints:[{x:v.left?0:1,y:v.top?0:1}],offset:w.offset||"self",origin:{x:0,y:0},range:w.range}},m.targetFields=m.targetFields||[["width","height"],["x","y"]],Rw.start(g),m.offsets=g.state.offsets,g.state=m},set:function(g){var m=g.interaction,v=g.state,w=g.coords,_=v.options,S=v.offsets,T={x:w.x-S[0].x,y:w.y-S[0].y};v.options=Oe({},_),v.options.targets=[];for(var M=0,I=_.targets||[];M<I.length;M++){var N=I[M],A=void 0;if(A=z.func(N)?N(T.x,T.y,m):N){for(var V=0,J=v.targetFields;V<J.length;V++){var ne=J[V],ie=ne[0],le=ne[1];if(ie in A||le in A){A.x=A[ie],A.y=A[le];break}}v.options.targets.push(A)}}var ye=Rw.set(g);return v.options=_,ye},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},H7=ia(Kg,"snapSize"),Dw={aspectRatio:z7,restrictEdges:L7,restrict:N7,restrictRect:j7,restrictSize:B7,snapEdges:ia({start:function(g){var m=g.edges;return m?(g.state.targetFields=g.state.targetFields||[[m.left?"left":"right",m.top?"top":"bottom"]],Kg.start(g)):null},set:Kg.set,defaults:Oe(Nt(Kg.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:q7,snapSize:H7,spring:Yg,avoid:Yg,transform:Yg,rubberband:Yg},G7={id:"modifiers",install:function(g){var m=g.interactStatic;for(var v in g.usePlugin(wM),g.usePlugin(P7),m.modifiers=Dw,Dw){var w=Dw[v],_=w._defaults,S=w._methods;_._methods=S,g.defaults.perAction[v]=_}}},W7=G7,FM=(function(g){d(v,g);var m=b(v);function v(w,_,S,T,M,I){var N;if(s(this,v),xl(y(N=m.call(this,M)),S),S!==_&&xl(y(N),_),N.timeStamp=I,N.originalEvent=S,N.type=w,N.pointerId=$l(_),N.pointerType=Pg(_),N.target=T,N.currentTarget=null,w==="tap"){var A=M.getPointerIndex(_);N.dt=N.timeStamp-M.pointers[A].downTime;var V=N.timeStamp-M.tapTime;N.double=!!M.prevTap&&M.prevTap.type!=="doubletap"&&M.prevTap.target===N.target&&V<500}else w==="doubletap"&&(N.dt=_.timeStamp-M.tapTime,N.double=!0);return N}return a(v,[{key:"_subtractOrigin",value:function(w){var _=w.x,S=w.y;return this.pageX-=_,this.pageY-=S,this.clientX-=_,this.clientY-=S,this}},{key:"_addOrigin",value:function(w){var _=w.x,S=w.y;return this.pageX+=_,this.pageY+=S,this.clientX+=_,this.clientY+=S,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),v})(cu),hp={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(g){g.pointerEvents=hp,g.defaults.actions.pointerEvents=hp.defaults,Oe(g.actions.phaselessTypes,hp.types)},listeners:{"interactions:new":function(g){var m=g.interaction;m.prevTap=null,m.tapTime=0},"interactions:update-pointer":function(g){var m=g.down,v=g.pointerInfo;!m&&v.hold||(v.hold={duration:1/0,timeout:null})},"interactions:move":function(g,m){var v=g.interaction,w=g.pointer,_=g.event,S=g.eventTarget;g.duplicate||v.pointerIsDown&&!v.pointerWasMoved||(v.pointerIsDown&&zw(g),na({interaction:v,pointer:w,event:_,eventTarget:S,type:"move"},m))},"interactions:down":function(g,m){(function(v,w){for(var _=v.interaction,S=v.pointer,T=v.event,M=v.eventTarget,I=v.pointerIndex,N=_.pointers[I].hold,A=Qo(M),V={interaction:_,pointer:S,event:T,eventTarget:M,type:"hold",targets:[],path:A,node:null},J=0;J<A.length;J++){var ne=A[J];V.node=ne,w.fire("pointerEvents:collect-targets",V)}if(V.targets.length){for(var ie=1/0,le=0,ye=V.targets;le<ye.length;le++){var fe=ye[le].eventable.options.holdDuration;fe<ie&&(ie=fe)}N.duration=ie,N.timeout=setTimeout(function(){na({interaction:_,eventTarget:M,pointer:S,event:T,type:"hold"},w)},ie)}})(g,m),na(g,m)},"interactions:up":function(g,m){zw(g),na(g,m),(function(v,w){var _=v.interaction,S=v.pointer,T=v.event,M=v.eventTarget;_.pointerWasMoved||na({interaction:_,eventTarget:M,pointer:S,event:T,type:"tap"},w)})(g,m)},"interactions:cancel":function(g,m){zw(g),na(g,m)}},PointerEvent:FM,fire:na,collectEventTargets:jM,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function na(g,m){var v=g.interaction,w=g.pointer,_=g.event,S=g.eventTarget,T=g.type,M=g.targets,I=M===void 0?jM(g,m):M,N=new FM(T,w,_,S,v,m.now());m.fire("pointerEvents:new",{pointerEvent:N});for(var A={interaction:v,pointer:w,event:_,eventTarget:S,targets:I,type:T,pointerEvent:N},V=0;V<I.length;V++){var J=I[V];for(var ne in J.props||{})N[ne]=J.props[ne];var ie=wl(J.eventable,J.node);if(N._subtractOrigin(ie),N.eventable=J.eventable,N.currentTarget=J.node,J.eventable.fire(N),N._addOrigin(ie),N.immediatePropagationStopped||N.propagationStopped&&V+1<I.length&&I[V+1].node!==N.currentTarget)break}if(m.fire("pointerEvents:fired",A),T==="tap"){var le=N.double?na({interaction:v,pointer:w,event:_,eventTarget:S,type:"doubletap"},m):N;v.prevTap=le,v.tapTime=le.timeStamp}return N}function jM(g,m){var v=g.interaction,w=g.pointer,_=g.event,S=g.eventTarget,T=g.type,M=v.getPointerIndex(w),I=v.pointers[M];if(T==="tap"&&(v.pointerWasMoved||!I||I.downTarget!==S))return[];for(var N=Qo(S),A={interaction:v,pointer:w,event:_,eventTarget:S,type:T,path:N,targets:[],node:null},V=0;V<N.length;V++){var J=N[V];A.node=J,m.fire("pointerEvents:collect-targets",A)}return T==="hold"&&(A.targets=A.targets.filter(function(ne){var ie,le;return ne.eventable.options.holdDuration===((ie=v.pointers[M])==null||(le=ie.hold)==null?void 0:le.duration)})),A.targets}function zw(g){var m=g.interaction,v=g.pointerIndex,w=m.pointers[v].hold;w&&w.timeout&&(clearTimeout(w.timeout),w.timeout=null)}var Z7=Object.freeze({__proto__:null,default:hp});function Y7(g){var m=g.interaction;m.holdIntervalHandle&&(clearInterval(m.holdIntervalHandle),m.holdIntervalHandle=null)}var J7={id:"pointer-events/holdRepeat",install:function(g){g.usePlugin(hp);var m=g.pointerEvents;m.defaults.holdRepeatInterval=0,m.types.holdrepeat=g.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(g,m){return g["pointerEvents:".concat(m)]=Y7,g},{"pointerEvents:new":function(g){var m=g.pointerEvent;m.type==="hold"&&(m.count=(m.count||0)+1)},"pointerEvents:fired":function(g,m){var v=g.interaction,w=g.pointerEvent,_=g.eventTarget,S=g.targets;if(w.type==="hold"&&S.length){var T=S[0].eventable.options.holdRepeatInterval;T<=0||(v.holdIntervalHandle=setTimeout(function(){m.pointerEvents.fire({interaction:v,eventTarget:_,type:"hold",pointer:w,event:w},m)},T))}}})},K7=J7,X7={id:"pointer-events/interactableTargets",install:function(g){var m=g.Interactable;m.prototype.pointerEvents=function(w){return Oe(this.events.options,w),this};var v=m.prototype._backCompatOption;m.prototype._backCompatOption=function(w,_){var S=v.call(this,w,_);return S===this&&(this.events.options[w]=_),S}},listeners:{"pointerEvents:collect-targets":function(g,m){var v=g.targets,w=g.node,_=g.type,S=g.eventTarget;m.interactables.forEachMatch(w,function(T){var M=T.events,I=M.options;M.types[_]&&M.types[_].length&&T.testIgnoreAllow(I,w,S)&&v.push({node:w,eventable:M,props:{interactable:T}})})},"interactable:new":function(g){var m=g.interactable;m.events.getRect=function(v){return m.getRect(v)}},"interactable:set":function(g,m){var v=g.interactable,w=g.options;Oe(v.events.options,m.pointerEvents.defaults),Oe(v.events.options,w.pointerEvents||{})}}},Q7=X7,ej={id:"pointer-events",install:function(g){g.usePlugin(Z7),g.usePlugin(K7),g.usePlugin(Q7)}},tj=ej,ij={id:"reflow",install:function(g){var m=g.Interactable;g.actions.phases.reflow=!0,m.prototype.reflow=function(v){return(function(w,_,S){for(var T=w.getAllElements(),M=S.window.Promise,I=M?[]:null,N=function(){var V=T[A],J=w.getRect(V);if(!J)return 1;var ne,ie=kl(S.interactions.list,function(fe){return fe.interacting()&&fe.interactable===w&&fe.element===V&&fe.prepared.name===_.name});if(ie)ie.move(),I&&(ne=ie._reflowPromise||new M(function(fe){ie._reflowResolve=fe}));else{var le=Kh(J),ye=(function(fe){return{coords:fe,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}})({page:{x:le.x,y:le.y},client:{x:le.x,y:le.y},timeStamp:S.now()});ne=(function(fe,Ae,He,Xe,Le){var Ge=fe.interactions.new({pointerType:"reflow"}),er={interaction:Ge,event:Le,pointer:Le,eventTarget:He,phase:"reflow"};Ge.interactable=Ae,Ge.element=He,Ge.prevEvent=Le,Ge.updatePointer(Le,Le,He,!0),Cg(Ge.coords.delta),Ml(Ge.prepared,Xe),Ge._doPhase(er);var Rt=fe.window,Nr=Rt.Promise,Ln=Nr?new Nr(function(no){Ge._reflowResolve=no}):void 0;return Ge._reflowPromise=Ln,Ge.start(Xe,Ae,He),Ge._interacting?(Ge.move(er),Ge.end(Le)):(Ge.stop(),Ge._reflowResolve()),Ge.removePointer(Le,Le),Ln})(S,w,V,_,ye)}I&&I.push(ne)},A=0;A<T.length&&!N();A++);return I&&M.all(I).then(function(){return w})})(this,v,g)}},listeners:{"interactions:stop":function(g,m){var v=g.interaction;v.pointerType==="reflow"&&(v._reflowResolve&&v._reflowResolve(),(function(w,_){w.splice(w.indexOf(_),1)})(m.interactions.list,v))}}},rj=ij;if(Qi.use(kt),Qi.use(kM),Qi.use(tj),Qi.use(w7),Qi.use(W7),Qi.use(re),Qi.use(Sw),Qi.use(kw),Qi.use(rj),Qi.default=Qi,n(t)==="object"&&t)try{t.exports=Qi}catch{}return Qi.default=Qi,Qi})})(Hp,Hp.exports)),Hp.exports}var yH=gH();const cd=fH(yH);function Gx(t,e,i){return e?`${t}-${e}`:i?`${t}-${i}`:`${t}-m`}let sy=0,QC="";const vH=()=>{function t(){sy++,sy===1&&(QC=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden")}function e(){sy--,sy===0&&(document.documentElement.style.overflow=QC)}return VT((i,r)=>{r.onConnected(()=>{i.opened&&i.preventDocumentScroll&&t()}),r.onUpdate(n=>{i.hasUpdated&&(n.has("opened")&&i.preventDocumentScroll?i.opened?t():e():n.has("preventDocumentScroll")&&i.opened&&(i.preventDocumentScroll?t():e()))}),r.onDisconnected(()=>{i.opened&&i.preventDocumentScroll&&e()})})};const sa={dialog:"dialog",panel:"panel",scrim:"scrim",container:"container",containerOpen:"container--open",containerEmbedded:"container--embedded",assistiveText:"assistive-text",openingActive:"dialog--opening-active"},fr={actionBar:"action-bar",alerts:"alerts",content:"content",customContent:"custom-content",contentTop:"content-top",contentBottom:"content-bottom",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerStart:"footer-start",footerEnd:"footer-end"},eI={x:null,y:null},tI={top:null,right:null,bottom:null,left:null},bH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{--calcite-dialog-scrim-background-color: rgba(0, 0, 0, .85);pointer-events:none;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;--calcite-internal-dialog-animation-offset: 20px}:host([modal]){position:absolute}.container{pointer-events:auto;position:fixed;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;align-items:center;justify-content:center;overflow:hidden;color:var(--calcite-color-text-2);opacity:0;visibility:hidden;transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}:host([placement=top]) .container{align-items:flex-start;justify-content:center}:host([placement=top-start]) .container{align-items:flex-start;justify-content:flex-start}:host([placement=top-end]) .container{align-items:flex-start;justify-content:flex-end}:host([placement=bottom]) .container{align-items:flex-end;justify-content:center}:host([placement=bottom-start]) .container{align-items:flex-end;justify-content:flex-start}:host([placement=bottom-end]) .container{align-items:flex-end;justify-content:flex-end}:host(:not([modal])) .container{pointer-events:none}:host([scale=s]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-sm));--calcite-internal-dialog-min-size-x: 198px;--calcite-internal-dialog-min-size-y: 140px}:host([scale=m]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-md));--calcite-internal-dialog-min-size-x: 288px;--calcite-internal-dialog-min-size-y: 180px}:host([scale=l]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-md-plus));--calcite-internal-dialog-min-size-x: 388px;--calcite-internal-dialog-min-size-y: 220px}.scrim{--calcite-scrim-background: var(--calcite-dialog-scrim-background-color, var(--calcite-color-transparent-scrim));--calcite-scrim-background-color: var( --calcite-dialog-scrim-background-color, var(--calcite-color-transparent-scrim) );position:fixed;inset:0;display:flex;overflow-y:hidden}calcite-panel{--calcite-panel-content-space: var(--calcite-dialog-content-space, var(--calcite-internal-dialog-content-padding));--calcite-panel-border-color: var(--calcite-dialog-border-color);--calcite-panel-background-color: var(--calcite-dialog-background-color, var(--calcite-color-foreground-1));--calcite-panel-icon-color: var(--calcite-dialog-icon-color);--calcite-panel-heading-text-color: var(--calcite-dialog-heading-text-color);--calcite-panel-description-text-color: var(--calcite-dialog-description-text-color);--calcite-panel-header-background-color: var(--calcite-dialog-header-background-color);--calcite-panel-header-action-background-color: var(--calcite-dialog-header-action-background-color);--calcite-panel-header-action-background-color-hover: var(--calcite-dialog-header-action-background-color-hover);--calcite-panel-header-action-background-color-press: var(--calcite-dialog-header-action-background-color-press);--calcite-panel-header-action-text-color: var(--calcite-dialog-header-action-text-color);--calcite-panel-header-action-text-color-press: var(--calcite-dialog-header-action-text-color-press);--calcite-panel-footer-background-color: var(--calcite-dialog-footer-background-color);--calcite-panel-space: var(--calcite-dialog-space, var(--calcite-internal-dialog-content-padding));--calcite-panel-header-content-space: var(--calcite-dialog-header-content-space, var(--calcite-dialog-content-space));--calcite-panel-footer-space: var(--calcite-dialog-footer-space);--calcite-popover-border-color: var(--calcite-dialog-action-menu-border-color, var(--calcite-color-border-1));--calcite-panel-corner-radius: var(--calcite-dialog-corner-radius)}:host([kind=brand]) calcite-panel{--calcite-panel-icon-color: var(--calcite-dialog-icon-color, var(--calcite-color-brand))}:host([kind=danger]) calcite-panel{--calcite-panel-icon-color: var(--calcite-dialog-icon-color, var(--calcite-color-status-danger))}:host([kind=info]) calcite-panel{--calcite-panel-icon-color: var(--calcite-dialog-icon-color, var(--calcite-color-status-info))}:host([kind=success]) calcite-panel{--calcite-panel-icon-color: var(--calcite-dialog-icon-color, var(--calcite-color-status-success))}:host([kind=warning]) calcite-panel{--calcite-panel-icon-color: var(--calcite-dialog-icon-color, var(--calcite-color-status-warning))}::slotted(*){--calcite-panel-background-color: initial}.dialog{pointer-events:none;position:relative;z-index:var(--calcite-z-index-modal);margin:1.5rem;box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;opacity:0;--tw-shadow: 0 2px 12px -4px rgba(0, 0, 0, .2), 0 2px 4px -2px rgba(0, 0, 0, .16);--tw-shadow-colored: 0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);-webkit-overflow-scrolling:touch;visibility:hidden;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88);border-radius:var(--calcite-dialog-corner-radius, var(--calcite-corner-radius-sm));min-inline-size:var(--calcite-dialog-min-size-x, var(--calcite-internal-dialog-min-size-x));max-inline-size:var(--calcite-dialog-max-size-x, 100%);min-block-size:var(--calcite-dialog-min-size-y, var(--calcite-internal-dialog-min-size-y));max-block-size:var(--calcite-dialog-max-size-y, 100%);--calcite-internal-dialog-hidden-position: calc( var(--calcite-dialog-offset-y, 0px) + var(--calcite-internal-dialog-animation-offset) );--calcite-internal-dialog-shown-position: var(--calcite-dialog-offset-y, 0);inset-inline-start:var(--calcite-dialog-offset-x, 0);inset-block-start:var(--calcite-internal-dialog-hidden-position)}.dialog--opening-active{inset-block-start:var(--calcite-internal-dialog-shown-position)}:host([menu-open]) .dialog{transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}.panel{visibility:hidden;opacity:0;border-radius:var(--calcite-dialog-corner-radius, var(--calcite-corner-radius-sm));transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}.container--open .panel{visibility:visible;opacity:1;transition:visibility 0ms linear,opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}.container--open{opacity:1;visibility:visible;transition-delay:0ms}.container--open .dialog{pointer-events:auto;visibility:visible;opacity:1;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88);transition-delay:0ms}.width-s{inline-size:auto;inline-size:var(--calcite-dialog-size-x, 32rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 35rem){.width-s{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-s.dialog--opening-active{inset-block-start:0}}.width-m{inline-size:var(--calcite-dialog-size-x, 48rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 51rem){.width-m{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-m.dialog--opening-active{inset-block-start:0}}.width-l{inline-size:var(--calcite-dialog-size-x, 94rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 97rem){.width-l{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-l.dialog--opening-active{inset-block-start:0}}:host([placement=cover]) .dialog{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0}:host([placement=cover]) .panel{border-radius:0}:host([kind]) .panel{border-start-start-radius:0px;border-start-end-radius:0px}:host([kind]) .dialog{overflow:hidden}:host([kind=brand]) .dialog{border-color:var(--calcite-color-brand)}:host([kind=danger]) .dialog{border-color:var(--calcite-dialog-accent-color, var(--calcite-color-status-danger))}:host([kind=info]) .dialog{border-color:var(--calcite-dialog-accent-color, var(--calcite-color-status-info))}:host([kind=success]) .dialog{border-color:var(--calcite-dialog-accent-color, var(--calcite-color-status-success))}:host([kind=warning]) .dialog{border-color:var(--calcite-dialog-accent-color, var(--calcite-color-status-warning))}:host([kind=brand][open]) .dialog,:host([kind=danger][open]) .dialog,:host([kind=info][open]) .dialog,:host([kind=success][open]) .dialog,:host([kind=warning][open]) .dialog{border-width:0px;border-block-start-width:4px;border-style:solid}.container--embedded{position:absolute;pointer-events:auto}.container--embedded calcite-scrim{position:absolute}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`;var Ic;let TD=(Ic=class extends lt{constructor(){super(...arguments),this.dragPosition={...eI},this.focusTrap=n2({triggerProp:"open",focusTrapOptions:{clickOutsideDeactivates:()=>!this.modal||this.embedded,escapeDeactivates:e=>(!e.defaultPrevented&&!this.escapeDisabled&&(this.open=!1,e.preventDefault()),!1)}})(this),this.usePreventDocumentScroll=vH()(this),this.mutationObserver=hs("mutation",()=>this.handleMutationObserver()),this._open=!1,this.openProp="opened",this.transitionProp="opacity",this.panelEl=At(),this.resizePosition={...tI},this.messages=Ei(),this.focusSetter=Ai()(this),this.assistiveText=null,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasFooter=!0,this.opened=!1,this.closeDisabled=!1,this.dragEnabled=!1,this.embedded=!1,this.escapeDisabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.menuOpen=!1,this.modal=!1,this.focusTrapDisabled=!1,this.outsideCloseDisabled=!1,this.overlayPositioning="absolute",this.placement="center",this.resizable=!1,this.scale="m",this.widthScale="m",this.calciteDialogBeforeClose=Ie({cancelable:!1}),this.calciteDialogBeforeOpen=Ie({cancelable:!1}),this.calciteDialogClose=Ie({cancelable:!1}),this.calciteDialogOpen=Ie({cancelable:!1}),this.calciteDialogScroll=Ie({cancelable:!1})}get preventDocumentScroll(){return!this.embedded&&this.modal}get open(){return this._open}set open(e){const i=this._open;e!==i&&this.setOpenState(e)}async scrollContentTo(e){await this.panelEl.value?.scrollContentTo(e)}async setFocus(e){return this.focusSetter(()=>this.panelEl.value??this.el,e)}async updateFocusTrapElements(e){this.focusTrap.setExtraContainers(e),this.focusTrap.updateContainerElements()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setupInteractions()}willUpdate(e){(e.has("open")&&(this.hasUpdated||this.open!==!1)||e.has("placement")&&(this.hasUpdated||this.placement!=="center")||e.has("resizable")&&(this.hasUpdated||this.resizable!==!1)||e.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1))&&this.setupInteractions(),(e.has("messages")||e.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||e.has("resizable")&&(this.hasUpdated||this.resizable!==!1))&&this.updateAssistiveText(),e.has("opened")&&(this.hasUpdated||this.opened!==!1)&&this.handleOpenedChange(this.opened)}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.embedded=!1,this.cleanupInteractions()}focusTrapDisabledOverride(){return!this.modal&&this.focusTrapDisabled}updateAssistiveText(){const{messages:e}=this;this.assistiveText=e&&(this.dragEnabled||this.resizable)?`${this.dragEnabled?e.dragEnabled:""} ${this.resizable?e.resizeEnabled:""}`:null}onBeforeOpen(){this.calciteDialogBeforeOpen.emit()}onOpen(){this.focusTrapDisabled&&this.setFocus(),this.focusTrap.activate(),this.calciteDialogOpen.emit()}onBeforeClose(){this.calciteDialogBeforeClose.emit()}onClose(){this.focusTrap.deactivate(),this.calciteDialogClose.emit()}async setOpenState(e){if(this.beforeClose&&!e)try{await this.beforeClose?.()}catch{return}this._open=e,e&&await this.componentOnReady(),this.opened=e}handleOpenedChange(e){const{transitionEl:i}=this;i&&(i.classList.toggle(sa.openingActive,e),v1(this))}async triggerInteractModifiers(){const{interaction:e}=this;e&&(await e.reflow({name:"drag"}),await e.reflow({name:"resize"}))}getTransitionElDOMRect(){return this.transitionEl.getBoundingClientRect()}handleKeyDown(e){const{key:i,shiftKey:r,defaultPrevented:n}=e,{dragEnabled:s,resizable:o,resizePosition:a,dragPosition:l,transitionEl:d}=this;if(!(n||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(i)))switch(i){case"ArrowUp":if(r&&o&&d){const{minBlockSize:f}=window.getComputedStyle(d),y=xn(f),b=this.getTransitionElDOMRect().height;if(b<=y)return;this.updateSize({size:b-Vr,type:"blockSize"}),a.bottom-=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault()}else s&&(l.y-=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault());break;case"ArrowDown":r&&o&&d?(this.updateSize({size:this.getTransitionElDOMRect().height+Vr,type:"blockSize"}),a.bottom+=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault()):s&&(l.y+=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault());break;case"ArrowLeft":if(r&&o&&d){const{minInlineSize:f}=window.getComputedStyle(d),y=xn(f),b=this.getTransitionElDOMRect().width;if(b<=y)return;this.updateSize({size:b-Vr,type:"inlineSize"}),a.right-=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault()}else s&&(l.x-=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault());break;case"ArrowRight":r&&o&&d?(this.updateSize({size:this.getTransitionElDOMRect().width+Vr,type:"inlineSize"}),a.right+=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault()):s&&(l.x+=Vr,this.updateTransform(),this.triggerInteractModifiers(),e.preventDefault());break}}updateTransform(){const{dragPosition:{x:e,y:i},resizePosition:r,transitionEl:n,dragEnabled:s,resizable:o}=this;if(!n)return;if(!s&&!o){n.style.transform=null;return}const{top:a,right:l,bottom:d,left:h}=this.getAdjustedResizePosition(r),f=Math.round(e+h+l),y=Math.round(i+a+d);n.style.transform=f||y?`translate(${f}px, ${y}px)`:null}updateSize({type:e,size:i}){const{transitionEl:r}=this;r&&(r.style[e]=i!==null?`${Math.round(i)}px`:null)}cleanupInteractions(){this.interaction?.unset(),this.updateSize({size:null,type:"inlineSize"}),this.updateSize({size:null,type:"blockSize"}),this.dragPosition={...eI},this.resizePosition={...tI},this.updateTransform()}async setupInteractions(){this.cleanupInteractions();const{el:e,transitionEl:i,resizable:r,dragEnabled:n,resizePosition:s,dragPosition:o}=this;if(!(!i||!this.open)){if((r||n)&&(this.interaction=cd(i,{context:e.ownerDocument})),r){await this.el.componentOnReady();const{minInlineSize:a,minBlockSize:l,maxInlineSize:d,maxBlockSize:h}=window.getComputedStyle(i);this.interaction.resizable({edges:{top:!0,right:!0,bottom:!0,left:!0},modifiers:[cd.modifiers.restrictSize({min:{width:xn(a),height:xn(l)},max:{width:xn(d)||window.innerWidth,height:xn(h)||window.innerHeight}}),cd.modifiers.restrict({restriction:"parent"})],listeners:{move:({rect:f,deltaRect:y})=>{y&&(s.top+=y.top,s.right+=y.right,s.bottom+=y.bottom,s.left+=y.left),this.updateSize({size:f.width,type:"inlineSize"}),this.updateSize({size:f.height,type:"blockSize"}),this.updateTransform()}}})}n&&this.interaction.draggable({modifiers:[cd.modifiers.restrictRect({restriction:"parent"})],listeners:{move:({dx:a,dy:l})=>{o.x+=a,o.y+=l,this.updateTransform()}}})}}getAdjustedResizePosition({top:e,right:i,bottom:r,left:n}){const s=e/2,o=i/2,a=r/2,l=n/2;switch(this.placement){case"top":return{top:e,right:o,bottom:0,left:l};case"top-start":return{top:e,right:0,bottom:0,left:n};case"top-end":return{top:e,right:i,bottom:0,left:0};case"bottom":return{top:0,right:o,bottom:r,left:l};case"bottom-start":return{top:0,right:0,bottom:r,left:n};case"bottom-end":return{top:0,right:i,bottom:r,left:0};case"cover":case"center":default:return{top:s,right:o,bottom:a,left:l}}}setTransitionEl(e){e&&(this.transitionEl=e,this.setupInteractions())}handleInternalPanelScroll(e){e.target===this.panelEl.value&&(e.stopPropagation(),this.calciteDialogScroll.emit())}handleInternalPanelCloseClick(e){e.target===this.panelEl.value&&(e.preventDefault(),e.stopPropagation(),this.open=!1)}handlePanelKeyDown(e){this.escapeDisabled&&e.key==="Escape"&&e.preventDefault()}handleOutsideClose(){this.outsideCloseDisabled||(this.open=!1)}handleMutationObserver(){this.focusTrap.updateContainerElements()}render(){const{assistiveText:e,description:i,heading:r,opened:n,icon:s,iconFlipRtl:o}=this;return q`<div class=${U({[sa.container]:!0,[sa.containerOpen]:n,[sa.containerEmbedded]:this.embedded})}>${this.modal?q`<calcite-scrim class=${U(sa.scrim)} @click=${this.handleOutsideClose}></calcite-scrim>`:null}<div .ariaDescription=${i} .ariaLabel=${r} .ariaModal=${this.modal} class=${U({[sa.dialog]:!0,[Gx("width",this.width,this.widthScale)]:!!(this.width||this.widthScale)})} @keydown=${this.handleKeyDown} role=dialog ${Be(this.setTransitionEl)}>${e?Ve("assistive-text",q`<div aria-live=polite class=${U(sa.assistiveText)}>${e}</div>`):null}<slot name=${fr.customContent}><slot name=${fr.content}><calcite-panel class=${U(sa.panel)} .closable=${!this.closeDisabled} .description=${i} .heading=${r} .headingLevel=${this.headingLevel} .hidden=${!this.opened} .icon=${s} .iconFlipRtl=${o} .loading=${this.loading} .menuOpen=${this.menuOpen} .messageOverrides=${this.messageOverrides} @keydown=${this.handlePanelKeyDown} @calcitePanelClose=${this.handleInternalPanelCloseClick} @calcitePanelScroll=${this.handleInternalPanelScroll} .overlayPositioning=${this.overlayPositioning} .scale=${this.scale} ${Be(this.panelEl)}><slot name=${fr.actionBar} slot=${Ct.actionBar}></slot><slot name=${fr.alerts} slot=${Ct.alerts}></slot><slot name=${fr.headerActionsStart} slot=${Ct.headerActionsStart}></slot><slot name=${fr.headerActionsEnd} slot=${Ct.headerActionsEnd}></slot><slot name=${fr.headerContent} slot=${Ct.headerContent}></slot><slot name=${fr.headerMenuActions} slot=${Ct.headerMenuActions}></slot><slot name=${fr.fab} slot=${Ct.fab}></slot><slot name=${fr.contentTop} slot=${Ct.contentTop}></slot><slot name=${fr.contentBottom} slot=${Ct.contentBottom}></slot><slot name=${fr.footerStart} slot=${Ct.footerStart}></slot><slot name=${fr.footer} slot=${Ct.footer}></slot><slot name=${fr.footerEnd} slot=${Ct.footerEnd}></slot><slot></slot></calcite-panel></slot></slot></div></div>`}},Ic.properties={assistiveText:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasFooter:[16,{},{state:!0}],opened:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closeDisabled:[7,{},{reflect:!0,type:Boolean}],description:1,dragEnabled:[7,{},{reflect:!0,type:Boolean}],embedded:[5,{},{type:Boolean}],escapeDisabled:[7,{},{reflect:!0,type:Boolean}],focusTrapOptions:[0,{},{attribute:!1}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],kind:[3,{},{reflect:!0}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],loading:[7,{},{reflect:!0,type:Boolean}],menuOpen:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],modal:[7,{},{reflect:!0,type:Boolean}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],open:[7,{},{reflect:!0,type:Boolean}],outsideCloseDisabled:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],resizable:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],widthScale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},Ic.styles=bH,Ic);gt("calcite-dialog",TD);const Aye=Object.freeze(Object.defineProperty({__proto__:null,Dialog:TD},Symbol.toStringTag,{value:"Module"}));const iI={valid:"check-circle",invalid:"exclamation-mark-triangle",idle:"information"},wH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;display:flex;block-size:auto;inline-size:100%;align-items:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);opacity:1;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-block-start:var(--calcite-input-message-spacing, var(--calcite-input-message-spacing-value, var(--calcite-spacing-xxs)))}.calcite-input-message-icon{pointer-events:none;display:inline-flex;flex-shrink:0;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-end:var(--calcite-spacing-sm)}:host([status=invalid]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-status-danger)))}:host([status=valid]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-status-success)))}:host([status=idle]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-brand)))}:host([scale=s]){font-size:var(--calcite-font-size--3);line-height:.75rem}:host([scale=m]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([hidden]){display:none}[hidden]{display:none}`,_H={inputMessageIcon:"calcite-input-message-icon"},Gb=class Gb extends lt{constructor(){super(...arguments),this.iconFlipRtl=!1,this.scale="m",this.status="idle"}connectedCallback(){super.connectedCallback(),this.requestedIcon=hm(iI,this.icon,this.status)}willUpdate(e){(e.has("status")&&(this.hasUpdated||this.status!=="idle")||e.has("icon"))&&(this.requestedIcon=hm(iI,this.icon,this.status))}render(){const e=this.el.hidden;return um(this.el,"calcite-hydrated-hidden",e),q`${this.renderIcon(this.requestedIcon)}<slot></slot>`}renderIcon(e){if(e)return q`<calcite-icon class=${U(_H.inputMessageIcon)} .flipRtl=${this.iconFlipRtl} .icon=${e} scale=s></calcite-icon>`}};Gb.properties={icon:[3,{converter:tl},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}]},Gb.styles=wH;let A0=Gb;gt("calcite-input-message",A0);const Pye=Object.freeze(Object.defineProperty({__proto__:null,InputMessage:A0},Symbol.toStringTag,{value:"Module"}));const xH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:relative;display:block;inline-size:100%}.track,.bar{position:absolute;inset-block-start:0px;block-size:2px}.track{z-index:var(--calcite-z-index);inline-size:100%;overflow:hidden;background-color:var(--calcite-progress-background-color, var(--calcite-color-border-3))}.bar{z-index:var(--calcite-z-index);background-color:var(--calcite-progress-fill-color, var(--calcite-color-brand))}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{inline-size:20%;animation:looping-progress-bar-ani calc(var(--calcite-internal-animation-timing-medium) / var(--calcite-internal-duration-factor) * 11 / var(--calcite-internal-duration-factor)) linear infinite}.indeterminate.calcite--rtl{animation-name:looping-progress-bar-ani-rtl}.reversed{animation-direction:reverse}.text{padding-inline:0px;padding-block:1rem 0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-progress-text-color, var(--calcite-color-text-2))}@keyframes looping-progress-bar-ani{0%{transform:translate3d(-100%,0,0)}50%{inline-size:40%}to{transform:translate3d(600%,0,0)}}@keyframes looping-progress-bar-ani-rtl{0%{transform:translate3d(100%,0,0)}50%{inline-size:40%}to{transform:translate3d(-600%,0,0)}}:host([hidden]){display:none}[hidden]{display:none}`,Qw={track:"track",bar:"bar",text:"text"},Wb=class Wb extends lt{constructor(){super(...arguments),this.reversed=!1,this.type="determinate",this.value=0}render(){const e=this.type==="determinate",i=e?{width:`${this.value}%`}:{},r=Vo(this.el);return q`<div .ariaLabel=${this.label||this.text} .ariaValueMax=${e?"100":void 0} .ariaValueMin=${e?"0":void 0} .ariaValueNow=${e?this.value:void 0} role=progressbar><div class=${U(Qw.track)}><div class=${U({[Qw.bar]:!0,indeterminate:this.type==="indeterminate",[Rs.rtl]:r==="rtl",reversed:this.reversed})} style=${SR(i)}></div></div>${this.text?q`<div class=${U(Qw.text)}>${this.text}</div>`:null}</div>`}};Wb.properties={label:1,reversed:[7,{},{reflect:!0,type:Boolean}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]},Wb.styles=xH;let Wx=Wb;gt("calcite-progress",Wx);const ED="calciteInternalLabelClick",s2="calciteInternalLabelConnected",Zx="calciteInternalLabelDisconnected",rI="calcite-label",ah=new WeakMap,If=new WeakMap,wm=new WeakMap,P0=new WeakMap,wc=new Set,$H=t=>{const{id:e}=t,i=e&&f1(t,{selector:`${rI}[for="${e}"]`});if(i)return i;const r=pl(t,rI);return!r||SH(r,t)?null:r};function SH(t,e){let i;const r="custom-element-ancestor-check",n=o=>{o.stopImmediatePropagation();const a=o.composedPath();i=a.slice(a.indexOf(e),a.indexOf(t))};return t.addEventListener(r,n,{once:!0}),e.dispatchEvent(new CustomEvent(r,{composed:!0,bubbles:!0})),t.removeEventListener(r,n),i.filter(o=>o!==e&&o!==t).filter(o=>o.tagName?.includes("-")).length>0}function Ah(t){if(!t)return;const e=$H(t.el);if(If.has(e)&&e===t.labelEl||!e&&wc.has(t))return;const i=TH.bind(t);if(e){t.labelEl=e;const r=ah.get(e)||[];r.push(t),ah.set(e,r.sort(MD)),If.has(t.labelEl)||(If.set(t.labelEl,nI),t.labelEl.addEventListener(ED,nI)),wc.delete(t),document.removeEventListener(s2,wm.get(t)),P0.set(t,i),document.addEventListener(Zx,i)}else wc.has(t)||(i(),document.removeEventListener(Zx,P0.get(t)))}function k1(t){if(!t||(wc.delete(t),document.removeEventListener(s2,wm.get(t)),document.removeEventListener(Zx,P0.get(t)),wm.delete(t),P0.delete(t),!t.labelEl))return;const e=ah.get(t.labelEl);e.length===1&&(t.labelEl.removeEventListener(ED,If.get(t.labelEl)),If.delete(t.labelEl)),ah.set(t.labelEl,e.filter(i=>i!==t).sort(MD)),t.labelEl=null}function MD(t,e){return QU(t.el,e.el)?-1:1}function T1(t){return t.label||t.labelEl?.textContent?.trim()||""}function nI(t){const e=t.detail.sourceEvent.target,i=ah.get(this),r=i.find(o=>o.el===e);if(i.includes(r))return;const s=i[0];s.disabled||s.onLabelClick(t)}function kH(){wc.has(this)&&Ah(this)}function TH(){wc.add(this);const t=wm.get(this)||kH.bind(this);wm.set(this,t),document.addEventListener(s2,t)}async function Oye(t){if(await t.componentOnReady(),ah.has(t))return;const i=t.ownerDocument?.getElementById(t.for);i&&requestAnimationFrame(()=>{for(const r of wc)if(r.el===i){Ah(r);break}})}const oa={alignmentCenter:"internal-label-alignment--center",alignmentEnd:"internal-label-alignment--end",container:"internal-label--container",requiredIndicator:"internal-label-required--indicator",spacingBottom:"internal-label-spacing--bottom",spacingInlineEnd:"internal-label-spacing-inline--end",spacingInlineStart:"internal-label-spacing-inline--start",text:"internal-label--text"},o2=({alignmentCenter:t,bottomSpacingDisabled:e,labelText:i,onClick:r,required:n,spacingInlineEnd:s,spacingInlineStart:o,tooltipText:a})=>q`<div class=${U({[oa.alignmentCenter]:t,[oa.alignmentEnd]:!t,[oa.container]:!0,[oa.spacingBottom]:!e,[oa.spacingInlineEnd]:s,[oa.spacingInlineStart]:o})} @click=${r}><div class=${U(oa.text)}>${i}${n&&q`<span aria-hidden=true class=${U(oa.requiredIndicator)} title=${a??he}>*</span>`||""}</div><slot name=label-content></slot></div>`;const EH={validationContainer:"validation-container"},MH=()=>{},a2=({scale:t,status:e,id:i,icon:r,message:n,ref:s})=>q`<div class=${U(EH.validationContainer)} ${Be(s||MH)}><calcite-input-message aria-live=polite .icon=${r} id=${i??he} .scale=${t} .status=${e}>${n}</calcite-input-message></div>`;const CH=["date","datetime-local","month","number","range","time","week"],IH=["email","password","search","tel","text","url"],AH=["email","password","search","tel","text","textarea","url"];function gu(t,e,i,r){const n=i.toLowerCase(),s=t[i];r&&s!=null?e.setAttribute(n,`${s}`):e.removeAttribute(n)}function CD(t,e,i){i.type=t==="textarea"?"text":t;const r=CH.includes(t),n=e;gu(n,i,"min",r),gu(n,i,"max",r),gu(n,i,"step",r);const s=AH.includes(t),o=e;gu(o,i,"minLength",s),gu(o,i,"maxLength",s);const a=IH.includes(t);gu(o,i,"pattern",a)}const Bn={loader:"loader",clearable:"clearable",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper"},sI={validationMessage:"inputTextValidationMessage"},PH={action:"action"},OH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-width:1px;border-style:solid;font-family:inherit;font-weight:var(--calcite-font-weight-normal);background-color:var(--calcite-input-text-background-color, var(--calcite-color-foreground-1));color:var(--calcite-input-text-text-color, var(--calcite-color-text-1));border-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input));text-align:var(--calcite-internal-input-text-alignment)}input:placeholder-shown{text-overflow:ellipsis}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-number-placeholder-text-color, var(--calcite-color-text-3))}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-input-text-text-color-focus, var(--calcite-color-text-1))}input[readonly]{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-input-text-background-color, var(--calcite-color-background))}input[readonly]:focus{color:var(--calcite-input-text-text-color-focus, var(--calcite-color-text-1))}calcite-icon{color:var(--calcite-input-action-icon-color, var(--calcite-color-text-3))}input{outline-color:transparent}input:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-status-danger);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center;isolation:isolate}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-text-icon-color, var(--calcite-color-text-3))}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;outline-color:transparent;border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-action-background-color, var(--calcite-color-foreground-1));border-inline-start-width:0px}.clear-button:hover{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;background-color:var(--calcite-input-action-background-color-hover, var(--calcite-color-foreground-2))}.clear-button:hover calcite-icon{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-action-icon-color-hover, var(--calcite-color-text-1))}.clear-button:active{background-color:var(--calcite-input-action-background-color-press, var(--calcite-color-foreground-3))}.clear-button:active calcite-icon{color:var(--calcite-input-action-icon-color-press, --calcite-color-text-1)}.clear-button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.loader calcite-progress{--calcite-progress-background-color: var(--calcite-input-loading-background-color);--calcite-progress-fill-color: var(--calcite-input-loading-fill-color)}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;font-weight:var(--calcite-font-weight-medium);line-height:1;border-color:var(--calcite-input-text-border-color, var(--calcite-color-border-input))}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size-x, auto);background-color:var(--calcite-input-prefix-background-color, var(--calcite-color-background));color:var(--calcite-input-prefix-text-color, var(--calcite-color-text-2));border-start-start-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-start-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size-x, auto);background-color:var(--calcite-input-suffix-background-color, var(--calcite-color-background));color:var(--calcite-input-suffix-text-color, var(--calcite-color-text-2));border-start-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}:host([prefix-text]:not([prefix-text=""])) input{border-start-start-radius:0;border-end-start-radius:0}:host([suffix-text]:not([suffix-text=""])) input,:host .clearable input{border-start-end-radius:0;border-end-end-radius:0}:host(:not([suffix-text])) .clear-button,:host([suffix-text=""]) .clear-button{border-start-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp));border-end-end-radius:var(--calcite-input-text-corner-radius, var(--calcite-corner-radius-sharp))}:host([alignment=start]){--calcite-internal-input-text-alignment: start}:host([alignment=center]){--calcite-internal-input-text-alignment: center}:host([alignment=end]){--calcite-internal-input-text-alignment: end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`,Zb=class Zb extends lt{constructor(){super(),this.actionWrapperRef=At(),this.attributeWatch=GR(["autofocus","enterkeyhint","inputmode","spellcheck"],this.handleGlobalAttributesChanged),this.childRef=At(),this.inputWrapperRef=At(),this.onHiddenFormInputInput=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),this.setFocus(),e.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.messages=Ei(),this.focusSetter=Ai()(this),this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTextChange=Ie(),this.calciteInputTextInput=Ie(),this.calciteInternalInputTextBlur=Ie(),this.calciteInternalInputTextFocus=Ie(),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}get value(){return this._value}set value(e){const i=this._value;e!==i&&(this._value=e,this.valueWatcher(e,i))}async selectText(){this.childRef.value?.select()}async setFocus(e){return this.focusSetter(()=>this.childRef.value,e)}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),Ah(this),GT(this),this.el.addEventListener(zx,this.onHiddenFormInputInput)}async load(){this.requestedIcon=hm({},this.icon,"text"),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value)}willUpdate(e){e.has("icon")&&(this.requestedIcon=hm({},this.icon,"text"))}updated(){vs(this)}disconnectedCallback(){super.disconnectedCallback(),k1(this),ZT(this),this.el.removeEventListener(zx,this.onHiddenFormInputInput)}get isClearable(){return this.clearable&&this.value.length>0}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(e,i){this.userChangedValue||this.setValue({origin:"direct",previousValue:i,value:e||""}),this.userChangedValue=!1}keyDownHandler(e){this.readOnly||this.disabled||e.defaultPrevented||(this.isClearable&&e.key==="Escape"&&(this.clearInputTextValue(e),e.preventDefault()),e.key==="Enter"&&b1(this)&&e.preventDefault())}onLabelClick(){this.setFocus()}clearInputTextValue(e){this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})}emitChangeIfUserModified(){this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))}inputTextBlurHandler(){this.calciteInternalInputTextBlur.emit({element:this.childRef.value,value:this.value}),this.emitChangeIfUserModified()}clickHandler(e){if(this.disabled)return;const i=e.composedPath();!i.includes(this.inputWrapperRef.value)||i.includes(this.actionWrapperRef.value)||this.setFocus()}inputTextFocusHandler(){this.calciteInternalInputTextFocus.emit({element:this.childRef.value,value:this.value})}inputTextInputHandler(e){this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})}inputTextKeyDownHandler(e){this.disabled||this.readOnly||e.key==="Enter"&&this.emitChangeIfUserModified()}syncHiddenFormInput(e){CD("text",this,e)}setInputValue(e){this.childRef.value&&(this.childRef.value.value=e)}setPreviousEmittedValue(e){this.previousEmittedValue=e}setPreviousValue(e){this.previousValue=e}setValue({committing:e=!1,nativeEvent:i,origin:r,previousValue:n,value:s}){this.setPreviousValue(n??this.value),this.previousValueOrigin=r,this.userChangedValue=r==="user"&&s!==this.value,this.value=s,r==="direct"&&(this.setInputValue(s),this.setPreviousEmittedValue(s)),i&&(this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:e&&this.emitChangeIfUserModified())}render(){const e=Vo(this.el),i=q`<div class=${U(Bn.loader)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,r=q`<button .ariaLabel=${this.messages.clear} class=${U(Bn.clearButton)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${ii(this.scale)}></calcite-icon></button>`,n=q`<calcite-icon class=${U(Bn.inputIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${ii(this.scale)}></calcite-icon>`,s=q`<div class=${U(Bn.prefix)}>${this.prefixText}</div>`,o=q`<div class=${U(Bn.suffix)}>${this.suffixText}</div>`,a=q`<input aria-errormessage=${sI.validationMessage} .ariaInvalid=${this.status==="invalid"} .ariaLabel=${T1(this)} autocomplete=${this.autocomplete??he} .autofocus=${this.el.autofocus} class=${U({[Bn.editingEnabled]:this.editingEnabled,[Bn.inlineChild]:!!this.inlineEditableEl})} value=${this.defaultValue??he} .disabled=${this.disabled?!0:null} enterkeyhint=${this.el.enterKeyHint??he} inputmode=${this.el.inputMode??he} maxlength=${this.maxLength??he} minlength=${this.minLength??he} name=${this.name??he} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern??he} placeholder=${(this.placeholder||"")??he} .readOnly=${this.readOnly} .required=${this.required?!0:null} spellcheck=${this.el.spellcheck??he} tabindex=${(this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null)??he} type=text .value=${wR(this.value??"")} ${Be(this.childRef)}>`;return bs({disabled:this.disabled,children:q`${this.labelText&&o2({labelText:this.labelText,onClick:this.onLabelClick,required:this.required,tooltipText:this.messages.required})||""}<div class=${U({[Bn.inputWrapper]:!0,[Rs.rtl]:e==="rtl",[Bn.clearable]:this.isClearable})} ${Be(this.inputWrapperRef)}>${this.prefixText?s:null}<div class=${U(Bn.wrapper)}>${a}${this.isClearable?r:null}${this.requestedIcon?n:null}${this.loading?i:null}</div><div class=${U(Bn.actionWrapper)} ${Be(this.actionWrapperRef)}><slot name=${PH.action}></slot></div>${this.suffixText?o:null}${YT({component:this})}</div>${this.validationMessage&&this.status==="invalid"?a2({icon:this.validationIcon,id:sI.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}};Zb.properties={slottedActionElDisabledInternally:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],autocomplete:[0,{},{attribute:!1}],clearable:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],editingEnabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],icon:[3,{converter:tl},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],label:1,labelText:1,loading:[7,{},{reflect:!0,type:Boolean}],maxLength:[11,{},{reflect:!0,type:Number}],messageOverrides:[0,{},{attribute:!1}],minLength:[11,{},{reflect:!0,type:Number}],name:[3,{},{reflect:!0}],pattern:1,placeholder:1,prefixText:1,readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],suffixText:1,validationIcon:[3,{converter:tl},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1},Zb.styles=OH;let Yx=Zb;gt("calcite-input-text",Yx);function Bo(t,e,i){if(!t)return;const r=t.getTime(),n=!(e instanceof Date)||r>=e.getTime(),s=!(i instanceof Date)||r<=i.getTime();return n&&s}function jt(t,e,i){if(!(t instanceof Date))return null;const r=t.getTime(),n=e instanceof Date&&r<e.getTime(),s=i instanceof Date&&r>i.getTime();return n?e:s?i:t}function hi(t,e=!1){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;const i=t.split(/[: T-]/).map(parseFloat),r=new Date(i[0],(i[1]||1)-1,i[2]||1);if(r.setFullYear(i[0]),isNaN(r.getTime()))throw new Error(`Invalid ISO 8601 date: "${t}"`);return e?zH(r):r}function oI(t,e){if(!e)return null;const{separator:i}=e,r=DH(t,e),{day:n,month:s}=r,o=ID(r.year,e),a=new Date(o,s,n);a.setFullYear(o);const l=n>0,d=s>-1,h=!isNaN(a.getTime()),f=t.split(i).filter(b=>b).length>2,y=o.toString().length>0;return l&&d&&h&&f&&y?a:null}function ID(t,e){return AD(t,e,"read")}function RH(t,e){return AD(t,e,"write")}function AD(t,e,i){if(e["default-calendar"]!=="buddhist")return t;const n=543*(i==="read"?-1:1);return t+n}function PD(t,e){const{separator:i,unitOrder:r}=e,n=RD(r),s=t.split(i).map(d=>gi.delocalize(d)),o=s[n.indexOf("d")],a=s[n.indexOf("m")],l=s[n.indexOf("y")];return{day:o,month:a,year:l}}function fi(t){if(t instanceof Date){const e=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${String(t.getFullYear()).padStart(4,"0")}-${e}-${i}`}return""}function OD(t){const e=t.split("-");return{day:e[2],month:e[1],year:e[0]}}function Fi(t,e){return t instanceof Date&&e instanceof Date&&t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Af(t){const e=t.getMonth(),i=new Date(t);return i.setMonth(e-1),e===i.getMonth()?new Date(t.getFullYear(),e,0):i}function aI(t,e){const i=new Date(t);return i.setMonth(e),i}function Jx(t,e,i){const r=new Date(t);return r.setDate(1),Bo(r,e,i)?r:jt(r,e,i)}function Do(t){const e=t.getMonth(),i=new Date(t);return i.setMonth(e+1),(e+2)%7===i.getMonth()%7?new Date(t.getFullYear(),e+2,0):i}function DH(t,e){const{day:i,month:r,year:n}=PD(t,e);return{day:parseInt(i),month:parseInt(r)-1,year:parseInt(n)}}function RD(t){const e=["d","m","y"],i=t.toLowerCase();return e.sort((r,n)=>i.indexOf(r)-i.indexOf(n))}function oy(t,e){const i=t.getTime(),r=e.getTime();return(i-r)/(1e3*3600*24)}function zH(t){return t.setHours(23,59,59,999),t}function sc(t,e){return t&&e&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}const NH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;cursor:pointer;outline:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.day-wrapper{position:relative;display:flex;inline-size:100%;flex-direction:column;align-items:center;justify-content:center}.day{position:relative;display:flex;inline-size:100%;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1rem;line-height:1;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;line-height:var(--calcite-font-line-height-fixed-base);block-size:var(--calcite-internal-day-size);outline-color:var(--calcite-color-transparent);background-color:var(--calcite-date-picker-day-background-color);color:var(--calcite-date-picker-day-text-color, var(--calcite-color-text-1))}.text{margin-block:1px 0px;margin-inline-start:0px}:host([scale=s]){--calcite-internal-day-size: 32px}:host([scale=s]) .day{font-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-internal-day-size: 40px}:host([scale=m]) .day{font-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-internal-day-size: 44px}:host([scale=l]) .day{font-size:var(--calcite-font-size-0)}:host(:not([current-month])) .day{opacity:var(--calcite-opacity-full);color:var(--calcite-color-text-3)}:host(:focus:not([disabled]):not([selected]):not([current-month])) .day{color:var(--calcite-color-text-1)}:host(:hover:not([disabled]):not([selected])) .day{background-color:var(--calcite-date-picker-day-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-date-picker-day-text-color-hover, var(--calcite-color-text-1))}:host(:not([range]):not([selected]).current-day) .day{color:var(--calcite-date-picker-current-day-text-color, var(--calcite-color-brand));font-weight:var(--calcite-font-weight-bold)}:host(:focus[selected]) .day{z-index:var(--calcite-z-index);outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));box-shadow:0 0 0 2px var(--calcite-color-foreground-1)}:host(:focus:not([disabled]):not([selected])) .day{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:hover:not([disabled]):not([selected])) .day{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([selected]) .day{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-date-picker-day-background-color-selected, var(--calcite-color-brand));color:var(--calcite-date-picker-day-text-color-selected, var(--calcite-color-foreground-1))}:host([range-hover]:not([selected])) .day{background-color:var(--calcite-date-picker-day-outside-range-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-date-picker-day-outside-range-text-color-hover, var(--calcite-color-text-1))}:host([highlighted]:not([selected])) .day,:host(:hover[highlighted]:not([selected])) .day{color:var(--calcite-date-picker-day-range-text-color, var(--calcite-color-brand));background-color:var(--calcite-date-picker-day-range-background-color, var(--calcite-color-foreground-current))}:host([disabled]) .day{color:var(--calcite-color-text-2);text-decoration-line:line-through;opacity:var(--calcite-opacity-disabled)}@media (forced-colors: active){.day{border-radius:0}:host([selected]){outline:2px solid canvasText}:host(:hover:not([selected])) .day{border-radius:50%}:host([range][selected]) .day,:host([highlighted]) .day,:host([range-hover]:not([selected])) .day{background-color:highlight}:host([range-hover]) .day,:host([range][selected][start-of-range]) .day,:host([range][selected][end-of-range]) .day{background-color:canvas}}:host([hidden]){display:none}[hidden]{display:none}`,e_={dayWrapper:"day-wrapper",day:"day",text:"text"},Yb=class Yb extends lt{constructor(){super(),this.focusSetter=Ai()(this),this.active=!1,this.currentMonth=!1,this.disabled=!1,this.endOfRange=!1,this.highlighted=!1,this.range=!1,this.rangeHover=!1,this.selected=!1,this.startOfRange=!1,this.calciteInternalDayHover=Ie({cancelable:!1}),this.calciteInternalDaySelect=Ie({cancelable:!1}),this.listen("pointerover",this.pointerOverHandler),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler)}async setFocus(e){return this.focusSetter(()=>this.el,e)}load(){this.parentDatePickerEl=pl(this.el,"calcite-date-picker")}updated(){vs(this)}onClick(){this.disabled||this.calciteInternalDaySelect.emit()}keyDownHandler(e){Lc(e.key)&&(this.disabled||this.calciteInternalDaySelect.emit(),e.preventDefault())}pointerOverHandler(){this.disabled||this.calciteInternalDayHover.emit()}render(){const e=fi(this.value).replaceAll("-","");if(this.parentDatePickerEl){const{numberingSystem:n,lang:s}=this.parentDatePickerEl;gi.numberFormatOptions={useGrouping:!1,...n&&{numberingSystem:n},...s&&{locale:s}}}const i=gi.localize(String(this.day)),r=this.dateTimeFormat.format(this.value);return this.el.ariaLabel=r,this.el.ariaSelected=g1(this.active),um(this.el,"id",e),this.el.role="button",um(this.el,"tabIndex",this.active&&!this.disabled?0:-1),bs({disabled:this.disabled,children:q`<div aria-hidden=true class=${U(e_.dayWrapper)}><span class=${U(e_.day)}><span class=${U(e_.text)}>${i}</span></span></div>`})}};Yb.properties={active:[7,{},{reflect:!0,type:Boolean}],currentMonth:[7,{},{reflect:!0,type:Boolean}],dateTimeFormat:[0,{},{attribute:!1}],day:[9,{},{type:Number}],disabled:[7,{},{reflect:!0,type:Boolean}],endOfRange:[7,{},{reflect:!0,type:Boolean}],highlighted:[7,{},{reflect:!0,type:Boolean}],range:[7,{},{reflect:!0,type:Boolean}],rangeEdge:[3,{},{reflect:!0}],rangeHover:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],startOfRange:[7,{},{reflect:!0,type:Boolean}],value:[0,{},{attribute:!1}]},Yb.styles=NH;let Kx=Yb;gt("calcite-date-picker-day",Kx);const LH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{--calcite-icon-size: 1rem;--calcite-spacing-eighth: .125rem;--calcite-spacing-quarter: .25rem;--calcite-spacing-half: .5rem;--calcite-spacing-three-quarters: .75rem;--calcite-spacing: 1rem;--calcite-spacing-plus-quarter: 1.25rem;--calcite-spacing-plus-half: 1.5rem;--calcite-spacing-double: 2rem;--calcite-menu-min-width: 10rem;--calcite-header-min-height: 3rem;--calcite-footer-min-height: 3rem}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column;font-size:var(--calcite-select-font-size);font-weight:var(--calcite-internal-select-font-weight, var(--calcite-font-weight-regular))}.wrapper{position:relative;display:flex;align-items:stretch;inline-size:var(--select-width);block-size:var(--calcite-internal-select-block-size, 32px)}.wrapper:focus-within .icon,.wrapper:active .icon,.wrapper:hover .icon{color:var(--calcite-select-icon-color-hover, var(--calcite-color-text-1))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-select-font-size: var(--calcite-font-size--2);--calcite-select-spacing-inline: .5rem 2rem;--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-sm);--calcite-internal-select-block-size: 24px}:host([scale=m]){--calcite-internal-select-font-size: var(--calcite-font-size--1);--calcite-select-spacing-inline: .75rem 2.5rem;--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-md)}:host([scale=l]){--calcite-internal-select-font-size: var(--calcite-font-size-0);--calcite-select-spacing-inline: 1rem 3rem;--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-lg);--calcite-internal-select-block-size: 44px}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}.select{margin:0;box-sizing:border-box;inline-size:100%;cursor:pointer;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-style:solid;font-family:inherit;outline-color:transparent;font-weight:inherit;font-size:var(--calcite-select-font-size, var(--calcite-internal-select-font-size));color:var(--calcite-select-text-color, var(--calcite-color-text-2));border-color:var(--calcite-select-border-color, var(--calcite-color-border-input));border-width:var(--calcite-select-internal-border-width, var(--calcite-border-width-sm));padding-inline:var(--calcite-select-spacing-inline);padding-block:var(--calcite-internal-select-spacing-block);border-inline-end-width:0;line-height:var(--calcite-internal-select-line-height, normal);background-color:var(--calcite-select-background-color, var(--calcite-color-foreground-1));border-radius:var(--calcite-select-corner-radius, var(--calcite-corner-radius-none));box-shadow:var(--calcite-select-shadow, var(--calcite-shadow-small))}.select:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}select:disabled{border-color:var(--calcite-color-border-input);--tw-bg-opacity: 1}.icon-container{pointer-events:none;position:absolute;inset-block:0px;display:flex;align-items:center;border-width:0px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:transparent;color:var(--calcite-color-text-2);inset-inline-end:0px;border-start-start-radius:var(--calcite-select-corner-radius, var(--calcite-corner-radius-none));border-start-end-radius:var(--calcite-select-corner-radius, var(--calcite-corner-radius-none));border-end-start-radius:var(--calcite-select-corner-radius, var(--calcite-corner-radius-none));border-end-end-radius:var(--calcite-select-corner-radius, var(--calcite-corner-radius-none));border-color:var(--calcite-select-border-color, var(--calcite-color-border-input));border-inline-width:0 var(--calcite-select-internal-icon-border-inline-end-width, var(--calcite-border-width-sm));padding-inline:var(--calcite-internal-select-icon-container-padding-inline)}.icon-container .icon{color:var(--calcite-select-icon-color, var(--calcite-color-text-3))}:host([status=invalid]) select,:host([status=invalid]) .icon-container{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) select:focus,:host([status=invalid]) .icon-container:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-status-danger);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.select:focus~.icon-container{border-color:transparent}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`,ay={icon:"icon",iconContainer:"icon-container",select:"select",wrapper:"wrapper"},lI={validationMessage:"selectValidationMessage"};function ly(t){return t.tagName==="CALCITE-OPTION"}function FH(t){return t.tagName==="CALCITE-OPTION-GROUP"}const Jb=class Jb extends lt{constructor(){super(),this.componentToNativeEl=new Map,this.mutationObserver=hs("mutation",()=>this.populateInternalSelect()),this.messages=Ei(),this.focusSetter=Ai()(this),this.disabled=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.value=null,this.width="auto",this.calciteSelectChange=Ie({cancelable:!1}),this.listen("calciteInternalOptionChange",this.handleOptionOrGroupChange),this.listen("calciteInternalOptionGroupChange",this.handleOptionOrGroupChange)}async setFocus(e){return this.focusSetter(()=>this.selectEl,e)}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{subtree:!0,childList:!0}),Ah(this),GT(this)}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==null)&&this.updateItemsFromValue(this.value),e.has("selectedOption")&&(this.value=this.selectedOption?.value)}updated(){vs(this)}loaded(){typeof this.value=="string"&&this.updateItemsFromValue(this.value),this.populateInternalSelect();const e=this.selectEl?.selectedOptions[0];this.selectFromNativeOption(e),hB(this,this.selectedOption?.value??"")}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),k1(this),ZT(this)}handleInternalSelectChange(){const e=this.selectEl.selectedOptions[0];this.selectFromNativeOption(e),requestAnimationFrame(()=>this.emitChangeEvent())}handleOptionOrGroupChange(e){e.stopPropagation();const i=e.target,r=this.componentToNativeEl.get(i);r&&(this.updateNativeElement(i,r),ly(i)&&i.selected&&(this.deselectAllExcept(i),this.selectedOption=i))}onLabelClick(){this.setFocus()}updateItemsFromValue(e){this.el.querySelectorAll("calcite-option").forEach(i=>i.selected=i.value===e)}updateNativeElement(e,i){if(i.disabled=e.disabled,i.label=e.label,ly(e)){const r=i;r.selected=e.selected,r.value=e.value,r.innerText=e.label}}populateInternalSelect(){const e=Array.from(this.el.children).filter(i=>i.tagName==="CALCITE-OPTION"||i.tagName==="CALCITE-OPTION-GROUP");this.clearInternalSelect(),e.forEach(i=>this.selectEl?.append(this.toNativeElement(i)))}clearInternalSelect(){this.componentToNativeEl.forEach(e=>e.remove()),this.componentToNativeEl.clear()}storeSelectRef(e){e&&(this.selectEl=e)}selectFromNativeOption(e){if(!e)return;let i;this.componentToNativeEl.forEach((r,n)=>{ly(n)&&r===e&&(n.selected=!0,i=n,this.deselectAllExcept(n))}),i&&(this.selectedOption=i)}toNativeElement(e){if(ly(e)){const i=document.createElement("option");return this.updateNativeElement(e,i),this.componentToNativeEl.set(e,i),i}if(FH(e)){const i=document.createElement("optgroup");return this.updateNativeElement(e,i),Array.from(e.children).forEach(r=>{const n=this.toNativeElement(r);i.append(n),this.componentToNativeEl.set(e,n)}),this.componentToNativeEl.set(e,i),i}throw new Error("unsupported element child provided")}deselectAllExcept(e){this.el.querySelectorAll("calcite-option").forEach(i=>{i!==e&&(i.selected=!1)})}emitChangeEvent(){this.calciteSelectChange.emit()}renderChevron(){return q`<div class=${U(ay.iconContainer)}><calcite-icon class=${U(ay.icon)} icon=chevron-down .scale=${ii(this.scale)}></calcite-icon></div>`}render(){const{disabled:e}=this;return bs({disabled:e,children:q`${this.labelText&&o2({labelText:this.labelText,onClick:this.onLabelClick,required:this.required,tooltipText:this.messages.required})||""}<div class=${U(ay.wrapper)}><select aria-errormessage=${lI.validationMessage} .ariaInvalid=${this.status==="invalid"} .ariaLabel=${T1(this)} class=${U(ay.select)} .disabled=${e} @change=${this.handleInternalSelectChange} .required=${this.required} ${Be(this.storeSelectRef)}><slot></slot></select>${this.renderChevron()}${YT({component:this})}</div>${this.validationMessage&&this.status==="invalid"?a2({icon:this.validationIcon,id:lI.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}};Jb.properties={disabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],label:1,labelText:1,name:[3,{},{reflect:!0}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selectedOption:[0,{},{attribute:!1}],status:[3,{},{reflect:!0}],validationIcon:[3,{converter:tl},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1,width:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}]},Jb.styles=LH;let Xx=Jb;gt("calcite-select",Xx);const jH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block}:host([hidden]){display:none}[hidden]{display:none}`,Kb=class Kb extends lt{constructor(){super(...arguments),this.mutationObserver=hs("mutation",()=>{this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}),this.disabled=!1,this.calciteInternalOptionChange=Ie({cancelable:!1})}connectedCallback(){super.connectedCallback(),this.ensureTextContentDependentProps(),this.mutationObserver?.observe(this.el,{attributeFilter:["label","value"],characterData:!0,childList:!0,subtree:!0})}willUpdate(e){e.has("disabled")&&(this.hasUpdated||this.disabled!==!1)&&this.handlePropChange(this.disabled,e.get("disabled"),"disabled"),e.has("label")&&this.handlePropChange(this.label,e.get("label"),"label"),e.has("selected")&&this.handlePropChange(this.selected,e.get("selected"),"selected"),e.has("value")&&this.handlePropChange(this.value,e.get("value"),"value")}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect()}handlePropChange(e,i,r){(r==="label"||r==="value")&&this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}ensureTextContentDependentProps(){const{el:{textContent:e},internallySetLabel:i,internallySetValue:r,label:n,value:s}=this;(!n||n===i)&&(this.label=e,this.internallySetLabel=e),(s==null||s===r)&&(this.value=e,this.internallySetValue=e)}render(){return q`<slot>${this.label}</slot>`}};Kb.properties={disabled:[7,{},{reflect:!0,type:Boolean}],label:1,selected:[7,{},{reflect:!0,type:Boolean}],value:1},Kb.styles=jH;let Qx=Kb;gt("calcite-option",Qx);const UH={max:"320px"},VH={max:"476px"},BH={max:"768px"},qH={max:"1152px"},HH="2px",GH="0.25rem",WH="0.5rem";const ZH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block}.header{display:flex;block-size:100%;align-items:center;justify-content:space-between}.chevron-container{display:flex;align-items:center}:host([scale=s]){block-size:24px;margin:var(--calcite-spacing-xs);margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .chevron-container,:host([scale=s]) .chevron{min-inline-size:24px;block-size:24px}:host([scale=m]){block-size:32px;margin:var(--calcite-spacing-sm);margin-inline-start:var(--calcite-spacing-sm-plus)}:host([scale=m]) .chevron-container,:host([scale=m]) .chevron{min-inline-size:32px;block-size:32px;--calcite-internal-action-padding-block: var(--calcite-spacing-xxs)}:host([scale=l]){block-size:44px;margin:var(--calcite-spacing-xs);margin-inline-start:var(--calcite-spacing-sm)}:host([scale=l]) .chevron-container,:host([scale=l]) .chevron{min-inline-size:44px;block-size:44px;--calcite-internal-action-padding-block: var(--calcite-spacing-sm-plus)}.chevron{box-sizing:content-box;display:flex;block-size:100%;inline-size:100%;flex-grow:0;cursor:pointer;align-items:center;justify-content:center;border-style:none;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;--calcite-internal-action-padding-block: 0;--calcite-action-background-color: var(--calcite-date-picker-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-date-picker-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-date-picker-header-action-background-color-press);--calcite-action-text-color: var(--calcite-date-picker-header-action-text-color);--calcite-action-text-color-press: var(--calcite-date-picker-header-action-text-color-press)}.chevron:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.chevron[aria-disabled=true]{pointer-events:none}.month-year-container{display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;align-items:center;justify-content:flex-start;text-align:center;line-height:1;gap:var(--calcite-spacing-xxs)}.month-year-container.range-calendar{justify-content:center}.year-container{position:relative;display:flex;block-size:100%}.suffix{display:flex;align-items:center}.year,.suffix{margin-inline:var(--calcite-spacing-xxs);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-date-picker-year-text-color, var(--calcite-color-text-1));font-size:var(--calcite-font-size-md);line-height:var(--calcite-font-line-height-fixed-lg)}.year{position:relative;display:inline-block;border-style:none;background-color:transparent;text-align:center;font-family:inherit;outline-color:transparent;inline-size:44px}.year:hover{transition-timing-function:cubic-bezier(.4,0,.2,1);transition-property:outline-color;outline:2px solid var(--calcite-color-border-2);outline-offset:-2px}.year:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.month-select{--calcite-select-internal-border-width: 0;--calcite-select-internal-icon-border-inline-end-width: 0;--calcite-select-spacing-inline: var(--calcite-spacing-xxs);--calcite-select-font-size: var(--calcite-date-picker-month-select-font-size, var(--calcite-font-size-md));--calcite-select-text-color: var(--calcite-date-picker-month-select-text-color, var(--calcite-color-text-1));--calcite-select-icon-color: var(--calcite-date-picker-month-select-icon-color);--calcite-select-icon-color-hover: var(--calcite-date-picker-month-select-icon-color-hover);--calcite-internal-select-spacing-block: var(--calcite-spacing-xxs);--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-xxs);--calcite-internal-select-line-height: var(--calcite-font-line-height-fixed-lg);--calcite-internal-select-font-weight: var(--calcite-font-weight-medium)}:host([scale=s]) .month-year-container .month-select{--calcite-select-spacing-inline: var(--calcite-spacing-base);--calcite-select-font-size: var(--calcite-date-picker-month-select-font-size, var(--calcite-font-size));--calcite-internal-select-spacing-block: var(--calcite-spacing-base);--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-base);--calcite-internal-select-block-size: 24px;--calcite-internal-select-line-height: var(--calcite-font-line-height-fixed-base)}:host([scale=s]) .month-year-container .year{inline-size:40px}:host([scale=s]) .month-year-container .year,:host([scale=s]) .month-year-container .suffix{font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-fixed-base)}:host([scale=l]) .month-year-container .month-select{--calcite-select-spacing-inline: var(--calcite-spacing-sm);--calcite-select-font-size: var(--calcite-date-picker-month-select-font-size, var(--calcite-font-size-lg));--calcite-internal-select-spacing-block: var(--calcite-spacing-sm);--calcite-internal-select-icon-container-padding-inline: var(--calcite-spacing-sm);--calcite-internal-select-block-size: 44px;--calcite-internal-select-line-height: var(--calcite-font-line-height-fixed-xl)}:host([scale=l]) .month-year-container .year{inline-size:48px}:host([scale=l]) .month-year-container .year,:host([scale=l]) .month-year-container .suffix{font-size:var(--calcite-font-size-lg);line-height:var(--calcite-font-line-height-fixed-xl)}:host([hidden]){display:none}[hidden]{display:none}`,qn={header:"header",chevron:"chevron",chevronContainer:"chevron-container",monthYearContainer:"month-year-container",monthPicker:"month-select",rangeCalendar:"range-calendar",suffix:"suffix",yearContainer:"year-container",year:"year"},cI={chevronLeft:"chevron-left",chevronRight:"chevron-right"},YH=16,Xb=class Xb extends lt{constructor(){super(...arguments),this.monthPickerRef=At(),this.nextMonthActionRef=At(),this.prevMonthActionRef=At(),this.yearInputRef=At(),this.calciteInternalDatePickerMonthHeaderSelectChange=Ie({cancelable:!1})}connectedCallback(){super.connectedCallback(),this.setNextPrevMonthDates()}load(){this.parentDatePickerEl=pl(this.el,"calcite-date-picker")}willUpdate(e){this.hasUpdated&&(e.has("activeDate")||e.has("localeData"))&&this.setYearSelectMenuWidth(),this.hasUpdated&&e.has("scale")&&this.setYearSelectWidthOffset(),(e.has("min")||e.has("max")||e.has("activeDate"))&&this.setNextPrevMonthDates()}loaded(){this.setYearSelectWidthOffset()}setNextPrevMonthDates(){this.activeDate&&(this.nextMonthDate=jt(Do(this.activeDate),this.min,this.max),this.prevMonthDate=jt(Af(this.activeDate),this.min,this.max))}onYearKey(e){const i=this.parseCalendarYear(e.target.value);switch(e.key){case"ArrowDown":e.preventDefault(),this.setYear({localizedYear:i,offset:-1});break;case"ArrowUp":e.preventDefault(),this.setYear({localizedYear:i,offset:1});break}}formatCalendarYear(e){return gi.localize(`${RH(e,this.localeData)}`)}parseCalendarYear(e){return gi.localize(`${ID(Number(gi.delocalize(e)),this.localeData)}`)}onYearChange(e){this.setYear({localizedYear:this.parseCalendarYear(e.target.value)})}onYearInput(e){this.setYear({localizedYear:this.parseCalendarYear(e.target.value),commit:!1})}prevMonthClick(e){this.handleArrowClick(e,this.prevMonthDate)}prevMonthKeydown(e){Lc(e.key)&&this.prevMonthClick(e)}nextMonthClick(e){this.handleArrowClick(e,this.nextMonthDate)}nextMonthKeydown(e){Lc(e.key)&&this.nextMonthClick(e)}async handleArrowClick(e,i){e.preventDefault(),await this.handlePenultimateValidMonth(e),this.calciteInternalDatePickerMonthHeaderSelectChange.emit(i)}handleMonthChange(e){const i=e.target,{abbreviated:r,wide:n}=this.localeData.months,o=(this.monthStyle==="wide"?n:r).indexOf(i.value);let a=aI(this.activeDate,o);Bo(a,this.min,this.max)||(a=jt(a,this.min,this.max)),this.calciteInternalDatePickerMonthHeaderSelectChange.emit(a),this.setYearSelectMenuWidth()}getInRangeDate({localizedYear:e,offset:i=0}){const{min:r,max:n,activeDate:s}=this,o=Number(gi.delocalize(e)),a=o.toString().length,l=isNaN(o)?!1:o+i,d=l&&(!r||r.getFullYear()<=l)&&(!n||n.getFullYear()>=l);if(l&&d&&a===e.length){const h=new Date(s);return h.setFullYear(l),jt(h,r,n)}}setYear({localizedYear:e,commit:i=!0,offset:r=0}){const{yearInputRef:n,activeDate:s}=this,o=this.getInRangeDate({localizedYear:e,offset:r});o&&this.calciteInternalDatePickerMonthHeaderSelectChange.emit(o),i&&(n.value.value=this.formatCalendarYear((o||s).getFullYear()))}setYearSelectWidthOffset(){this.yearSelectWidthOffset=YH+3*parseInt(this.getYearSelectPadding()),this.setYearSelectMenuWidth()}setYearSelectMenuWidth(){const e=this.monthPickerRef.value;e&&requestAnimationFrame(()=>{const i=getComputedStyle(e),r=`${i.fontStyle} ${i.fontVariant} ${i.fontWeight} ${i.fontSize}/${i.lineHeight} ${i.fontFamily}`,s=this.localeData.months[this.monthStyle][this.activeDate.getMonth()],o=Math.ceil(LU(s,r));e.style.width=`${o+this.yearSelectWidthOffset}px`})}isMonthInRange(e){const i=aI(this.activeDate,e);return!this.min&&!this.max||Bo(i,this.min,this.max)?!0:sc(i,this.max)||sc(i,this.min)}async handlePenultimateValidMonth(e){const n=e.target.getAttribute("data-direction")==="left";let s;if(n&&this.min){const o=jt(Af(this.activeDate),this.min,this.max);s=sc(o,this.min)}else if(this.max){const o=jt(Do(this.activeDate),this.min,this.max);s=sc(o,this.max)}if(s)if(this.position)this.yearInputRef.value?.focus();else{const a=(n?this.nextMonthActionRef:this.prevMonthActionRef).value;if(!a)return;a.disabled=!1,await a.setFocus()}}getPx(e){const i=Number(e.replace(/[rem|px]/g,"")),r=16;return e.includes("rem")?`${i*r}px`:`${i}px`}getYearSelectPadding(){let e;switch(this.scale){case"l":e=WH;break;case"s":e=HH;break;default:e=GH;break}return this.getPx(e)}render(){return q`<div class=${U(qn.header)}>${this.renderContent()}</div>`}renderContent(){const{localeData:e,activeDate:i}=this;if(!i||!e)return null;if(this.parentDatePickerEl){const{numberingSystem:s,lang:o}=this.parentDatePickerEl;gi.numberFormatOptions={useGrouping:!1,...s&&{numberingSystem:s},...o&&{locale:o}}}const r=RD(e.unitOrder),n=r.indexOf("y")<r.indexOf("m");return q`${this.position&&q`<div class=${U({[qn.chevronContainer]:!0})}>${this.position==="start"&&this.renderChevron("left")||""}</div>`||""}<div class=${U({[qn.monthYearContainer]:!0,[qn.rangeCalendar]:!!this.position})}>${this.renderMonthYearContainer(n)}</div>${!this.position&&q`<div class=${U({[qn.chevronContainer]:!0})}>${this.renderChevron("left")}</div>`||""}<div class=${U({[qn.chevronContainer]:!0})}>${this.position!=="start"&&this.renderChevron("right")||""}</div>`}renderMonthYearContainer(e){return e?[this.renderYearInput(),this.renderMonthPicker()]:[this.renderMonthPicker(),this.renderYearInput()]}renderMonthPicker(){const e=this.activeDate.getMonth(),i=this.localeData.months[this.monthStyle];return q`<calcite-select class=${U(qn.monthPicker)} .label=${this.messages.monthMenu} @calciteSelectChange=${this.handleMonthChange} width=auto ${Be(this.monthPickerRef)}>${i.map((r,n)=>q`<calcite-option .disabled=${!this.isMonthInRange(n)} .selected=${n===e} .value=${r}>${r}</calcite-option>`)}</calcite-select>`}renderYearInput(){const e=this.localeData.year?.suffix,i=this.formatCalendarYear(this.activeDate.getFullYear());return q`<span class=${U(qn.yearContainer)}><input .ariaLabel=${this.messages.year} class=${U({[qn.year]:!0})} inputmode=numeric maxlength=4 minlength=1 @change=${this.onYearChange} @input=${this.onYearInput} @keydown=${this.onYearKey} pattern=\\d* type=text .value=${wR(i??"")} ${Be(this.yearInputRef)}>${e&&q`<span class=${U(qn.suffix)}>${e}</span>`||""}</span>`}renderChevron(e){const i=e==="right",r=sc(i?this.nextMonthDate:this.prevMonthDate,this.activeDate)||!Bo(this.activeDate,this.min,this.max);return q`<calcite-action alignment=center .ariaDisabled=${r} .ariaLabel=${i?this.messages.nextMonth:this.messages.prevMonth} class=${U(qn.chevron)} compact data-direction=${e??he} .disabled=${r} .icon=${i?cI.chevronRight:cI.chevronLeft} icon-flip-rtl @click=${i?this.nextMonthClick:this.prevMonthClick} @keydown=${i?this.nextMonthKeydown:this.prevMonthKeydown} role=button .scale=${this.scale==="l"?"l":"m"} .text=${i?this.messages.nextMonth:this.messages.prevMonth} ${Be(i?this.nextMonthActionRef:this.prevMonthActionRef)}></calcite-action>`}};Xb.properties={nextMonthDate:[16,{},{state:!0}],prevMonthDate:[16,{},{state:!0}],activeDate:[0,{},{attribute:!1}],headingLevel:[9,{},{type:Number}],localeData:[0,{},{attribute:!1}],max:[0,{},{attribute:!1}],messages:[0,{},{attribute:!1}],min:[0,{},{attribute:!1}],monthStyle:1,position:1,scale:[3,{},{reflect:!0}],selectedDate:[0,{},{attribute:!1}]},Xb.styles=ZH;let e$=Xb;gt("calcite-date-picker-month-header",e$);const ln={calendar:"calendar",calendarContainer:"calendar-container",calendarStart:"calendar--start",currentDay:"current-day",dayContainer:"day-container",insideRangeHover:"inside-range--hover",month:"month",noncurrent:"noncurrent",outsideRangeHover:"outside-range--hover",weekDays:"week-days",weekHeader:"week-header",weekHeaderContainer:"week-header-container"},JH=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([hidden]){display:none}[hidden]{display:none}.calendar-container{display:flex;inline-size:100%}:host([range][layout=vertical]) .calendar-container{flex-direction:column}.calendar{inline-size:100%}.week-header-container{display:flex;block-size:16px;padding-inline:var(--calcite-spacing-sm);padding-block:var(--calcite-spacing-md)}.week-header{display:flex;align-items:center;justify-content:center;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-bold);inline-size:14.2857142857%;color:var(--calcite-date-picker-week-header-text-color, var(--calcite-color-text-2))}.day-container{display:flex;inline-size:100%;min-inline-size:0px;justify-content:center}.day-container calcite-date-picker-day{inline-size:100%}.week-days{display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:1fr;padding-inline:var(--calcite-spacing-sm);padding-block-end:var(--calcite-spacing-sm)}.month-header{display:flex;inline-size:100%;justify-content:space-between}.month{display:flex;inline-size:100%;flex-direction:column;justify-content:space-between}.day{font-size:var(--calcite-font-size)}:host([scale=s]) .week-days{padding-inline:var(--calcite-spacing-xs);padding-block-end:var(--calcite-spacing-xs)}:host([scale=s]) .week-header-container{padding-inline:var(--calcite-spacing-xs);padding-block:var(--calcite-spacing-sm)}:host([scale=s]) .day{font-size:var(--calcite-font-size-sm)}:host([scale=l]) .week-header{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .week-days{padding-inline:var(--calcite-spacing-md);padding-block-end:var(--calcite-spacing-md)}:host([scale=l]) .week-header-container{padding-inline:var(--calcite-spacing-md);padding-block:var(--calcite-spacing-md-plus)}:host([scale=l]) .day{font-size:var(--calcite-font-size-md)}.calendar--start{border-width:0px;border-style:solid;border-color:var(--calcite-date-picker-range-calendar-divider-color, var(--calcite-color-border-1))}:host([range][layout=horizontal][calendars="2"]) .calendar--start{border-inline-end-width:var(--calcite-border-width-sm)}:host([range][layout=vertical][calendars="2"]) .calendar--start{border-block-end-width:var(--calcite-border-width-sm)}.noncurrent{pointer-events:none;opacity:0}`,vp=7,t_=6,uI=42,Qb=class Qb extends lt{constructor(){super(),this.storeDayRef=e=>{e?.active&&this.activeFocus&&e.setFocus()},this.activeDate=new Date,this.calendars=2,this.range=!1,this.calciteInternalDatePickerDayHover=Ie({cancelable:!1}),this.calciteInternalDatePickerDaySelect=Ie({cancelable:!1}),this.calciteInternalDatePickerMonthActiveDateChange=Ie({cancelable:!1}),this.calciteInternalDatePickerMonthChange=Ie({cancelable:!1}),this.calciteInternalDatePickerMonthMouseOut=Ie({cancelable:!1}),this.listen("pointerout",this.pointerOutHandler),this.listen("focusout",this.disableActiveFocus)}load(){this.focusedDate=this.selectedDate||this.activeDate}willUpdate(e){e.has("activeDate")&&this.updateFocusedDateWithActive(this.activeDate),e.has("selectedDate")&&(this.focusedDate=this.selectedDate)}updateFocusedDateWithActive(e){this.selectedDate||(this.focusedDate=Bo(e,this.min,this.max)?e:jt(e,this.min,this.max))}keyDownHandler(e){if(e.defaultPrevented)return;const i=this.el.dir==="rtl",r=e.target.value;switch(e.key){case"ArrowUp":e.preventDefault(),this.addDays(-7,r);break;case"ArrowRight":e.preventDefault(),this.addDays(i?-1:1,r);break;case"ArrowDown":e.preventDefault(),this.addDays(7,r);break;case"ArrowLeft":e.preventDefault(),this.addDays(i?1:-1,r);break;case"PageUp":e.preventDefault(),this.addMonths(-1,r);break;case"PageDown":e.preventDefault(),this.addMonths(1,r);break;case"Home":e.preventDefault(),this.activeDate.setDate(1),this.addDays(0,r);break;case"End":e.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays(0,r);break;case"Enter":case" ":e.preventDefault();break;case"Tab":this.activeFocus=!1}}disableActiveFocus(){this.activeFocus=!1}pointerOutHandler(){this.calciteInternalDatePickerMonthMouseOut.emit()}addMonths(e,i){const r=new Date(i);r.setMonth(i.getMonth()+e),this.calciteInternalDatePickerMonthActiveDateChange.emit(jt(r,this.min,this.max)),this.focusedDate=jt(r,this.min,this.max),this.activeFocus=!0,this.calciteInternalDatePickerDayHover.emit(r)}addDays(e=0,i){const r=new Date(i);r.setDate(i.getDate()+e),this.calciteInternalDatePickerMonthActiveDateChange.emit(jt(r,this.min,this.max)),this.focusedDate=jt(r,this.min,this.max),this.activeFocus=!0,this.calciteInternalDatePickerDayHover.emit(r)}getPreviousMonthDays(e,i,r){const n=new Date(i,e,0),s=n.getDate(),o=n.getDay(),a=[];if(o===(r+t_)%vp)return a;if(o===r)return[s];for(let l=(vp+o-r)%vp;l>=0;l--)a.push(s-l);return a}getCurrentMonthDays(e,i){const r=new Date(i,e+1,0).getDate(),n=[];for(let s=0;s<r;s++)n.push(s+1);return n}getNextMonthDays(e,i,r){const n=new Date(i,e+1,0).getDay(),s=[];if(n===(r+t_)%vp)return s;for(let o=0;o<(t_-(n-r))%vp;o++)s.push(o+1);return s}betweenSelectedRange(e){return!!(this.startDate&&this.endDate&&e>this.startDate&&e<this.endDate&&!this.isRangeHover(e))}isSelected(e){return!!(Fi(e,this.selectedDate)||this.startDate&&Fi(e,this.startDate)||this.endDate&&Fi(e,this.endDate))}isStartOfRange(e){return!!(this.startDate&&!Fi(this.startDate,this.endDate)&&Fi(this.startDate,e)&&!this.isEndOfRange(e))}isEndOfRange(e){return!!(this.endDate&&!Fi(this.startDate,this.endDate)&&Fi(this.endDate,e)||!this.endDate&&this.hoverRange&&Fi(this.startDate,this.hoverRange.end)&&Fi(e,this.hoverRange.end))}dayHover(e){const i=e.target;i.disabled?this.calciteInternalDatePickerMonthMouseOut.emit():this.calciteInternalDatePickerDayHover.emit(i.value),e.stopPropagation()}daySelect(e){const i=e.target;this.activeFocus=!1,this.calciteInternalDatePickerDaySelect.emit(i.value),e.stopPropagation()}isFocusedOnStart(){return this.hoverRange?.focused==="start"}isHoverInRange(){if(!this.hoverRange||!this.startDate)return!1;const{start:e,end:i}=this.hoverRange,r=this.isFocusedOnStart(),n=this.startDate&&i>this.startDate,s=this.endDate&&i<this.endDate,o=this.startDate&&e>this.startDate,a=this.endDate&&e<this.endDate,l=!r&&this.startDate&&n&&(!this.endDate||s),d=r&&this.startDate&&o&&a;return l||d}isRangeHover(e){if(!this.hoverRange)return!1;const{start:i,end:r}=this.hoverRange,n=this.isFocusedOnStart(),s=this.isHoverInRange(),o=e>i&&e<this.startDate,a=e<r&&e>this.endDate,l=e>r&&e<this.endDate,d=e<i&&e>this.startDate,h=e<r&&e>this.startDate,f=e>i&&e<this.endDate,y=this.startDate&&this.endDate;if(s){if(y)return n?e<this.endDate&&(d||o):l||a;if(this.startDate&&!this.endDate)return n?o:h;if(!this.startDate&&this.endDate)return n?f:a}else if(y)return n?o:a}getDays(e,i,r,n="start"){let s=this.activeDate.getMonth();const o=s+1;s=n==="end"?o:s;let a=0;const l=()=>a++%7,d=this.activeDate.getFullYear();return[...e.map(f=>({active:!1,day:f,dayInWeek:l(),date:new Date(d,s-1,f)})),...i.map(f=>{const y=new Date(d,s,f),b=Fi(y,new Date);return{active:this.focusedDate&&this.focusedDate!==this.startDate&&this.focusedDate!==this.endDate?Fi(y,this.focusedDate):Fi(y,this.startDate)||Fi(y,this.endDate),currentMonth:!0,currentDay:b,day:f,dayInWeek:l(),date:y}}),...r.map(f=>({active:!1,day:f,dayInWeek:l(),date:new Date(d,o,f)}))]}monthHeaderSelectChange(e){const i=new Date(e.detail),r=e.target;this.updateFocusableDate(i),e.stopPropagation(),this.calciteInternalDatePickerMonthChange.emit({date:i,position:r.position})}updateFocusableDate(e){!this.selectedDate||!this.range?this.focusedDate=this.getFirstValidDateOfMonth(e):this.selectedDate&&this.range&&(!sc(this.startDate,e)||!sc(this.endDate,e))&&(this.focusedDate=this.getFirstValidDateOfMonth(e))}getFirstValidDateOfMonth(e){return e.getDate()===1?e:Jx(e,this.min,this.max)}render(){const e=this.activeDate.getMonth(),i=this.activeDate.getFullYear(),r=this.localeData.weekStart%7,{abbreviated:n,short:s,narrow:o}=this.localeData.days,a=this.scale==="s"?o||s||n:s||n||o,l=[...a.slice(r,7),...a.slice(0,r)],d=this.getCurrentMonthDays(e,i),h=this.getPreviousMonthDays(e,i,r),f=this.getNextMonthDays(e,i,r),y=d.length+h.length+f.length;if(y<uI){const j=f.length?f[f.length-1]:0;for(let D=1;D<=uI-y;D++)f.push(j+D)}const b=e+1,x=this.getPreviousMonthDays(b,i,r),$=this.getCurrentMonthDays(b,i),E=this.getNextMonthDays(b,i,r),C=this.getDays(h,d,f),O=this.getDays(x,$,E,"end");return q`<div class=${U({[ln.calendarContainer]:!0})} role=grid>${this.renderCalendar(l,C)}${this.range&&this.calendars===2&&this.renderCalendar(l,O,!0)||""}</div>`}renderDateDay({active:e,currentMonth:i,currentDay:r,date:n,day:s,dayInWeek:o},a){const l=Bo(n,this.min,this.max);return Ve(a,q`<div class=${U({[ln.dayContainer]:!0})} role=gridcell><calcite-date-picker-day .active=${e} class=${U({[ln.currentDay]:r,[ln.insideRangeHover]:this.isHoverInRange(),[ln.outsideRangeHover]:!this.isHoverInRange(),[ln.noncurrent]:this.range&&!i})} .currentMonth=${i} .dateTimeFormat=${this.dateTimeFormat} .day=${s} .disabled=${!l} .endOfRange=${this.isEndOfRange(n)} .highlighted=${this.betweenSelectedRange(n)} @calciteInternalDayHover=${this.dayHover} @calciteInternalDaySelect=${this.daySelect} .range=${!!this.startDate&&!!this.endDate&&!Fi(this.startDate,this.endDate)} .rangeEdge=${o===0?"start":o===6?"end":void 0} .rangeHover=${l&&this.isRangeHover(n)} .scale=${this.scale} .selected=${this.isSelected(n)} .startOfRange=${this.isStartOfRange(n)} .value=${n} ${Be(this.storeDayRef)}></calcite-date-picker-day></div>`)}renderCalendar(e,i,r=!1){return q`<div class=${U({[ln.calendar]:!0,[ln.calendarStart]:!r})}><calcite-date-picker-month-header .activeDate=${r?Do(this.activeDate):this.activeDate} data-test-calendar=${r?"end":"start"} .headingLevel=${this.headingLevel} .localeData=${this.localeData} .max=${this.max} .messages=${this.messages} .min=${this.min} .monthStyle=${this.monthStyle} @calciteInternalDatePickerMonthHeaderSelectChange=${this.monthHeaderSelectChange} .position=${r?"end":this.range&&this.calendars===2?"start":null} .scale=${this.scale} .selectedDate=${this.selectedDate}></calcite-date-picker-month-header>${this.renderMonthCalendar(e,i,r)}</div>`}renderMonthCalendar(e,i,r=!1){return q`<div class=${U({[ln.month]:!0})} @keydown=${this.keyDownHandler}><div class=${U({[ln.weekHeaderContainer]:!0})} role=row>${e.map(s=>q`<span class=${U({[ln.weekHeader]:!0})} role=columnheader>${s}</span>`)}</div><div class=${U({[ln.weekDays]:!0})} role=row>${i.map((s,o)=>this.renderDateDay(s,r?50+o:o))}</div></div>`}};Qb.properties={focusedDate:[16,{},{state:!0}],activeDate:[0,{},{attribute:!1}],calendars:[11,{},{type:Number,reflect:!0}],dateTimeFormat:[0,{},{attribute:!1}],endDate:[0,{},{attribute:!1}],headingLevel:[11,{},{type:Number,reflect:!0}],hoverRange:[0,{},{attribute:!1}],layout:[3,{},{reflect:!0}],localeData:[0,{},{attribute:!1}],max:[0,{},{attribute:!1}],messages:[0,{},{attribute:!1}],min:[0,{},{attribute:!1}],monthStyle:1,range:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selectedDate:[0,{},{attribute:!1}],startDate:[0,{},{attribute:!1}]},Qb.styles=JH;let t$=Qb;gt("calcite-date-picker-month",t$);const i_={},r_={};async function l2(t){const e=y1(t);if(i_[e])return i_[e];r_[e]||(r_[e]=fetch(jT(`./assets/date-picker/nls/${e}.json`)).then(r=>r.json()).catch(()=>(console.error(`Native Language Support data for "${e}" not found or invalid, falling back to english`),l2("en"))));const i=await r_[e];return i_[e]=i,i}function sv(t){return t.map((e,i)=>hi(e,i===1))}const KH=2,XH={dateStyle:"full"},QH={container:"container"},eG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:inline-block;inline-size:100%;overflow:visible;border-width:1px;border-style:solid;vertical-align:top;border-color:var(--calcite-date-picker-border-color, var(--calcite-color-border-1));border-radius:var(--calcite-date-picker-corner-radius, 0)}:host([scale=s]){inline-size:236px;min-inline-size:216px;max-inline-size:380px}:host([scale=s][range][layout=horizontal][calendars="2"]){inline-size:480px;min-inline-size:432px;max-inline-size:772px}:host([scale=m]){inline-size:298px;min-inline-size:272px;max-inline-size:480px}:host([scale=m][layout=horizontal][range][calendars="2"]){inline-size:608px;min-inline-size:544px;max-inline-size:972px}:host([scale=l]){inline-size:334px;min-inline-size:320px;max-inline-size:600px}:host([scale=l][layout=horizontal][range][calendars="2"]){inline-size:684px;min-inline-size:640px;max-inline-size:1212px}.container{outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`,e1=class e1 extends lt{constructor(){super(),this.rangeValueChangedByUser=!1,this.messages=Ei({blocking:!0}),this.focusSetter=Ai()(this),this.calendars=2,this.layout="horizontal",this.monthStyle="wide",this.proximitySelectionDisabled=!1,this.range=!1,this.scale="m",this.calciteDatePickerChange=Ie({cancelable:!1}),this.calciteDatePickerRangeChange=Ie({cancelable:!1}),this.listen("keydown",this.keyDownHandler)}async reset(){this.resetActiveDates(),this.rangeValueChangedByUser=!1}async setFocus(e){return this.focusSetter(()=>this.el,e)}async load(){await this.loadLocaleData()}willUpdate(e){e.has("value")&&this.valueHandler(this.value),e.has("valueAsDate")&&this.valueAsDateWatcher(this.valueAsDate);let i,r;e.has("min")&&!e.has("minAsDate")?i="min":e.has("minAsDate")&&!e.has("min")&&(i="minAsDate"),e.has("max")&&!e.has("maxAsDate")?r="max":e.has("maxAsDate")&&!e.has("max")&&(r="maxAsDate"),i==="min"?this.minAsDate=hi(this.min):i==="minAsDate"&&(this.minAsDate=hi(fi(this.minAsDate))),r==="max"?this.maxAsDate=hi(this.max):r==="maxAsDate"&&(this.maxAsDate=hi(fi(this.maxAsDate))),(e.has("range")&&this.range||e.has("maxAsDate")||e.has("minAsDate"))&&this.setActiveStartAndEndDates(),e.has("activeDate")&&this.activeDateWatcher(this.activeDate),e.has("messages")&&this.hasUpdated&&this.loadLocaleData().catch(console.error)}activeDateWatcher(e){this.range&&(this.rangeValueChangedByUser||(e?(this.activeStartDate=e,this.activeEndDate=Do(this.activeStartDate)):this.resetActiveDates()))}valueHandler(e){Array.isArray(e)?(this.valueAsDate=sv(e),this.rangeValueChangedByUser||this.resetActiveDates()):e&&(this.valueAsDate=hi(e))}valueAsDateWatcher(e){this.range&&Array.isArray(e)&&!this.rangeValueChangedByUser?this.setActiveStartAndEndDates():e&&e!==this.activeDate&&(this.activeDate=e)}keyDownHandler(e){e.key==="Escape"&&this.resetActiveDates()}async loadLocaleData(){gi.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.messages._lang,useGrouping:!1},this.localeData=await l2(this.messages._lang),this.dateTimeFormat=QV(this.messages._lang,XH)}monthHeaderSelectChange(e){const i=new Date(e.detail.date),r=e.detail.position;this.range?r==="end"?(this.activeEndDate=i,this.activeStartDate=Af(i)):(this.activeStartDate=i,this.activeEndDate=Do(i)):this.activeDate=i,e.stopPropagation()}monthActiveDateChange(e){const i=new Date(e.detail);if(!this.range)this.activeDate=i;else{const r=i.getMonth(),n=r!==this.activeStartDate.getMonth()&&(this.calendars===1||r!==Do(this.activeStartDate).getMonth());this.activeRange==="end"?(!this.activeEndDate||this.activeStartDate&&n)&&(this.activeEndDate=i,this.activeStartDate=Af(i)):(this.activeStartDate&&n||!this.activeStartDate)&&(this.activeStartDate=i,this.activeEndDate=Do(i))}e.stopPropagation()}monthHoverChange(e){if(!this.range){this.hoverRange=void 0;return}const{valueAsDate:i}=this,r=Array.isArray(i)&&i[0],n=Array.isArray(i)&&i[1],s=new Date(e.detail);if(this.hoverRange={focused:this.activeRange||"start",start:r,end:n},this.proximitySelectionDisabled)n&&r||!n&&s>=r?(this.hoverRange.focused="end",this.hoverRange.end=s):!n&&s<r?this.hoverRange={focused:"start",start:s,end:r}:this.hoverRange=void 0;else if(this.activeRange)this.activeRange==="end"?(this.hoverRange.end=s,this.hoverRange.focused="end"):(this.hoverRange.start=s,this.hoverRange.focused="start");else if(r&&n){const o=Math.abs(oy(s,r)),a=Math.abs(oy(s,n));s>n?(this.hoverRange.end=s,this.hoverRange.focused="end"):s<r?(this.hoverRange.start=s,this.hoverRange.focused="start"):s>r&&s<n&&(o<a?(this.hoverRange.start=s,this.hoverRange.focused="start"):(this.hoverRange.end=s,this.hoverRange.focused="end"))}else r&&(s<r?this.hoverRange={focused:"start",start:s,end:r}:(this.hoverRange.end=s,this.hoverRange.focused="end"));e.stopPropagation()}monthMouseOutChange(e){this.hoverRange&&(this.hoverRange=void 0),e.stopPropagation()}resetActiveDates(){const{valueAsDate:e}=this;!Array.isArray(e)&&e&&e!==this.activeDate&&(this.activeDate=new Date(e)),Array.isArray(e)&&(e[0]&&e[0]!==this.activeStartDate&&(this.activeStartDate=new Date(e[0])),e[1]&&e[1]!==this.activeEndDate&&(this.activeEndDate=new Date(e[1]))),this.hoverRange=void 0}getEndDate(){return Array.isArray(this.valueAsDate)&&this.valueAsDate[1]||void 0}setEndDate(e,i=!0){const r=this.getStartDate();this.rangeValueChangedByUser=!0,this.value=[fi(r),fi(e)],this.valueAsDate=[r,e],i&&this.calciteDatePickerRangeChange.emit()}getStartDate(){return Array.isArray(this.valueAsDate)&&this.valueAsDate[0]}setStartDate(e,i=!0){const r=this.getEndDate();this.rangeValueChangedByUser=!0,this.value=[fi(e),fi(r)],this.valueAsDate=[e,r],i&&this.calciteDatePickerRangeChange.emit()}monthDateChange(e){const i=new Date(e.detail),r=fi(i);if(!this.range&&r===fi(this.valueAsDate))return;if(!this.range){this.value=r||"",this.valueAsDate=i||null,this.activeDate=i||null,this.calciteDatePickerChange.emit();return}const n=this.getStartDate(),s=this.getEndDate();if(!n||!s&&i<n)n&&this.setEndDate(new Date(n)),this.activeRange=="end"?this.setEndDate(i):this.setStartDate(i);else if(!s)this.setEndDate(i);else if(this.proximitySelectionDisabled)this.setStartDate(i,!1),this.setEndDate(null,!1),this.calciteDatePickerRangeChange.emit();else if(this.activeRange)this.activeRange=="end"?this.setEndDate(i):(i>s&&(this.setEndDate(null,!1),this.activeEndDate=null),this.setStartDate(i));else{const o=oy(i,n),a=oy(i,s);a===0||o<0?this.setStartDate(i):o===0||a<0?this.setEndDate(i):o<a?this.setStartDate(i):this.setEndDate(i)}e.stopPropagation(),this.calciteDatePickerChange.emit()}getActiveDate(e,i,r){const n=jt(new Date,i,r);return jt(this.activeDate,i,r)||e||(Fi(r,n)&&!this.range?Jx(n,i,r):n)}getActiveEndDate(e,i,r){return jt(this.activeEndDate,i,r)||e||jt(Do(new Date),i,r)}setActiveStartAndEndDates(){if(this.range){const e=jt(Array.isArray(this.valueAsDate)?this.valueAsDate[0]:this.valueAsDate,this.minAsDate,this.maxAsDate),i=jt(Array.isArray(this.valueAsDate)?this.valueAsDate[1]:null,this.minAsDate,this.maxAsDate);if(this.activeStartDate=this.getActiveDate(e,this.minAsDate,this.maxAsDate),this.activeEndDate=this.getActiveEndDate(i,this.minAsDate,this.maxAsDate),Fi(this.activeStartDate,this.activeEndDate)){const r=Jx(Af(this.activeEndDate),this.minAsDate,this.maxAsDate),n=Do(this.activeEndDate);Bo(r,this.minAsDate,this.maxAsDate)?this.activeStartDate=r:Bo(n,this.minAsDate,this.maxAsDate)&&(this.activeEndDate=n)}}}render(){const e=jt(this.range&&Array.isArray(this.valueAsDate)?this.valueAsDate[0]:this.valueAsDate,this.minAsDate,this.maxAsDate),i=this.getActiveDate(e,this.minAsDate,this.maxAsDate),r=this.range&&Array.isArray(this.valueAsDate)?jt(this.valueAsDate[1],this.minAsDate,this.maxAsDate):null,n=this.range&&this.activeRange?this.activeRange==="start"?this.minAsDate:e:this.minAsDate,s=this.range?this.activeStartDate:i;return q`<div aria-hidden class=${U(QH.container)} tabindex=-1>${this.renderMonth(s,this.maxAsDate,n,e,r)}</div>`}renderMonth(e,i,r,n,s){return q`<calcite-date-picker-month .activeDate=${e} .calendars=${this.calendars} .dateTimeFormat=${this.dateTimeFormat} .endDate=${this.range?s:void 0} .headingLevel=${this.headingLevel||KH} .hoverRange=${this.hoverRange} .layout=${this.layout} .localeData=${this.localeData} .max=${i} .messages=${this.messages} .min=${r} .monthStyle=${this.monthStyle} @calciteInternalDatePickerDayHover=${this.monthHoverChange} @calciteInternalDatePickerDaySelect=${this.monthDateChange} @calciteInternalDatePickerMonthActiveDateChange=${this.monthActiveDateChange} @calciteInternalDatePickerMonthChange=${this.monthHeaderSelectChange} @calciteInternalDatePickerMonthMouseOut=${this.monthMouseOutChange} .range=${this.range} .scale=${this.scale} .selectedDate=${this.activeRange==="end"?s:n} .startDate=${this.range?n:void 0}></calcite-date-picker-month>`}};e1.properties={activeEndDate:[16,{},{state:!0}],activeStartDate:[16,{},{state:!0}],dateTimeFormat:[16,{},{state:!0}],endAsDate:[16,{},{state:!0}],hoverRange:[16,{},{state:!0}],localeData:[16,{},{state:!0}],startAsDate:[16,{},{state:!0}],activeDate:[0,{},{attribute:!1}],activeRange:[3,{},{reflect:!0}],calendars:[11,{},{type:Number,reflect:!0}],headingLevel:[11,{},{type:Number,reflect:!0}],layout:[3,{},{reflect:!0}],max:[3,{},{reflect:!0}],maxAsDate:[0,{},{attribute:!1}],messageOverrides:[0,{},{attribute:!1}],min:[3,{},{reflect:!0}],minAsDate:[0,{},{attribute:!1}],monthStyle:1,numberingSystem:[3,{},{reflect:!0}],proximitySelectionDisabled:[7,{},{reflect:!0,type:Boolean}],range:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],value:1,valueAsDate:[0,{},{attribute:!1}]},e1.styles=eG;let i$=e1;gt("calcite-date-picker",i$);const tG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{--calcite-icon-size: 1rem;--calcite-spacing-eighth: .125rem;--calcite-spacing-quarter: .25rem;--calcite-spacing-half: .5rem;--calcite-spacing-three-quarters: .75rem;--calcite-spacing: 1rem;--calcite-spacing-plus-quarter: 1.25rem;--calcite-spacing-plus-half: 1.5rem;--calcite-spacing-double: 2rem;--calcite-menu-min-width: 10rem;--calcite-header-min-height: 3rem;--calcite-footer-min-height: 3rem}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host .menu-container .calcite-floating-ui-anim{position:relative;transition-duration:var(--calcite-floating-ui-transition);transition-property:inset-block-start,left,opacity,display;transition-behavior:allow-discrete;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}:host .menu-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}:host .menu-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}:host .menu-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}:host .menu-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}:host .menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@starting-style{:host .menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:0}}:host{position:relative;display:inline-block;width:100%;overflow:visible;vertical-align:top;box-shadow:var(--calcite-input-date-picker-shadow, var(--calcite-shadow-none))}:host .menu-container .calcite-floating-ui-anim{box-shadow:var(--calcite-input-date-picker-calendar-shadow, var(--calcite-shadow-sm))}:host([scale=s]){--calcite-internal-date-picker-toggle-spacing: var(--calcite-spacing-sm);--calcite-internal-input-text-input-padding-inline-end: calc(var(--calcite-internal-date-picker-toggle-spacing) + var(--calcite-spacing-lg))}:host([scale=m]){--calcite-internal-date-picker-toggle-spacing: var(--calcite-spacing-md);--calcite-internal-input-text-input-padding-inline-end: calc(var(--calcite-internal-date-picker-toggle-spacing) + var(--calcite-spacing-xxl))}:host([scale=l]){--calcite-internal-date-picker-toggle-spacing: var(--calcite-spacing-lg);--calcite-internal-input-text-input-padding-inline-end: calc(var(--calcite-internal-date-picker-toggle-spacing) + var(--calcite-spacing-xxxl))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.calendar-wrapper{box-shadow:var(--calcite-input-date-picker-calendar-shadow, var(--calcite-shadow-none));transform:translateZ(0)}.input-wrapper{position:relative}.input-wrapper .chevron-icon{color:var(--calcite-input-date-picker-actions-icon-color, var(--calcite-color-text-3))}.input-wrapper:focus-within .chevron-icon,.input-wrapper:active .chevron-icon,.input-wrapper:hover .chevron-icon{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}.input-wrapper:focus-within~.input-wrapper .chevron-icon,.input-wrapper:active~.input-wrapper .chevron-icon,.input-wrapper:hover~.input-wrapper .chevron-icon{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}.toggle-icon{position:absolute;display:flex;cursor:pointer;align-items:center;inset-inline-end:0;inset-block:0;padding-inline:var(--calcite-internal-date-picker-toggle-spacing)}:host([range]) .container{display:flex}:host([range]) .input-container{display:flex;flex:1 1 auto}:host([range]) .input-wrapper{flex:1 1 auto}.divider-container{display:flex;align-items:stretch;border-width:1px;border-left-width:0px;border-right-width:0px;border-style:solid;background-color:var(--calcite-input-date-picker-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-input-date-picker-border-color, var(--calcite-color-border-input))}:host([layout=horizontal]) .divider-container{inline-size:var(--calcite-spacing-px)}.divider{display:inline-block;margin-block:var(--calcite-spacing-xxs);background-color:var(--calcite-input-date-picker-divider-color, var(--calcite-color-border-2));inline-size:var(--calcite-spacing-px)}:host([layout=vertical]) .divider-container{height:1px;width:100%;border-top-width:0px;border-bottom-width:0px;border-left-width:1px;border-right-width:0px;padding-inline:var(--calcite-spacing-md)}:host([layout=vertical]) .divider-container .divider{margin-top:0;margin-bottom:0;height:1px;width:100%}:host([range][layout=vertical]) .input-wrapper{width:100%}:host([range][layout=vertical]) .input-container{flex-direction:column;align-items:flex-start}.menu-container{--calcite-floating-ui-z-index: var(--calcite-z-index-dropdown);inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}@starting-style{.menu-container{opacity:0;inset-block-start:0;left:0}}.menu-container .calcite-floating-ui-anim{position:relative;transition-duration:var(--calcite-floating-ui-transition);transition-property:inset-block-start,left,opacity,display;transition-behavior:allow-discrete;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.menu-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.menu-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.menu-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.menu-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@starting-style{.menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:0}}.input .calcite-input__wrapper{margin-top:0}.vertical-chevron-container{display:flex;align-items:center;border-width:1px;border-left-width:0px;border-style:solid;padding-inline:var(--calcite-spacing-md);background-color:var(--calcite-input-date-picker-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-input-date-picker-border-color, var(--calcite-color-border-input))}.vertical-chevron-container calcite-icon{color:var(--calcite-input-date-picker-actions-icon-color, var(--calcite-color-text-3))}.vertical-chevron-container calcite-icon:hover{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}:host([range][layout=vertical][scale=s]) .vertical-chevron-container,:host([range][layout=vertical][scale=s]) .divider-container{padding-inline:var(--calcite-spacing-sm)}:host([range][layout=vertical][scale=l]) .vertical-chevron-container,:host([range][layout=vertical][scale=l]) .divider-container{padding-inline:var(--calcite-spacing-lg)}.container:focus-within .vertical-chevron-container calcite-icon,.container:active .vertical-chevron-container calcite-icon,.container:hover .vertical-chevron-container calcite-icon{color:var(--calcite-input-date-picker-actions-icon-color-hover, var(--calcite-color-text-1))}.input{--calcite-input-text-background-color: var(--calcite-input-date-picker-background-color);--calcite-input-text-border-color: var(--calcite-input-date-picker-border-color);--calcite-input-text-corner-radius: var(--calcite-input-date-picker-corner-radius);--calcite-input-text-shadow: var(--calcite-input-date-picker-shadow);--calcite-input-text-icon-color: var(--calcite-input-date-picker-icon-color);--calcite-input-text-text-color: var(--calcite-input-date-picker-text-color);--calcite-input-text-placeholder-text-color: var(--calcite-input-date-picker-placeholder-text-color)}calcite-date-picker{--calcite-date-picker-border-color: var(--calcite-input-date-picker-calendar-border-color);--calcite-date-picker-corner-radius: var(--calcite-input-date-picker-calendar-corner-radius);--calcite-date-picker-range-calendar-divider-color: var(--calcite-input-date-picker-calendar-range-divider-color);--calcite-date-picker-week-header-text-color: var(--calcite-input-date-picker-calendar-text-color);--calcite-date-picker-header-action-background-color: var( --calcite-input-date-picker-calendar-actions-background-color );--calcite-date-picker-header-action-background-color-hover: var( --calcite-input-date-picker-calendar-actions-background-color-hover );--calcite-date-picker-header-action-background-color-press: var( --calcite-input-date-picker-calendar-actions-background-color-press );--calcite-date-picker-header-action-text-color: var(--calcite-input-date-picker-calendar-actions-text-color);--calcite-date-picker-header-action-text-color-press: var( --calcite-input-date-picker-calendar-actions-text-color-press );--calcite-date-picker-year-text-color: var(--calcite-input-date-picker-calendar-text-color);--calcite-date-picker-month-select-text-color: var(--calcite-input-date-picker-calendar-month-select-text-color);--calcite-date-picker-month-select-icon-color: var(--calcite-input-date-picker-calendar-icon-color);--calcite-date-picker-month-select-icon-color-hover: var(--calcite-input-date-picker-calendar-icon-color-hover);--calcite-date-picker-day-background-color: var(--calcite-input-date-picker-calendar-day-background-color);--calcite-date-picker-day-background-color-hover: var( --calcite-input-date-picker-calendar-day-background-color-hover );--calcite-date-picker-day-background-color-selected: var( --calcite-input-date-picker-calendar-selected-background-color );--calcite-date-picker-day-text-color: var(--calcite-input-date-picker-calendar-day-text-color);--calcite-date-picker-day-text-color-hover: var(--calcite-input-date-picker-calendar-day-text-color-hover);--calcite-date-picker-day-text-color-selected: var(--calcite-input-date-picker-calendar-day-text-color-selected);--calcite-date-picker-current-day-text-color: var( --calcite-input-date-picker-calendar-current-day-text-color, var(--calcite-input-date-picker-calendar-day-current-text-color) );--calcite-date-picker-day-range-text-color: var(--calcite-input-date-picker-calendar-day-range-text-color);--calcite-date-picker-day-range-background-color: var(--calcite-input-date-picker-calendar-selected-background-color);--calcite-date-picker-day-outside-range-background-color-hover: var( --calcite-input-date-picker-calendar-day-outside-range-background-color-hover );--calcite-date-picker-day-outside-range-text-color-hover: var( --calcite-input-date-picker-calendar-day-outside-range-text-color-hover )}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}.assistive-text{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}:host([hidden]){display:none}[hidden]{display:none}`,ni={assistiveText:"assistive-text",calendarWrapper:"calendar-wrapper",container:"container",dividerContainer:"divider-container",divider:"divider",inputContainer:"input-container",inputNoBottomBorder:"input--no-bottom-border",inputNoRightBorder:"input--no-right-border",inputNoTopBorder:"input--no-top-border",inputNoLeftBorder:"input--no-left-border",inputWrapper:"input-wrapper",input:"input",menu:"menu-container",toggleIcon:"toggle-icon",verticalChevronContainer:"vertical-chevron-container",chevronIcon:"chevron-icon"},iG="calcite-input-date-picker",cy={validationMessage:"inputDatePickerValidationMessage",dialog:t=>`date-picker-dialog--${t}`,placeholder:t=>`${iG}-placeholder-${t}`},dI={start:"start",end:"end"},yu={calendar:"calendar",chevronDown:"chevron-down",chevronUp:"chevron-up"};function rG(t){if(!t)return!1;const{year:e}=OD(t);return Number(e)<100}function nG(t){const e=new Date().getFullYear();return Math.floor(e/100)*100+t}const nm=class nm extends lt{constructor(){super(),this.commonDateSeparators=[".","-","/"],this.dialogId=cy.dialog(nh()),this.endInputRef=At(),this.focusOnOpen=!1,this.focusTrap=n2({triggerProp:"open",focusTrapOptions:{onActivate:()=>{this.focusOnOpen&&(this.datePickerEl?.setFocus(),this.focusOnOpen=!1)},allowOutsideClick:!0,clickOutsideDeactivates:!1,initialFocus:!1,setReturnFocus:!1,onDeactivate:()=>{this.open=!1}}})(this),this.transitionProp="opacity",this.placeholderTextId=cy.placeholder(nh()),this.rangeStartValueChangedByUser=!1,this.startInputRef=At(),this.userChangedValue=!1,this._value="",this.valueAsDateChangedExternally=!1,this.messages=Ei({blocking:!0}),this.focusSetter=Ai()(this),this.focusedInput="start",this.calendars=2,this.disabled=!1,this.focusTrapDisabled=!1,this.layout="horizontal",this.monthStyle="wide",this.open=!1,this.overlayPositioning="absolute",this.placement=yq,this.proximitySelectionDisabled=!1,this.range=!1,this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputDatePickerBeforeClose=Ie({cancelable:!1}),this.calciteInputDatePickerBeforeOpen=Ie({cancelable:!1}),this.calciteInputDatePickerChange=Ie({cancelable:!1}),this.calciteInputDatePickerClose=Ie({cancelable:!1}),this.calciteInputDatePickerOpen=Ie({cancelable:!1}),this.listen("blur",this.blurHandler),this.listen("keydown",this.keyDownHandler),this.handleDateTimeFormatChange()}get value(){return this._value}set value(e){const i=e!==this._value,r=e===""&&(this.startInputRef.value?.value!==""||this.endInputRef.value?.value!=="");(i||r)&&(this._value=e,this.valueWatcher(e))}async reposition(e=!1){const{floatingEl:i,referenceEl:r,placement:n,overlayPositioning:s,filteredFlipPlacements:o}=this;return yD(this,{floatingEl:i,referenceEl:r,overlayPositioning:s,placement:n,flipPlacements:o,type:"menu"},e)}async setFocus(e){return this.focusSetter(()=>this.el,e)}connectedCallback(){super.connectedCallback();const{open:e}=this;if(e&&this.openHandler(),this.min&&(this.minAsDate=hi(this.min)),this.max&&(this.maxAsDate=hi(this.max)),Array.isArray(this.value))this.valueAsDate=sv(this.value);else if(this.value)try{const i=hi(this.value),r=jt(i,this.minAsDate,this.maxAsDate);this.valueAsDate=r}catch{this.warnAboutInvalidValue(this.value),this.value=""}else this.valueAsDate&&(this.range&&Array.isArray(this.valueAsDate)?this.value=[fi(this.valueAsDate[0]),fi(this.valueAsDate[1])]:!this.range&&!Array.isArray(this.valueAsDate)&&(this.value=fi(this.valueAsDate)));Ah(this),GT(this),this.setFilteredPlacements(),gi.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.messages._lang,useGrouping:!1},qp(this)}async load(){this.handleDateTimeFormatChange(),await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max)}willUpdate(e){e.has("disabled")&&(this.hasUpdated||this.disabled!==!1)&&this.handleDisabledAndReadOnlyChange(this.disabled),e.has("readOnly")&&(this.hasUpdated||this.readOnly!==!1)&&this.handleDisabledAndReadOnlyChange(this.readOnly),e.has("valueAsDate")&&this.valueAsDateWatcher(this.valueAsDate),e.has("flipPlacements")&&this.flipPlacementsHandler(),e.has("min")&&this.onMinChanged(this.min),e.has("max")&&this.onMaxChanged(this.max),e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),e.has("overlayPositioning")&&(this.hasUpdated||this.overlayPositioning!=="absolute")&&this.reposition(!0),(e.has("numberingSystem")||e.has("messages"))&&this.handleDateTimeFormatChange(),e.has("layout")&&(this.hasUpdated||this.layout!=="horizontal")&&this.setReferenceEl(),e.has("messages")&&this.loadLocaleData()}updated(){vs(this)}loaded(){this.localizeInputValues(),qp(this)}disconnectedCallback(){super.disconnectedCallback(),k1(this),ZT(this),t2(this)}handleDisabledAndReadOnlyChange(e){e||(this.open=!1)}valueWatcher(e){if(!this.userChangedValue){let i;Array.isArray(e)?i=sv(e):e?i=hi(e):i=void 0,!this.valueAsDateChangedExternally&&i!==this.valueAsDate&&(this.valueAsDate=i),this.localizeInputValues()}this.userChangedValue=!1}valueAsDateWatcher(e){const i=Array.isArray(e)?[fi(e[0]),fi(e[1])]:fi(e);this.datePickerActiveDate=Array.isArray(e)?e[0]:e,this.value!==i&&(this.valueAsDateChangedExternally=!0,this.value=i,this.valueAsDateChangedExternally=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}onMinChanged(e){this.minAsDate=hi(e)}onMaxChanged(e){this.maxAsDate=hi(e)}openHandler(){v1(this),!(this.disabled||this.readOnly)&&this.reposition(!0)}calciteInternalInputInputHandler(e){const i=e.target,r=i.value,n=this.parseNumerals(r),s=this.formatNumerals(n);i.value=s;const{year:o}=PD(r,this.localeData);if(o&&o.length<4)return;const a=oI(r,this.localeData);Bo(a,this.min,this.max)&&(this.datePickerActiveDate=a)}calciteInternalInputBlurHandler(){this.commitValue()}handleDateTimeFormatChange(){const e={numberingSystem:KR(this.numberingSystem)};this.dateTimeFormat=new Intl.DateTimeFormat(KV(y1(this.messages._lang)),e)}setReferenceEl(){const{focusedInput:e,layout:i,endWrapper:r,startWrapper:n}=this;this.referenceEl=e==="end"||i==="vertical"?r||n:n||r,requestAnimationFrame(()=>qp(this))}onInputWrapperPointerDown(){this.currentOpenInput=this.focusedInput}onInputWrapperClick(e){const{range:i,endInputRef:r,startInputRef:n,currentOpenInput:s}=this,a=e.currentTarget.getAttribute("data-position");e.composedPath().find(h=>h.classList?.contains(ni.toggleIcon))&&(a==="start"?n:r).value.setFocus(),(!i||!this.open||s===a)&&(this.open=!this.open)}setFilteredPlacements(){const{el:e,flipPlacements:i}=this;this.filteredFlipPlacements=i?gD(i,e):null}setTransitionEl(e){e&&(this.transitionEl=e)}onLabelClick(){this.setFocus()}onBeforeOpen(){this.calciteInputDatePickerBeforeOpen.emit()}onOpen(){this.focusTrap.activate(),this.calciteInputDatePickerOpen.emit()}onBeforeClose(){this.calciteInputDatePickerBeforeClose.emit()}onClose(){this.calciteInputDatePickerClose.emit(),e2(this),this.focusTrap.deactivate(),this.focusOnOpen=!1,this.datePickerEl?.reset()}syncHiddenFormInput(e){CD("date",this,e)}blurHandler(){this.open=!1}commitValue(){const{focusedInput:e,value:i}=this,r=this.getInputRef(e),n=oI(r.value.value,this.localeData),s=fi(n),o=Array.isArray(i);if(this.range){const a=e==="start"?0:1;if(o){if(s===i[a])return;n?(this.setRangeValue([e==="start"?n:hi(i[0]),e==="end"?n:hi(i[1])]),this.localizeInputValues()):this.setRangeValue([e==="end"&&hi(i[0]),e==="start"&&hi(i[1])])}else n&&(this.setRangeValue([e==="start"?n:hi(i[0]),e==="end"?n:hi(i[1])]),this.localizeInputValues())}else{if(s===i)return;this.setValue(n),this.localizeInputValues()}}keyDownHandler(e){const{defaultPrevented:i,key:r}=e;if(i)return;const n=e.composedPath().some(s=>s.tagName==="CALCITE-SELECT");r==="Enter"?(e.preventDefault(),this.commitValue(),this.shouldFocusRangeEnd()?this.endInputRef.value?.setFocus():this.shouldFocusRangeStart()&&this.startInputRef.value?.setFocus(),b1(this)&&this.restoreInputFocus(!0)):(r==="ArrowDown"||r==="ArrowUp")&&!n?(this.open=!0,this.focusOnOpen=!0,e.preventDefault()):this.open&&r==="Escape"&&(this.open=!1,e.preventDefault(),this.restoreInputFocus(!0))}startInputFocus(){this.focusedInput="start"}endInputFocus(){this.focusedInput="end"}setFloatingEl(e){this.floatingEl=e,qp(this)}setStartWrapper(e){this.startWrapper=e,this.setReferenceEl()}setEndWrapper(e){this.endWrapper=e,this.setReferenceEl()}setDatePickerRef(e){e&&(this.datePickerEl=e,this.focusTrap.overrideFocusTrapEl(e))}async loadLocaleData(){gi.numberFormatOptions={numberingSystem:this.numberingSystem,locale:this.messages._lang,useGrouping:!1},this.localeData=await l2(this.messages._lang),this.localizeInputValues()}handleDateChange(e){this.range||(e.stopPropagation(),this.setValue(e.target.valueAsDate),this.localizeInputValues(),this.restoreInputFocus())}shouldFocusRangeStart(){const e=this.value[0];return!!(this.value[1]&&!e&&this.focusedInput==="end"&&this.startInputRef)}shouldFocusRangeEnd(){const e=this.value[0],i=this.value[1];return!!(e&&!i&&this.focusedInput==="start"&&this.endInputRef)}handleDateRangeChange(e){if(!this.range)return;e.stopPropagation();const i=e.target.valueAsDate;this.setRangeValue(i),this.localizeInputValues(),this.restoreInputFocus()}restoreInputFocus(e=!1){if(!this.range){this.startInputRef.value.setFocus(),this.open=!1;return}if(e){this.focusInput();return}this.rangeStartValueChangedByUser=this.focusedInput==="start",this.focusedInput="end",!(this.shouldFocusRangeStart()||this.rangeStartValueChangedByUser)&&(this.proximitySelectionDisabled&&this.valueAsDate[1]===null||(this.open=!1,this.focusInput()))}localizeInputValues(){const e=jt(this.range?Array.isArray(this.valueAsDate)&&this.valueAsDate[0]||void 0:this.valueAsDate,this.minAsDate,this.maxAsDate),i=this.range?jt(Array.isArray(this.valueAsDate)&&this.valueAsDate[1]||void 0,this.minAsDate,this.maxAsDate):null;this.setInputValue((e&&this.dateTimeFormat.format(e))??"","start"),this.setInputValue((this.range&&i&&this.dateTimeFormat.format(i))??"","end")}getInputRef(e="start"){return e==="start"?this.startInputRef:this.endInputRef}setInputValue(e,i="start"){const r=this.getInputRef(i);r.value&&(r.value.value=e)}setRangeValue(e){if(!this.range)return;const{value:i}=this,r=Array.isArray(i),n=Array.isArray(e),s=n?e[0]:null;let o=n?fi(s):"";o&&(o=this.getNormalizedDate(o));const a=n?e[1]:null;let l=n?fi(a):"";l&&(l=this.getNormalizedDate(l));const d=o||l?[o,l]:"";if(d===i)return;this.userChangedValue=!0,this.value=d,this.valueAsDate=d?sv(d):void 0;const h=this.calciteInputDatePickerChange.emit();h&&h.defaultPrevented&&(this.value=i,r?(this.setInputValue(i[0],"start"),this.setInputValue(i[1],"end")):(this.value=i,this.setInputValue(i)))}setValue(e){if(this.range)return;const i=this.value;let r=fi(e);if(r=this.getNormalizedDate(r),r===i)return;this.userChangedValue=!0,this.valueAsDate=r?hi(r):void 0,this.value=r||"",this.calciteInputDatePickerChange.emit().defaultPrevented&&(this.value=i,this.setInputValue(i))}warnAboutInvalidValue(e){console.warn(`The specified value "${e}" does not conform to the required format, "YYYY-MM-DD".`)}formatNumerals(e){return e?e.split("").map(i=>this.commonDateSeparators?.includes(i)?this.localeData?.separator:pm?.includes(i)?gi?.numberFormatter?.format(Number(i)):i).join(""):""}parseNumerals(e){return e?e.split("").map(i=>pm.includes(i)?gi.delocalize(i):i).join(""):""}getNormalizedDate(e){if(!e)return"";if(!rG(e))return e;const{day:i,month:r,year:n}=OD(e);return`${nG(Number(n))}-${r}-${i}`}focusInput(){(this.focusedInput==="start"?this.startInputRef:this.endInputRef).value.setFocus()}render(){const{disabled:e,messages:{_lang:i},messages:r,numberingSystem:n,readOnly:s}=this;return gi.numberFormatOptions={numberingSystem:n,locale:i,useGrouping:!1},bs({disabled:this.disabled,children:q`${this.labelText&&o2({labelText:this.labelText,onClick:this.onLabelClick,required:this.required,tooltipText:this.messages.required})||""}<div class=${U(ni.container)}><div aria-label=${T1(this)??he} .ariaRequired=${this.required} class=${U(ni.inputContainer)} role=group><div class=${U(ni.inputWrapper)} data-position=${dI.start} @click=${this.onInputWrapperClick} @pointerdown=${this.onInputWrapperPointerDown} ${Be(this.setStartWrapper)}><calcite-input-text aria-controls=${this.dialogId??he} aria-describedby=${this.placeholderTextId??he} aria-errormessage=${cy.validationMessage} aria-autocomplete=none .ariaExpanded=${this.open} aria-haspopup=dialog .ariaInvalid=${this.status==="invalid"} class=${U({[ni.input]:!0,[ni.inputNoBottomBorder]:this.layout==="vertical"&&this.range,[ni.inputNoRightBorder]:this.range})} .disabled=${e} .icon=${yu.calendar} .label=${this.range?this.messages.startDate:this.messages.date} @calciteInputTextInput=${this.calciteInternalInputInputHandler} @calciteInternalInputTextBlur=${this.calciteInternalInputBlurHandler} @calciteInternalInputTextFocus=${this.startInputFocus} .placeholder=${this.localeData?.placeholder} .readOnly=${s} role=combobox .scale=${this.scale} .status=${this.status} ${Be(this.startInputRef)}></calcite-input-text>${!this.readOnly&&!this.range&&this.renderToggleIcon(this.open&&this.focusedInput==="start")||""}<span aria-hidden=true class=${U(ni.assistiveText)} id=${this.placeholderTextId??he}>${r.dateFormat.replace("{format}",this.localeData?.placeholder)}</span></div><div .ariaHidden=${!this.open} .ariaLabel=${r.chooseDate} aria-live=polite aria-modal=true class=${U(ni.menu)} id=${this.dialogId??he} role=dialog ${Be(this.setFloatingEl)}><div class=${U({[ni.calendarWrapper]:!0,[k0.animation]:!0,[k0.animationActive]:this.open})} ${Be(this.setTransitionEl)}><calcite-date-picker .activeDate=${this.datePickerActiveDate} .activeRange=${this.focusedInput} .calendars=${this.calendars} .headingLevel=${this.headingLevel} .layout=${this.layout} .max=${this.max} .maxAsDate=${this.maxAsDate} .messageOverrides=${this.messageOverrides} .min=${this.min} .minAsDate=${this.minAsDate} .monthStyle=${this.monthStyle} .numberingSystem=${n} @calciteDatePickerChange=${this.handleDateChange} @calciteDatePickerRangeChange=${this.handleDateRangeChange} .proximitySelectionDisabled=${this.proximitySelectionDisabled} .range=${this.range} .scale=${this.scale} tabindex=${(this.open?void 0:-1)??he} .valueAsDate=${this.valueAsDate} ${Be(this.setDatePickerRef)}></calcite-date-picker></div></div>${this.range&&q`<div class=${U(ni.dividerContainer)}><div class=${U(ni.divider)}></div></div>`||""}${this.range&&q`<div class=${U(ni.inputWrapper)} data-position=${dI.end} @click=${this.onInputWrapperClick} @pointerdown=${this.onInputWrapperPointerDown} ${Be(this.setEndWrapper)}><calcite-input-text aria-controls=${this.dialogId??he} aria-autocomplete=none .ariaExpanded=${this.open} aria-haspopup=dialog class=${U({[ni.input]:!0,[ni.inputNoTopBorder]:this.layout==="vertical"&&this.range,[ni.inputNoLeftBorder]:this.layout==="horizontal"&&this.range,[ni.inputNoRightBorder]:this.layout==="vertical"&&this.range})} .disabled=${e} .icon=${yu.calendar} .label=${this.messages.endDate} @calciteInputTextInput=${this.calciteInternalInputInputHandler} @calciteInternalInputTextBlur=${this.calciteInternalInputBlurHandler} @calciteInternalInputTextFocus=${this.endInputFocus} .placeholder=${this.localeData?.placeholder} .readOnly=${s} role=combobox .scale=${this.scale} .status=${this.status} ${Be(this.endInputRef)}></calcite-input-text>${!this.readOnly&&this.layout==="horizontal"&&this.renderToggleIcon(this.open)||""}</div>`||""}</div>${this.range&&this.layout==="vertical"&&q`<div class=${U(ni.verticalChevronContainer)}><calcite-icon .icon=${this.open?yu.chevronUp:yu.chevronDown} .scale=${ii(this.scale)}></calcite-icon></div>`||""}</div>${YT({component:this})}${this.validationMessage&&this.status==="invalid"?a2({icon:this.validationIcon,id:cy.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}renderToggleIcon(e){return q`<span class=${U(ni.toggleIcon)} tabindex=-1><calcite-icon class=${U(ni.chevronIcon)} .icon=${e?yu.chevronUp:yu.chevronDown} .scale=${ii(this.scale)}></calcite-icon></span>`}};nm.properties={datePickerActiveDate:[16,{},{state:!0}],focusedInput:[16,{},{state:!0}],localeData:[16,{},{state:!0}],calendars:[11,{},{type:Number,reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],headingLevel:[11,{},{type:Number,reflect:!0}],label:1,labelText:1,layout:[3,{},{reflect:!0}],max:[3,{},{reflect:!0}],maxAsDate:[0,{},{attribute:!1}],messageOverrides:[0,{},{attribute:!1}],min:[3,{},{reflect:!0}],minAsDate:[0,{},{attribute:!1}],monthStyle:1,name:[3,{},{reflect:!0}],numberingSystem:[3,{},{reflect:!0}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],proximitySelectionDisabled:[5,{},{type:Boolean}],range:[7,{},{reflect:!0,type:Boolean}],readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],validationIcon:[3,{converter:tl},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1,valueAsDate:[0,{},{attribute:!1}]},nm.shadowRootOptions={mode:"open",delegatesFocus:!0},nm.styles=tG;let r$=nm;gt("calcite-input-date-picker",r$);const sG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline}:host a,:host button{position:relative;display:flex;cursor:pointer;align-items:center;justify-content:center;border-radius:0;border-style:none;font-family:inherit;text-decoration:none;line-height:inherit;font-size:inherit;-webkit-appearance:none}:host a:hover,:host button:hover{text-decoration:none}:host a,:host button{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform,background-size;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent}:host a:focus,:host button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}calcite-icon{inline-size:1em;block-size:1em;min-inline-size:unset;min-block-size:unset}.calcite-link--icon{vertical-align:middle;margin-block-start:-.25em}:host .calcite-link--icon.icon-start{margin-inline-end:.5rem}:host .calcite-link--icon.icon-end{margin-inline-start:.5rem}:host button,:host a{position:relative;display:inline;border-style:none;background-color:transparent;padding:0;color:var(--calcite-link-text-color, var(--calcite-color-text-link));line-height:inherit;white-space:initial;background-image:linear-gradient(currentColor,currentColor),linear-gradient(var(--calcite-color-brand-underline),var(--calcite-color-brand-underline));background-position-x:0%,100%;background-position-y:min(1.5em,100%);background-repeat:no-repeat,no-repeat;background-size:0% 1px,100% 1px}:host button:hover,:host button:focus,:host a:hover,:host a:focus{background-size:100% 1px,100% 1px}:host button:active,:host a:active{background-size:100% 2px,100% 2px}:host button.calcite--rtl,:host a.calcite--rtl{background-position:100% 100%,100% 100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,uy={calciteLinkIcon:"calcite-link--icon",iconStart:"icon-start",iconEnd:"icon-end"},t1=class t1 extends lt{constructor(){super(),this.childRef=At(),this.focusSetter=Ai()(this),this.disabled=!1,this.download=!1,this.listen("click",this.clickHandler)}async setFocus(e){return this.focusSetter(()=>this.childRef.value,e)}updated(){vs(this)}clickHandler(e){this.disabled||e.isTrusted||this.childRef.value.click()}childElClickHandler(e){e.isTrusted||e.stopPropagation()}render(){const{download:e,el:i}=this,r=Vo(i),n=this.href?"a":"button",s=q`<calcite-icon class=${U({[uy.calciteLinkIcon]:!0,[uy.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} scale=s></calcite-icon>`,o=q`<calcite-icon class=${U({[uy.calciteLinkIcon]:!0,[uy.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} scale=s></calcite-icon>`,a=n==="button"?vm`button`:vm`a`,l=n==="button"?0:null;return this.el.role="presentation",bs({disabled:this.disabled,children:r2`<${a} class=${U({[Rs.rtl]:r==="rtl"})} download=${(n==="a"?e===!0||e===""?"":e||null:null)??uc} href=${(n==="a"&&this.href)??uc} @click=${this.childElClickHandler} rel=${(n==="a"&&this.rel)??uc} tabindex=${l} target=${(n==="a"&&this.target)??uc} ${Be(this.childRef)}>${q`${this.iconStart?s:null}<slot></slot>${this.iconEnd?o:null}`}</${a}>`})}};t1.properties={disabled:[7,{},{reflect:!0,type:Boolean}],download:[3,{converter:tl},{reflect:!0}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],rel:1,target:1},t1.styles=sG;let n$=t1;gt("calcite-link",n$);const oG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{position:absolute;inset:0;display:flex;block-size:100%;inline-size:100%;flex-direction:column;overflow:hidden}.main{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;flex-direction:row;justify-content:space-between;overflow:hidden}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;overflow:auto;justify-content:space-between}.content ::slotted(calcite-shell-center-row),.content ::slotted(calcite-panel),.content ::slotted(calcite-flow){flex:1 1 auto;align-self:stretch;max-block-size:unset}.content--behind{position:absolute;inset:0;border-width:0px;z-index:calc(var(--calcite-z-index) - 1);display:initial}.content--non-interactive{pointer-events:none;display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap}::slotted(calcite-shell-center-row){inline-size:unset}::slotted(.header .heading){font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal)}slot[name=panel-start]::slotted(calcite-shell-panel),slot[name=panel-end]::slotted(calcite-shell-panel){position:relative;z-index:calc(var(--calcite-z-index) + 1)}slot[name=panel-end]::slotted(calcite-shell-panel){margin-inline-start:auto}::slotted(calcite-panel),::slotted(calcite-flow){border-width:var(--calcite-border-width-sm);border-color:var(--calcite-shell-border-color, var(--calcite-color-border-3));border-inline-start-width:var(--calcite-border-width-none);border-inline-end-width:var(--calcite-border-width-none);border-style:solid}slot[name=center-row]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-top]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-bottom]::slotted(calcite-shell-center-row:not([detached])){border-color:var(--calcite-shell-border-color, var(--calcite-color-border-3));border-inline-start-width:var(--calcite-border-width-sm);border-inline-end-width:var(--calcite-border-width-sm)}.center-content{display:flex;flex-direction:column;justify-content:space-between;block-size:100%;inline-size:100%;min-inline-size:0}.content-bottom{justify-content:flex-end}::slotted(calcite-shell-center-row){flex:none;align-self:stretch}::slotted(calcite-tip-manager){position:absolute;z-index:var(--calcite-z-index-toast);box-sizing:border-box}@keyframes in-up{0%{opacity:0;transform:translate3D(0,5px,0)}to{opacity:1;transform:translateZ(0)}}::slotted(calcite-tip-manager){animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:.25rem;--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);inset-block-end:.5rem;inset-inline:var(--calcite-shell-tip-spacing, 26vw)}slot[name=center-row]::slotted(calcite-shell-center-row),slot[name=panel-bottom]::slotted(calcite-shell-center-row){margin-block-start:auto}slot[name=panel-top]::slotted(calcite-shell-center-row){margin-block-end:auto}.position-wrapper{position:absolute;pointer-events:none;inset:0}slot[name=modals]::slotted(calcite-modal){position:absolute}:host([hidden]){display:none}[hidden]{display:none}`,_s={main:"main",content:"content",contentBehind:"content--behind",contentBottom:"content-bottom",contentNonInteractive:"content--non-interactive",footer:"footer",positionedSlotWrapper:"positioned-slot-wrapper",contentBehindCenterContent:"center-content"},Hn={centerRow:"center-row",panelStart:"panel-start",panelEnd:"panel-end",panelTop:"panel-top",panelBottom:"panel-bottom",header:"header",footer:"footer",alerts:"alerts",sheets:"sheets",modals:"modals",dialogs:"dialogs"},i1=class i1 extends lt{constructor(){super(),this.hasAlerts=!1,this.hasDialogs=!1,this.hasFooter=!1,this.hasHeader=!1,this.hasModals=!1,this.hasOnlyPanelBottom=!1,this.hasPanelBottom=!1,this.hasPanelTop=!1,this.hasSheets=!1,this.panelIsResizing=!1,this.contentBehind=!1,this.listen("calciteInternalShellPanelResizeStart",this.handleCalciteInternalShellPanelResizeStart),this.listen("calciteInternalShellPanelResizeEnd",this.handleCalciteInternalShellPanelResizeEnd)}willUpdate(e){(e.has("hasPanelTop")&&(this.hasUpdated||this.hasPanelTop!==!1)||e.has("hasPanelBottom")&&(this.hasUpdated||this.hasPanelBottom!==!1))&&(this.hasOnlyPanelBottom=!this.hasPanelTop&&this.hasPanelBottom)}handleCalciteInternalShellPanelResizeStart(e){this.panelIsResizing=!0,e.stopPropagation()}handleCalciteInternalShellPanelResizeEnd(e){this.panelIsResizing=!1,e.stopPropagation()}handleHeaderSlotChange(e){this.hasHeader=!!Ft(e)}handleFooterSlotChange(e){this.hasFooter=!!Ft(e)}handleAlertsSlotChange(e){this.hasAlerts=!!Ft(e),La(e)?.map(i=>{i.tagName==="CALCITE-ALERT"&&(i.embedded=!0)})}handleSheetsSlotChange(e){this.hasSheets=!!Ft(e),La(e)?.map(i=>{i.tagName==="CALCITE-SHEET"&&(i.embedded=!0)})}handleModalsSlotChange(e){this.hasModals=!!Ft(e),La(e)?.map(i=>{i.tagName==="CALCITE-MODAL"&&(i.embedded=!0)})}handlePanelTopChange(e){this.hasPanelTop=Ft(e)}handlePanelBottomChange(e){this.hasPanelBottom=Ft(e)}handleDialogsSlotChange(e){this.hasDialogs=!!Ft(e),La(e)?.map(i=>{i.tagName==="CALCITE-DIALOG"&&(i.embedded=!0)})}renderHeader(){return q`<div .hidden=${!this.hasHeader}>${Ve("header",q`<slot name=${Hn.header} @slotchange=${this.handleHeaderSlotChange}></slot>`)}</div>`}renderFooter(){return Ve("footer",q`<div class=${U(_s.footer)} .hidden=${!this.hasFooter}><slot name=${Hn.footer} @slotchange=${this.handleFooterSlotChange}></slot></div>`)}renderAlerts(){return q`<div .hidden=${!this.hasAlerts}>${Ve("alerts",q`<slot name=${Hn.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</div>`}renderSheets(){return q`<div .hidden=${!this.hasSheets}>${Ve("sheets",q`<slot name=${Hn.sheets} @slotchange=${this.handleSheetsSlotChange}></slot>`)}</div>`}renderModals(){return q`<div .hidden=${!this.hasModals}>${Ve("modals",q`<slot name=${Hn.modals} @slotchange=${this.handleModalsSlotChange}></slot>`)}</div>`}renderDialogs(){return q`<div .hidden=${!this.hasDialogs}>${Ve("dialogs",q`<slot name=${Hn.dialogs} @slotchange=${this.handleDialogsSlotChange}></slot>`)}</div>`}renderContent(){const{panelIsResizing:e}=this,i=Ve("default-slot",q`<slot></slot>`),r=e?q`<div class=${U(_s.contentNonInteractive)}>${i}</div>`:i,n=Ve("center-row-slot",q`<slot name=${Hn.centerRow}></slot>`),s=Ve("panel-bottom-slot",q`<slot name=${Hn.panelBottom} @slotchange=${this.handlePanelBottomChange}></slot>`),o=Ve("panel-top-slot",q`<slot name=${Hn.panelTop} @slotchange=${this.handlePanelTopChange}></slot>`),a="content-container";return this.contentBehind?[Ve(a,q`<div class=${U({[_s.content]:!0,[_s.contentBehind]:!0})}>${r}</div>`),q`<div class=${U({[_s.contentBehindCenterContent]:!0,[_s.contentBottom]:this.hasOnlyPanelBottom})}>${o}${s}${n}</div>`]:[Ve(a,q`<div class=${U({[_s.content]:!0,[_s.contentBottom]:this.hasOnlyPanelBottom})}>${o}${r}${s}${n}</div>`)]}renderMain(){return q`<div class=${U(_s.main)}><slot name=${Hn.panelStart}></slot>${this.renderContent()}<slot name=${Hn.panelEnd}></slot></div>`}renderPositionedSlots(){return q`<div class=${U(_s.positionedSlotWrapper)}>${this.renderAlerts()}${this.renderModals()}${this.renderDialogs()}${this.renderSheets()}</div>`}render(){return q`${this.renderHeader()}${this.renderMain()}${this.renderFooter()}${this.renderPositionedSlots()}`}};i1.properties={hasAlerts:[16,{},{state:!0}],hasDialogs:[16,{},{state:!0}],hasFooter:[16,{},{state:!0}],hasHeader:[16,{},{state:!0}],hasModals:[16,{},{state:!0}],hasOnlyPanelBottom:[16,{},{state:!0}],hasPanelBottom:[16,{},{state:!0}],hasPanelTop:[16,{},{state:!0}],hasSheets:[16,{},{state:!0}],panelIsResizing:[16,{},{state:!0}],contentBehind:[7,{},{reflect:!0,type:Boolean}]},i1.styles=oG;let s$=i1;gt("calcite-shell",s$);const aG=(t,e,i)=>Math.max(e,Math.min(t,i));const Gn={container:"container",actionBarContainer:"action-bar-container",contentContainer:"content-container",content:"content",contentHeader:"content__header",contentBody:"content__body",contentOverlay:"content--overlay",floatAll:"float-all",floatContent:"float--content",resizeHandle:"resize-handle",resizeHandleBar:"resize-handle-bar"},hI={actionBar:"action-bar",header:"header"},pI={dragVertical:"drag-resize-vertical",dragHorizontal:"drag-resize-horizontal"},lG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{pointer-events:none;position:relative;display:flex;flex:0 1 auto;align-items:stretch;z-index:var(--calcite-shell-panel-z-index, var(--calcite-z-index));--calcite-shell-panel-max-height: unset;--calcite-internal-shell-panel-shadow-block-start: 0 4px 8px -1px rgba(0, 0, 0, .08), 0 2px 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-block-end: 0 -4px 8px -1px rgba(0, 0, 0, .08), 0 -2px 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-inline-start: 4px 0 8px -1px rgba(0, 0, 0, .08), 2px 0 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-inline-end: -4px 0 8px -1px rgba(0, 0, 0, .08), -2px 0 4px -1px rgba(0, 0, 0, .04)}.calcite--rtl.content--overlay{--calcite-internal-shell-panel-shadow-inline-start: -4px 0 8px -1px rgba(0, 0, 0, .08), -2px 0 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-inline-end: 4px 0 8px -1px rgba(0, 0, 0, .08), 2px 0 4px -1px rgba(0, 0, 0, .04)}:host([layout=vertical]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index) + 1))}:host([layout=vertical][display-mode=overlay]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index-header) + 1))}:host([layout=vertical][display-mode=float-all]) .content{flex:2}:host([layout=vertical]:not([display-mode=float-all])) .width-s{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 12vw);--calcite-internal-shell-panel-max-width: var(--calcite-shell-panel-max-width, 300px);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 150px)}:host([layout=vertical][display-mode=float-all]) .width-s{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 12vw);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 150px)}:host([layout=vertical]:not([display-mode=float-all])) .width-m{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 20vw);--calcite-internal-shell-panel-max-width: var(--calcite-shell-panel-max-width, 420px);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 240px)}:host([layout=vertical][display-mode=float-all]) .width-m{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 20vw);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 240px)}:host([layout=vertical]:not([display-mode=float-all])) .width-l{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 45vw);--calcite-internal-shell-panel-max-width: var(--calcite-shell-panel-max-width, 680px);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 340px)}:host([layout=vertical][display-mode=float-all]) .width-l{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 45vw);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 340px)}:host([layout=horizontal]) .content{--calcite-internal-shell-panel-height: var(--calcite-shell-panel-height);--calcite-internal-shell-panel-min-height: var(--calcite-shell-panel-min-height, 5vh);--calcite-internal-shell-panel-max-height: var(--calcite-shell-panel-max-height, 30vh)}:host([layout=horizontal]) .height-s{--calcite-internal-shell-panel-height: var(--calcite-shell-panel-height);--calcite-internal-shell-panel-min-height: var(--calcite-shell-panel-min-height, 5vh);--calcite-internal-shell-panel-max-height: var(--calcite-shell-panel-max-height, 20vh)}:host([layout=horizontal]) .height-l{--calcite-internal-shell-panel-height: var(--calcite-shell-panel-height);--calcite-internal-shell-panel-min-height: var(--calcite-shell-panel-min-height, 5vh);--calcite-internal-shell-panel-max-height: var(--calcite-shell-panel-max-height, 40vh)}.container{pointer-events:none;box-sizing:border-box;display:flex;block-size:100%;flex:1 1 auto;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-shell-panel-text-color, var(--calcite-color-text-2))}.container *{box-sizing:border-box}.container.float-all{margin-block:var(--calcite-spacing-sm);margin-inline:var(--calcite-spacing-sm)}.float-all{max-block-size:var(--calcite-internal-shell-panel-max-height, calc(100% - 1rem) );box-shadow:var(--calcite-shell-panel-shadow, var(--calcite-shadow-sm));border-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));overflow:hidden}:host([layout=vertical][position=start]) .float-all{border-inline-start:var(--calcite-border-width-sm) solid var(--calcite-shell-panel-border-color, var(--calcite-color-border-3))}:host([layout=vertical][position=end]) .float-all{border-inline-end:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-shell-panel-border-color, var(--calcite-color-border-3)))}:host([layout=horizontal]) .float-all{border-inline:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-shell-panel-border-color, var(--calcite-color-border-3)))}:host([layout=horizontal]) .container{block-size:auto;inline-size:100%;flex-direction:column}.resize-handle{position:absolute;box-sizing:border-box;display:flex;-webkit-user-select:none;user-select:none;align-items:center;justify-content:center;outline:2px solid transparent;outline-offset:2px;--calcite-internal-shell-panel-resize-handle-offset: calc( (var(--calcite-size-fixed-xxl) - var(--calcite-size-fixed-sm-plus)) / 2 * -1 );z-index:var(--calcite-z-index-header)}.resize-handle:active .resize-handle-bar,.resize-handle:hover .resize-handle-bar{color:var(--calcite-shell-panel-resize-icon-color, var(--calcite-color-text-1));background-color:var(--calcite-shell-panel-resize-background-color, var(--calcite-color-foreground-3))}.resize-handle-bar{pointer-events:none;display:flex;align-items:center;justify-content:center;color:var(--calcite-shell-panel-resize-icon-color, var(--calcite-color-border-input));background-color:var(--calcite-shell-panel-resize-background-color, var(--calcite-color-background))}.resize-handle:focus .resize-handle-bar{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-color:transparent;outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus)}:host([position=start][layout=vertical]) .resize-handle{inline-size:var(--calcite-size-fixed-xxl);inset-inline-end:var(--calcite-internal-shell-panel-resize-handle-offset);block-size:100%}:host([position=start][layout=vertical]) .resize-handle-bar{block-size:100%;inline-size:var(--calcite-size-fixed-sm-plus);border-inline-start:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=start][layout=vertical]):host([display-mode^=float]) .resize-handle-bar{border-start-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}:host([position=end][layout=vertical]) .resize-handle{inline-size:var(--calcite-size-fixed-xxl);inset-inline-start:var(--calcite-internal-shell-panel-resize-handle-offset);block-size:100%}:host([position=end][layout=vertical]) .resize-handle-bar{block-size:100%;inline-size:var(--calcite-size-fixed-sm-plus);border-inline-end:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=end][layout=vertical]):host([display-mode^=float]) .resize-handle-bar{border-start-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-end-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}:host([position=start][layout=horizontal]) .resize-handle{block-size:var(--calcite-size-fixed-xxl);inline-size:100%;inset-block-end:var(--calcite-internal-shell-panel-resize-handle-offset)}:host([position=start][layout=horizontal]) .resize-handle-bar{inline-size:100%;block-size:var(--calcite-size-fixed-sm-plus);border-block-start:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=start][layout=horizontal]):host([display-mode^=float]) .resize-handle-bar{border-end-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-end-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}:host([position=end][layout=horizontal]) .resize-handle{block-size:var(--calcite-size-fixed-xxl);inline-size:100%;inset-block-start:var(--calcite-internal-shell-panel-resize-handle-offset)}:host([position=end][layout=horizontal]) .resize-handle-bar{inline-size:100%;block-size:var(--calcite-size-fixed-sm-plus);border-block-end:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=end][layout=horizontal]):host([display-mode^=float]) .resize-handle-bar{border-start-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-start-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%;inline-size:100%;flex:1 1 auto;max-block-size:unset;max-inline-size:unset}::slotted(.calcite-match-height){display:flex;flex:1 1 auto;overflow:hidden}.action-bar-container{pointer-events:auto;box-sizing:border-box;display:flex;flex:1 1 auto}.content-container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;align-items:stretch;align-self:stretch}:host([layout=horizontal]) .action-bar-container,:host([layout=horizontal]) .content-container{flex-direction:column}.content{pointer-events:auto;position:relative;box-sizing:border-box;display:flex;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;align-self:stretch;padding:0;background-color:var(--calcite-shell-panel-background-color, var(--calcite-color-background));transition:max-block-size var(--calcite-animation-timing),max-inline-size var(--calcite-animation-timing)}:host([layout=vertical]:not([display-mode=float-all])) .content{inline-size:var(--calcite-internal-shell-panel-width);max-inline-size:var(--calcite-internal-shell-panel-max-width);min-inline-size:var(--calcite-internal-shell-panel-min-width)}:host([layout=vertical][display-mode=float-all]) .content{inline-size:var(--calcite-internal-shell-panel-width);min-inline-size:var(--calcite-internal-shell-panel-min-width)}:host([layout=horizontal]) .content{block-size:var(--calcite-internal-shell-panel-height);max-block-size:var(--calcite-internal-shell-panel-max-height);min-block-size:var(--calcite-internal-shell-panel-min-height)}:host([resizable][layout=vertical][position=start]) .content{padding-inline-end:var(--calcite-size-fixed-sm-plus)}:host([resizable][layout=vertical][position=end]) .content{padding-inline-start:var(--calcite-size-fixed-sm-plus)}:host([resizable][layout=horizontal][position=start]) .content{padding-block-end:var(--calcite-size-fixed-sm-plus)}:host([resizable][layout=horizontal][position=end]) .content{padding-block-start:var(--calcite-size-fixed-sm-plus)}.content__header{display:flex;flex:0 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch}.content__body{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.content--overlay{position:absolute;--tw-shadow: 0 4px 8px -1px rgba(0, 0, 0, .08), 0 2px 4px -1px rgba(0, 0, 0, .04);--tw-shadow-colored: 0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--calcite-shell-panel-shadow, var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow))}:host([layout=vertical]) .content--overlay{inset-block-start:0px;block-size:100%}:host([layout=horizontal]) .content--overlay{inset-inline-start:0px;inline-size:100%}:host([layout=vertical][position=start]) .content--overlay{inset-inline-start:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-inline-start)}:host([layout=vertical][position=end]) .content--overlay{inset-inline-end:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-inline-end)}:host([layout=horizontal][position=start]) .content--overlay{inset-block-start:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-block-start)}:host([layout=horizontal][position=end]) .content--overlay{inset-block-end:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-block-end)}.float--content{margin-block-end:auto;block-size:auto;overflow:hidden;--tw-shadow: 0 4px 8px -1px rgba(0, 0, 0, .08), 0 2px 4px -1px rgba(0, 0, 0, .04);--tw-shadow-colored: 0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--calcite-shell-panel-shadow, var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow));border-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));margin-inline:var(--calcite-spacing-sm);margin-block-start:var(--calcite-spacing-sm);max-block-size:var(--calcite-internal-shell-panel-max-height, calc(100% - 1rem) )}.float--content ::slotted(calcite-panel),.float--content ::slotted(calcite-flow){max-block-size:unset}:host([layout=horizontal]) .float--content{margin-block:var(--calcite-spacing-sm)}:host([position=start]) .float--content ::slotted(calcite-panel),:host([position=start]) .float--content ::slotted(calcite-flow),:host([position=end]) .float--content ::slotted(calcite-panel),:host([position=end]) .float--content ::slotted(calcite-flow){border-style:none}slot[name=action-bar]::slotted(calcite-action-bar),.content ::slotted(calcite-flow),.content ::slotted(calcite-panel:not([closed])){border:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=start]:not([slot=panel-end])) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start]:not([slot=panel-end])) .content ::slotted(calcite-flow),:host([position=start]:not([slot=panel-end])) .content ::slotted(calcite-panel),:host([position=end][slot=panel-start]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end][slot=panel-start]) .content ::slotted(calcite-flow),:host([position=end][slot=panel-start]) .content ::slotted(calcite-panel){border-inline-start:none}:host([resizable][layout=vertical]) .content ::slotted(calcite-flow),:host([resizable][layout=vertical]) .content ::slotted(calcite-panel){border-inline-start:none;border-inline-end:none}:host([resizable][layout=horizontal]) .content ::slotted(calcite-flow),:host([resizable][layout=horizontal]) .content ::slotted(calcite-panel){border-block-start:none;border-block-end:none}:host([position=end]:not([slot=panel-start])) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end]:not([slot=panel-start])) .content ::slotted(calcite-flow),:host([position=end]:not([slot=panel-start])) .content ::slotted(calcite-panel),:host([position=start][slot=panel-end]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start][slot=panel-end]) .content ::slotted(calcite-flow),:host([position=start][slot=panel-end]) .content ::slotted(calcite-panel){border-inline-end:none}:host([layout=horizontal]) slot[name=action-bar]::slotted(calcite-action-bar){border-inline:0}:host([layout=horizontal][position=start]) .content ::slotted(calcite-flow),:host([layout=horizontal][position=start]) .content ::slotted(calcite-panel){border-inline:0;border-block-start:0}:host([layout=horizontal][position=end]) .content ::slotted(calcite-flow),:host([layout=horizontal][position=end]) .content ::slotted(calcite-panel){border-inline:0;border-block-end:0}:host([hidden]){display:none}[hidden]{display:none}`,r1=class r1 extends lt{constructor(){super(...arguments),this.actionBars=[],this.contentRef=At(),this.messages=Ei(),this.resizeValues={inlineSize:null,blockSize:null,minInlineSize:null,minBlockSize:null,maxInlineSize:null,maxBlockSize:null},this.hasHeader=!1,this.collapsed=!1,this.displayMode="dock",this.layout="vertical",this.position="start",this.resizable=!1,this.widthScale="m",this.calciteInternalShellPanelResizeEnd=Ie({cancelable:!1}),this.calciteInternalShellPanelResizeStart=Ie({cancelable:!1}),this.calciteShellPanelCollapse=Ie({cancelable:!1}),this.calciteShellPanelExpand=Ie({cancelable:!1})}willUpdate(e){e.has("layout")&&(this.hasUpdated||this.layout!=="vertical")&&this.setActionBarsLayout(this.actionBars),e.has("collapsed")&&this.hasUpdated&&(this.collapsed?this.calciteShellPanelCollapse.emit():this.calciteShellPanelExpand.emit())}disconnectedCallback(){super.disconnectedCallback(),this.cleanupInteractions()}getContentElDOMRect(){return this.contentRef.value.getBoundingClientRect()}handleKeyDown(e){const{key:i,defaultPrevented:r,shiftKey:n}=e,{position:s,layout:o,resizable:a,contentRef:l,el:d,resizeValues:{maxBlockSize:h,maxInlineSize:f,minBlockSize:y,minInlineSize:b}}=this,$=[...o==="horizontal"?["ArrowUp","ArrowDown"]:["ArrowLeft","ArrowRight"],"Home","End"];if(!a||!l.value||r||!$.includes(i))return;const E=this.getContentElDOMRect(),C=Vo(d)==="rtl"?-1:1,O=n?Vr:hU;switch(i){case"ArrowUp":this.updateSize({size:E.height+(o==="horizontal"&&s==="end"?O:-O),type:"blockSize"}),e.preventDefault();break;case"ArrowDown":this.updateSize({size:E.height+(o==="horizontal"&&s==="end"?-O:O),type:"blockSize"}),e.preventDefault();break;case"ArrowLeft":this.updateSize({size:E.width+(o==="vertical"&&s==="end"?O:-O)*C,type:"inlineSize"}),e.preventDefault();break;case"ArrowRight":this.updateSize({size:E.width+(o==="vertical"&&s==="end"?-O:O)*C,type:"inlineSize"}),e.preventDefault();break;case"Home":this.updateSize({size:o==="horizontal"?y:b,type:o==="horizontal"?"blockSize":"inlineSize"}),e.preventDefault();break;case"End":this.updateSize({size:o==="horizontal"?h:f,type:o==="horizontal"?"blockSize":"inlineSize"}),e.preventDefault();break}}updateSize({type:e,size:i}){const{contentRef:r,resizeValues:n}=this;if(!r.value)return;const s=e==="blockSize"?"minBlockSize":"minInlineSize",o=e==="blockSize"?"maxBlockSize":"maxInlineSize",a=n[s]&&n[o]?aG(i,n[s],n[o]):i,l=Math.round(a);this.resizeValues={...n,[e]:l},r.value.style[e]=i!==null?`${l}px`:null}cleanupInteractions(){this.interaction?.unset()}async setupInteractions(){this.cleanupInteractions();const{el:e,contentRef:i,resizable:r,position:n,collapsed:s,resizeHandleEl:o,layout:a}=this;if(!i.value||s||!r||!o)return;await this.el.componentOnReady();const{inlineSize:l,minInlineSize:d,blockSize:h,minBlockSize:f,maxInlineSize:y,maxBlockSize:b}=window.getComputedStyle(i.value),x={inlineSize:xn(l),blockSize:xn(h),minInlineSize:xn(d),minBlockSize:xn(f),maxInlineSize:xn(y)||window.innerWidth,maxBlockSize:xn(b)||window.innerHeight};this.resizeValues=x;const $=Vo(e)==="rtl";this.interaction=cd(i.value,{context:e.ownerDocument}).resizable({edges:{top:n==="end"&&a==="horizontal"?o:!1,right:n===($?"end":"start")&&a==="vertical"?o:!1,bottom:n==="start"&&a==="horizontal"?o:!1,left:n===($?"start":"end")&&a==="vertical"?o:!1},modifiers:[cd.modifiers.restrictSize({min:{width:x.minInlineSize,height:x.minBlockSize},max:{width:x.maxInlineSize,height:x.maxBlockSize}})],listeners:{resizestart:()=>{this.calciteInternalShellPanelResizeStart.emit()},resizeend:()=>{this.calciteInternalShellPanelResizeEnd.emit()},move:({rect:E})=>{const C=a==="horizontal";this.updateSize({size:C?E.height:E.width,type:C?"blockSize":"inlineSize"})}}})}setResizeHandleEl(e){this.resizeHandleEl=e,this.setupInteractions()}setActionBarsLayout(e){e.forEach(i=>i.layout=this.layout)}handleActionBarSlotChange(e){const i=La(e).filter(r=>r?.matches("calcite-action-bar"));this.actionBars=i,this.setActionBarsLayout(i)}handleHeaderSlotChange(e){this.hasHeader=Ft(e)}getResizeIcon(){const{layout:e}=this;return e==="horizontal"?pI.dragVertical:pI.dragHorizontal}renderHeader(){return Ve("header",q`<div class=${U(Gn.contentHeader)} .hidden=${!this.hasHeader}><slot name=${hI.header} @slotchange=${this.handleHeaderSlotChange}></slot></div>`)}render(){const{collapsed:e,position:i,resizable:r,layout:n,displayMode:s,resizeValues:o}=this,a=Vo(this.el),l=!e&&r?Ve("resize-handle",q`<div .ariaLabel=${this.messages.resize} .ariaOrientation=${n==="horizontal"?"vertical":"horizontal"} .ariaValueMax=${n=="horizontal"?o.maxBlockSize:o.maxInlineSize} .ariaValueMin=${n=="horizontal"?o.minBlockSize:o.minInlineSize} .ariaValueNow=${n=="horizontal"?o.blockSize:o.inlineSize} class=${U(Gn.resizeHandle)} @keydown=${this.handleKeyDown} role=separator tabindex=0 touch-action=none ${Be(this.setResizeHandleEl)}><div class=${U(Gn.resizeHandleBar)}><calcite-icon .icon=${this.getResizeIcon()} scale=s></calcite-icon></div></div>`):null,d=()=>n==="horizontal"?i==="start"?Rs.calciteAnimateInDown:Rs.calciteAnimateInUp:a==="ltr"&&i==="end"||a==="rtl"&&i==="start"?Rs.calciteAnimateInLeft:Rs.calciteAnimateInRight,h=q`<div class=${U(Gn.contentContainer)}>${Ve("content",q`<div class=${U({[Rs.rtl]:a==="rtl",[Gn.content]:!0,[Gn.contentOverlay]:s==="overlay",[Gn.floatContent]:s==="float-content"||s==="float",[Rs.calciteAnimate]:s==="overlay",[d()]:s==="overlay",[Gx("width",this.width,this.widthScale)]:!!(this.width||this.widthScale),[Gx("height",this.height,this.heightScale)]:!!(this.height||this.heightScale)})} .hidden=${e} ${Be(this.contentRef)}>${this.renderHeader()}<div class=${U(Gn.contentBody)}><slot></slot></div>${l}</div>`)}</div>`,y=[Ve("action-bar-container",q`<div class=${U(Gn.actionBarContainer)}><slot name=${hI.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`),h];return i==="end"&&y.reverse(),q`<div class=${U({[Gn.container]:!0,[Gn.floatAll]:s==="float-all"})}>${y}</div>`}};r1.properties={resizeValues:[16,{},{state:!0}],hasHeader:[16,{},{state:!0}],collapsed:[7,{},{reflect:!0,type:Boolean}],displayMode:[3,{},{reflect:!0}],heightScale:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:[3,{},{reflect:!0}],resizable:[7,{},{reflect:!0,type:Boolean}],height:[3,{},{reflect:!0}],widthScale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},r1.styles=lG;let o$=r1;gt("calcite-shell-panel",o$);const Lr={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},cG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle;border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0))}:host a,:host button{--calcite-internal-button-content-margin: .5rem;--calcite-internal-button-padding-x: 7px;--calcite-internal-button-padding-y: 3px;position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;outline-color:transparent;box-shadow:var(--calcite-button-shadow, var(--calcite-shadow-none));background-color:var(--calcite-button-background-color, var(--calcite-internal-button-background-color, var(--calcite-color-transparent)));border-block-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-block-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-style:solid;border-width:var(--calcite-border-width-sm);border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0));color:var(--calcite-button-text-color, var(--calcite-internal-button-text-color, currentColor));padding-block:var(--calcite-internal-button-padding-y);padding-inline:var(--calcite-internal-button-padding-x);transition:color var(--calcite-animation-timing) ease-in-out,background-color var(--calcite-animation-timing) ease-in-out,box-shadow var(--calcite-animation-timing) ease-in-out,outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host a:hover,:host button:hover{text-decoration-line:none}:host a:focus,:host button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host a span,:host button span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host a calcite-loader,:host button calcite-loader{color:var(--calcite-button-loader-color, var(--calcite-internal-button-loader-color, var(--calcite-button-text-color, var(--calcite-internal-button-text-color))))}:host([round]){--calcite-internal-button-corner-radius: 50px}.content{margin-inline:var(--calcite-internal-button-content-margin)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-content-margin: .75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-internal-button-content-margin: 1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-internal-button-content-margin)}.icon--start,.icon--end{color:var(--calcite-button-icon-color, var(--calcite-icon-color, var(--calcite-ui-icon-color)))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(.5)}to{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}to{inline-size:0;opacity:0;transform:scale(.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-internal-button-content-margin)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{--calcite-internal-button-border-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([kind=brand]) button,:host([kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{--calcite-internal-button-background-color: var(--calcite-color-brand-press)}:host([kind=danger]) button,:host([kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{--calcite-internal-button-background-color: var(--calcite-color-status-danger-press)}:host([kind=neutral]) button,:host([kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-background-color: var(--calcite-color-foreground-3);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{--calcite-internal-button-background-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{--calcite-internal-button-background-color: var(--calcite-color-foreground-1);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline-fill]) button:hover,:host([appearance=outline-fill]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([appearance=outline-fill]) button:active,:host([appearance=outline-fill]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=solid][kind=neutral]) button:hover,:host([appearance=solid][kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-border-3)}:host([appearance=solid][kind=neutral]) button:active,:host([appearance=solid][kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-border-2)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press)}:host([appearance=outline]) button,:host([appearance=outline]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline]) button:hover,:host([appearance=outline]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=outline]) button:active,:host([appearance=outline]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button,:host([appearance=outline-fill][split-child=primary]) a,:host([appearance=outline][split-child=primary]) a{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button,:host([appearance=outline-fill][split-child=secondary]) a,:host([appearance=outline][split-child=secondary]) a{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]) button,:host([appearance=transparent]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent)}:host([appearance=transparent]) button:hover,:host([appearance=transparent]) button:focus,:host([appearance=transparent]) a:hover,:host([appearance=transparent]) a:focus{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=transparent]) button:active,:host([appearance=transparent]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:var(--calcite-color-transparent)}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{--calcite-internal-button-text-color: var(--calcite-color-text-3)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-padding-y: 0}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button:hover,:host([appearance=transparent][kind=inverse]) a:hover{background-color:var(--calcite-color-transparent-inverse-hover)}:host([appearance=transparent][kind=inverse]) button:active,:host([appearance=transparent][kind=inverse]) a:active{background-color:var(--calcite-color-transparent-inverse-press)}:host([appearance=transparent][kind=inverse]) button calcite-loader,:host([appearance=transparent][kind=inverse]) a calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-internal-button-padding-y: 3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-internal-button-padding-x: 11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-padding-y: 7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-internal-button-padding-x: 15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-internal-button-padding-x: 1rem;--calcite-internal-button-padding-y: 11px}:host([scale=l]) .button-padding--shrunk{--calcite-internal-button-padding-y: 9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host(:is([scale=s],[scale=m],[scale=l])[width=full]) a:not(.content--slotted),:host(:is([scale=s],[scale=m],[scale=l])[width=full]) button:not(.content--slotted){inline-size:var(--calcite-container-size-content-fluid)}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-y: .625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2.75rem}:host([hidden]){display:none}[hidden]{display:none}`,n1=class n1 extends lt{constructor(){super(...arguments),this.attributeWatch=GR(["aria-expanded"],this.handleGlobalAttributesChanged),this.contentRef=At(),this.mutationObserver=hs("mutation",()=>this.updateHasContent()),this.resizeObserver=hs("resize",()=>this.setTooltipText()),this.focusSetter=Ai()(this),this.messages=Ei(),this.hasContent=!1,this.alignment="center",this.appearance="solid",this.disabled=!1,this.download=!1,this.kind="brand",this.loading=!1,this.round=!1,this.scale="m",this.splitChild=!1,this.type="button",this.width="auto"}async setFocus(e){return this.focusSetter(()=>this.childEl,e)}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),Ah(this),this.formEl=WT(this)}async load(){this.updateHasContent()}updated(){vs(this)}loaded(){this.setTooltipText()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),k1(this),this.resizeObserver?.disconnect(),this.formEl=null}handleGlobalAttributesChanged(){this.requestUpdate()}updateHasContent(){this.hasContent=WU(this.el)}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}handleClick(){const{type:e}=this;this.href||(e==="submit"?b1(this):e==="reset"&&eD(this))}setTooltipText(){const{contentRef:{value:e}}=this;e&&(this.tooltipText=e.offsetWidth<e.scrollWidth&&this.el.innerText||null)}setChildEl(e){OR(this.resizeObserver,this.childEl,e),this.childEl=e}render(){const e=this.href?"a":"button",i=this.href?vm`a`:vm`button`,r=this.loading?q`<div class=${U(Lr.buttonLoader)}><calcite-loader class=${U(this.loading?Lr.loadingIn:Lr.loadingOut)} inline .label=${this.messages.loading} .scale=${this.scale==="l"?"m":"s"}></calcite-loader></div>`:null,n=!this.iconStart&&!this.iconEnd,s=q`<calcite-icon class=${U({[Lr.icon]:!0,[Lr.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} .scale=${ii(this.scale)}></calcite-icon>`,o=q`<calcite-icon class=${U({[Lr.icon]:!0,[Lr.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} .scale=${ii(this.scale)}></calcite-icon>`,a=q`<span class=${U(Lr.content)} ${Be(this.contentRef)}><slot></slot></span>`;return bs({disabled:this.disabled,children:r2`<${i} .ariaBusy=${this.loading} .ariaExpanded=${this.el.ariaExpanded?this.el.ariaExpanded:null} .ariaLabel=${this.loading?this.messages.loading:T1(this)} aria-live=polite class=${U({[Lr.buttonPadding]:n,[Lr.buttonPaddingShrunk]:!n,[Lr.contentSlotted]:this.hasContent,[Lr.iconStartEmpty]:!this.iconStart,[Lr.iconEndEmpty]:!this.iconEnd})} .disabled=${e==="button"?this.disabled:null} download=${(e==="a"?this.download===!0||this.download===""?"":this.download||null:null)??he} href=${(e==="a"&&this.href)??he} name=${(e==="button"&&this.name)??he} @click=${this.handleClick} rel=${(e==="a"&&this.rel)??he} tabindex=${(this.disabled?-1:null)??he} target=${(e==="a"&&this.target)??he} title=${this.tooltipText??he} type=${(e==="button"?this.type:null)??he} ${Be(this.setChildEl)}>${r}${this.iconStart?s:null}${this.hasContent?a:null}${this.iconEnd?o:null}</${i}>`})}};n1.properties={hasContent:[16,{},{state:!0}],tooltipText:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],download:[3,{converter:tl},{reflect:!0}],form:[3,{},{reflect:!0}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],kind:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],name:[3,{},{reflect:!0}],rel:[3,{},{reflect:!0}],round:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],splitChild:[3,{},{reflect:!0}],target:[3,{},{reflect:!0}],type:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},n1.styles=cG;let O0=n1;gt("calcite-button",O0);const c2=Object.freeze(Object.defineProperty({__proto__:null,Button:O0},Symbol.toStringTag,{value:"Module"}));const bp={width:{medium:dy(qH.max),small:dy(BH.max),xsmall:dy(VH.max),xxsmall:dy(UH.max)}};function dy(t){return parseInt(t)}const di={list:"list",listItem:"list-item",hiddenItem:"hidden-item",page:"page",selected:"selected",chevron:"chevron",disabled:"disabled",ellipsis:"ellipsis"},hy={next:"chevron-right",previous:"chevron-left",first:"chevron-start",last:"chevron-end"},uG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:flex;writing-mode:horizontal-tb}.list{margin:0;display:flex;list-style-type:none;padding:0;column-gap:var(--calcite-spacing-base)}.list-item{margin:0;display:flex;padding:0}.hidden-item{display:none}:host([scale=s]) .chevron,:host([scale=s]) .page,:host([scale=s]) .ellipsis{block-size:1.5rem;padding-inline:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;min-inline-size:1.5rem}:host([scale=m]) .chevron,:host([scale=m]) .page,:host([scale=m]) .ellipsis{block-size:2rem;padding-inline:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;min-inline-size:2rem}:host([scale=l]) .chevron,:host([scale=l]) .page,:host([scale=l]) .ellipsis{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-inline-size:2.75rem}:host([scale=l]) .chevron{padding-inline:.625rem}:host([scale=l]) .page,:host([scale=l]) .ellipsis{padding-inline:.75rem}:host button{outline-color:transparent}:host button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.chevron,.page,.ellipsis{margin:0;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-style:none;--tw-border-opacity: 0;background-color:transparent;padding:0;vertical-align:baseline;font-family:inherit;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-pagination-color, var(--calcite-color-text-3))}.chevron,.page{cursor:pointer;border-block:2px solid transparent}.chevron:hover,.page:hover{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-pagination-color-hover, var(--calcite-color-text-1))}.chevron:active,.page:active{color:var(--calcite-pagination-color-hover, var(--calcite-color-text-1))}.page:hover{border-block-end-color:var(--calcite-pagination-color-border-hover, var(--calcite-color-border-2))}.page:active{background-color:var(--calcite-pagination-background-color, var(--calcite-color-foreground-3))}.page.selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-pagination-color-hover, var(--calcite-color-text-1));border-block-end-color:var(--calcite-pagination-color-border-active, var(--calcite-color-brand))}.page.selected:focus{border-block-end-width:var(--calcite-spacing-xxs);padding-block-start:var(--calcite-spacing-base)}.chevron:hover{background-color:var(--calcite-pagination-icon-color-background-hover, var(--calcite-color-foreground-2))}.chevron:active{background-color:var(--calcite-pagination-background-color, var(--calcite-color-foreground-3))}.chevron.disabled{pointer-events:none;background-color:transparent}.chevron.disabled>calcite-icon{opacity:var(--calcite-opacity-disabled)}:host([hidden]){display:none}[hidden]{display:none}`,n_=2,fI=2,aa={large:11,medium:9,small:7,xsmall:5,xxsmall:1},sm=class sm extends lt{constructor(){super(...arguments),this.resizeHandler=({contentRect:{width:e}})=>this.setMaxItemsToBreakpoint(e),this.resizeObserver=hs("resize",e=>e.forEach(this.resizeHandler)),this.messages=Ei(),this.focusSetter=Ai()(this),this.maxItems=aa.xxsmall,this.groupSeparator=!1,this.pageSize=20,this.scale="m",this.startItem=1,this.totalItems=0,this.calcitePaginationChange=Ie({cancelable:!1})}async goTo(e){switch(e){case"start":this.startItem=1;break;case"end":this.startItem=this.lastStartItem;break;default:e>=Math.ceil(this.totalPages)?this.startItem=this.lastStartItem:e<=0?this.startItem=1:this.startItem=(e-1)*this.pageSize+1}}async nextPage(){this.startItem=Math.min(this.lastStartItem,this.startItem+this.pageSize)}async previousPage(){this.startItem=Math.max(1,this.startItem-this.pageSize)}async setFocus(e){return this.focusSetter(()=>this.el,e)}connectedCallback(){super.connectedCallback(),this.resizeObserver?.observe(this.el)}async load(){this.handleTotalPages(),this.handleLastStartItemChange(),this.handleIsXXSmall()}willUpdate(e){(e.has("totalItems")&&(this.hasUpdated||this.totalItems!==0)||e.has("pageSize")&&(this.hasUpdated||this.pageSize!==20))&&this.handleTotalPages(),(e.has("totalItems")&&(this.hasUpdated||this.totalItems!==0)||e.has("pageSize")&&(this.hasUpdated||this.pageSize!==20)||e.has("totalPages"))&&this.handleLastStartItemChange(),e.has("maxItems")&&(this.hasUpdated||this.maxItems!==aa.xxsmall)&&this.handleIsXXSmall(),e.has("messages")&&this.effectiveLocaleChange()}loaded(){this.setMaxItemsToBreakpoint(this.el.clientWidth)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}handleTotalPages(){this.pageSize=Math.max(1,this.pageSize),this.totalPages=Math.max(1,this.totalItems/this.pageSize)}effectiveLocaleChange(){gi.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator}}handleLastStartItemChange(){const{totalItems:e,pageSize:i}=this;this.lastStartItem=Math.max(1,Math.floor((e-1)/i)*i+1)}handleIsXXSmall(){this.isXXSmall=this.maxItems===aa.xxsmall}setMaxItemsToBreakpoint(e){if(!(!bp||!e)){if(e>=bp.width.medium){this.maxItems=aa.large;return}if(e>=bp.width.small){this.maxItems=aa.medium;return}if(e>=bp.width.xsmall){this.maxItems=aa.small;return}if(e>=bp.width.xxsmall){this.maxItems=aa.xsmall;return}this.maxItems=aa.xxsmall}}firstClicked(){this.startItem=1,this.emitUpdate()}lastClicked(){this.startItem=this.lastStartItem,this.emitUpdate()}async previousClicked(){await this.previousPage(),this.emitUpdate()}async nextClicked(){await this.nextPage(),this.emitUpdate()}showStartEllipsis(){return this.totalPages>this.maxItems&&Math.floor(this.startItem/this.pageSize)>this.maxItems-n_-fI}showEndEllipsis(){return this.totalPages>this.maxItems&&(this.totalItems-this.startItem)/this.pageSize>this.maxItems-n_-(fI-1)}emitUpdate(){this.calcitePaginationChange.emit()}handlePageClick(e){const i=e.target;this.startItem=parseInt(i.value),this.emitUpdate()}renderEllipsis(e){return Ve(e,q`<span class=${U(di.ellipsis)} data-test-ellipsis=${e??he}>&hellip;</span>`)}renderItems(){const{totalItems:e,pageSize:i,startItem:r,maxItems:n,totalPages:s,lastStartItem:o,isXXSmall:a}=this,l=[];if(a)return l.push(this.renderPage(r)),l;const d=e>i,h=this.showStartEllipsis(),f=this.showEndEllipsis();d&&l.push(this.renderPage(1)),h&&l.push(this.renderEllipsis("start"));const y=n-n_-(f?1:0)-(h?1:0);let b,x;s-1<=y?(x=1+i,b=o-i):r/i<y?(x=1+i,b=1+y*i):r+y*i>=e?(x=o-y*i,b=o-i):(x=r-i*((y-1)/2),b=r+i*((y-1)/2));for(let $=0;$<y&&x<=b;$++)l.push(this.renderPage(x)),x=x+i;return f&&l.push(this.renderEllipsis("end")),l.push(this.renderPage(o)),l}renderPage(e){const{pageSize:i}=this,r=Math.floor(e/i)+(i===1?0:1);gi.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const n=gi.localize(r.toString()),s=e===this.startItem;return q`<li class=${U(di.listItem)}><button .ariaCurrent=${s?"page":"false"} class=${U({[di.page]:!0,[di.selected]:s})} @click=${this.handlePageClick} value=${e??he}>${n}</button></li>`}renderPreviousChevron(){const{pageSize:e,startItem:i,messages:r}=this,n=e===1?i<=e:i<e;return Ve("previous",q`<button .ariaLabel=${r.previous} class=${U({[di.chevron]:!0,[di.disabled]:n})} data-test-chevron=previous .disabled=${n} @click=${this.previousClicked}><calcite-icon flip-rtl .icon=${hy.previous} .scale=${ii(this.scale)}></calcite-icon></button>`)}renderNextChevron(){const{totalItems:e,pageSize:i,startItem:r,messages:n}=this,s=r+i>e;return Ve("next-button",q`<button .ariaLabel=${n.next} class=${U({[di.chevron]:!0,[di.disabled]:s})} data-test-chevron=next .disabled=${s} @click=${this.nextClicked}><calcite-icon flip-rtl .icon=${hy.next} .scale=${ii(this.scale)}></calcite-icon></button>`)}renderFirstChevron(){const{messages:e,startItem:i,isXXSmall:r}=this,n=i===1;return r?Ve("first-button",q`<button .ariaLabel=${e.first} class=${U({[di.chevron]:!0,[di.disabled]:n})} .disabled=${n} @click=${this.firstClicked}><calcite-icon flip-rtl .icon=${hy.first} .scale=${ii(this.scale)}></calcite-icon></button>`):null}renderLastChevron(){const{messages:e,startItem:i,isXXSmall:r,lastStartItem:n}=this,s=i===n;return r?Ve("last-button",q`<button .ariaLabel=${e.last} class=${U({[di.chevron]:!0,[di.disabled]:s})} .disabled=${s} @click=${this.lastClicked}><calcite-icon flip-rtl .icon=${hy.last} .scale=${ii(this.scale)}></calcite-icon></button>`):null}render(){const e=this.renderFirstChevron(),i=this.renderLastChevron();return q`<ul class=${U(di.list)}><li class=${U({[di.listItem]:!0,[di.hiddenItem]:!e})}>${e}</li><li class=${U(di.listItem)}>${this.renderPreviousChevron()}</li>${this.renderItems()}<li class=${U(di.listItem)}>${this.renderNextChevron()}</li><li class=${U({[di.listItem]:!0,[di.hiddenItem]:!i})}>${i}</li></ul>`}};sm.properties={isXXSmall:[16,{},{state:!0}],lastStartItem:[16,{},{state:!0}],maxItems:[16,{},{state:!0}],totalPages:[16,{},{state:!0}],groupSeparator:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],numberingSystem:1,pageSize:[11,{},{reflect:!0,type:Number}],scale:[3,{},{reflect:!0}],startItem:[11,{},{reflect:!0,type:Number}],totalItems:[11,{},{reflect:!0,type:Number}]},sm.shadowRootOptions={mode:"open",delegatesFocus:!0},sm.styles=uG;let a$=sm;gt("calcite-pagination",a$);function dG(){return navigator.userAgentData}function hG(){const t=dG();return t?.brands?t.brands.map(({brand:e,version:i})=>`${e}/${i}`).join(" "):navigator.userAgent}const Fr={bordered:"bordered",striped:"striped",selectionArea:"selection-area",paginationArea:"pagination-area",container:"container",tableContainer:"table-container",tableFixed:"table--fixed",assistiveText:"assistive-text",selectionActions:"selection-actions",dismissButton:"dismiss-button",selectionChipActive:"selection-chip--active",selectionCountChip:"selection-chip",selectionOutOfViewChip:"selection-chip--out-of-view"},s_={selectionActions:"selection-actions",tableHeader:"table-header",tableFooter:"table-footer"},mI={hideEmpty:"hide-empty",clear:"x"},pG=mt`@charset "UTF-8";:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([scale=s]){--calcite-internal-table-cell-padding: .25rem;--calcite-internal-table-cell-font-size: var(--calcite-font-size--2);--calcite-internal-table-cell-font-size-secondary: var(--calcite-font-size--3)}:host([scale=m]){--calcite-internal-table-cell-padding: .5rem;--calcite-internal-table-cell-font-size: var(--calcite-font-size--1);--calcite-internal-table-cell-font-size-secondary: var(--calcite-font-size--2)}:host([scale=l]){--calcite-internal-table-cell-padding: 1rem;--calcite-internal-table-cell-font-size: var(--calcite-font-size-0);--calcite-internal-table-cell-font-size-secondary: var(--calcite-font-size--1)}:host{display:flex}.container{display:flex;flex-direction:column;inline-size:var(--calcite-container-size-content-fluid);block-size:var(--calcite-container-size-content-fluid)}.table-container{overflow:auto;white-space:nowrap;border:var(--calcite-border-width-sm) solid var(--calcite-table-border-color, var(--calcite-color-border-3));border-radius:var(--calcite-table-corner-radius, var(--calcite-corner-radius-sharp));box-shadow:var(--calcite-table-shadow, var(--calcite-shadow-none))}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}table{border-collapse:collapse;overflow-x:scroll;inline-size:var(--calcite-container-size-content-fluid)}@-moz-document url-prefix(){table{border-collapse:separate;border-spacing:0}}.table--fixed{table-layout:fixed}.bordered ::slotted(calcite-table-row){--calcite-table-row-border-color: var(--calcite-table-border-color, var(--calcite-color-border-3))}.striped ::slotted(calcite-table-row:nth-child(2n+1)){--calcite-table-row-background-color: var( --calcite-table-row-background-color-striped, var(--calcite-color-foreground-2) )}.selection-actions{display:flex;flex-direction:row;margin-inline-start:auto}.selection-area{display:flex;flex-direction:row;align-items:center;padding-block:var(--calcite-internal-table-cell-padding)}.selection-area calcite-chip:last-of-type{margin-inline-end:.5rem}.selection-area calcite-chip:last-of-type:not(:first-of-type){margin-inline-start:.5rem}.selection-area calcite-button{margin-inline-end:1rem}.selection-chip{--calcite-chip-background-color: var(--calcite-table-selection-chip-background-color);--calcite-chip-border-color: var(--calcite-table-selection-chip-border-color);--calcite-chip-corner-radius: var(--calcite-table-selection-chip-corner-radius);--calcite-chip-shadow: var(--calcite-table-selection-chip-shadow);--calcite-chip-text-color: var(--calcite-table-selection-chip-text-color)}.selection-chip.selection-chip--active{--calcite-chip-background-color: var(--calcite-table-selection-chip-background-color-selected);--calcite-chip-border-color: var(--calcite-table-selection-chip-border-color-selected);--calcite-chip-text-color: var(--calcite-table-selection-chip-text-color-selected)}.selection-chip--out-of-view{--calcite-chip-background-color: var(--calcite-table-selection-out-of-view-chip-background-color);--calcite-chip-border-color: var(--calcite-table-selection-out-of-view-chip-border-color);--calcite-chip-corner-radius: var(--calcite-table-selection-out-of-view-chip-corner-radius);--calcite-chip-shadow: var(--calcite-table-selection-out-of-view-chip-shadow);--calcite-chip-text-color: var(--calcite-table-selection-out-of-view-chip-text-color);--calcite-chip-icon-color: var(--calcite-table-selection-out-of-view-chip-icon-color)}.pagination-area{display:flex;inline-size:100%;flex-direction:row;justify-content:center;padding-block:var(--calcite-internal-table-cell-padding)}calcite-pagination{flex:1;justify-content:center;--calcite-pagination-color: var(--calcite-table-pagination-color);--calcite-pagination-color-hover: var(--calcite-table-pagination-color-hover);--calcite-pagination-color-border-hover: var(--calcite-table-pagination-color-border-hover);--calcite-pagination-color-border-active: var(--calcite-table-pagination-color-border-active);--calcite-pagination-background-color: var(--calcite-table-pagination-background-color);--calcite-pagination-icon-color-background-hover: var(--calcite-table-pagination-icon-color-background-hover)}.dismiss-button{margin-inline-end:1rem;--calcite-button-background-color: var(--calcite-table-selection-dismiss-button-background-color);--calcite-button-border-color: var(--calcite-table-selection-dismiss-button-border-color);--calcite-button-corner-radius: var(--calcite-table-selection-dismiss-button-corner-radius);--calcite-button-shadow: var(--calcite-table-selection-dismiss-button-shadow);--calcite-button-text-color: var(--calcite-table-selection-dismiss-button-text-color)}.dismiss-button:hover{--calcite-button-background-color: var(--calcite-table-selection-dismiss-button-background-color-hover);--calcite-button-border-color: var(--calcite-table-selection-dismiss-button-border-color-hover);--calcite-button-text-color: var(--calcite-table-selection-dismiss-button-text-color-hover)}.dismiss-button:active{--calcite-button-background-color: var(--calcite-table-selection-dismiss-button-background-color-active);--calcite-button-border-color: var(--calcite-table-selection-dismiss-button-border-color-active);--calcite-button-text-color: var(--calcite-table-selection-dismiss-button-text-color-active)}:host([hidden]){display:none}[hidden]{display:none}`,s1=class s1 extends lt{constructor(){super(),this.paginationEl=At(),this.tableBodySlotEl=At(),this.tableFootSlotEl=At(),this.tableHeadSlotEl=At(),this.messages=Ei({blocking:!0}),this.colCount=0,this.pageStartRow=1,this.selectedCount=0,this._selectedItems=[],this.bordered=!1,this.groupSeparator=!1,this.interactionMode="interactive",this.layout="auto",this.numbered=!1,this.pageSize=0,this.scale="m",this.selectionDisplay="top",this.selectionMode="none",this.striped=!1,this.calciteInternalTableRowFocusChange=Ie({cancelable:!1}),this.calciteTablePageChange=Ie({cancelable:!1}),this.calciteTableSelect=Ie({cancelable:!1}),this.listen("calciteTableRowSelect",this.calciteTableRowSelectListener),this.listen("calciteInternalTableRowSelect",this.calciteInternalTableRowSelectListener),this.listen("calciteInternalTableRowFocusRequest",this.calciteInternalTableRowFocusEvent)}get selectedItems(){return this._selectedItems}async load(){this.readCellContentsToAT=/safari/i.test(hG()),this.listenOn(this.el.shadowRoot,"slotchange",this.handleSlotChange)}willUpdate(e){(e.has("groupSeparator")&&(this.hasUpdated||this.groupSeparator!==!1)||e.has("interactionMode")&&(this.hasUpdated||this.interactionMode!=="interactive")||e.has("numbered")&&(this.hasUpdated||this.numbered!==!1)||e.has("numberingSystem")||e.has("pageSize")&&(this.hasUpdated||this.pageSize!==0)||e.has("scale")&&(this.hasUpdated||this.scale!=="m")||e.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none"))&&this.updateRows()}handleSlotChange(){this.updateRows()}calciteTableRowSelectListener(e){e.composedPath().includes(this.el)&&this.setSelectedItems(e.target)}calciteInternalTableRowSelectListener(e){e.composedPath().includes(this.el)&&(this.updateSelectedItems(!1),e.stopPropagation())}calciteInternalTableRowFocusEvent(e){const i=e.detail.cellPosition,r=e.detail.rowPosition,n=e.detail.destination,s=e.detail.lastCell,o=this.bodyRows?.filter(D=>!Vw(D)),a=this.allRows?.filter(D=>!Vw(D)),l=this.headRows[this.headRows.length-1]?.positionAll,d=o[0]?.positionAll,h=o[o.length-1]?.positionAll,f=this.footRows[0]?.positionAll,y=a[a.length-1]?.positionAll,b=n==="next"&&r===l,x=n==="previous"&&r===f,$=n==="previous"&&r===d,E=n==="next"&&r===h;let C;switch(n){case"first":C=0;break;case"last":C=y;break;case"next":C=b?d:E?f:r+1;break;case"previous":C=x?h:$?l:r-1;break}const O=this.allRows?.find(D=>D.positionAll===C)?.cellCount,j=i>O?O:i;C!==void 0&&this.calciteInternalTableRowFocusChange.emit({cellPosition:j,rowPosition:C,destination:n,lastCell:s})}getSlottedRows(e){return e?.assignedElements({flatten:!0})?.filter(i=>i?.matches("calcite-table-row"))}updateRows(){const e=this.getSlottedRows(this.tableHeadSlotEl.value)||[],i=this.getSlottedRows(this.tableBodySlotEl.value)||[],r=this.getSlottedRows(this.tableFootSlotEl.value)||[],n=[...e,...i,...r];e?.forEach(o=>{const a=e?.indexOf(o);o.rowType="head",o.positionSection=a,o.positionSectionLocalized=this.localizeNumber((a+1).toString())}),i?.forEach(o=>{const a=i?.indexOf(o);o.rowType="body",o.positionSection=a,o.positionSectionLocalized=this.localizeNumber((a+1).toString())}),r?.forEach(o=>{const a=r?.indexOf(o);o.rowType="foot",o.positionSection=a,o.positionSectionLocalized=this.localizeNumber((a+1).toString())}),n?.forEach(o=>{o.interactionMode=this.interactionMode,o.selectionMode=this.selectionMode,o.bodyRowCount=i?.length,o.positionAll=n?.indexOf(o),o.numbered=this.numbered,o.scale=this.scale,o.readCellContentsToAT=this.readCellContentsToAT,o.lastVisibleRow=n?.indexOf(o)===n.length-1});const s=e[0]?.cellCount||e[0]?.querySelectorAll("calcite-table-header")?.length;this.colCount=s,this.headRows=e,this.bodyRows=i,this.footRows=r,this.allRows=n,this.updateSelectedItems(),this.paginateRows()}handlePaginationChange(){const e=this.paginationEl.value?.startItem;this.pageStartRow=e||1,this.calciteTablePageChange.emit(),this.updateRows()}paginateRows(){this.bodyRows?.forEach(e=>{const i=e.positionSection+1,r=i>=this.pageStartRow&&i<this.pageStartRow+this.pageSize;e.itemHidden=this.pageSize>0&&!r&&!this.footRows.includes(e),e.lastVisibleRow=i===this.pageStartRow+this.pageSize-1||i===this.bodyRows.length})}async updateSelectedItems(e){const i=this.bodyRows?.filter(r=>r.selected);this._selectedItems=i,this.selectedCount=i?.length,this.allRows?.forEach(r=>{r.selectedRowCount=this.selectedCount,r.selectedRowCountLocalized=this.localizeNumber(this.selectedCount)}),e&&this.calciteTableSelect.emit()}handleDeselectAllRows(){this.bodyRows?.forEach(e=>{e.selected=!1}),this.updateSelectedItems(!0)}setSelectedItems(e){this.bodyRows?.forEach(i=>{e?.rowType==="head"?i.selected=this.selectedCount!==this.bodyRows?.length:i.selected=this.selectionMode==="multiple"||e===i?i.selected:!1}),this.updateSelectedItems(!0)}localizeNumber(e){return gi.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},gi.localize(e.toString())}renderSelectionArea(){const e=this._selectedItems?.filter(o=>Vw(o))?.length,i=this.localizeNumber(e?.toString()),n=`${this.localizeNumber(this.selectedCount?.toString())} ${this.messages.selected}`,s=`${i} ${this.messages.hiddenSelected}`;return q`<div class=${U(Fr.selectionArea)}><calcite-chip class=${U({[Fr.selectionCountChip]:!0,[Fr.selectionChipActive]:this.selectedCount>0})} .kind=${this.selectedCount>0?"brand":"neutral"} .label=${n} .scale=${this.scale} .value=${n}>${n}</calcite-chip>${e>0&&q`<calcite-chip class=${U(Fr.selectionOutOfViewChip)} .icon=${mI.hideEmpty} .label=${s} .scale=${this.scale} title=${s??he} .value=${s}>${i}</calcite-chip>`||""}${this.selectedCount>0&&q`<calcite-button class=${U(Fr.dismissButton)} .iconStart=${mI.clear} kind=neutral @click=${this.handleDeselectAllRows} round .scale=${this.scale} .title=${`${this.messages.clear} ${n} ${this.messages.row}`}>${this.messages.clear}</calcite-button>`||""}<div class=${U(Fr.selectionActions)}><slot name=${s_.selectionActions}></slot></div></div>`}renderPaginationArea(){return q`<div class=${U(Fr.paginationArea)}><calcite-pagination .groupSeparator=${this.groupSeparator} .numberingSystem=${this.numberingSystem} @calcitePaginationChange=${this.handlePaginationChange} .pageSize=${this.pageSize} .scale=${this.scale} start-item=1 .totalItems=${this.bodyRows?.length} ${Be(this.paginationEl)}></calcite-pagination></div>`}renderTHead(){return q`<thead><slot name=${s_.tableHeader} ${Be(this.tableHeadSlotEl)}></slot></thead>`}renderTBody(){return q`<tbody><slot ${Be(this.tableBodySlotEl)}></slot></tbody>`}renderTFoot(){return q`<tfoot><slot name=${s_.tableFooter} ${Be(this.tableFootSlotEl)}></slot></tfoot>`}render(){return q`<div class=${U(Fr.container)}>${this.selectionMode!=="none"&&this.selectionDisplay!=="none"&&this.renderSelectionArea()||""}<div class=${U({[Fr.bordered]:this.bordered,[Fr.striped]:this.striped,[Fr.tableContainer]:!0})}><table .ariaColCount=${this.colCount} .ariaMultiSelectable=${this.selectionMode==="multiple"?"true":null} .ariaRowCount=${this.allRows?.length} class=${U({[Fr.tableFixed]:this.layout==="fixed"})} .role=${this.interactionMode==="interactive"?"grid":"table"} ${Be(e=>{e&&NT(q`<caption class=${U(Fr.assistiveText)}>${this.caption}</caption>${this.renderTHead()}${this.renderTBody()}${this.renderTFoot()}`,e)})}></table></div>${this.pageSize>0&&this.renderPaginationArea()||""}</div>`}};s1.properties={colCount:[16,{},{state:!0}],pageStartRow:[16,{},{state:!0}],readCellContentsToAT:[16,{},{state:!0}],selectedCount:[16,{},{state:!0}],_selectedItems:[16,{},{state:!0}],bordered:[7,{},{reflect:!0,type:Boolean}],caption:1,groupSeparator:[7,{},{reflect:!0,type:Boolean}],interactionMode:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],numbered:[7,{},{reflect:!0,type:Boolean}],numberingSystem:[3,{},{reflect:!0}],pageSize:[11,{},{reflect:!0,type:Number}],scale:[3,{},{reflect:!0}],selectedItems:[32,{},{attribute:!1,readOnly:!0}],selectionDisplay:[3,{},{reflect:!0}],selectionMode:[3,{},{reflect:!0}],striped:[7,{},{reflect:!0,type:Boolean}]},s1.styles=pG;let l$=s1;gt("calcite-table",l$);const jr={contentCell:"content-cell",numberCell:"number-cell",selectionCell:"selection-cell",bodyRow:"body-row",footerRow:"footer-row",heading:"heading",description:"description",multipleSelectionCell:"cell--multiple-selection",assistiveText:"assistive-text",active:"active",selectedCell:"selected-cell",lastCell:"last-cell",staticCell:"static-cell"},o_={checked:"check-square-f",indeterminate:"minus-square-f",unchecked:"square"},fG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:contents}:host([alignment=center]) th{text-align:center}:host([alignment=end]) th{text-align:end}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}th{white-space:normal;text-align:start;vertical-align:top;font-weight:var(--calcite-font-weight-medium);border-block-end:var(--calcite-border-width-sm) solid var(--calcite-table-header-border-color, var(--calcite-table-border-color, var(--calcite-color-border-3)));padding-block:calc(var(--calcite-internal-table-cell-padding) * 1.5);padding-inline:var(--calcite-internal-table-cell-padding);background-color:var(--calcite-table-header-background-color, var(--calcite-table-header-background, var(--calcite-color-foreground-2)));font-size:var(--calcite-internal-table-cell-font-size);border-inline-end:var(--calcite-border-width-sm) solid var(--calcite-table-cell-border-color, var(--calcite-table-border-color, var(--calcite-color-border-3)))}th:not(.static-cell){outline-color:transparent}th:not(.static-cell):not(.static-cell):focus-within{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}th:not(.center):not(.end).content-cell{vertical-align:top}th.center{vertical-align:middle}th.end.content-cell{vertical-align:bottom}th.body-row,th.footer-row{padding-block:var(--calcite-internal-table-cell-padding);border-block-end:0}th.footer-row{border-block-start:var(--calcite-border-width-sm) solid var(--calcite-table-header-border-color, var(--calcite-table-border-color, var(--calcite-color-border-3)))}th.last-cell{border-inline-end:0}.cell--multiple-selection{cursor:pointer;vertical-align:middle;color:var(--calcite-table-selection-cell-icon-color, var(--calcite-color-text-3));background-color:var(--calcite-table-selection-cell-background-color, var(--calcite-color-foreground-2))}.cell--multiple-selection.selected-cell{background-color:var(--calcite-table-selection-cell-background-color-selected, var(--calcite-color-foreground-2))}.cell--multiple-selection:not(.end){vertical-align:middle}.number-cell{background-color:var(--calcite-table-number-cell-background-color, var(--calcite-table-cell-background-color, var(--calcite-color-foreground-2)))}.number-cell,.selection-cell{inline-size:2rem;min-inline-size:2rem}.selection-cell calcite-icon.active{color:var(--calcite-table-selection-cell-icon-color-selected, var(--calcite-color-brand))}.number-cell calcite-icon,.selection-cell calcite-icon{margin-inline-start:auto;margin-inline-end:auto;vertical-align:middle}.heading{color:var(--calcite-table-header-heading-text-color, var(--calcite-color-text-1))}.description{color:var(--calcite-table-header-description-text-color, var(--calcite-color-text-3));font-size:var(--calcite-internal-table-cell-font-size-secondary)}`,o1=class o1 extends lt{constructor(){super(...arguments),this.containerEl=At(),this.messages=Ei({blocking:!0}),this.focusSetter=Ai()(this),this.focused=!1,this.screenReaderText="",this.alignment="start",this.interactionMode="interactive",this.numberCell=!1,this.parentRowAlignment="start",this.selectionCell=!1}async setFocus(e){return this.focusSetter(()=>this.containerEl.value,e)}async load(){this.updateScreenReaderText()}willUpdate(e){(e.has("selectedRowCount")||e.has("selectedRowCountLocalized"))&&this.updateScreenReaderText()}updateScreenReaderText(){let e="";const i=`${this.selectedRowCountLocalized} ${this.messages?.selected}`;this.numberCell?e=this.messages?.rowNumber:this.selectionMode==="single"?e=`${this.messages?.selectionColumn}. ${i}`:this.bodyRowCount===this.selectedRowCount?e=`${this.messages?.selectionColumn}. ${this.messages?.all} ${i} ${this.messages?.keyboardDeselectAll}`:e=`${this.messages?.selectionColumn}. ${i} ${this.messages?.keyboardSelectAll}`,this.screenReaderText=e}onContainerBlur(){this.focused=!1}onContainerFocus(){this.focused=!0}render(){const e=this.rowSpan?"rowgroup":this.colSpan?"colgroup":this.parentRowType==="body"?"row":"col",i=this.selectedRowCount===this.bodyRowCount,r=this.selectedRowCount>0,n=i?o_.checked:r?o_.indeterminate:o_.unchecked,s=this.interactionMode==="static"&&!this.selectionCell;return q`<th .ariaColIndex=${this.parentRowType==="head"?this.positionInRow:void 0} class=${U({[jr.bodyRow]:this.parentRowType==="body",[jr.footerRow]:this.parentRowType==="foot",[jr.contentCell]:!this.numberCell&&!this.selectionCell,[jr.numberCell]:this.numberCell,[jr.selectionCell]:this.selectionCell,[jr.selectedCell]:this.parentRowIsSelected,[jr.multipleSelectionCell]:this.selectionMode==="multiple",[jr.staticCell]:s,[jr.lastCell]:this.lastCell&&(!this.rowSpan||this.colSpan&&!!this.rowSpan),[this.parentRowAlignment]:this.parentRowAlignment==="center"||this.parentRowAlignment==="end"})} colSpan=${this.colSpan??he} @blur=${this.onContainerBlur} @focus=${this.onContainerFocus} .role=${this.parentRowType==="head"?"columnheader":"rowheader"} rowSpan=${this.rowSpan??he} scope=${e} .tabIndex=${this.selectionCell?0:s?-1:0} ${Be(this.containerEl)}>${this.heading&&q`<div class=${U(jr.heading)}>${this.heading}</div>`||""}${this.description&&q`<div class=${U(jr.description)}>${this.description}</div>`||""}${this.selectionCell&&this.selectionMode==="multiple"&&q`<calcite-icon class=${U({[jr.active]:r||i})} .icon=${n} .scale=${ii(this.scale)}></calcite-icon>`||""}${(this.selectionCell||this.numberCell)&&q`<span .ariaLive=${this.focused?"polite":"off"} class=${U(jr.assistiveText)}>${this.screenReaderText}</span>`||""}</th>`}};o1.properties={focused:[16,{},{state:!0}],screenReaderText:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],bodyRowCount:[9,{},{type:Number}],colSpan:[11,{},{reflect:!0,type:Number}],description:[3,{},{reflect:!0}],heading:[3,{},{reflect:!0}],interactionMode:1,lastCell:[5,{},{type:Boolean}],messageOverrides:[0,{},{attribute:!1}],numberCell:[5,{},{type:Boolean}],parentRowAlignment:1,parentRowIsSelected:[5,{},{type:Boolean}],parentRowType:1,positionInRow:[9,{},{type:Number}],rowSpan:[11,{},{reflect:!0,type:Number}],scale:1,selectedRowCount:[9,{},{type:Number}],selectedRowCountLocalized:1,selectionCell:[5,{},{type:Boolean}],selectionMode:1},o1.styles=fG;let c$=o1;gt("calcite-table-header",c$);const la={contentCell:"content-cell",numberCell:"number-cell",footerCell:"footer-cell",selectionCell:"selection-cell",selectedCell:"selected-cell",assistiveText:"assistive-text",lastCell:"last-cell",staticCell:"static-cell"},mG=mt`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:contents}:host([alignment=center]) td:not(.selection-cell):not(.number-cell){text-align:center}:host([alignment=end]) td:not(.selection-cell):not(.number-cell){text-align:end}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}td{white-space:normal;text-align:start;vertical-align:middle;color:var(--calcite-table-cell-text-color, var(--calcite-color-text-1));background-color:var(--calcite-internal-table-cell-background-color, var(--calcite-table-cell-background-color, transparent));font-size:var(--calcite-internal-table-cell-font-size);border-inline-end:var(--calcite-border-width-sm) solid var(--calcite-table-cell-border-color, var(--calcite-table-border-color, var(--calcite-color-border-3)));padding:var(--calcite-internal-table-cell-padding)}td:not(.static-cell){outline-color:transparent}td:not(.static-cell):focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}td.start.content-cell{vertical-align:top}td.end.content-cell{vertical-align:bottom}td.last-cell{border-inline-end:0}.footer-cell{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-table-cell-text-color, var(--calcite-color-text-1));background-color:var(--calcite-table-cell-background-color, var(--calcite-table-cell-background, var(--calcite-color-background)));border-block-start:var(--calcite-border-width-sm) solid var(--calcite-table-cell-border-color, var(--calcite-table-border-color, var(--calcite-color-border-3)))}.number-cell,.selection-cell{text-align:center;border-inline-end:var(--calcite-border-width-sm) solid var(--calcite-table-cell-border-color, var(--calcite-table-border-color, var(--calcite-color-border-3)));inline-size:2rem;min-inline-size:2rem}.number-cell{color:var(--calcite-table-number-cell-text-color, var(--calcite-color-text-1));background-color:var(--calcite-table-number-cell-background-color, var(--calcite-color-foreground-2))}.number-cell.footer-cell{background-color:var(--calcite-table-number-cell-background-color, var(--calcite-table-cell-background-color, var(--calcite-color-background)))}.selection-cell{color:var(--calcite-table-selection-cell-icon-color, var(--calcite-color-text-3))}.selection-cell:not(.footer-cell){cursor:pointer;background-color:var(--calcite-table-selection-cell-background-color, var(--calcite-table-cell-background-color, transparent))}.selection-cell.footer-cell{background-color:var(--calcite-table-selection-cell-background-color, var(--calcite-table-cell-background-color, var(--calcite-color-background)))}.selected-cell:not(.number-cell):not(.footer-cell){background-color:var(--calcite-table-cell-background-color-selected, var(--calcite-table-row-background-color-selected, var(--calcite-color-foreground-current)))}.selection-cell.selected-cell{box-shadow:inset .25rem 0 0 0 var(--calcite-table-row-accent-color-selected, var(--calcite-color-brand));color:var(--calcite-table-selection-cell-icon-color-selected, var(--calcite-color-brand))}.calcite--rtl.selection-cell.selected-cell{box-shadow:inset -.25rem 0 0 0 var(--calcite-table-row-accent-color-selected, var(--calcite-color-brand))}.selection-cell{vertical-align:middle}.selection-cell ::slotted(calcite-icon){pointer-events:none;margin-block-start:.25rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,a1=class a1 extends lt{constructor(){super(...arguments),this.containerEl=At(),this.messages=Ei(),this.focusSetter=Ai()(this),this.contentsText="",this.focused=!1,this.selectionText="",this.alignment="start",this.interactionMode="interactive",this.parentRowAlignment="start",this.scale="m"}async setFocus(e){return this.focusSetter(()=>this.containerEl.value,e)}async load(){this.updateScreenReaderContentsText(),this.updateScreenReaderSelectionText()}willUpdate(e){e.has("parentRowIsSelected")&&this.updateScreenReaderSelectionText()}updated(){vs(this)}updateScreenReaderSelectionText(){const e=`${this.messages?.row} ${this.parentRowPositionLocalized} ${this.messages?.selected} ${this.messages?.keyboardDeselect}`,i=`${this.messages?.row} ${this.parentRowPositionLocalized} ${this.messages?.unselected} ${this.messages?.keyboardSelect}`;this.selectionText=this.parentRowIsSelected?e:i}updateScreenReaderContentsText(){this.contentsText=this.el.textContent}onContainerBlur(){this.focused=!1}onContainerFocus(){this.focused=!0}render(){const e=Vo(this.el),i=this.disabled||this.interactionMode==="static"&&(!this.selectionCell||this.selectionCell&&this.parentRowType==="foot");return bs({disabled:this.disabled,children:q`<td class=${U({[la.footerCell]:this.parentRowType==="foot",[la.contentCell]:!this.numberCell&&!this.selectionCell,[la.numberCell]:this.numberCell,[la.selectionCell]:this.selectionCell,[la.selectedCell]:this.parentRowIsSelected,[la.lastCell]:this.lastCell&&(!this.rowSpan||this.colSpan&&!!this.rowSpan),[Rs.rtl]:e==="rtl",[la.staticCell]:i,[this.parentRowAlignment]:this.parentRowAlignment==="start"||this.parentRowAlignment==="end"})} colSpan=${this.colSpan??he} @blur=${this.onContainerBlur} @focus=${this.onContainerFocus} .role=${this.interactionMode==="interactive"?"gridcell":"cell"} rowSpan=${this.rowSpan??he} .tabIndex=${i?-1:0} ${Be(this.containerEl)}>${(this.selectionCell||this.readCellContentsToAT)&&q`<span .ariaLive=${this.focused?"polite":"off"} class=${U(la.assistiveText)}>${this.selectionCell&&this.selectionText||""}${this.readCellContentsToAT&&!this.selectionCell&&this.contentsText||""}</span>`||""}<slot @slotchange=${this.updateScreenReaderContentsText}></slot></td>`})}};a1.properties={contentsText:[16,{},{state:!0}],focused:[16,{},{state:!0}],selectionText:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],colSpan:[11,{},{reflect:!0,type:Number}],disabled:[5,{},{type:Boolean}],interactionMode:1,lastCell:[5,{},{type:Boolean}],messageOverrides:[0,{},{attribute:!1}],numberCell:[5,{},{type:Boolean}],parentRowAlignment:1,parentRowIsSelected:[5,{},{type:Boolean}],parentRowPositionLocalized:1,parentRowType:1,positionInRow:[9,{},{type:Number}],readCellContentsToAT:[5,{},{type:Boolean}],rowSpan:[11,{},{reflect:!0,type:Number}],scale:1,selectionCell:[5,{},{type:Boolean}]},a1.styles=mG;let u$=a1;gt("calcite-table-cell",u$);const gG={lastVisibleRow:"last-visible-row"},py={checkSquare:"check-square-f",square:"square",circleF:"circle-f",circle:"circle"},yG=mt`@charset "UTF-8";:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:contents}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) tr{pointer-events:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}calcite-table-cell{--calcite-internal-table-cell-background-color: var( --calcite-table-row-background-color, var(--calcite-table-row-background, var(--calcite-color-foreground-1)) )}:host([selected]) calcite-table-cell{--calcite-internal-table-cell-background-color: var( --calcite-table-row-background-color-selected, var(--calcite-color-foreground-1) )}tr{border-block-end:var(--calcite-border-width-sm) solid var(--calcite-table-row-border-color, transparent);background-color:var(--calcite-table-row-background-color, var(--calcite-table-row-background, var(--calcite-color-foreground-1)))}tr.last-visible-row{border-block-end:0}@-moz-document url-prefix(){tr{box-shadow:inset 0 -1px 0 0 var(--calcite-table-row-border-color)}tr.last-visible-row{box-shadow:inset 0 -1px 0 0 transparent}}:host([item-hidden]){display:none}`,l1=class l1 extends lt{constructor(){super(),this.rowCells=[],this.tableRowSlotEl=At(),this.userTriggered=!1,this._selected=!1,this.clickHandler=()=>{this.handleRowSelection()},this.handleKeyboardSelection=e=>{Lc(e.key)&&(e.key===" "&&e.preventDefault(),this.handleRowSelection())},this.itemHidden=!1,this.disabled=!1,this.interactionMode="interactive",this.numbered=!1,this.selectionMode="none",this.calciteInternalTableRowFocusRequest=Ie({cancelable:!1}),this.calciteInternalTableRowSelect=Ie({cancelable:!1}),this.calciteTableRowSelect=Ie({cancelable:!1}),this.listenOn(document,"calciteInternalTableRowFocusChange",this.calciteInternalTableRowFocusChangeHandler)}get selected(){return this._selected}set selected(e){const i=this._selected;e!==i&&(this._selected=e,this.handleCellChanges())}load(){this.listenOn(this.el.shadowRoot,"slotchange",this.handleSlotChange)}willUpdate(e){(e.has("bodyRowCount")||e.has("scale")||e.has("selectedRowCount")||e.has("interactionMode")&&(this.hasUpdated||this.interactionMode!=="interactive"))&&this.handleCellChanges(),(e.has("numbered")&&(this.hasUpdated||this.numbered!==!1)||e.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none"))&&this.handleDelayedCellChanges(),e.has("selected")&&(this.hasUpdated||this.selected!==!1)&&!this.userTriggered&&this.calciteInternalTableRowSelect.emit()}updated(){vs(this)}loaded(){this.tableRowEl&&this.rowCells.length>0&&this.updateCells()}handleSlotChange(){this.updateCells()}handleCellChanges(){this.tableRowEl&&this.rowCells.length>0&&this.updateCells()}handleDelayedCellChanges(){this.tableRowEl&&this.rowCells.length>0&&requestAnimationFrame(()=>this.updateCells())}calciteInternalTableRowFocusChangeHandler(e){if(e.target.contains(this.el)){const i=e.detail.cellPosition,r=e.detail.rowPosition,n=e.detail.destination,s=e.detail.lastCell;if(r===this.positionAll){if(this.disabled){const a=n==="last"?"previous":n==="first"?"next":n;this.emitTableRowFocusRequest(i,this.positionAll,a);return}const o=s?this.rowCells[this.rowCells.length-1]:this.rowCells?.find((a,l)=>l+1===i);o&&o.setFocus()}}}keyDownHandler(e){if(this.interactionMode!=="interactive")return;const i=e.target,r=e.key,n=e.ctrlKey,s=this.rowCells;if(i.matches("calcite-table-cell")||i.matches("calcite-table-header"))switch(r){case"ArrowUp":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"previous"),e.preventDefault();break;case"ArrowDown":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"next"),e.preventDefault();break;case"PageUp":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"first"),e.preventDefault();break;case"PageDown":this.emitTableRowFocusRequest(i.positionInRow,this.positionAll,"last"),e.preventDefault();break;case"ArrowLeft":Qg(s,i,"previous",!1,!1),e.preventDefault();break;case"ArrowRight":Qg(s,i,"next",!1,!1),e.preventDefault();break;case"Home":n?(this.emitTableRowFocusRequest(1,this.positionAll,"first"),e.preventDefault()):(Qg(s,i,"first",!1,!1),e.preventDefault());break;case"End":n?(this.emitTableRowFocusRequest(this.rowCells?.length,this.positionAll,"last",!0),e.preventDefault()):(Qg(s,i,"last",!1,!1),e.preventDefault());break}}emitTableRowFocusRequest(e,i,r,n){this.calciteInternalTableRowFocusRequest.emit({cellPosition:e,rowPosition:i,destination:r,lastCell:n})}updateCells(){const e=this.alignment?this.alignment:this.rowType!=="head"?"center":"start",i=this.tableRowSlotEl.value?.assignedElements({flatten:!0})?.filter(s=>s.matches("calcite-table-cell")||s.matches("calcite-table-header")),r=Array.from(this.tableRowEl?.querySelectorAll("calcite-table-header, calcite-table-cell"))?.filter(s=>s.numberCell||s.selectionCell),n=r?r.concat(i):i;n.length>0&&n?.forEach((s,o)=>{s.interactionMode=this.interactionMode,s.lastCell=o===n.length-1,s.parentRowAlignment=e,s.parentRowIsSelected=this.selected,s.parentRowType=this.rowType,s.positionInRow=o+1,s.scale=this.scale,s.nodeName==="CALCITE-TABLE-CELL"&&(s.readCellContentsToAT=this.readCellContentsToAT,s.disabled=this.disabled)}),this.rowCells=n||[],this.cellCount=n?.length}async handleRowSelection(){(this.rowType==="body"||this.rowType==="head"&&this.selectionMode==="multiple")&&(this.userTriggered=!0,this.selected=!this.selected,await this.updateComplete,this.calciteTableRowSelect.emit())}renderSelectionIcon(){const e=this.selectionMode==="multiple"&&this.selected?py.checkSquare:this.selectionMode==="multiple"?py.square:this.selected?py.circleF:py.circle;return q`<calcite-icon .icon=${e} .scale=${ii(this.scale)}></calcite-icon>`}renderSelectableCell(){return this.rowType==="head"?Ve("selection-head",q`<calcite-table-header alignment=center .bodyRowCount=${this.bodyRowCount} @click=${this.clickHandler} @keydown=${this.handleKeyboardSelection} .parentRowAlignment=${this.alignment} .selectedRowCount=${this.selectedRowCount} .selectedRowCountLocalized=${this.selectedRowCountLocalized} .selectionCell=${!0} .selectionMode=${this.selectionMode}></calcite-table-header>`):this.rowType==="body"?Ve("selection-body",q`<calcite-table-cell alignment=center @click=${this.clickHandler} @keydown=${this.handleKeyboardSelection} .parentRowAlignment=${this.alignment} .parentRowIsSelected=${this.selected} .parentRowPositionLocalized=${this.positionSectionLocalized} .selectionCell=${!0}>${this.renderSelectionIcon()}</calcite-table-cell>`):Ve("selection-foot",q`<calcite-table-cell alignment=center .parentRowAlignment=${this.alignment} .selectionCell=${!0}></calcite-table-cell>`)}renderNumberedCell(){return this.rowType==="head"?Ve("numbered-head",q`<calcite-table-header alignment=center .numberCell=${!0} .parentRowAlignment=${this.alignment}></calcite-table-header>`):this.rowType==="body"?Ve("numbered-body",q`<calcite-table-cell alignment=center .numberCell=${!0} .parentRowAlignment=${this.alignment}>${this.positionSectionLocalized}</calcite-table-cell>`):Ve("numbered-foot",q`<calcite-table-cell alignment=center .numberCell=${!0} .parentRowAlignment=${this.alignment}></calcite-table-cell>`)}render(){return bs({disabled:this.disabled,children:q`<tr .ariaRowIndex=${this.positionAll+1} .ariaSelected=${this.selected} class=${U({[gG.lastVisibleRow]:this.lastVisibleRow})} @keydown=${this.keyDownHandler} ${Be(e=>{e&&(this.tableRowEl=e,NT(q`${this.numbered&&this.renderNumberedCell()||""}${this.selectionMode!=="none"&&this.renderSelectableCell()||""}<slot ${Be(this.tableRowSlotEl)}></slot>`,e))})}></tr>`})}};l1.properties={alignment:[3,{},{reflect:!0}],itemHidden:[7,{},{reflect:!0,type:Boolean}],bodyRowCount:[9,{},{type:Number}],cellCount:[9,{},{type:Number}],disabled:[7,{},{reflect:!0,type:Boolean}],interactionMode:1,lastVisibleRow:[5,{},{type:Boolean}],numbered:[5,{},{type:Boolean}],positionAll:[9,{},{type:Number}],positionSection:[9,{},{type:Number}],positionSectionLocalized:1,readCellContentsToAT:[5,{},{type:Boolean}],rowType:1,scale:1,selected:[7,{},{reflect:!0,type:Boolean}],selectedRowCount:[9,{},{type:Number}],selectedRowCountLocalized:1,selectionMode:1},l1.styles=yG;let d$=l1;gt("calcite-table-row",d$);const vG={remove:()=>{}};function Je(t){return t?{remove(){t&&(t(),t=void 0)}}:vG}function DD(t){t.forEach(e=>e?.remove())}function Rye(t){DD(t),t.length=0}function Xc(t){return Je(()=>DD(t))}function Dye(t){return Je(()=>t()?.remove())}function bG(t){return Je(()=>t?.abort())}function zye(t){return Je(t!=null?()=>t.destroy():void 0)}function wG(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function Nye(t){wG(t)&&t.remove()}function Lye(t){return{[Symbol.dispose](){t.remove()}}}function E1(t){return _G(t)||zD(t)}function _G(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function zD(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function Ph(t,e,i){if(!E1(t))throw new TypeError("target is not a Evented or EventTarget object");return zD(t)?xG(t,e,i):t.on(e,i)}function xG(t,e,i,r){if(Array.isArray(e)){const n=e.slice();for(const s of n)t.addEventListener(s,i,r);return Je(()=>{for(const s of n)t.removeEventListener(s,i,r)})}return t.addEventListener(e,i,r),Je(()=>t.removeEventListener(e,i,r))}function ND(t,e,i){if(!E1(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const r=Ph(t,e,n=>{r.remove(),i.call(t,n)});return r}function LD(t,e){if(t==null)throw new Error(e??"value is None")}function Ut(t){return t?.destroy(),null}function Fye(t){return t?.dispose(),null}function _t(t){return t?.remove(),null}function Uc(t){return t?.abort(),null}function jye(t){return t?.release(),null}function $G(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function SG(t,e){let i;return t.some((r,n)=>(i=e(r,n),i!=null)),i??void 0}function kG(t){return{setTimeout:(e,i)=>{const r=t.setTimeout(e,i);return Je(()=>t.clearTimeout(r))}}}const Oh=kG(globalThis);let ja;const Mi=globalThis;function B(t){return typeof ja[t]=="function"?ja[t]=ja[t](Mi):ja[t]}ja=Mi.dojoConfig?.has||Mi.esriConfig?.has?{...Mi.dojoConfig?.has,...Mi.esriConfig?.has}:{},B.add=(t,e,i,r)=>{(r||ja[t]===void 0)&&(ja[t]=e),i&&B(t)},B.cache=ja,B.add("big-integer-warning-enabled",!0),B.add("esri-deprecation-warnings",!0),B.add("esri-tests-disable-screenshots",!1),B.add("esri-tests-use-full-window",!1),B.add("esri-tests-post-to-influx",!0),B.add("esri-cim-animations-enable-status","enabled"),B.add("esri-cim-animations-spotlight",!1),B.add("esri-cim-animations-freeze-time",!1),(()=>{B.add("host-webworker",Mi.WorkerGlobalScope!==void 0&&self instanceof Mi.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(B.add("host-browser",t),B.add("host-node",!(typeof Mi.process!="object"||!Mi.process.versions?.node||!Mi.process.versions.v8)),B.add("dom",t),B("host-browser")){const e=navigator,i=e.userAgent,r=e.appVersion,n=parseFloat(r);if(B.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),B.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),B.add("khtml",r.includes("Konqueror")?n:void 0),B.add("edge",parseFloat(i.split("Edge/")[1])||void 0),B.add("opr",parseFloat(i.split("OPR/")[1])||void 0),B.add("webkit",!B("wp")&&!B("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),B.add("chrome",!B("edge")&&!B("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),B.add("android",!B("wp")&&parseFloat(i.split("Android ")[1])||void 0),B.add("safari",!r.includes("Safari")||B("wp")||B("chrome")||B("android")||B("edge")||B("opr")?void 0:parseFloat(r.split("Version/")[1])),B.add("mac",r.includes("Macintosh")),!B("wp")&&/(iPhone|iPod|iPad)/.test(i)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));B.add(s,a),B.add("ios",a)}B("webkit")||(!i.includes("Gecko")||B("wp")||B("khtml")||B("edge")||B.add("mozilla",n),B("mozilla")&&B.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(Mi.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&B.add("esri-mobile",e),i&&B.add("esri-iPhone",i),B.add("esri-geolocation",!!navigator.geolocation)}B.add("esri-wasm","WebAssembly"in Mi),B.add("esri-performance-mode-frames-between-render",20),B.add("esri-force-performance-mode",!1),B.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in Mi,e=Mi.crossOriginIsolated===!1;return t&&!e}),B.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),B.add("esri-atomics","Atomics"in Mi),B.add("esri-workers","Worker"in Mi),B.add("web-feat:cache","caches"in Mi),B.add("esri-workers-arraybuffer-transfer",!B("safari")||Number(B("safari"))>=12),B.add("workers-pool-size",8),B.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),B.add("featurelayer-simplify-payload-size-factors",[1,1,4]),B.add("featurelayer-fast-triangulation-enabled",!0),B.add("featurelayer-animation-enabled",!0),B.add("featurelayer-snapshot-enabled",!0),B.add("featurelayer-snapshot-initial-tolerance",0),B.add("featurelayer-snapshot-point-min-threshold",8e4),B.add("featurelayer-snapshot-point-max-threshold",4e5),B.add("featurelayer-snapshot-multipoint-min-threshold",2e4),B.add("featurelayer-snapshot-multipoint-max-threshold",1e5),B.add("featurelayer-snapshot-polygon-min-threshold",2e3),B.add("featurelayer-snapshot-polygon-max-threshold",2e3),B.add("featurelayer-snapshot-polyline-min-threshold",2e3),B.add("featurelayer-snapshot-polyline-max-threshold",2e3),B.add("featurelayer-snapshot-max-vertex-count",25e4),B.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),B.add("featurelayer-snapshot-concurrency",4),B.add("featurelayer-snapshot-coverage",.1),B.add("featurelayer-query-max-depth",4),B.add("featurelayer-query-pausing-enabled",!1),B.add("featurelayer-query-tile-concurrency",4),B.add("featurelayer-query-tile-max-features",6e5),B.add("featurelayer-advanced-symbols",!1),B.add("featurelayer-pbf",!0),B.add("featurelayer-pbf-statistics",!1),B.add("feature-layers-workers",!0),B.add("feature-polyline-generalization-factor",1),B.add("parquetlayer-full-query-feature-count",2e4),B.add("parquetlayer-hittest-max-feature-count",1),B.add("parquetlayer-persistence-enabled",!1),B.add("mapview-transitions-duration",200),B.add("mapview-essential-goto-duration",200),B.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),B.add("mapserver-pbf-version-support",10.81),B.add("mapservice-popup-identify-max-tolerance",20),B.add("request-queue-concurrency-hosted",16),B.add("request-queue-concurrency-non-hosted",4),B.add("curve-densification-coarse-segments",128),B.add("curve-densification-max-segments",2e3),B.add("curve-densification-min-segments",3),B.add("curve-densification-pixel-deviation",.5),B.add("view-readyState-waiting-delay",1e3),B.add("gradient-depth-bias",.01),B.add("gradient-depth-epsilon",1e-8),B.add("enable-feature:esri-compress-textures",!0),B("host-webworker")||B("host-browser")&&(B.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),B.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function Uye(t){}function TG(t){return()=>t}function Vye(t){return t}var Er;let EG=(Er=class{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Er._m}getInt(){return this._seed=(Er._a*this._seed+Er._c)%Er._m,this._seed}getFloat(){return this.getInt()/(Er._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const r=i-e;return e+this.getInt()/Er._m*r}},Er._m=2147483647,Er._a=48271,Er._c=0,Er);const MG=1.5,Bye=1/MG,qye=.5;function FD(t){return t}function CG(t,e=FD){if(!t||t.length===0)return;let i=t[0],r=e(i);for(let n=1;n<t.length;++n){const s=t[n],o=Number(e(s));o>r&&(r=o,i=s)}return i}function Hye(t,e=FD){return CG(t,i=>-e(i))}function Gye(t,e){return e?t.filter((i,r,n)=>n.findIndex(e.bind(null,i))===r):Array.from(new Set(t))}function IG(t,e,i,r,n,s,o){if(t==null&&r==null)return!0;e=Math.max(0,e),n=Math.max(0,n),i=Math.max(0,i<0?(t?.length??0)+i:i),s=Math.max(0,s<0?(r?.length??0)+s:s);const a=i-e;if(t==null||r==null||a!==s-n)return!1;if(o){for(let l=0;l<a;l++)if(!o(t[e+l],r[n+l]))return!1}else for(let l=0;l<a;l++)if(t[e+l]!==r[n+l])return!1;return!0}function M1(t,e,i){return IG(t,0,t?.length??0,e,0,e?.length??0,i)}function Wye(){return(t,e)=>{if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}}function gI(t,e,i){let r,n;return i?(r=e.filter(s=>!t.some(o=>i(o,s))),n=t.filter(s=>!e.some(o=>i(o,s)))):(r=e.filter(s=>!t.includes(s)),n=t.filter(s=>!e.includes(s))),{added:r,removed:n}}function Zye(t){return t&&typeof t.length=="number"}function Yye(t,e){const i=t.length;if(i===0)return[];const r=[];for(let n=0;n<i;n+=e)r.push(t.slice(n,n+e));return r}let jD=class{constructor(){this.last=0}};const UD=new jD;function h$(t,e,i,r){r=r||UD;const n=Math.max(0,r.last-10);for(let o=n;o<i;++o)if(t[o]===e)return r.last=o,o;const s=Math.min(n,i);for(let o=0;o<s;++o)if(t[o]===e)return r.last=o,o;return-1}function p$(t,e,i,r){const n=t.length,s=h$(t,e,n,r);if(s!==-1)return t[s]=t[n-1],t.pop(),e}const Wn=new Set;function AG(t,e,i=t.length,r=e.length,n,s){if(r===0||i===0)return i;Wn.clear();for(let a=0;a<r;++a)Wn.add(e[a]);n=n||UD;const o=Math.max(0,n.last-10);for(let a=o;a<i;++a)if(Wn.has(t[a])&&(s?.push(t[a]),Wn.delete(t[a]),t[a]=t[i-1],--i,--a,Wn.size===0||i===0))return Wn.clear(),i;for(let a=0;a<o;++a)if(Wn.has(t[a])&&(s?.push(t[a]),Wn.delete(t[a]),t[a]=t[i-1],--i,--a,Wn.size===0||i===0))return Wn.clear(),i;return Wn.clear(),i}function PG(t,e){let i=0;for(let r=0;r<t.length;++r){const n=t[r];e(n,r)&&(t[i]=n,i++)}return t.length=i,t}function Kye(t,e,i){const r=t.length;if(e>=r)return t.slice();const n=VD(i),s=new Set,o=[];for(;o.length<e;){const a=Math.floor(n()*r);s.has(a)||(s.add(a),o.push(t[a]))}return o}function VD(t){return t?(yI.seed=t,()=>yI.getFloat()):Math.random}const yI=new EG;function Xye(t,e){if(!t)return t;const i=VD(e);for(let r=t.length-1;r>0;r--){const n=Math.floor(i()*(r+1)),s=t[r];t[r]=t[n],t[n]=s}return t}function u2(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function lh(t,e){return t!=null}const Qye=[];function eve(t){return t instanceof ArrayBuffer}function d2(t){return t?.constructor?.name==="Int8Array"}function BD(t){return t?.constructor?.name==="Uint8Array"}function qD(t){return t?.constructor?.name==="Uint8ClampedArray"}function h2(t){return t?.constructor?.name==="Int16Array"}function HD(t){return t?.constructor?.name==="Uint16Array"}function p2(t){return t?.constructor?.name==="Int32Array"}function GD(t){return t?.constructor?.name==="Uint32Array"}function OG(t){return t?.constructor?.name==="Float16Array"}function C1(t){return t?.constructor?.name==="Float32Array"}function I1(t){return t?.constructor?.name==="Float64Array"}function RG(t){return"buffer"in t}const WD=1024;function tve(t){return I1(t)||C1(t)||p2(t)||h2(t)||d2(t)}function ive(t){return I1(t)||C1(t)}function rve(t){return I1(t)?179769e303:OG(t)?65504:C1(t)?3402823e32:GD(t)?4294967295:HD(t)?65535:BD(t)||qD(t)?255:p2(t)?2147483647:h2(t)?32767:d2(t)?127:256}const nve=-32768,sve=-2147483648;function ove(t){return t}function DG(t,e){let i;for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function X(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=JD(t);if(e!=null)return e;if(Pf(t))return t.clone();if(ZD(t))return t.map(X);if(YD(t))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(t))i[r]=X(t[r]);return i}function f$(t,e){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const i=JD(t);if(i!=null)return i;if(ZD(t)){let n=!0;const s=t.map(o=>{const a=f$(o,e);return o!=null&&a==null&&(n=!1),a});return n?s:null}if(Pf(t))return t.clone(e);if(t instanceof File||t instanceof Blob)return t;if(YD(t))return null;const r=new(Object.getPrototypeOf(t)).constructor;for(const n of Object.getOwnPropertyNames(t)){const s=t[n],o=f$(s);if(s!=null&&o==null)return null;r[n]=o}return r}function Pf(t){return typeof t.clone=="function"}function ZD(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function YD(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function vI(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function JD(t){if(d2(t)||BD(t)||qD(t)||h2(t)||HD(t)||p2(t)||GD(t)||C1(t)||I1(t))return t.slice();if(t instanceof Date)return new Date(t);if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,r]of t)e.set(i,X(r));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(X(i));return e}return null}function f2(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function KD(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&M1(t,e):t instanceof Set?e instanceof Set&&NG(t,e):t instanceof Map?e instanceof Map&&LG(t,e):!!vI(t)&&vI(e)&&zG(t,e))}function zG(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const r of i)if(t[r]!==e[r]||!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function NG(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function LG(t,e){if(t.size!==e.size)return!1;for(const[i,r]of t){const n=e.get(i);if(n!==r||n===void 0&&!e.has(i))return!1}return!0}function FG(t,e,i=!1){return QD(t,e,i)}function A1(t,e){if(e!=null)return e[t]||XD(t.split("."),!1,e)}function Qc(t,e,i){const r=t.split("."),n=r.pop(),s=XD(r,!0,i);s&&n&&(s[n]=e)}function bI(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const i=e;if(t.length!==i.length)return!0;for(let r=0;r<t.length;r++)if(bI(t[r],i[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in t)if(bI(t[i],e[i]))return!0;return!1}return t!==e}function XD(t,e,i){let r=i;for(const n of t){if(r==null)return;if(!(n in r)){if(!e)return;r[n]={}}r=r[n]}return r}function QD(t,e,i){return e?Object.keys(e).reduce((r,n)=>{if(n==="__proto__")return r;let s=r[n],o=e[n];return s===o?r:s===void 0?(r[n]=X(o),r):(Array.isArray(o)||Array.isArray(r)?(s=s?Array.isArray(s)?r[n]=s.slice():r[n]=[s]:r[n]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{s.includes(a)||s.push(a)}):r[n]=o.slice())):o&&typeof o=="object"?r[n]=QD(s,o,i):r.hasOwnProperty(n)&&!e.hasOwnProperty(n)||(r[n]=o),r)},t||{}):t}function ave(t,e){for(const i of Object.entries(t))if(e===i[1])return i[0]}function P1(t,e){return Object.values(t).includes(e)}const Qe={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(FG(Qe,globalThis.esriConfig,!0),delete Qe.has),!Qe.assetsPath){{const t="4.34";Qe.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}Qe.defaultAssetsPath=Qe.assetsPath}const jG=/\{([^}]+)\}/g;function wI(t){return t??""}function e5(t,e){return e?t.replaceAll(jG,typeof e=="object"?(i,r)=>wI(A1(r,e)):(i,r)=>wI(e(r))):t}function lve(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>e?.includes(i)?i:`\\${i}`)}function t5(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}let _I;function cve(t){return _I??=new DOMParser,_I.parseFromString(t||"","text/html").body.innerText||""}function uve(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function dve(t,...e){let i=t[0];for(let r=0;r<e.length;++r)i+=e[r]+t[r+1];return i}const xI={info:0,warn:1,error:2,none:3};var Qt;let ue=(Qt=class{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Qt._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Qt.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Qt._loggers.get(e)||new Qt({module:e})}_log(e,i,...r){if(this._matchLevel(e)){if(i!=="always"&&!Qt._throttlingDisabled){const n=VG(r),s=this._loggedMessages[e].get(n);if(i==="once"&&s!=null||i==="oncePerTick"&&s&&s>=Qt._tickCounter)return;this._loggedMessages[e].set(n,Qt._tickCounter),Qt._scheduleTickCounterIncrement()}for(const n of Qe.log.interceptors)if(n(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,i){let r=this;for(;r!=null;){const n=r[e];if(n!=null)return n;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",UG)}_matchLevel(e){const i=Qe.log.level||"warn";return xI[this._parentWithMember("level",i)]<=xI[e]}static _scheduleTickCounterIncrement(){Qt._tickCounterScheduled||(Qt._tickCounterScheduled=!0,Promise.resolve().then(()=>{Qt._tickCounter++,Qt._tickCounterScheduled=!1}))}},Qt._loggers=new Map,Qt._tickCounter=0,Qt._tickCounterScheduled=!1,Qt._throttlingDisabled=!1,Qt);function UG(t,e,...i){console[t](`[${e}]`,...i)}function VG(...t){return t5(JSON.stringify(t,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}function BG(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(A1(r,e)??"").toString())}let i5=class{constructor(e,i,r=void 0){this.name=e,this.details=r,this.message=(i&&BG(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},K=class r5 extends i5{constructor(e,i,r){super(e,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return X(i)}catch{return"[object]"}}))}}catch(e){throw ue.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new r5(e.name,e.message,e.details)}};K.prototype.type="error";function at(t="Aborted"){return new K("AbortError",t)}function Pt(t,e="Aborted"){if(Zi(t))throw at(e)}function Km(t){return t instanceof AbortSignal?t:t?.signal??void 0}function Zi(t){const e=Km(t);return e!=null&&e.aborted}function n5(t){if(Ki(t))throw t}function $I(t){if(!Ki(t))throw t}function In(t,e){const i=Km(t);if(i!=null){if(!i.aborted)return ND(i,"abort",()=>e());e()}}function m2(t,e){const i=Km(t);if(i!=null)return Pt(i),ND(i,"abort",()=>e(at()))}function qG(t,e){return Km(e)==null?t:new Promise((i,r)=>{let n=In(e,()=>r(at()));const s=()=>{n=_t(n)};t.then(s,s),t.then(i,r)})}function Ki(t){return t?.name==="AbortError"}async function R0(t){try{return await t}catch(e){if(!Ki(e))throw e;return}}async function g2(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),r=i.map(o=>t[o]),n=await g2(r),s={};return i.map((o,a)=>s[o]=n[a]),s}const e=t;return Promise.allSettled(e).then(i=>Array.from(e,(r,n)=>{const s=i[n];return s.status==="fulfilled"?{promise:r,value:s.value}:{promise:r,error:s.reason}}))}async function HG(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function pve(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function s5(t,e=void 0,i){const r=new AbortController;return In(i,()=>r.abort()),new Promise((n,s)=>{let o=setTimeout(()=>{o=0,n(e)},t);In(r,()=>{o&&(clearTimeout(o),s(at()))})})}function fve(t,e,i,r){const n=i&&"abort"in i?i:null;r!=null||n||(r=i);let s=setTimeout(()=>{s=0,n?.abort()},e);const o=()=>r||new K("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(a=>{if(s===0)throw o();return clearTimeout(s),a},a=>{throw clearTimeout(s),s===0?o():a})}function GG(t,e){const i=new AbortController,r=setTimeout(()=>i.abort(),e);return In(t,()=>{i.abort(),clearTimeout(r)}),{...t,signal:i.signal}}function Yi(t){return t&&typeof t.then=="function"}function m$(t){return Yi(t)?t:Promise.resolve(t)}function WG(t,e=-1){let i,r,n,s,o=null;const a=(...l)=>{if(i){r=l,s&&s.reject(at()),s=nn();const y=s.promise;if(o){const b=o;o=null,b.abort()}return y}if(n=s||nn(),s=null,e>0){const y=new AbortController;i=m$(t(...l,y.signal));const b=i;s5(e).then(()=>{i===b&&(s?y.abort():o=y)})}else i=1,i=m$(t(...l));const d=()=>{const y=r;r=n=i=o=null,y!=null&&a(...y)},h=i,f=n;return h.then(d,d),h.then(f.resolve,f.reject),f.promise};return a}function nn(){let t,e;const i=new Promise((n,s)=>{t=n,e=s}),r=n=>{t(n)};return r.resolve=n=>t(n),r.reject=n=>e(n),r.timeout=(n,s)=>Oh.setTimeout(()=>r.reject(s),n),r.promise=i,r}function mve(t,e){e.then(t.resolve,t.reject)}async function SI(t){await Promise.resolve(),Pt(t)}function ZG(t){return t?.release&&typeof t.release=="function"}function YG(t){return t?.acquire&&typeof t.acquire=="function"}var Xa;let Rh=(Xa=class{constructor(e,i,r,n=1,s=0){this._creator=e,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...e){let i;if(Xa.test.disabled)i=this._creator();else{if(this._pool.length===0){const r=this.allocationSize;for(let n=0;n<r;n++)this._pool[n]=this._creator()}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):YG(i)&&i.acquire(...e),i}release(e){e&&!Xa.test.disabled&&(this._releaseFunction?this._releaseFunction(e):ZG(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}},Xa.test={disabled:!!B("esri-tests-disable-memory-pools")},Xa);function JG(t){t.length=0}let or=class{constructor(e=50,i=50){this._pool=new Rh(()=>[],void 0,JG,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return a_.acquire()}static release(e){return a_.release(e)}static prune(){a_.prune()}};const a_=new or(100);let o5=class extends Rh{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const fy=[];function D0(t){fy.push(t),fy.length===1&&queueMicrotask(()=>{const e=fy.slice();fy.length=0;for(const i of e)i()})}let Of=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,i)=>e-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,i)=>e+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const z0=(t,e,i,r)=>{let n=e,s=e;const o=i>>>1,a=t[n-1];for(;s<=o;){s=n<<1,s<i&&r(t[s-1],t[s])<0&&++s;const l=t[s-1];if(r(l,a)<=0)break;t[n-1]=l,n=s}t[n-1]=a},a5=(t,e)=>t<e?-1:t>e?1:0;function KG(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=a5);for(let s=i>>>1;s>e;s--)z0(t,s,i,r);const n=e+1;for(let s=i-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,z0(t,n,s,r)}}function*XG(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=a5);for(let s=i>>>1;s>e;s--)z0(t,s,i,r),yield;const n=e+1;for(let s=i-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,z0(t,n,s,r),yield}}const QG=1.5,eW=1.1;let l5=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new jD,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>kI(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];e(n)&&i.push(n)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const r=this.data.indexOf(e,i);return r!==-1&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let r=0;r<i;r++)this.data[this._length++]=e[r]}fill(e,i){for(let r=0;r<i;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,kI(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=h$(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(h$(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,r){this.length=AG(this.data,e,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const r=this.data[e];this.data[e]=this.data[i],this.data[i]=r}sort(e){KG(this.data,0,this.length,e)}iterableSort(e){return XG(this.data,0,this.length,e)}some(e,i){for(let r=0;r<this.length;++r)if(e.call(i,this.data[r],r,this.data))return!0;return!1}find(e,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)if(e.call(i,r[s]))return r[s]}filterInPlace(e,i){let r=0;for(let n=0;n<this._length;++n){const s=this.data[n];e.call(i,s,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=s,r++)}if(this._deallocator)for(let n=r;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=r,this._shrink(),this}forAll(e,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)e.call(i,r[s],s,r)}forEach(e,i){this.data.slice(0,this.length).forEach(e,i)}map(e,i){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=e.call(i,this.data[n],n,this.data);return r}reduce(e,i){let r=i;for(let n=0;n<this.length;++n)r=e(r,this.data[n],n,this.data);return r}has(e){const i=this.length,r=this.data;for(let n=0;n<i;++n)if(r[n]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function kI(t){t.data.length>QG*t.length&&(t.data.length=Math.floor(t.length*eW))}function wve(t){return t}function tW(t){return 1e3*t}function _ve(t){return t}function xve(t){return .001*t}let iW=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},rW=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},g$=0;const wp={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},y$=["prepare","preRender","render","postRender","update","finish"],v$=[],Vc=new l5;let nW=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,c5()}};function sW(){_c!=null&&(cancelAnimationFrame(_c),_c=requestAnimationFrame(y2))}function c5(){_c==null&&(g$=performance.now(),_c=requestAnimationFrame(y2))}const N0={frameTasks:Vc,willDispatch:!1,clearFrameTasks:oW,dispatch:d5,executeFrameTasks:aW,reschedule:sW};function Dh(t){const e=new rW(t);return v$.push(e),N0.willDispatch||(N0.willDispatch=!0,D0(d5)),e}function ch(t){const e=new iW(t);return Vc.push(e),c5(),new nW(e)}let _c=null;function oW(t=!1){Vc.forAll(e=>{e.removed=!0}),t&&u5()}function y2(){const t=performance.now();_c=null,_c=Vc.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(y2):null,N0.executeFrameTasks(t)}function aW(t){const e=t-g$;g$=t;const i=1e3/60,r=Math.max(0,e-i);wp.time=t,wp.frameDuration=i-r;for(let n=0;n<y$.length;n++){const s=performance.now(),o=y$[n];Vc.forAll(a=>{a.paused||a.removed||(n===0&&a.ticks++,a.phases[o]&&(wp.elapsedFrameTime=performance.now()-t,wp.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,wp)))}),dW[n].push(performance.now()-s)}u5(),hW.push(performance.now()-t)}const my=new l5;function u5(){Vc.forAll(t=>{t.removed&&my.push(t)}),Vc.removeUnorderedMany(my.data,my.length),my.clear()}function d5(){for(;v$.length;){const t=v$.shift();t.isActive&&t.callback()}N0.willDispatch=!1}function lW(t=1,e){const i=nn(),r=()=>{Zi(e)?i.reject(at()):t===0?i():(--t,D0(()=>r()))};return r(),i.promise}function cW(t){return lW(1,t)}async function uW(t){await cW(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const dW=y$.map(t=>new Of(t)),hW=new Of("total");function h5(t,e){for(const i of t.values())if(e(i))return!0;return!1}function TI(t,e){if(!e)return t;for(const i of e)i!=null&&t.add(i);return t}function Tve(t,e){return e!=null&&t.add(e),t}function v2(t,e){const i=new Set;return TI(i,t),TI(i,e),i}function pW(t,e){const i=new Set;for(const r of e)t.has(r)&&i.add(r);return i}function Eve(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function Mve(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function fW(t,e){const i=new Set(t);for(const r of e)i.delete(r);return i}function mW(t,e){return fW(v2(t,e),pW(t,e))}let gW=0;function ov(){return++gW}function rl(t){return t.__accessor__??null}function yW(t,e){return t?.metadata?.[e]!=null}function av(t,e,i){return i?L0(t,e,{policy:i,path:""}):L0(t,e,null)}function L0(t,e,i){return e?Object.keys(e).reduce((r,n)=>{const s=n;if(s==="__proto__")return r;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${n}`:n,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[s]))return r[s]=e[s],r;if(r[s]===void 0)return r[s]=X(e[s]),r;let l=r[s],d=e[s];if(l===d)return r;if(Array.isArray(d)||Array.isArray(r))l=l?Array.isArray(l)?r[s]=l.slice():r[s]=[l]:r[s]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(h=>{l.includes(h)||l.push(h)}));else if(d&&typeof d=="object")if(i){const h=i.path;i.path=o,r[s]=L0(l,d,i),i.path=h}else r[s]=L0(l,d,null);else r.hasOwnProperty(n)&&!e.hasOwnProperty(n)||(r[s]=d);return r},t||{}):t}function p5(t){return Array.isArray(t)?t:t.split(".")}function EI(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function vW(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...EI(i));return e}return EI(t)}function f5(t,e,i,r){const n=vW(e);if(n.length!==1){const s=n.map(o=>r(t,o,i));return Xc(s)}return r(t,n[0],i)}function m5(t,e){const i=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const r=rl(e);return yW(r,i)?r.get(i):e[i]}function g5(t,e,i){if(t==null)return t;const r=m5(e[i],t);return!r&&i<e.length-1?void 0:i===e.length-1?r:g5(r,e,i+1)}function Xm(t,e,i=0){return typeof e!="string"||e.includes(".")?g5(t,p5(e),i):m5(e,t)}function Fs(t,e){return Xm(t,e)}function MI(t,e){return Xm(e,t)!==void 0}const Jr={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},It={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let O1=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const F0=new O1,Gp=[];let Rf=F0;function Ce(t){Rf.onAccessed(t)}let lv=!1,cv=!1;function Zo(t,e,i){if(lv)return b2(t,e,i);let r=null;return y5(t),r=e.call(i),v5(),r}function bW(t,e){return Zo(F0,t,e)}function b2(t,e,i){const r=lv;lv=!0,y5(t);let n=null;try{n=e.call(i)}catch(s){cv&&ue.getLogger("esri.core.accessorSupport.tracking").error(s)}return v5(),lv=r,n}function y5(t){Rf=t,Gp.push(t)}function v5(){const t=Gp.length;if(t>1){const e=Gp.pop();Rf=Gp[t-2],e.onTrackingEnd()}else if(t===1){const e=Gp.pop();Rf=F0,e.onTrackingEnd()}else Rf=F0}function b5(t,e){if(e.flags&It.DepTrackingInitialized)return;e.flags|=It.DepTrackingInitialized;const i=cv;cv=!1,e.flags&It.AutoTracked?b2(e.trackingTarget,e.metadata.get,t):w5(t,e),cv=i}const wW=[];function w5(t,e){e.flags&It.ExplicitlyTracking||(e.flags|=It.ExplicitlyTracking,b2(e.trackingTarget,()=>{const i=e.metadata.dependsOn||wW;for(const r of i)if(typeof r!="string"||r.includes(".")){const n=p5(r);for(let s=0,o=t;s<n.length&&o!=null&&typeof o=="object";++s)o=CI(o,n[s],s!==n.length-1)}else CI(t,r,!1)}),e.flags&=-129)}function CI(t,e,i){const r=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const n=rl(t);if(n){const s=n.propertiesByName.get(r);s&&(Ce(s),b5(t,s))}return i?t[r]:void 0}let R1=class extends O1{constructor(e){super(new _W(e)),this._observer&&II.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&II.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},_W=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=xW}};const II=new FinalizationRegistry(t=>{t.deref()?.destroy()});function xW(){}let _d=!1;const j0=[];function _5(t,e){let i=new R1(s),r=null,n=!1;function s(){if(!i||n)return;if(_d)return void $5(s);const a=r;i.clear(),_d=!0,n=!0,r=Zo(i,t),n=!1,_d=!1,e(r,a),S5()}function o(){i&&(i.destroy(),i=null,r=null)}return n=!0,r=Zo(i,t),n=!1,Je(o)}function x5(t,e){let i=new R1(n),r=null;function n(){e(r,o)}function s(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=Zo(i,t),r):null}return o(),Je(s)}function $W(t,e){let i=!1,r=!1;const n=!!e?.sync;let s=new R1(()=>{i||r||(r=!0,n?o():queueMicrotask(o))});function o(){r=!1,s&&!i&&(_d?$5(o):(s.clear(),_d=!0,i=!0,Zo(s,t),i=!1,_d=!1,S5()))}function a(){s&&(s.destroy(),s=null)}return i=!0,Zo(s,t),i=!1,Je(a)}function $5(t){j0.includes(t)||j0.unshift(t)}function S5(){for(;j0.length;)j0.pop()()}var Ac;let w2=(Ac=class{constructor(){this.uid=ov(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,r,n,s){return this.pool.acquire(0,e,i,r,n,s,f2)}static acquireTracked(e,i,r,n){return this.pool.acquire(1,e,i,r,null,null,n)}notify(e,i){this.type===0?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,r,n,s,o,a){this.uid=ov(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=r,this.getValue=n,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=ov(),this.removed=!0}},Ac.pool=new o5(()=>new Ac),Ac);const uv=new or,qo=new Set;let U0;function V0(t){qo.delete(t),qo.add(t),k5()}function k5(){U0||(U0=Dh(TW))}function SW(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function kW(t){for(const e of qo.values())e.target===t&&(e.removed=!0)}function TW(){let t=10;for(;U0&&t--;){U0=null;const e=EW(),i=uv.acquire();for(const r of e){const n=r.uid;SW(r),n===r.uid&&r.removed&&i.push(r)}for(const r of qo)r.removed&&(i.push(r),qo.delete(r));for(const r of i)w2.pool.release(r);uv.release(i),uv.release(e),b$.forEach(r=>r())}}function EW(){const t=uv.acquire();t.length=qo.size;let e=0;for(const i of qo)t[e]=i,++e;return qo.clear(),t}const b$=new Set;function MW(t){return b$.add(t),Je(()=>b$.delete(t))}function CW(t,e,i){let r=f5(t,e,i,(n,s,o)=>{let a,l,d=x5(()=>Xm(n,s),(h,f)=>{n.__accessor__?.lifecycle===Jr.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=w2.acquireUntracked(h,o,f,n,s),l=a.uid),V0(a))});return Je(()=>{d.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,V0(a)),a=null),r=d=null})});return r}function IW(t,e,i){const r=f5(t,e,i,(n,s,o)=>{let a=!1;return _5(()=>Xm(n,s),(l,d)=>{n.__accessor__.lifecycle!==Jr.DESTROYED?a||(a=!0,f2(d,l)||o.call(n,l,d,s,n),a=!1):r.remove()})});return r}function AW(t,e,i,r=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Jr.DESTROYED?r?IW(t,e,i):CW(t,e,i):Je()}function PW(t,e,i){let r,n,s=x5(t,(o,a)=>{r&&r.uid!==n?s.remove():(r||(r=w2.acquireTracked(o,e,a,i),n=r.uid),V0(r))});return Je(()=>{s.remove(),r&&(r.uid!==n||r.removed||(r.removed=!0,V0(r)),r=null),s=null})}function OW(t,e,i){let r=!1;return _5(t,(n,s)=>{r||(r=!0,i(s,n)||e(n,s),r=!1)})}function RW(t,e,i=!1,r=KD){return i?OW(t,e,r):PW(t,e,r)}function AI(t){return h5(qo,e=>e.oldValue===t)}function De(t,e,i={}){return _2(t,e,i,T5)}function sn(t,e,i={}){return _2(t,e,i,E5)}function _2(t,e,i={},r){let n=null;const s=i.once?(o,a)=>{r(o)&&(_t(n),e(o,a))}:(o,a)=>{r(o)&&e(o,a)};if(n=RW(t,s,i.sync,i.equals),i.initial){const o=t();s(o,o)}return n}function Bc(t,e,i,r={}){let n=null,s=null,o=null;function a(){n&&s&&(s.remove(),r.onListenerRemove?.(n),n=null,s=null)}function l(h){r.once&&r.once&&_t(o),i(h)}const d=De(t,(h,f)=>{a(),E1(h)&&(n=h,s=Ph(h,e,l),r.onListenerAdd?.(h))},{sync:r.sync,initial:!0});return o=Je(()=>{d.remove(),a()}),o}function x2(t,e){return DW(t,E5,e)}function DW(t,e,i){if(Zi(i))return Promise.reject(at());const r=t();if(e?.(r))return Promise.resolve(r);let n=null;function s(){n=_t(n)}return new Promise((o,a)=>{n=Xc([In(i,()=>{s(),a(at())}),_2(t,l=>{s(),o(l)},{sync:!1,once:!0},e??T5)])})}function T5(t){return!0}function E5(t){return!!t}function Pve(t,e,i={}){let r=!1;const n=De(t,(s,o)=>{r||e(s,o)},i);return{remove(){n.remove()},pause(){r=!0},resume(){r=!1}}}const nl={sync:!0},Ji={initial:!0},Ui={sync:!0,initial:!0};function zW(t,e){for(const i of t.values())if(e(i))return!0;return!1}function Ove(t,e){for(const i of t.values())if(!e(i))return!1;return!0}function Rve(t,e){for(const i of t.values())if(e(i))return i;return null}function Qm(t,e,i){const r=t.get(e);if(r!==void 0)return r;const n=i();return t.set(e,n),n}function Dve(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}const xc=()=>ue.getLogger("esri.core.accessorSupport.ensureTypes");function NW(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(xc().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function LW(t){return t==null?t:!!t}function FW(t){return t==null?t:t.toString()}function Kr(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function $2(t){return t==null?t:Math.round(parseFloat(t))}function jW(t){return null}function UW(t,e){return i=>{let r=t(i);return e.step!=null&&(r=Math.round(r/e.step)*e.step),e.min!=null&&(r=Math.max(e.min,r)),e.max!=null&&(r=Math.min(e.max,r)),r}}function M5(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function B0(t,e){return e!=null&&t&&!(e instanceof t)}function C5(t){return t&&"isCollection"in t}function PI(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function VW(t,e){if(!e?.constructor||!C5(e.constructor))return w$(t,e)?e:new t(e);const i=PI(t.prototype.itemType),r=PI(e.constructor.prototype.itemType);return i?r?i===r?e:i.prototype.isPrototypeOf(r.prototype)?new t(e):(w$(t,e),e):new t(e):e}function w$(t,e){return!!M5(e)&&(xc().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+z1(t)+"'"),!0)}function D1(t,e){return e==null?e:C5(t)?VW(t,e):B0(t,e)?w$(t,e)?e:new t(e):e}function z1(t){return t?.prototype?.declaredClass||"unknown"}const BW=new WeakMap;function qW(t){switch(t){case Number:return e=>Kr(e);case ht:return $2;case Boolean:return LW;case String:return FW;case Date:return NW;case S2:return jW;default:return Qm(BW,t,()=>D1.bind(null,t))}}function ur(t,e){const i=qW(t);return arguments.length===1?i:i(e)}function _m(t,e,i){return arguments.length===1?_m.bind(null,t):e&&(Array.isArray(e)?e.map(r=>t(r,i)):[t(e,i)])}function HW(t,e){return arguments.length===1?_m(i=>ur(t,i)):_m(i=>ur(t,i),e)}function I5(t,e,i){return e!==0&&Array.isArray(i)?i.map(r=>I5(t,e-1,r)):t(i)}function q0(t,e,i){if(arguments.length===2)return s=>q0(t,e,s);if(!i)return i;i=I5(t,e,i);let r=e,n=i;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(n!==void 0)for(let s=0;s<r;s++)i=[i];return i}function GW(t,e,i){return arguments.length===2?q0(r=>ur(t,r),e):q0(r=>ur(t,r),e,i)}function A5(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)})}function _$(t,e){if(arguments.length===2)return _$(t).call(null,e);const i=new Set,r=t.filter(a=>typeof a!="function"),n=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||i.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const d=typeof a,h=d==="string"||d==="number";return h&&(i.has(a)||n.some(f=>d==="string"&&f===String||d==="number"&&f===Number))||d==="object"&&n.some(f=>!B0(f,a))?a:(h&&r.length?(s||(s=r.map(f=>typeof f=="string"?`'${f}'`:`${f}`).join(", ")),xc().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&n.length?(o||(o=n.map(f=>z1(f)).join(", ")),xc().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):xc().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function sl(t,e){if(arguments.length===2)return sl(t).call(null,e);const i={},r=[],n=[];for(const l in t.typeMap){const d=t.typeMap[l];i[l]=ur(d),r.push(z1(d)),n.push(l)}const s=()=>`'${r.join("', '")}'`,o=()=>`'${n.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!B0(t.base,l)||l==null)return l;const d=a(l)||t.defaultKeyValue,h=i[d];if(!h)return xc().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!B0(t.typeMap[d],l))return l;if(typeof t.key=="string"&&!M5(l)){const f={};for(const y in l)y!==t.key&&(f[y]=l[y]);return h(f)}return h(l)}}let ht=class{},S2=class{};const Lve={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function WW(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function P5(t){switch(t.type){case"native":return ur(t.value);case"array":return _m(P5(t.value));case"one-of":return ZW(t);default:return null}}function ZW(t){let e=null;return(i,r)=>$$(i,t)?i:(e==null&&(e=x$(t)),xc().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),r&&(r.valid=!1),null)}function x$(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ht:return"integer";case Date:return"date";case S2:return"null";default:return z1(t.value)}case"array":return`array of ${x$(t.value)}`;case"one-of":{const e=t.values.map(i=>x$(i));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function $$(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case ht:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case S2:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(i=>!$$(i,e.value));case"one-of":return e.values.some(i=>$$(t,i))}}function zh(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const r in e)e[r]=X(e[r]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function eg(t,e){const i=zh(t);let r=i[e];return r||(r=i[e]={}),r}function YW(t,e){return av(t,e,KW)}const JW=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function KW(t){return JW.test(t)?"replace":"merge"}function H0(t,e,i){if(t&&e)if(typeof e=="object")for(const r of Object.getOwnPropertyNames(e))H0(t,r,e[r]);else{if(e.includes(".")){const n=e.split("."),s=n.splice(-1,1)[0];return void H0(Fs(t,n),s,i)}const r=t.__accessor__;r!=null&&XW(e,r),t[e]=i}}function XW(t,e){if(B("esri-unknown-property-errors")&&!QW(t,e))throw new K("set:unknown-property",eZ(t,e))}function QW(t,e){return e.metadata[t]!=null}function eZ(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function p(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(e,i),n=eg(e,i);r&&(r.get||r.set?(n.get=r.get||n.get,n.set=r.set||n.set):"value"in r&&("value"in t&&ue.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),n.value=t.value=r.value)),t.readOnly!=null&&(n.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,d=typeof s=="string"?null:s.overridable===!0;let h;n.dependsOn=[l],n.get=function(){let f=Fs(this,l);if(typeof f=="function"){h||(h=l.split(".").slice(0,-1).join("."));const y=Fs(this,h);y&&(f=f.bind(y))}return f},n.readOnly||(n.set=d?function(f){this._override(i,f)}:function(f){H0(this,l,f)})}const o=t.type,a=t.types;if(!n.cast){let l;o?l=tZ(o):a&&(l=Array.isArray(a)?_m(sl(a[0])):sl(a)),t.cast=iZ(t.cast,l)}YW(n,t),t.range&&(n.cast=UW(n.cast,t.range))}}function k2(t,e,i){const r=eg(t,i);r.json||(r.json={});let n=r.json;return e!==void 0&&(n.origins||(n.origins={}),n.origins[e]||(n.origins[e]={}),n=n.origins[e]),n}function tZ(t){let e=0,i=t;if(WW(t))return P5(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const r=i;if(A5(r))return e===0?_$(r):q0(_$(r),e);if(e===1)return HW(r);if(e>1)return GW(r,e);const n=t;return n.from?n.from:ur(n)}function iZ(t,e){if(t||e)return t?e?(i,r)=>e(t(i,r),r):t:e}const rZ=Object.prototype.toString;function nZ(t){const e="__accessorMetadata__"in t?ur(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return sZ.apply(this,i)}}function sZ(t,e,i,r){eg(t,e).cast=r}function oZ(t){return(e,i)=>{eg(e,t).cast=e[i]}}function vi(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&rZ.call(t[0])==="[object Function]"?nZ(t[0]):t.length===1&&typeof t[0]=="string"?oZ(t[0]):void 0}let ui=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=aZ(e),this.apiValues=OI(this._apiToJSON),this.jsonValues=OI(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,n,s)=>{const o=this.toJSON(r);o!==void 0&&Qc(s,o,n)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function aZ(t){const e={};for(const i in t)e[t[i]]=i;return e}function OI(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}function hr(){return function(t,e){return new ui(t,{ignoreUnknown:!0,...e})}}function ze(t,e={}){const i=t instanceof ui?t:new ui(t,e),{alwaysWriteDefaults:r,default:n,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return p({type:s?i.apiValues:String,json:{type:i.jsonValues,default:n,name:o,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}function et(t,e,i){let r,n;return e===void 0||Array.isArray(e)?(n=t,i=e,r=[void 0]):(n=e,r=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;r.forEach(l=>{const d=k2(s,l,n);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=a[o],i&&(d.read.source=(d.read.source||[]).concat(i))})}}function O5(t){return(e,i)=>{e[i]=t}}const R5=Symbol("Accessor-beforeDestroy");function lZ(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(e[r]){const n=e[r];i[r].forEach(s=>{e[s]=n}),delete e[r]}}}let Zs=class extends i5{constructor(e,i,r){super(e,i,r)}};Zs.prototype.type="warning";function D5(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}function cZ(t,e){return T2(t,"any",e?.origin)}function G0(t,e){return T2(t,"read",e?.origin)}function z5(t,e){return T2(t,"write",e?.origin)}function T2(t,e,i){let r=t?.json;if(r?.origins&&i){let n;n=i==="link-chart"?r.origins[i]&&(e==="any"||e in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],n&&(e==="any"||e in n)&&(r=n)}return r}const S$=()=>ue.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function RI(t,e,i){t&&(!i&&!e.read||e.read?.reader||e.read?.enabled===!1||hZ(t)&&Qc("read.reader",E2(t),e))}function E2(t){const e=t.ndimArray??0;if(e>1)return dZ(t);if(e===1)return DI(t);if("type"in t&&L5(t.type)){const i=t.type.prototype?.itemType?.Type,r=DI(typeof i=="function"?{type:i}:{types:i});return(n,s,o)=>{const a=r(n,s,o);return a&&new t.type(a)}}return M2(t)}function M2(t){return"type"in t?uZ(t.type):pZ(t.types)}function uZ(t){return t.prototype.read?(e,i,r)=>{if(e==null)return e;const n=typeof e;if(n!=="object")return void S$().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${n}'`);const s=new t;return s.read(e,r),s}:t.fromJSON}function N5(t,e,i,r){return r!==0&&Array.isArray(e)?e.map(n=>N5(t,n,i,r-1)):t(e,void 0,i)}function dZ(t){const e=M2(t),i=N5.bind(null,e),r=t.ndimArray??0;return(n,s,o)=>{if(n==null)return n;n=i(n,o,r);let a=r,l=n;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let d=0;d<a;d++)n=[n];return n}}function DI(t){const e=M2(t);return(i,r,n)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=e(a,void 0,n);l!==void 0&&o.push(l)}return o}const s=e(i,void 0,n);return s!==void 0?[s]:void 0}}function L5(t){if(!D5(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?C2(e.Type):F5(e.Type))}function hZ(t){return"types"in t?F5(t.types):C2(t.type)}function C2(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||L5(t))}function F5(t){for(const e in t.typeMap)if(!C2(t.typeMap[e]))return!1;return!0}function pZ(t){let e=null;const i=t.errorContext??"type",r=t.validate;return(n,s,o)=>{if(n==null)return n;const a=typeof n;if(a!=="object")return void S$().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=mZ(t));const l=t.key;if(typeof l!="string")return;const d=n[fZ(l,e,o)],h=d?e[d]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!h){const y=`Type '${d||"unknown"}' is not supported`;return o?.messages&&n&&o.messages.push(new Zs(`${i}:unsupported`,y,{definition:n,context:o})),void S$().error(y)}const f=new h;return f.read(n,o),r?r(f):f}}function fZ(t,e,i){const r=Object.values(e)[0],n=zh(r.prototype)[t],s=G0(n,i),o=s?.read?.source;return o&&typeof o=="string"?o:t}function mZ(t){const e={};for(const i in t.typeMap){const r=t.typeMap[i],n=zh(r.prototype);if(typeof t.key=="function")continue;const s=n[t.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){e[s.json.type[0]]=r;continue}const o=s.json?.write;if(!o?.writer){e[i]=r;continue}const a=o.target,l=typeof a=="string"?a:t.key,d={};o.writer(i,d,l),d[l]&&(e[d[l]]=r)}return e}function gZ(t){if(t.json||(t.json={}),NI(t.json),LI(t.json),zI(t.json),t.json.origins)for(const e in t.json.origins)NI(t.json.origins[e]),LI(t.json.origins[e]),zI(t.json.origins[e]);return!0}function zI(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function NI(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function LI(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function FI(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=t?.ndimArray??0;t&&(i===1||"type"in t&&D5(t.type))?e.write.writer=bZ:i>1?e.write.writer=wZ(i):e.types?Array.isArray(e.types)?e.write.writer=vZ(e.types[0]):e.write.writer=yZ(e.types):e.write.writer=xm}function yZ(t){return(e,i,r,n)=>e?j5(e,t,n)?xm(e,i,r,n):void 0:xm(e,i,r,n)}function j5(t,e,i){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(i?.messages){const r=e.errorContext??"type",n=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new K(`${r}:unsupported`,n,{definition:t,context:i})),ue.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function vZ(t){return(e,i,r,n)=>!e||!Array.isArray(e)?xm(e,i,r,n):xm(e.filter(s=>j5(s,t,n)),i,r,n)}function xm(t,e,i,r){Qc(i,W0(t,r),e)}function W0(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?Z0(t):t}function Z0(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function bZ(t,e,i,r){let n;t===null?n=null:t&&typeof t.map=="function"?(n=t.map(s=>W0(s,r)),typeof n.toArray=="function"&&(n=n.toArray())):n=[W0(t,r)],Qc(i,n,e)}function U5(t,e,i){return i!==0&&Array.isArray(t)?t.map(r=>U5(r,e,i-1)):W0(t,e)}function wZ(t){return(e,i,r,n)=>{let s;if(e===null)s=null;else{s=U5(e,n,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Qc(r,s,i)}}function _Z(t){const e=xZ(t);if(t.json.origins)for(const i in t.json.origins){const r=t.json.origins[i],n=r.types?$Z(r):e;RI(n,r,!1),r.types&&!r.write&&t.json.write?.enabled&&(r.write={...t.json.write}),FI(n,r)}RI(e,t.json,!0),FI(e,t.json)}function xZ(t){return t.json.types?k$(t.json):t.type?V5(t):k$(t)}function $Z(t){return t.type?V5(t):k$(t)}function V5(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!A5(i);)i=i[0],e++;return{type:i,ndimArray:e}}function k$(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function SZ(t){gZ(t)&&(lZ(t),_Z(t))}const l_=new Set,c_=new Set;function R(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,TZ(e);const i=[],r=[];let n=e.prototype;for(;n;)n.hasOwnProperty("initialize")&&!l_.has(n.initialize)&&(l_.add(n.initialize),i.push(n.initialize)),n.hasOwnProperty("destroy")&&!c_.has(n.destroy)&&(c_.add(n.destroy),r.push(n.destroy)),n=Object.getPrototypeOf(n);l_.clear(),c_.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const d=this[R5];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Jr.DESTROYING,l=!0,d.call(this);for(let h=0;h<r.length;h++)r[h].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=zh(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function kZ(t,e){return e.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r===void 0)return;i.mutable&&Ce(r);const n=i.store;return n.has(t)?n.get(t):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r!==void 0)return r.getComputed(i)}}function TZ(t){const e=t.prototype,i=zh(e),r={};for(const n of Object.getOwnPropertyNames(i)){const s=i[n];SZ(s),r[n]={enumerable:!0,configurable:!0,get:kZ(n,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?jI("read-only",n):a.lifecycle===Jr.CONSTRUCTED&&s.constructOnly?jI("construct-only",n):void a.set(n,o)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,r)}const jI=(t,e)=>{ue.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)};function Ye(t,e,i){let r,n;return e===void 0?(n=t,r=[void 0]):typeof e!="string"?(n=t,r=[void 0],i=e):(n=e,r=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of r){const d=k2(s,l,n);d.write&&typeof d.write=="object"||(d.write={}),i&&(d.write.target=i),d.write.writer=a[o]}}}function u(t,e,i,r){var n=arguments.length,s=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s}function Uve(t,e){return function(i,r){e(i,r,t)}}function Vve(t,e,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(h){try{d(r.next(h))}catch(f){o(f)}}function l(h){try{d(r.throw(h))}catch(f){o(f)}}function d(h){h.done?s(h.value):n(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})}function Bve(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,n;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(n=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:i})}else i&&t.stack.push({async:!0});return e}var EZ=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function qve(t){function e(s){t.error=t.hasError?new EZ(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var i,r=0;function n(){for(;i=t.stack.pop();)try{if(!i.async&&r===1)return r=0,t.stack.push(i),Promise.resolve().then(n);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(s).then(n,function(o){return e(o),n()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}let Df;const MZ=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,T$=globalThis.document?.documentElement;function B5(){const t=T$?.getAttribute("lang"),e=globalThis.navigator?.language;return MZ??t??e??"en"}function Mn(){return Df===void 0&&(Df=B5()),Df}const CZ=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function I2(t=Mn()){return H5(t)?.language}function q5(t=Mn()){const e=H5(t);return e?.language&&e?.extlang?t.replace(`${e.language}-`,""):t}function H5(t=Mn()){return CZ.exec(t)?.groups}const dv=[];function G5(t){return dv.push(t),Je(()=>{dv.splice(dv.indexOf(t),1)})}const hv=[];function A2(t){return hv.push(t),Je(()=>hv.splice(hv.indexOf(t),1))}function UI(){const t=B5();Df!==t&&([...hv].forEach(e=>e(t)),Df=t,[...dv].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",UI),T$&&new MutationObserver(()=>{UI()}).observe(T$,{attributeFilter:["lang"]});const Ys="system",P2="unknown",$m="UTC",IZ=Intl.DateTimeFormat().resolvedOptions().timeZone,VI=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class eu extends Error{}class AZ extends eu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class PZ extends eu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class OZ extends eu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ud extends eu{}class W5 extends eu{constructor(e){super(`Invalid unit ${e}`)}}class Vi extends eu{}class ca extends eu{constructor(){super("Zone is an abstract class")}}const de="numeric",ms="short",tn="long",Y0={year:de,month:de,day:de},Z5={year:de,month:ms,day:de},RZ={year:de,month:ms,day:de,weekday:ms},Y5={year:de,month:tn,day:de},J5={year:de,month:tn,day:de,weekday:tn},K5={hour:de,minute:de},X5={hour:de,minute:de,second:de},Q5={hour:de,minute:de,second:de,timeZoneName:ms},ez={hour:de,minute:de,second:de,timeZoneName:tn},tz={hour:de,minute:de,hourCycle:"h23"},iz={hour:de,minute:de,second:de,hourCycle:"h23"},rz={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:ms},nz={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:tn},sz={year:de,month:de,day:de,hour:de,minute:de},oz={year:de,month:de,day:de,hour:de,minute:de,second:de},az={year:de,month:ms,day:de,hour:de,minute:de},lz={year:de,month:ms,day:de,hour:de,minute:de,second:de},DZ={year:de,month:ms,day:de,weekday:ms,hour:de,minute:de},cz={year:de,month:tn,day:de,hour:de,minute:de,timeZoneName:ms},uz={year:de,month:tn,day:de,hour:de,minute:de,second:de,timeZoneName:ms},dz={year:de,month:tn,day:de,weekday:tn,hour:de,minute:de,timeZoneName:tn},hz={year:de,month:tn,day:de,weekday:tn,hour:de,minute:de,second:de,timeZoneName:tn};class tg{get type(){throw new ca}get name(){throw new ca}get ianaName(){return this.name}get isUniversal(){throw new ca}offsetName(e,i){throw new ca}formatOffset(e,i){throw new ca}offset(e){throw new ca}equals(e){throw new ca}get isValid(){throw new ca}}let u_=null;class N1 extends tg{static get instance(){return u_===null&&(u_=new N1),u_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return $z(e,i,r)}formatOffset(e,i){return zf(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const E$=new Map;function zZ(t){let e=E$.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),E$.set(t,e)),e}const NZ={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function LZ(t,e){const i=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,s,o,a,l,d,h]=r;return[o,n,s,a,l,d,h]}function FZ(t,e){const i=t.formatToParts(e),r=[];for(let n=0;n<i.length;n++){const{type:s,value:o}=i[n],a=NZ[s];s==="era"?r[a]=o:Ue(a)||(r[a]=parseInt(o,10))}return r}const d_=new Map;class gs extends tg{static create(e){let i=d_.get(e);return i===void 0&&d_.set(e,i=new gs(e)),i}static resetCache(){d_.clear(),E$.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=gs.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return $z(e,i,r,this.name)}formatOffset(e,i){return zf(this.offset(e),i)}offset(e){if(!this.valid)return NaN;const i=new Date(e);if(isNaN(i))return NaN;const r=zZ(this.name);let[n,s,o,a,l,d,h]=r.formatToParts?FZ(r,i):LZ(r,i);a==="BC"&&(n=-Math.abs(n)+1);const y=F1({year:n,month:s,day:o,hour:l===24?0:l,minute:d,second:h,millisecond:0});let b=+i;const x=b%1e3;return b-=x>=0?x:1e3+x,(y-b)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let BI={};function jZ(t,e={}){const i=JSON.stringify([t,e]);let r=BI[i];return r||(r=new Intl.ListFormat(t,e),BI[i]=r),r}const M$=new Map;function C$(t,e={}){const i=JSON.stringify([t,e]);let r=M$.get(i);return r===void 0&&(r=new Intl.DateTimeFormat(t,e),M$.set(i,r)),r}const I$=new Map;function UZ(t,e={}){const i=JSON.stringify([t,e]);let r=I$.get(i);return r===void 0&&(r=new Intl.NumberFormat(t,e),I$.set(i,r)),r}const A$=new Map;function VZ(t,e={}){const{base:i,...r}=e,n=JSON.stringify([t,r]);let s=A$.get(n);return s===void 0&&(s=new Intl.RelativeTimeFormat(t,e),A$.set(n,s)),s}let Wp=null;function BZ(){return Wp||(Wp=new Intl.DateTimeFormat().resolvedOptions().locale,Wp)}const P$=new Map;function pz(t){let e=P$.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),P$.set(t,e)),e}const O$=new Map;function qZ(t){let e=O$.get(t);if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in e||(e={...fz,...e}),O$.set(t,e)}return e}function HZ(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let r,n;try{r=C$(t).resolvedOptions(),n=t}catch{const l=t.substring(0,i);r=C$(l).resolvedOptions(),n=l}const{numberingSystem:s,calendar:o}=r;return[n,s,o]}}function GZ(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function WZ(t){const e=[];for(let i=1;i<=12;i++){const r=Pe.utc(2009,i,1);e.push(t(r))}return e}function ZZ(t){const e=[];for(let i=1;i<=7;i++){const r=Pe.utc(2016,11,13+i);e.push(t(r))}return e}function gy(t,e,i,r){const n=t.listingMode();return n==="error"?null:n==="en"?i(e):r(e)}function YZ(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||pz(t.locale).numberingSystem==="latn"}class JZ{constructor(e,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:s,...o}=r;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=UZ(e,a)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):N2(e,3);return li(i,this.padTo)}}}class KZ{constructor(e,i,r){this.opts=r,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&gs.create(a).valid?(n=a,this.dt=e):(n="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=C$(i,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class XZ{constructor(e,i,r){this.opts={style:"long",...r},!i&&_z()&&(this.rtf=VZ(e,r))}format(e,i){return this.rtf?this.rtf.format(e,i):wY(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const fz={firstDay:1,minimalDays:4,weekend:[6,7]};class dt{static fromOpts(e){return dt.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,r,n,s=!1){const o=e||Kt.defaultLocale,a=o||(s?"en-US":BZ()),l=i||Kt.defaultNumberingSystem,d=r||Kt.defaultOutputCalendar,h=D$(n)||Kt.defaultWeekSettings;return new dt(a,l,d,h,o)}static resetCache(){Wp=null,M$.clear(),I$.clear(),A$.clear(),P$.clear(),O$.clear()}static fromObject({locale:e,numberingSystem:i,outputCalendar:r,weekSettings:n}={}){return dt.create(e,i,r,n)}constructor(e,i,r,n,s){const[o,a,l]=HZ(e);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=r||l||null,this.weekSettings=n,this.intl=GZ(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=YZ(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:dt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,D$(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return gy(this,e,Tz,()=>{const r=this.intl==="ja"||this.intl.startsWith("ja-");i&=!r;const n=i?{month:e,day:"numeric"}:{month:e},s=i?"format":"standalone";if(!this.monthsCache[s][e]){const o=r?a=>this.dtFormatter(a,n).format():a=>this.extract(a,n,"month");this.monthsCache[s][e]=WZ(o)}return this.monthsCache[s][e]})}weekdays(e,i=!1){return gy(this,e,Cz,()=>{const r=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=i?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=ZZ(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return gy(this,void 0,()=>Iz,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Pe.utc(2016,11,13,9),Pe.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return gy(this,e,Az,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[Pe.utc(-40,1,1),Pe.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[e]})}extract(e,i,r){const n=this.dtFormatter(e,i),s=n.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new JZ(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new KZ(e,this.intl,i)}relFormatter(e={}){return new XZ(this.intl,this.isEnglish(),e)}listFormatter(e={}){return jZ(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||pz(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:xz()?qZ(this.locale):fz}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let h_=null;class Gi extends tg{static get utcInstance(){return h_===null&&(h_=new Gi(0)),h_}static instance(e){return e===0?Gi.utcInstance:new Gi(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Gi(j1(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return zf(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class QZ extends tg{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function za(t,e){if(Ue(t)||t===null)return e;if(t instanceof tg)return t;if(sY(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?N1.instance:i==="utc"||i==="gmt"?Gi.utcInstance:Gi.parseSpecifier(i)||gs.create(t)}else return Za(t)?Gi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new QZ(t)}const O2={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},qI={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},eY=O2.hanidec.replace(/[\[|\]]/g,"").split("");function tY(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);if(t[i].search(O2.hanidec)!==-1)e+=eY.indexOf(t[i]);else for(const n in qI){const[s,o]=qI[n];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}const R$=new Map;function iY(){R$.clear()}function Zn({numberingSystem:t},e=""){const i=t||"latn";let r=R$.get(i);r===void 0&&(r=new Map,R$.set(i,r));let n=r.get(e);return n===void 0&&(n=new RegExp(`${O2[i]}${e}`),r.set(e,n)),n}let HI=()=>Date.now(),GI="system",WI=null,ZI=null,YI=null,JI=60,KI,XI=null;class Kt{static get now(){return HI}static set now(e){HI=e}static set defaultZone(e){GI=e}static get defaultZone(){return za(GI,N1.instance)}static get defaultLocale(){return WI}static set defaultLocale(e){WI=e}static get defaultNumberingSystem(){return ZI}static set defaultNumberingSystem(e){ZI=e}static get defaultOutputCalendar(){return YI}static set defaultOutputCalendar(e){YI=e}static get defaultWeekSettings(){return XI}static set defaultWeekSettings(e){XI=D$(e)}static get twoDigitCutoffYear(){return JI}static set twoDigitCutoffYear(e){JI=e%100}static get throwOnInvalid(){return KI}static set throwOnInvalid(e){KI=e}static resetCaches(){dt.resetCache(),gs.resetCache(),Pe.resetCache(),iY()}}class cs{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const mz=[0,31,59,90,120,151,181,212,243,273,304,334],gz=[0,31,60,91,121,152,182,213,244,274,305,335];function Tn(t,e){return new cs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function R2(t,e,i){const r=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return n===0?7:n}function yz(t,e,i){return i+(ig(t)?gz:mz)[e-1]}function vz(t,e){const i=ig(t)?gz:mz,r=i.findIndex(s=>s<e),n=e-i[r];return{month:r+1,day:n}}function D2(t,e){return(t-e+7)%7+1}function J0(t,e=4,i=1){const{year:r,month:n,day:s}=t,o=yz(r,n,s),a=D2(R2(r,n,s),i);let l=Math.floor((o-a+14-e)/7),d;return l<1?(d=r-1,l=Sm(d,e,i)):l>Sm(r,e,i)?(d=r+1,l=1):d=r,{weekYear:d,weekNumber:l,weekday:a,...U1(t)}}function QI(t,e=4,i=1){const{weekYear:r,weekNumber:n,weekday:s}=t,o=D2(R2(r,1,e),i),a=xd(r);let l=n*7+s-o-7+e,d;l<1?(d=r-1,l+=xd(d)):l>a?(d=r+1,l-=xd(r)):d=r;const{month:h,day:f}=vz(d,l);return{year:d,month:h,day:f,...U1(t)}}function p_(t){const{year:e,month:i,day:r}=t,n=yz(e,i,r);return{year:e,ordinal:n,...U1(t)}}function e3(t){const{year:e,ordinal:i}=t,{month:r,day:n}=vz(e,i);return{year:e,month:r,day:n,...U1(t)}}function t3(t,e){if(!Ue(t.localWeekday)||!Ue(t.localWeekNumber)||!Ue(t.localWeekYear)){if(!Ue(t.weekday)||!Ue(t.weekNumber)||!Ue(t.weekYear))throw new ud("Cannot mix locale-based week fields with ISO-based week fields");return Ue(t.localWeekday)||(t.weekday=t.localWeekday),Ue(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Ue(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function rY(t,e=4,i=1){const r=L1(t.weekYear),n=En(t.weekNumber,1,Sm(t.weekYear,e,i)),s=En(t.weekday,1,7);return r?n?s?!1:Tn("weekday",t.weekday):Tn("week",t.weekNumber):Tn("weekYear",t.weekYear)}function nY(t){const e=L1(t.year),i=En(t.ordinal,1,xd(t.year));return e?i?!1:Tn("ordinal",t.ordinal):Tn("year",t.year)}function bz(t){const e=L1(t.year),i=En(t.month,1,12),r=En(t.day,1,K0(t.year,t.month));return e?i?r?!1:Tn("day",t.day):Tn("month",t.month):Tn("year",t.year)}function wz(t){const{hour:e,minute:i,second:r,millisecond:n}=t,s=En(e,0,23)||e===24&&i===0&&r===0&&n===0,o=En(i,0,59),a=En(r,0,59),l=En(n,0,999);return s?o?a?l?!1:Tn("millisecond",n):Tn("second",r):Tn("minute",i):Tn("hour",e)}function Ue(t){return typeof t>"u"}function Za(t){return typeof t=="number"}function L1(t){return typeof t=="number"&&t%1===0}function sY(t){return typeof t=="string"}function oY(t){return Object.prototype.toString.call(t)==="[object Date]"}function _z(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function xz(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function aY(t){return Array.isArray(t)?t:[t]}function i3(t,e,i){if(t.length!==0)return t.reduce((r,n)=>{const s=[e(n),n];return r&&i(r[0],s[0])===r[0]?r:s},null)[1]}function lY(t,e){return e.reduce((i,r)=>(i[r]=t[r],i),{})}function uh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D$(t){if(t==null)return null;if(typeof t!="object")throw new Vi("Week settings must be an object");if(!En(t.firstDay,1,7)||!En(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!En(e,1,7)))throw new Vi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function En(t,e,i){return L1(t)&&t>=e&&t<=i}function cY(t,e){return t-e*Math.floor(t/e)}function li(t,e=2){const i=t<0;let r;return i?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ia(t){if(!(Ue(t)||t===null||t===""))return parseInt(t,10)}function Al(t){if(!(Ue(t)||t===null||t===""))return parseFloat(t)}function z2(t){if(!(Ue(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function N2(t,e,i="round"){const r=10**e;switch(i){case"expand":return t>0?Math.ceil(t*r)/r:Math.floor(t*r)/r;case"trunc":return Math.trunc(t*r)/r;case"round":return Math.round(t*r)/r;case"floor":return Math.floor(t*r)/r;case"ceil":return Math.ceil(t*r)/r;default:throw new RangeError(`Value rounding ${i} is out of range`)}}function ig(t){return t%4===0&&(t%100!==0||t%400===0)}function xd(t){return ig(t)?366:365}function K0(t,e){const i=cY(e-1,12)+1,r=t+(e-i)/12;return i===2?ig(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function F1(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function r3(t,e,i){return-D2(R2(t,1,e),i)+e-1}function Sm(t,e=4,i=1){const r=r3(t,e,i),n=r3(t+1,e,i);return(xd(t)-r+n)/7}function z$(t){return t>99?t:t>Kt.twoDigitCutoffYear?1900+t:2e3+t}function $z(t,e,i,r=null){const n=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(i,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function j1(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const r=parseInt(e,10)||0,n=i<0||Object.is(i,-0)?-r:r;return i*60+n}function Sz(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new Vi(`Invalid unit value ${t}`);return e}function X0(t,e){const i={};for(const r in t)if(uh(t,r)){const n=t[r];if(n==null)continue;i[e(r)]=Sz(n)}return i}function zf(t,e){const i=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),n=t>=0?"+":"-";switch(e){case"short":return`${n}${li(i,2)}:${li(r,2)}`;case"narrow":return`${n}${i}${r>0?`:${r}`:""}`;case"techie":return`${n}${li(i,2)}${li(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function U1(t){return lY(t,["hour","minute","second","millisecond"])}const uY=["January","February","March","April","May","June","July","August","September","October","November","December"],kz=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dY=["J","F","M","A","M","J","J","A","S","O","N","D"];function Tz(t){switch(t){case"narrow":return[...dY];case"short":return[...kz];case"long":return[...uY];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Ez=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Mz=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],hY=["M","T","W","T","F","S","S"];function Cz(t){switch(t){case"narrow":return[...hY];case"short":return[...Mz];case"long":return[...Ez];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Iz=["AM","PM"],pY=["Before Christ","Anno Domini"],fY=["BC","AD"],mY=["B","A"];function Az(t){switch(t){case"narrow":return[...mY];case"short":return[...fY];case"long":return[...pY];default:return null}}function gY(t){return Iz[t.hour<12?0:1]}function yY(t,e){return Cz(e)[t.weekday-1]}function vY(t,e){return Tz(e)[t.month-1]}function bY(t,e){return Az(e)[t.year<0?0:1]}function wY(t,e,i="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&s){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${n[t][0]}`;case-1:return f?"yesterday":`last ${n[t][0]}`;case 0:return f?"today":`this ${n[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,d=n[t],h=r?l?d[1]:d[2]||d[1]:l?n[t][0]:t;return o?`${a} ${h} ago`:`in ${a} ${h}`}function n3(t,e){let i="";for(const r of t)r.literal?i+=r.val:i+=e(r.val);return i}const _Y={D:Y0,DD:Z5,DDD:Y5,DDDD:J5,t:K5,tt:X5,ttt:Q5,tttt:ez,T:tz,TT:iz,TTT:rz,TTTT:nz,f:sz,ff:az,fff:cz,ffff:dz,F:oz,FF:lz,FFF:uz,FFFF:hz};class qi{static create(e,i={}){return new qi(e,i)}static parseFormat(e){let i=null,r="",n=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?((r.length>0||n)&&s.push({literal:n||/^\s+$/.test(r),val:r===""?"'":r}),i=null,r="",n=!n):n||a===i?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,i=a)}return r.length>0&&s.push({literal:n||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return _Y[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0,r=void 0){if(this.opts.forceSimple)return li(e,i);const n={...this.opts};return i>0&&(n.padTo=i),r&&(n.signDisplay=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,i){const r=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(b,x)=>this.loc.extract(e,b,x),o=b=>e.isOffsetFixed&&e.offset===0&&b.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,b.format):"",a=()=>r?gY(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(b,x)=>r?vY(e,b):s(x?{month:b}:{month:b,day:"numeric"},"month"),d=(b,x)=>r?yY(e,b):s(x?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),h=b=>{const x=qi.macroTokenToFormatOpts(b);return x?this.formatWithSystemDefault(e,x):b},f=b=>r?bY(e,b):s({era:b},"era"),y=b=>{switch(b){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return n?s({day:"numeric"},"day"):this.num(e.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(e.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(e.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return h(b)}};return n3(qi.parseFormat(i),y)}formatDurationFromString(e,i){const r=this.opts.signMode==="negativeLargestOnly"?-1:1,n=h=>{switch(h[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},s=(h,f)=>y=>{const b=n(y);if(b){const x=f.isNegativeDuration&&b!==f.largestUnit?r:1;let $;return this.opts.signMode==="negativeLargestOnly"&&b!==f.largestUnit?$="never":this.opts.signMode==="all"?$="always":$="auto",this.num(h.get(b)*x,y.length,$)}else return y},o=qi.parseFormat(i),a=o.reduce((h,{literal:f,val:y})=>f?h:h.concat(y),[]),l=e.shiftTo(...a.map(n).filter(h=>h)),d={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return n3(o,s(l,d))}}const Pz=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Nh(...t){const e=t.reduce((i,r)=>i+r.source,"");return RegExp(`^${e}$`)}function Lh(...t){return e=>t.reduce(([i,r,n],s)=>{const[o,a,l]=s(e,n);return[{...i,...o},a||r,l]},[{},null,1]).slice(0,2)}function Fh(t,...e){if(t==null)return[null,null];for(const[i,r]of e){const n=i.exec(t);if(n)return r(n)}return[null,null]}function Oz(...t){return(e,i)=>{const r={};let n;for(n=0;n<t.length;n++)r[t[n]]=Ia(e[i+n]);return[r,null,i+n]}}const Rz=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,xY=`(?:${Rz.source}?(?:\\[(${Pz.source})\\])?)?`,L2=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Dz=RegExp(`${L2.source}${xY}`),F2=RegExp(`(?:[Tt]${Dz.source})?`),$Y=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,SY=/(\d{4})-?W(\d\d)(?:-?(\d))?/,kY=/(\d{4})-?(\d{3})/,TY=Oz("weekYear","weekNumber","weekDay"),EY=Oz("year","ordinal"),MY=/(\d{4})-(\d\d)-(\d\d)/,zz=RegExp(`${L2.source} ?(?:${Rz.source}|(${Pz.source}))?`),CY=RegExp(`(?: ${zz.source})?`);function $d(t,e,i){const r=t[e];return Ue(r)?i:Ia(r)}function IY(t,e){return[{year:$d(t,e),month:$d(t,e+1,1),day:$d(t,e+2,1)},null,e+3]}function jh(t,e){return[{hours:$d(t,e,0),minutes:$d(t,e+1,0),seconds:$d(t,e+2,0),milliseconds:z2(t[e+3])},null,e+4]}function rg(t,e){const i=!t[e]&&!t[e+1],r=j1(t[e+1],t[e+2]),n=i?null:Gi.instance(r);return[{},n,e+3]}function ng(t,e){const i=t[e]?gs.create(t[e]):null;return[{},i,e+1]}const AY=RegExp(`^T?${L2.source}$`),PY=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function OY(t){const[e,i,r,n,s,o,a,l,d]=t,h=e[0]==="-",f=l&&l[0]==="-",y=(b,x=!1)=>b!==void 0&&(x||b&&h)?-b:b;return[{years:y(Al(i)),months:y(Al(r)),weeks:y(Al(n)),days:y(Al(s)),hours:y(Al(o)),minutes:y(Al(a)),seconds:y(Al(l),l==="-0"),milliseconds:y(z2(d),f)}]}const RY={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function j2(t,e,i,r,n,s,o){const a={year:e.length===2?z$(Ia(e)):Ia(e),month:kz.indexOf(i)+1,day:Ia(r),hour:Ia(n),minute:Ia(s)};return o&&(a.second=Ia(o)),t&&(a.weekday=t.length>3?Ez.indexOf(t)+1:Mz.indexOf(t)+1),a}const DY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function zY(t){const[,e,i,r,n,s,o,a,l,d,h,f]=t,y=j2(e,n,r,i,s,o,a);let b;return l?b=RY[l]:d?b=0:b=j1(h,f),[y,new Gi(b)]}function NY(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const LY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,FY=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,jY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function s3(t){const[,e,i,r,n,s,o,a]=t;return[j2(e,n,r,i,s,o,a),Gi.utcInstance]}function UY(t){const[,e,i,r,n,s,o,a]=t;return[j2(e,a,i,r,n,s,o),Gi.utcInstance]}const VY=Nh($Y,F2),BY=Nh(SY,F2),qY=Nh(kY,F2),HY=Nh(Dz),Nz=Lh(IY,jh,rg,ng),GY=Lh(TY,jh,rg,ng),WY=Lh(EY,jh,rg,ng),ZY=Lh(jh,rg,ng);function YY(t){return Fh(t,[VY,Nz],[BY,GY],[qY,WY],[HY,ZY])}function JY(t){return Fh(NY(t),[DY,zY])}function KY(t){return Fh(t,[LY,s3],[FY,s3],[jY,UY])}function XY(t){return Fh(t,[PY,OY])}const QY=Lh(jh);function eJ(t){return Fh(t,[AY,QY])}const tJ=Nh(MY,CY),iJ=Nh(zz),rJ=Lh(jh,rg,ng);function nJ(t){return Fh(t,[tJ,Nz],[iJ,rJ])}const o3="Invalid Duration",Lz={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},sJ={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Lz},cn=146097/400,vu=146097/4800,oJ={years:{quarters:4,months:12,weeks:cn/7,days:cn,hours:cn*24,minutes:cn*24*60,seconds:cn*24*60*60,milliseconds:cn*24*60*60*1e3},quarters:{months:3,weeks:cn/28,days:cn/4,hours:cn*24/4,minutes:cn*24*60/4,seconds:cn*24*60*60/4,milliseconds:cn*24*60*60*1e3/4},months:{weeks:vu/7,days:vu,hours:vu*24,minutes:vu*24*60,seconds:vu*24*60*60,milliseconds:vu*24*60*60*1e3},...Lz},dc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],aJ=dc.slice(0).reverse();function so(t,e,i=!1){const r={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new it(r)}function Fz(t,e){let i=e.milliseconds??0;for(const r of aJ.slice(1))e[r]&&(i+=e[r]*t[r].milliseconds);return i}function a3(t,e){const i=Fz(t,e)<0?-1:1;dc.reduceRight((r,n)=>{if(Ue(e[n]))return r;if(r){const s=e[r]*i,o=t[n][r],a=Math.floor(s/o);e[n]+=a*i,e[r]-=a*o*i}return n},null),dc.reduce((r,n)=>{if(Ue(e[n]))return r;if(r){const s=e[r]%1;e[r]-=s,e[n]+=s*t[r][n]}return n},null)}function l3(t){const e={};for(const[i,r]of Object.entries(t))r!==0&&(e[i]=r);return e}class it{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let r=i?oJ:sJ;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||dt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,i){return it.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Vi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new it({values:X0(e,it.normalizeUnit),loc:dt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(Za(e))return it.fromMillis(e);if(it.isDuration(e))return e;if(typeof e=="object")return it.fromObject(e);throw new Vi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[r]=XY(e);return r?it.fromObject(r,i):it.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[r]=eJ(e);return r?it.fromObject(r,i):it.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Vi("need to specify a reason the Duration is invalid");const r=e instanceof cs?e:new cs(e,i);if(Kt.throwOnInvalid)throw new OZ(r);return new it({invalid:r})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new W5(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?qi.create(this.loc,r).formatDurationFromString(this,e):o3}toHuman(e={}){if(!this.isValid)return o3;const i=e.showZeros!==!1,r=dc.map(n=>{const s=this.values[n];return Ue(s)||s===0&&!i?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=N2(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Pe.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Fz(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=it.fromDurationLike(e),r={};for(const n of dc)(uh(i.values,n)||uh(this.values,n))&&(r[n]=i.get(n)+this.get(n));return so(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const i=it.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=Sz(e(this.values[r],r));return so(this,{values:i},!0)}get(e){return this[it.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...X0(e,it.normalizeUnit)};return so(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:r,matrix:n}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:n,conversionAccuracy:r};return so(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return a3(this.matrix,e),so(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=l3(this.normalize().shiftToAll().toObject());return so(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>it.normalizeUnit(o));const i={},r={},n=this.toObject();let s;for(const o of dc)if(e.indexOf(o)>=0){s=o;let a=0;for(const d in r)a+=this.matrix[d][o]*r[d],r[d]=0;Za(n[o])&&(a+=n[o]);const l=Math.trunc(a);i[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else Za(n[o])&&(r[o]=n[o]);for(const o in r)r[o]!==0&&(i[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return a3(this.matrix,i),so(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return so(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=l3(this.values);return so(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(r,n){return r===void 0||r===0?n===void 0||n===0:r===n}for(const r of dc)if(!i(this.values[r],e.values[r]))return!1;return!0}}const bu="Invalid Interval";function lJ(t,e){return!t||!t.isValid?Zt.invalid("missing or invalid start"):!e||!e.isValid?Zt.invalid("missing or invalid end"):e<t?Zt.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Zt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Vi("need to specify a reason the Interval is invalid");const r=e instanceof cs?e:new cs(e,i);if(Kt.throwOnInvalid)throw new PZ(r);return new Zt({invalid:r})}static fromDateTimes(e,i){const r=_p(e),n=_p(i),s=lJ(r,n);return s??new Zt({start:r,end:n})}static after(e,i){const r=it.fromDurationLike(i),n=_p(e);return Zt.fromDateTimes(n,n.plus(r))}static before(e,i){const r=it.fromDurationLike(i),n=_p(e);return Zt.fromDateTimes(n.minus(r),n)}static fromISO(e,i){const[r,n]=(e||"").split("/",2);if(r&&n){let s,o;try{s=Pe.fromISO(r,i),o=s.isValid}catch{o=!1}let a,l;try{a=Pe.fromISO(n,i),l=a.isValid}catch{l=!1}if(o&&l)return Zt.fromDateTimes(s,a);if(o){const d=it.fromISO(n,i);if(d.isValid)return Zt.after(s,d)}else if(l){const d=it.fromISO(r,i);if(d.isValid)return Zt.before(a,d)}}return Zt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(e,i);let n;return i?.useLocaleWeeks?n=this.end.reconfigure({locale:r.locale}):n=this.end,n=n.startOf(e,i),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?Zt.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(_p).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s:n}=this,s=0;for(;n<this.e;){const o=i[s]||this.e,a=+o>+this.e?this.e:o;r.push(Zt.fromDateTimes(n,a)),n=a,s+=1}return r}splitBy(e){const i=it.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,n=1,s;const o=[];for(;r<this.e;){const a=this.start.plus(i.mapUnits(l=>l*n));s=+a>+this.e?this.e:a,o.push(Zt.fromDateTimes(r,s)),r=s,n+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return i>=r?null:Zt.fromDateTimes(i,r)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Zt.fromDateTimes(i,r)}static merge(e){const[i,r]=e.sort((n,s)=>n.s-s.s).reduce(([n,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[n,s.union(o)]:[n.concat([s]),o]:[n,o],[[],null]);return r&&i.push(r),i}static xor(e){let i=null,r=0;const n=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,d)=>l.time-d.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&n.push(Zt.fromDateTimes(i,l.time)),i=null);return Zt.merge(n)}difference(...e){return Zt.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:bu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Y0,i={}){return this.isValid?qi.create(this.s.loc.clone(i),e).formatInterval(this):bu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:bu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:bu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:bu}toFormat(e,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:bu}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):it.invalid(this.invalidReason)}mapEndpoints(e){return Zt.fromDateTimes(e(this.s),e(this.e))}}class yy{static hasDST(e=Kt.defaultZone){const i=Pe.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return gs.isValidZone(e)}static normalizeZone(e){return za(e,Kt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||dt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||dt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||dt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||dt.create(i,r,s)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||dt.create(i,r,s)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||dt.create(i,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||dt.create(i,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return dt.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return dt.create(i,null,"gregory").eras(e)}static features(){return{relative:_z(),localeWeek:xz()}}}function c3(t,e){const i=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(e)-i(t);return Math.floor(it.fromMillis(r).as("days"))}function cJ(t,e,i){const r=[["years",(l,d)=>d.year-l.year],["quarters",(l,d)=>d.quarter-l.quarter+(d.year-l.year)*4],["months",(l,d)=>d.month-l.month+(d.year-l.year)*12],["weeks",(l,d)=>{const h=c3(l,d);return(h-h%7)/7}],["days",c3]],n={},s=t;let o,a;for(const[l,d]of r)i.indexOf(l)>=0&&(o=l,n[l]=d(t,e),a=s.plus(n),a>e?(n[l]--,t=s.plus(n),t>e&&(a=t,n[l]--,t=s.plus(n))):t=a);return[t,n,a,o]}function uJ(t,e,i,r){let[n,s,o,a]=cJ(t,e,i);const l=e-n,d=i.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);d.length===0&&(o<e&&(o=n.plus({[a]:1})),o!==n&&(s[a]=(s[a]||0)+l/(o-n)));const h=it.fromObject(s,r);return d.length>0?it.fromMillis(l,r).shiftTo(...d).plus(h):h}const dJ="missing Intl.DateTimeFormat.formatToParts support";function ot(t,e=i=>i){return{regex:t,deser:([i])=>e(tY(i))}}const hJ="",jz=`[ ${hJ}]`,Uz=new RegExp(jz,"g");function pJ(t){return t.replace(/\./g,"\\.?").replace(Uz,jz)}function u3(t){return t.replace(/\./g,"").replace(Uz," ").toLowerCase()}function Yn(t,e){return t===null?null:{regex:RegExp(t.map(pJ).join("|")),deser:([i])=>t.findIndex(r=>u3(i)===u3(r))+e}}function d3(t,e){return{regex:t,deser:([,i,r])=>j1(i,r),groups:e}}function vy(t){return{regex:t,deser:([e])=>e}}function fJ(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function mJ(t,e){const i=Zn(e),r=Zn(e,"{2}"),n=Zn(e,"{3}"),s=Zn(e,"{4}"),o=Zn(e,"{6}"),a=Zn(e,"{1,2}"),l=Zn(e,"{1,3}"),d=Zn(e,"{1,6}"),h=Zn(e,"{1,9}"),f=Zn(e,"{2,4}"),y=Zn(e,"{4,6}"),b=E=>({regex:RegExp(fJ(E.val)),deser:([C])=>C,literal:!0}),$=(E=>{if(t.literal)return b(E);switch(E.val){case"G":return Yn(e.eras("short"),0);case"GG":return Yn(e.eras("long"),0);case"y":return ot(d);case"yy":return ot(f,z$);case"yyyy":return ot(s);case"yyyyy":return ot(y);case"yyyyyy":return ot(o);case"M":return ot(a);case"MM":return ot(r);case"MMM":return Yn(e.months("short",!0),1);case"MMMM":return Yn(e.months("long",!0),1);case"L":return ot(a);case"LL":return ot(r);case"LLL":return Yn(e.months("short",!1),1);case"LLLL":return Yn(e.months("long",!1),1);case"d":return ot(a);case"dd":return ot(r);case"o":return ot(l);case"ooo":return ot(n);case"HH":return ot(r);case"H":return ot(a);case"hh":return ot(r);case"h":return ot(a);case"mm":return ot(r);case"m":return ot(a);case"q":return ot(a);case"qq":return ot(r);case"s":return ot(a);case"ss":return ot(r);case"S":return ot(l);case"SSS":return ot(n);case"u":return vy(h);case"uu":return vy(a);case"uuu":return ot(i);case"a":return Yn(e.meridiems(),0);case"kkkk":return ot(s);case"kk":return ot(f,z$);case"W":return ot(a);case"WW":return ot(r);case"E":case"c":return ot(i);case"EEE":return Yn(e.weekdays("short",!1),1);case"EEEE":return Yn(e.weekdays("long",!1),1);case"ccc":return Yn(e.weekdays("short",!0),1);case"cccc":return Yn(e.weekdays("long",!0),1);case"Z":case"ZZ":return d3(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return d3(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return vy(/[a-z_+-/]{1,256}?/i);case" ":return vy(/[^\S\n\r]/);default:return b(E)}})(t)||{invalidReason:dJ};return $.token=t,$}const gJ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function yJ(t,e,i){const{type:r,value:n}=t;if(r==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=gJ[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function vJ(t){return[`^${t.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,t]}function bJ(t,e,i){const r=t.match(e);if(r){const n={};let s=1;for(const o in i)if(uh(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,n]}else return[r,{}]}function wJ(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Ue(t.z)||(i=gs.create(t.z)),Ue(t.Z)||(i||(i=new Gi(t.Z)),r=t.Z),Ue(t.q)||(t.M=(t.q-1)*3+1),Ue(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Ue(t.u)||(t.S=z2(t.u)),[Object.keys(t).reduce((s,o)=>{const a=e(o);return a&&(s[a]=t[o]),s},{}),i,r]}let f_=null;function _J(){return f_||(f_=Pe.fromMillis(1555555555555)),f_}function xJ(t,e){if(t.literal)return t;const i=qi.macroTokenToFormatOpts(t.val),r=Hz(i,e);return r==null||r.includes(void 0)?t:r}function Vz(t,e){return Array.prototype.concat(...t.map(i=>xJ(i,e)))}class Bz{constructor(e,i){if(this.locale=e,this.format=i,this.tokens=Vz(qi.parseFormat(i),e),this.units=this.tokens.map(r=>mJ(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,n]=vJ(this.units);this.regex=RegExp(r,"i"),this.handlers=n}}explainFromTokens(e){if(this.isValid){const[i,r]=bJ(e,this.regex,this.handlers),[n,s,o]=r?wJ(r):[null,null,void 0];if(uh(r,"a")&&uh(r,"H"))throw new ud("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:n,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function qz(t,e,i){return new Bz(t,i).explainFromTokens(e)}function $J(t,e,i){const{result:r,zone:n,specificOffset:s,invalidReason:o}=qz(t,e,i);return[r,n,s,o]}function Hz(t,e){if(!t)return null;const r=qi.create(e,t).dtFormatter(_J()),n=r.formatToParts(),s=r.resolvedOptions();return n.map(o=>yJ(o,t,s))}const m_="Invalid DateTime",h3=864e13;function Zp(t){return new cs("unsupported zone",`the zone "${t.name}" is not supported`)}function g_(t){return t.weekData===null&&(t.weekData=J0(t.c)),t.weekData}function y_(t){return t.localWeekData===null&&(t.localWeekData=J0(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Pl(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Pe({...i,...e,old:i})}function Gz(t,e,i){let r=t-e*60*1e3;const n=i.offset(r);if(e===n)return[r,e];r-=(n-e)*60*1e3;const s=i.offset(r);return n===s?[r,n]:[t-Math.min(n,s)*60*1e3,Math.max(n,s)]}function by(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function pv(t,e,i){return Gz(F1(t),e,i)}function p3(t,e){const i=t.o,r=t.c.year+Math.trunc(e.years),n=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:n,day:Math.min(t.c.day,K0(r,n))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=it.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=F1(s);let[l,d]=Gz(a,i,t.zone);return o!==0&&(l+=o,d=t.zone.offset(l)),{ts:l,o:d}}function wu(t,e,i,r,n,s){const{setZone:o,zone:a}=i;if(t&&Object.keys(t).length!==0||e){const l=e||a,d=Pe.fromObject(t,{...i,zone:l,specificOffset:s});return o?d:d.setZone(a)}else return Pe.invalid(new cs("unparsable",`the input "${n}" can't be parsed as ${r}`))}function wy(t,e,i=!0){return t.isValid?qi.create(dt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function v_(t,e,i){const r=t.c.year>9999||t.c.year<0;let n="";if(r&&t.c.year>=0&&(n+="+"),n+=li(t.c.year,r?6:4),i==="year")return n;if(e){if(n+="-",n+=li(t.c.month),i==="month")return n;n+="-"}else if(n+=li(t.c.month),i==="month")return n;return n+=li(t.c.day),n}function f3(t,e,i,r,n,s,o){let a=!i||t.c.millisecond!==0||t.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=li(t.c.hour),o==="hour")break;if(e){if(l+=":",l+=li(t.c.minute),o==="minute")break;a&&(l+=":",l+=li(t.c.second))}else{if(l+=li(t.c.minute),o==="minute")break;a&&(l+=li(t.c.second))}if(o==="second")break;a&&(!r||t.c.millisecond!==0)&&(l+=".",l+=li(t.c.millisecond,3))}return n&&(t.isOffsetFixed&&t.offset===0&&!s?l+="Z":t.o<0?(l+="-",l+=li(Math.trunc(-t.o/60)),l+=":",l+=li(Math.trunc(-t.o%60))):(l+="+",l+=li(Math.trunc(t.o/60)),l+=":",l+=li(Math.trunc(t.o%60)))),s&&(l+="["+t.zone.ianaName+"]"),l}const Wz={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},SJ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},kJ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},fv=["year","month","day","hour","minute","second","millisecond"],TJ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],EJ=["year","ordinal","hour","minute","second","millisecond"];function mv(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new W5(t);return e}function m3(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return mv(t)}}function MJ(t){if(Yp===void 0&&(Yp=Kt.now()),t.type!=="iana")return t.offset(Yp);const e=t.name;let i=N$.get(e);return i===void 0&&(i=t.offset(Yp),N$.set(e,i)),i}function g3(t,e){const i=za(e.zone,Kt.defaultZone);if(!i.isValid)return Pe.invalid(Zp(i));const r=dt.fromObject(e);let n,s;if(Ue(t.year))n=Kt.now();else{for(const l of fv)Ue(t[l])&&(t[l]=Wz[l]);const o=bz(t)||wz(t);if(o)return Pe.invalid(o);const a=MJ(i);[n,s]=pv(t,a,i)}return new Pe({ts:n,zone:i,loc:r,o:s})}function y3(t,e,i){const r=Ue(i.round)?!0:i.round,n=Ue(i.rounding)?"trunc":i.rounding,s=(a,l)=>(a=N2(a,r||i.calendary?0:2,i.calendary?"round":n),e.loc.clone(i).relFormatter(i).format(a,l)),o=a=>i.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(i.unit)return s(o(i.unit),i.unit);for(const a of i.units){const l=o(a);if(Math.abs(l)>=1)return s(l,a)}return s(t>e?-0:0,i.units[i.units.length-1])}function v3(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}let Yp;const N$=new Map;class Pe{constructor(e){const i=e.zone||Kt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new cs("invalid input"):null)||(i.isValid?null:Zp(i));this.ts=Ue(e.ts)?Kt.now():e.ts;let n=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[n,s]=[e.old.c,e.old.o];else{const a=Za(e.o)&&!e.old?e.o:i.offset(this.ts);n=by(this.ts,a),r=Number.isNaN(n.year)?new cs("invalid input"):null,n=r?null:n,s=r?null:a}this._zone=i,this.loc=e.loc||dt.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new Pe({})}static local(){const[e,i]=v3(arguments),[r,n,s,o,a,l,d]=i;return g3({year:r,month:n,day:s,hour:o,minute:a,second:l,millisecond:d},e)}static utc(){const[e,i]=v3(arguments),[r,n,s,o,a,l,d]=i;return e.zone=Gi.utcInstance,g3({year:r,month:n,day:s,hour:o,minute:a,second:l,millisecond:d},e)}static fromJSDate(e,i={}){const r=oY(e)?e.valueOf():NaN;if(Number.isNaN(r))return Pe.invalid("invalid input");const n=za(i.zone,Kt.defaultZone);return n.isValid?new Pe({ts:r,zone:n,loc:dt.fromObject(i)}):Pe.invalid(Zp(n))}static fromMillis(e,i={}){if(Za(e))return e<-h3||e>h3?Pe.invalid("Timestamp out of range"):new Pe({ts:e,zone:za(i.zone,Kt.defaultZone),loc:dt.fromObject(i)});throw new Vi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(Za(e))return new Pe({ts:e*1e3,zone:za(i.zone,Kt.defaultZone),loc:dt.fromObject(i)});throw new Vi("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const r=za(i.zone,Kt.defaultZone);if(!r.isValid)return Pe.invalid(Zp(r));const n=dt.fromObject(i),s=X0(e,m3),{minDaysInFirstWeek:o,startOfWeek:a}=t3(s,n),l=Kt.now(),d=Ue(i.specificOffset)?r.offset(l):i.specificOffset,h=!Ue(s.ordinal),f=!Ue(s.year),y=!Ue(s.month)||!Ue(s.day),b=f||y,x=s.weekYear||s.weekNumber;if((b||h)&&x)throw new ud("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&h)throw new ud("Can't mix ordinal dates with month/day");const $=x||s.weekday&&!b;let E,C,O=by(l,d);$?(E=TJ,C=SJ,O=J0(O,o,a)):h?(E=EJ,C=kJ,O=p_(O)):(E=fv,C=Wz);let j=!1;for(const ee of E){const ge=s[ee];Ue(ge)?j?s[ee]=C[ee]:s[ee]=O[ee]:j=!0}const D=$?rY(s,o,a):h?nY(s):bz(s),F=D||wz(s);if(F)return Pe.invalid(F);const G=$?QI(s,o,a):h?e3(s):s,[z,se]=pv(G,d,r),oe=new Pe({ts:z,zone:r,o:se,loc:n});return s.weekday&&b&&e.weekday!==oe.weekday?Pe.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${oe.toISO()}`):oe.isValid?oe:Pe.invalid(oe.invalid)}static fromISO(e,i={}){const[r,n]=YY(e);return wu(r,n,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[r,n]=JY(e);return wu(r,n,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[r,n]=KY(e);return wu(r,n,i,"HTTP",i)}static fromFormat(e,i,r={}){if(Ue(e)||Ue(i))throw new Vi("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=r,o=dt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[a,l,d,h]=$J(o,e,i);return h?Pe.invalid(h):wu(a,l,r,`format ${i}`,e,d)}static fromString(e,i,r={}){return Pe.fromFormat(e,i,r)}static fromSQL(e,i={}){const[r,n]=nJ(e);return wu(r,n,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Vi("need to specify a reason the DateTime is invalid");const r=e instanceof cs?e:new cs(e,i);if(Kt.throwOnInvalid)throw new AZ(r);return new Pe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const r=Hz(e,dt.fromObject(i));return r?r.map(n=>n?n.val:null).join(""):null}static expandFormat(e,i={}){return Vz(qi.parseFormat(e),dt.fromObject(i)).map(n=>n.val).join("")}static resetCache(){Yp=void 0,N$.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?g_(this).weekYear:NaN}get weekNumber(){return this.isValid?g_(this).weekNumber:NaN}get weekday(){return this.isValid?g_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?y_(this).weekday:NaN}get localWeekNumber(){return this.isValid?y_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?y_(this).weekYear:NaN}get ordinal(){return this.isValid?p_(this.c).ordinal:NaN}get monthShort(){return this.isValid?yy.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?yy.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yy.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yy.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,r=F1(this.c),n=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-n*i),a=this.zone.offset(r-s*i);if(o===a)return[this];const l=r-o*i,d=r-a*i,h=by(l,o),f=by(d,a);return h.hour===f.hour&&h.minute===f.minute&&h.second===f.second&&h.millisecond===f.millisecond?[Pl(this,{ts:l}),Pl(this,{ts:d})]:[this]}get isInLeapYear(){return ig(this.year)}get daysInMonth(){return K0(this.year,this.month)}get daysInYear(){return this.isValid?xd(this.year):NaN}get weeksInWeekYear(){return this.isValid?Sm(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Sm(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:r,calendar:n}=qi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:n}}toUTC(e=0,i={}){return this.setZone(Gi.instance(e),i)}toLocal(){return this.setZone(Kt.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(e=za(e,Kt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let n=this.ts;if(i||r){const s=e.offset(this.ts),o=this.toObject();[n]=pv(o,s,e)}return Pl(this,{ts:n,zone:e})}else return Pe.invalid(Zp(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:r}={}){const n=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:r});return Pl(this,{loc:n})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=X0(e,m3),{minDaysInFirstWeek:r,startOfWeek:n}=t3(i,this.loc),s=!Ue(i.weekYear)||!Ue(i.weekNumber)||!Ue(i.weekday),o=!Ue(i.ordinal),a=!Ue(i.year),l=!Ue(i.month)||!Ue(i.day),d=a||l,h=i.weekYear||i.weekNumber;if((d||o)&&h)throw new ud("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new ud("Can't mix ordinal dates with month/day");let f;s?f=QI({...J0(this.c,r,n),...i},r,n):Ue(i.ordinal)?(f={...this.toObject(),...i},Ue(i.day)&&(f.day=Math.min(K0(f.year,f.month),f.day))):f=e3({...p_(this.c),...i});const[y,b]=pv(f,this.o,this.zone);return Pl(this,{ts:y,o:b})}plus(e){if(!this.isValid)return this;const i=it.fromDurationLike(e);return Pl(this,p3(this,i))}minus(e){if(!this.isValid)return this;const i=it.fromDurationLike(e).negate();return Pl(this,p3(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},n=it.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks")if(i){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?qi.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):m_}toLocaleString(e=Y0,i={}){return this.isValid?qi.create(this.loc.clone(i),e).formatDateTime(this):m_}toLocaleParts(e={}){return this.isValid?qi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:s=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=mv(o);const a=e==="extended";let l=v_(this,a,o);return fv.indexOf(o)>=3&&(l+="T"),l+=f3(this,a,i,r,n,s,o),l}toISODate({format:e="extended",precision:i="day"}={}){return this.isValid?v_(this,e==="extended",mv(i)):null}toISOWeekDate(){return wy(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:s=!1,format:o="extended",precision:a="milliseconds"}={}){return this.isValid?(a=mv(a),(n&&fv.indexOf(a)>=3?"T":"")+f3(this,o==="extended",i,e,r,s,a)):null}toRFC2822(){return wy(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return wy(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?v_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(i||e)&&(r&&(n+=" "),i?n+="z":e&&(n+="ZZ")),wy(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():m_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",r={}){if(!this.isValid||!e.isValid)return it.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=aY(i).map(it.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,d=uJ(a,l,s,n);return o?d.negate():d}diffNow(e="milliseconds",i={}){return this.diff(Pe.now(),e,i)}until(e){return this.isValid?Zt.fromDateTimes(this,e):this}hasSame(e,i,r){if(!this.isValid)return!1;const n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(i,r)<=n&&n<=s.endOf(i,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||Pe.fromObject({},{zone:this.zone}),r=e.padding?this<i?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(n=e.unit,s=void 0),y3(i,this.plus(r),{...e,numeric:"always",units:n,unit:s})}toRelativeCalendar(e={}){return this.isValid?y3(e.base||Pe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Pe.isDateTime))throw new Vi("min requires all arguments be DateTimes");return i3(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(Pe.isDateTime))throw new Vi("max requires all arguments be DateTimes");return i3(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,r={}){const{locale:n=null,numberingSystem:s=null}=r,o=dt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return qz(o,e,i)}static fromStringExplain(e,i,r={}){return Pe.fromFormatExplain(e,i,r)}static buildFormatParser(e,i={}){const{locale:r=null,numberingSystem:n=null}=i,s=dt.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new Bz(s,e)}static fromFormatParser(e,i,r={}){if(Ue(e)||Ue(i))throw new Vi("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=r,o=dt.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!o.equals(i.locale))throw new Vi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:a,zone:l,specificOffset:d,invalidReason:h}=i.explainFromTokens(e);return h?Pe.invalid(h):wu(a,l,r,`format ${i.format}`,e,d)}static get DATE_SHORT(){return Y0}static get DATE_MED(){return Z5}static get DATE_MED_WITH_WEEKDAY(){return RZ}static get DATE_FULL(){return Y5}static get DATE_HUGE(){return J5}static get TIME_SIMPLE(){return K5}static get TIME_WITH_SECONDS(){return X5}static get TIME_WITH_SHORT_OFFSET(){return Q5}static get TIME_WITH_LONG_OFFSET(){return ez}static get TIME_24_SIMPLE(){return tz}static get TIME_24_WITH_SECONDS(){return iz}static get TIME_24_WITH_SHORT_OFFSET(){return rz}static get TIME_24_WITH_LONG_OFFSET(){return nz}static get DATETIME_SHORT(){return sz}static get DATETIME_SHORT_WITH_SECONDS(){return oz}static get DATETIME_MED(){return az}static get DATETIME_MED_WITH_SECONDS(){return lz}static get DATETIME_MED_WITH_WEEKDAY(){return DZ}static get DATETIME_FULL(){return cz}static get DATETIME_FULL_WITH_SECONDS(){return uz}static get DATETIME_HUGE(){return dz}static get DATETIME_HUGE_WITH_SECONDS(){return hz}}function _p(t){if(Pe.isDateTime(t))return t;if(t&&t.valueOf&&Za(t.valueOf()))return Pe.fromJSDate(t);if(t&&typeof t=="object")return Pe.fromObject(t);throw new Vi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const CJ="shortOffset";function IJ(t){return"timeZoneIANA"in t}function AJ(t){return t.startsWith("UTC")}function Hve(t,e=!1){return{json:{read:{source:t,reader:(i,r)=>r[t]?PJ(r[t]):null},write:!!e&&{allowNull:!0,writer(i,r){r[t]=i?OJ(i):null}}}}}function PJ(t,e=Ys){return t?IJ(t)?t.timeZoneIANA:RJ(t,e):e}function OJ(t){return{timeZoneIANA:t}}function RJ(t,e=Ys){if(!t||!VI.has(t.timeZone))return e;const i=VI.get(t.timeZone);return AJ(t.timeZone)||t.respectsDaylightSaving?i:DJ(i)}function DJ(t){const e=Pe.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Gi.instance(-i).formatOffset(0,"narrow")}`}function Gve(t,e,i,r,n){if(e&&n==="date")return{timeZone:$m,timeZoneName:void 0};const s=r.hour,o=i===P2;return{timeZone:o?n==="timestamp-offset"?void 0:t??$m:i,timeZoneName:o&&s?CJ:void 0}}function zJ(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return t===Ys||t===P2||e.has(t.toLowerCase())||i.has(t.toLowerCase())}const NJ={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},LJ={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},Zz={timeZone:$m},xs={year:"numeric",month:"numeric",day:"numeric"},xp={year:"numeric",month:"long",day:"numeric"},$p={year:"numeric",month:"short",day:"numeric"},Sp={year:"numeric",month:"long",weekday:"long",day:"numeric"},Aa={hour:"numeric",minute:"numeric"},jl={...Aa,second:"numeric"},Yz={hourCycle:"h23"},kp={...Aa,...Yz},Tp={...jl,...Yz},Jz={"short-date":xs,"short-date-short-time":{...xs,...Aa},"short-date-short-time-24":{...xs,...kp},"short-date-long-time":{...xs,...jl},"short-date-long-time-24":{...xs,...Tp},"short-date-le":xs,"short-date-le-short-time":{...xs,...Aa},"short-date-le-short-time-24":{...xs,...kp},"short-date-le-long-time":{...xs,...jl},"short-date-le-long-time-24":{...xs,...Tp},"long-month-day-year":xp,"long-month-day-year-short-time":{...xp,...Aa},"long-month-day-year-short-time-24":{...xp,...kp},"long-month-day-year-long-time":{...xp,...jl},"long-month-day-year-long-time-24":{...xp,...Tp},"day-short-month-year":$p,"day-short-month-year-short-time":{...$p,...Aa},"day-short-month-year-short-time-24":{...$p,...kp},"day-short-month-year-long-time":{...$p,...jl},"day-short-month-year-long-time-24":{...$p,...Tp},"long-date":Sp,"long-date-short-time":{...Sp,...Aa},"long-date-short-time-24":{...Sp,...kp},"long-date-long-time":{...Sp,...jl},"long-date-long-time-24":{...Sp,...Tp},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Aa,"long-time":jl},FJ=hr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Kz={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},jJ=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),UJ=jJ.find(({type:t})=>t==="month")?.value.toLowerCase();function Xz(){const t=I2();return(t&&Kz[t])??q5()}UJ!=="mart"&&(Kz.bs="sr-Latn-CS");let L$=new WeakMap;const V1=Jz["short-date-short-time"];function VJ(t){let e=L$.get(t);if(!e){const i=Xz(),r=V2(t.timeZone??Ys),n={...t,timeZone:r};e=new Intl.DateTimeFormat(i,n),L$.set(t,e)}return e}function Wve(t){return Jz[t]}function Zve(t){const{dateStyle:e,timeStyle:i,hour12:r,year:n,month:s}=t,o={};return e?o.dateStyle=e:n&&(o.year=n,o.month=s||void 0),i&&!o.year&&(o.timeStyle=i,o.hour12=r==="auto"?void 0:r==="always"),o}function U2(t,e=V1){return VJ(e).format(t)}function Yve(t,e=V1){return U2(new Date(t),{...e,...Zz,...LJ})}function Jve(t,e=V1){return U2(new Date(`1970-01-01T${t}Z`),{...e,...Zz,...NJ})}function Kve(t,e=V1){if(e.timeZone)return U2(new Date(t),e);const i=Pe.fromISO(t,{setZone:!0}),r=i.offset===0?$m:e.timeZone,n={...e,timeZone:r};return i.toLocaleString(n,{locale:Xz()})}function V2(t){switch(t){case Ys:return IZ;case P2:return $m;default:return t}}A2(()=>{L$=new WeakMap});const BJ={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let gv=new WeakMap,Qz={};function F$(t){const e=t||Qz;if(!gv.has(e)){const i=I2(),r=i&&BJ[i]||q5();gv.set(e,new Intl.NumberFormat(r,t))}return gv.get(e)}function Xve(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function Qve(t){const{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r}=t;return{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r==="auto"?"auto":r==="always"}}function e0e(t,e){return Object.is(t,-0)&&(t=0),F$(e).format(t)}function t0e(t,e=Mn()){if(!t)return null;let i=b3.get(e);if(!i){const r=F$().formatToParts(12345.6),n=[...F$({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map((f,y)=>[f,y])),o=new RegExp(`[${r.find(f=>f.type==="group")?.value}]`,"g"),a=new RegExp(`[${r.find(f=>f.type==="decimal")?.value}]`),l=new RegExp(`[${n.join("")}]`,"g"),d=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,h=/[-\u2212\u2013\u2014\u2015]/g;i=f=>{if((f=f.trim().replaceAll(o,"").replace(a,".").replace(l,b=>String(s.get(b))).replaceAll(d,"").replaceAll(h,"-"))==="")return null;const y=Number(f);return isNaN(y)?null:y},b3.set(e,i)}return i(t)}A2(()=>{gv=new WeakMap,Qz={}});const b3=new Map,e4={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function qJ(t){return t in e4}function w3(t){if(qJ(t)){const e=e4[t];return e===!0?t:e}return null}const Jp=[],Sd=new Map;function _3(t){for(const e of Sd.keys())r4(t.pattern,e)&&Sd.delete(e)}function HJ(t){return Jp.includes(t)||(_3(t),Jp.unshift(t)),Je(()=>{const e=Jp.indexOf(t);e>-1&&(Jp.splice(e,1),_3(t))})}async function t4(t){const e=Mn();Sd.has(t)||Sd.set(t,GJ(t,e));const i=Sd.get(t);return i&&await WJ.add(i),i}function i4(t){const e=I2(t);return e?w3(t)??w3(e):null}async function GJ(t,e){const i=[];for(const r of Jp)if(r4(r.pattern,t))try{return await r.fetchMessageBundle(t,e)}catch(n){i.push(n)}throw i.length?new K("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new K("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function r4(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}A2(()=>{Sd.clear()});const WJ=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=nn())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},ZJ="modulepreload",YJ=function(t){return"/money-tides/"+t},x3={},ae=function(e,i,r){let n=Promise.resolve();if(i&&i.length>0){let l=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=l(i.map(d=>{if(d=YJ(d),d in x3)return;x3[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":ZJ,h||(y.as="script"),y.crossOrigin="",y.href=d,a&&y.setAttribute("nonce",a),document.head.appendChild(y),h)return new Promise((b,x)=>{y.addEventListener("load",b),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Q0(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const JJ=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,KJ={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function $3(t){const e=t?.match(JJ);if(!e)return null;const[,i,r,n]=e;if(!i)return null;let s=null,o=null,a=null;const{devext:l,qaext:d,www:h}=KJ;if(r)if(s=i,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=d);break;default:return null}else({customBaseUrl:o,portalHostname:a}=h);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=d);break;case"www":({customBaseUrl:o,portalHostname:a}=h);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function n4(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function s4(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):r.test(t)&&(t=t.replace(r,"https://qaext.arcgis.com")),t}function o4(t){const e=atob(t),i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i.buffer}function XJ(t){const e=new Uint8Array(t);let i="";for(let r=0;r<e.length;r++)i+=String.fromCharCode(e[r]);return btoa(i)}const QJ=()=>ue.getLogger("esri.core.urlUtils"),Uh=Qe.request,S3="esri/config: esriConfig.request.proxyUrl is not set.",a4=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,l4=/^\s*http:/i,eK=/^\s*https:/i,tK=/^\s*file:/i,c4=/:\d+$/,iK=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,rK=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),nK=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let kd=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(rK);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(nK),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const _y={},sK=new kd(Qe.applicationUrl);let Hi=sK;const oK=aK();let B2=oK;const q2=()=>Hi,r0e=()=>B2;function aK(){const t=Hi.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${Hi.scheme}://${Hi.host}${Hi.port!=null?`:${Hi.port}`:""}`}${e}`}function dr(t){if(!t)return null;const e={path:null,query:null},i=new kd(t),r=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.slice(0,r),e.query=H2(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.slice(0,e.path.length-(i.fragment.length+1)))),e}function H2(t){const e=t.split("&"),i={};for(const r of e){if(!r)continue;const n=r.indexOf("=");let s,o;n<0?(s=decodeURIComponent(r),o=""):(s=decodeURIComponent(r.slice(0,n)),o=decodeURIComponent(r.slice(n+1)));let a=i[s];typeof a=="string"&&(a=i[s]=[a]),Array.isArray(a)?a.push(o):i[s]=o}return i}function km(t,e){return t?Object.keys(t).map(i=>{const r=t[i];if(r==null)return"";const n=encodeURIComponent(i)+"=",s=e?.[i];return s?n+encodeURIComponent(s(r)):Array.isArray(r)?r.map(o=>Q0(o)?n+encodeURIComponent(JSON.stringify(o)):n+encodeURIComponent(o)).join("&"):Q0(r)?n+encodeURIComponent(JSON.stringify(r)):n+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function u4(t=!1){let e,i=Uh.proxyUrl;if(typeof t=="string"){e=fK(t);const r=B1(t);r&&(i=r.proxyUrl)}else e=!!t;if(!i)throw QJ().warn(S3),new K("urlUtils:proxy-not-set",S3);return e&&U$()&&(i=J2(i)),dr(i)}function n0e(t,e=!1){const i=B1(t);let r,n;if(i){const s=G2(i.proxyUrl);r=s.path,n=s.query?H2(s.query):null}else if(e){const s=u4(t);r=s.path,n=s.query}if(r){const s=dr(t);t=r+"?"+s.path;const o=km({...n,...s.query});o&&(t=`${t}?${o}`)}return t}const Ep={path:"",query:""};function G2(t){const e=t.indexOf("?");return e!==-1?(Ep.path=t.slice(0,e),Ep.query=t.slice(e+1)):(Ep.path=t,Ep.query=null),Ep}function d4(t){return t=(t=tb(t=bK(t=G2(t).path),!0)).toLowerCase()}function lK(t){const e={proxyUrl:t.proxyUrl,urlPrefix:d4(t.urlPrefix)},i=Uh.proxyRules,r=e.urlPrefix;let n=i.length;for(let s=0;s<i.length;s++){const o=i[s].urlPrefix;if(r.startsWith(o)){if(r.length===o.length)return-1;n=s;break}o.startsWith(r)&&(n=s+1)}return i.splice(n,0,e),n}function B1(t){const e=Uh.proxyRules,i=d4(t);for(let r=0;r<e.length;r++)if(i.startsWith(e[r].urlPrefix))return e[r]}function s0e(t,e){if(!t||!e)return!1;t=eb(t),e=eb(e);const i=$3(t),r=$3(e);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&qc(t,e,!0)}function cK(t,e){return t=eb(t),e=eb(e),tb(t)===tb(e)}function eb(t){const e=(t=Ya(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function j$(t,e=Uh.interceptors){const i=r=>r instanceof RegExp?r.test(t):typeof r=="string"?t.startsWith(r):r==null;if(e){for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function qc(t,e,i=!1){if(!t||!e)return!1;const r=B$(t),n=B$(e);return!(!i&&r.scheme!==n.scheme)&&r.host!=null&&n.host!=null&&r.host.toLowerCase()===n.host.toLowerCase()&&r.port===n.port}function W2(t){if(typeof t=="string"){if(!Pr(t))return!0;t=B$(t)}if(qc(t,Hi))return!0;const e=Uh.trustedServers||[];for(let i=0;i<e.length;i++){const r=uK(e[i]);for(let n=0;n<r.length;n++)if(qc(t,r[n]))return!0}return!1}function uK(t){return _y[t]||(Y2(t)||Js(t)?_y[t]=[new kd($n(t))]:_y[t]=[new kd(`http://${t}`),new kd(`https://${t}`)]),_y[t]}function $n(t,e=B2,i){return Js(t)?i?.preserveProtocolRelative?t:Hi.scheme==="http"&&Hi.authority===rn(t).slice(2)?`http:${t}`:`https:${t}`:Y2(t)?t:sg(t.startsWith("/")?vK(e):e,t)}function Z2(t,e=B2,i){if(t==null||!Pr(t))return t;const r=Ya(t),n=r.toLowerCase(),s=Ya(e).toLowerCase().replace(/\/+$/,""),o=i?Ya(i).toLowerCase().replace(/\/+$/,""):null;if(o&&!s.startsWith(o))return t;const a=(f,y,b)=>(b=f.indexOf(y,b))===-1?f.length:b;let l=a(n,"/",n.indexOf("//")+2),d=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(d=l+1,l!==n.length);)l=a(n,"/",l+1);if(d===-1||o&&d<o.length)return t;t=r.slice(d);const h=s.slice(d-1).replaceAll(/[^/]+/g,"").length;if(h>0)for(let f=0;f<h;f++)t=`../${t}`;else t=`./${t}`;return t}function Ya(t){return t=xK(t=_K(t=wK(t=$n(t=t.trim()))))}function sg(...t){const e=t.filter(lh);if(!e?.length)return;const i=[];if(Pr(e[0])){const n=e[0],s=n.indexOf("//");s!==-1&&(i.push(n.slice(0,s+1)),gK(e[0])&&(i[0]+="/"),e[0]=n.slice(s+2))}else e[0].startsWith("/")&&i.push("");const r=e.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<r.length;n++){const s=r[n];s===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!s&&n===r.length-1||s&&(s!=="."||i.length===0))&&i.push(s)}return i.join("/")}function rn(t,e=!1){if(t==null||og(t)||tu(t))return null;let i=t.indexOf("://");if(i===-1&&Js(t))i=2;else{if(i===-1)return null;i+=3}const r=t.indexOf("/",i);return r!==-1&&(t=t.slice(0,r)),e&&(t=tb(t,!0)),t}function Pr(t){return Js(t)||Y2(t)}function og(t){return t!=null&&t.startsWith("blob:")}function tu(t){return t!=null&&t.startsWith("data:")}function dK(t){const e=dh(t);return e?.isBase64?o4(e.data):null}function o0e(t){return XJ(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const hK=/^data:(.*?)(;base64)?,(.*)$/;function dh(t){const e=t.match(hK);if(!e)return null;const[,i,r,n]=e;return{mediaType:i,isBase64:!!r,data:n}}function h4(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function pK(t){return(await fetch(t)).blob()}function a0e(t){const e=dK(t);if(!e)return null;const i=dh(t);return new Blob([e],{type:i.mediaType})}function Js(t){return t!=null&&t.startsWith("/")&&t[1]==="/"}function Y2(t){return t!=null&&a4.test(t)}function fK(t){return t!=null&&eK.test(t)||Hi.scheme==="https"&&Js(t)}function mK(t){return t!=null&&l4.test(t)||Hi.scheme==="http"&&Js(t)}function gK(t){return t!=null&&tK.test(t)}function J2(t){return Js(t)?`https:${t}`:t.replace(l4,"https:")}function yK(){return Hi.scheme==="http"}function U$(){return Hi.scheme==="https"}function tb(t,e=!1){return Js(t)?t.slice(2):(t=t.replace(a4,""),e&&t.length>1&&t.startsWith("/")&&t[1]==="/"&&(t=t.slice(2)),t)}function vK(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function l0e(t){let e=0;if(Pr(t)){const r=t.indexOf("//");r!==-1&&(e=r+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function c0e(t,e){if(!t)return"";const i=dr(t).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!e?.length)return r;const n=new RegExp(`\\.(${e.join("|")})$`,"i");return r.replace(n,"")}function bK(t){return t.endsWith("/")?t:`${t}/`}function p4(t){return t.replace(/\/+$/,"")}function wK(t){if(/^https?:\/\//i.test(t)){const e=G2(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function _K(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function xK(t){const e=Uh.httpsDomains;if(!mK(t))return t;const i=t.indexOf("/",7);let r;if(r=i===-1?t:t.slice(0,i),r=r.toLowerCase().slice(7),c4.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","")}return yK()&&r===Hi.authority&&!iK.test(t)||(U$()&&r===Hi.authority||e&&e.some(n=>r===n||r.endsWith(`.${n}`))||U$()&&!B1(t))&&(t=J2(t)),t}function V$(t,e,i){if(!(e&&i&&t&&Pr(t)))return t;const r=t.indexOf("//"),n=t.indexOf("/",r+2),s=t.indexOf(":",r+2),o=Math.min(n<0?t.length:n,s<0?t.length:s);return t.slice(r+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,r+2)}${i}${t.slice(o)}`}function $K(t,e){const i=new URL(t);return i.host=e,i.port&&!c4.test(e)&&(i.port=""),i.toString()}function u0e(t){return new URL(t).host}function B$(t){return typeof t=="string"?new kd($n(t)):(t.scheme||(t.scheme=Hi.scheme),t)}function d0e(t){return kK.test(t)}function f4(t,e){const i=dr(t),r=Object.keys(i.query||{});return r.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function SK(t,e,i){const r=dr(t),n=r.query||{};return n[e]=String(i),`${r.path}?${km(n)}`}function b_(t,e){if(!e)return t;const i=dr(t),r=i.query||{};for(const[s,o]of Object.entries(e))o!=null&&(r[s]=o);const n=km(r);return n?`${i.path}?${n}`:i.path}function m4(t){if(t==null)return null;const e=t.match(g4);return e?e[2]:null}function k3(t){if(t==null)return null;const e=t.match(g4);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function h0e(t){return typeof t=="string"?dh(t)??{data:t}:new Promise((e,i)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(dh(r.result)),r.onerror=n=>i(n)})}const g4=/([^.]*)\.([^/]*)$/,kK=/(^data:image\/svg|\.svg$)/i,y4="20251114",v4="ec088c999de2dac6fb9478a47da1bad775545540";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const TK="4.34";let bt,K2=TK;function p0e(t){bt=t}function f0e(t){const e=bt?.findCredential(t);return e?.token?SK(t,"token",e.token):t}K2="4.34.8",B("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),B("host-webworker");function Vh(t,e){const i=e?.url?.path;if(t&&i&&(t=$n(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const r=Z2(t,e.portalItem.itemUrl);r!=null&&r.startsWith(EK)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(r).path)}return(t=q$(t,e?.portal))&&H1.test(t)?X2(t):t}function hh(t,e,i=0){if((t=t&&H1.test(t)?x4(t):t)==null)return t;!Pr(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let r=$n(t);if(e){const n=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(n){const s=q$(n,e.portal),o=q$(r,e.portal);r=Z2(o,s,s),r!=null&&r!==o&&r!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=_4(r,e?.portal),Pr(r)&&(r=Ya(r)),e?.resources&&e?.portalItem&&!Pr(r)&&!tu(r)&&i===0&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r),compress:!1}),r}function q1(t,e,i){return Vh(t,i)}function ph(t,e,i,r){const n=hh(t,r);n!==void 0&&(e[i]=n)}const H1=/\/items\/([^/]+)\/resources\/(.*)/,EK="./resources/";function b4(t){return(t?.match(H1)??null)?.[1]??null}function w4(t){const e=t?.match(H1)??null;if(e==null)return null;const i=e[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=k3(i);return{prefix:null,filename:o,extension:a}}const{path:n,extension:s}=k3(i.slice(r+1));return{prefix:i.slice(0,r),filename:n,extension:s}}function _4(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?V$(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function q$(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,r=q2();return qc(r,`${r.scheme}://${i}`)?V$(t,e.portalHostname,i):V$(t,i,e.portalHostname)}function X2(t){if(!t)return t||null;let e=t;return e&&bt&&!bt.findCredential(e)&&(e=s4(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function x4(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&bt&&!bt.findCredential(e)&&(e=s4(e)),e}const MK=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:_4,fromCDNUrl:x4,fromJSON:Vh,itemIdFromResourceUrl:b4,prefixAndFilenameFromResourceUrl:w4,read:q1,toCDNUrl:X2,toJSON:hh,write:ph},Symbol.toStringTag,{value:"Module"})),$4={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},S4=Object.values($4),k4=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${S4.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),CK=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${S4.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),IK=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function m0e(t){return k4.test(t)}function ag(t){if(t==null)return null;const e=dr(t),i=e?.path.match(k4)||e?.path.match(CK);if(!i)return null;const[,r,n,s,o]=i,a=n.indexOf("/");return{title:T4(a!==-1?n.slice(a+1):n),serverType:$4[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function AK(t){const e=dr(t).path.match(IK);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function T4(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function g0e(t,e){const i=[];if(t){const r=ag(t);r!=null&&r.title&&i.push(r.title)}if(e){const r=T4(e);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function T3(t){let e=rn(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function y0e(t,e){return t&&p4(f4(t,e))}function v0e(t){let{url:e}=t;if(!e)return{url:e};e=f4(e,t.logger);const i=dr(e),r=ag(i.path);let n;if(r!=null)r.sublayer!=null&&t.layer.layerId==null&&(n=r.sublayer),e=r.url.path;else if(t.nonStandardUrlAllowed){const s=AK(i.path);s!=null&&(e=s.serviceUrl,n=s.sublayerId)}return{url:p4(e),layerId:n}}function b0e(t,e,i,r,n){ph(e,r,"url",n),r.url&&t.layerId!=null&&(r.url=sg(r.url,i,t.layerId.toString()))}function w0e(t){if(!t)return!1;const e=t.toLowerCase(),i=e.includes("/services/"),r=e.includes("/mapserver/wmsserver"),n=e.includes("/imageserver/wmsserver"),s=e.includes("/wmsserver");return i&&(r||n||s)}const PK=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Q2(t){if(!eE(t))return null;const e=r=>r instanceof RegExp?r.test(t):typeof r=="string"&&t.startsWith(r),i=Qe.apiKeys;if(Array.isArray(i.scopes)){for(const r of i.scopes)if(Array.isArray(r.urls)){if(r.urls.some(e))return r.token}else if(e(r.urls))return r.token}return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?i.basemapStyles:Qe.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?Qe.apiKey:null}function H$(){return Qe.apiKey!=null||Qe.apiKeys.basemapStyles!=null}function OK(t,e){return e?eE(t):Q2(t)!=null}function eE(t){const e=rn(t,!0);return!!e&&!PK.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function RK(t,e,i=!1,r){return new Promise((n,s)=>{if(Zi(r))return void s(E3());let o=()=>{d(),s(new Error(`Unable to load ${e}`))},a=async()=>{const h=t;try{await h.decode()}catch{}d(),n(h)},l=()=>{if(!t)return;const h=t;d(),h.src="",s(E3())};const d=()=>{t&&(t.removeEventListener("error",o),t.removeEventListener("load",a),o=null,a=null,t=null,r?.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(e))};r?.addEventListener("abort",l),t.addEventListener("error",o),t.addEventListener("load",a)})}function E3(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const E4="Timeout exceeded";function DK(){return new Error(E4)}function _0e(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===E4}function zK(t){Qe.request.crossOriginNoCorsDomains||(Qe.request.crossOriginNoCorsDomains={});const e=Qe.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[rn(i)??""]=0:(e[rn("http://"+i)??""]=0,e[rn("https://"+i)??""]=0)}function NK(t){const e=Qe.request.crossOriginNoCorsDomains;if(e){let i=rn(t);if(i)return i=i.toLowerCase(),!qc(i,q2())&&e[i]<Date.now()-36e5}return!1}async function LK(t){const e=dr(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const i=Qe.request.crossOriginNoCorsDomains,r=rn(t);i&&r&&(i[r.toLowerCase()]=Date.now())}const G$=new Map;function FK(t,e){const i=e?.preferredHost;if(!i||qc(t,`https://${i}`,!0))return;const r=ag(t);if(!r||r.serverType!=="FeatureServer"||n4(t))return;const n=r.url.path.toLowerCase();G$.has(n)||G$.set(n,i)}function M3(t){const e=ag(t)?.url.path.toLowerCase();if(!e)return t;const i=G$.get(e);return i?$K(t,i):t}async function Xt(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=H2(e.query.toString().replaceAll("+"," ")));const i=tu(t),r=og(t);r||i||(t=Ya(t));const n={url:t,requestOptions:{...e}},s=b=>({data:b,getAllHeaders:fh,getHeader:fh,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),o=j$(t,wn.internalInterceptors);if(o){const b=await I3(o,n);if(b!=null)return s(b)}let a=j$(t);if(a){const b=await I3(a,n);if(b!=null)return s(b);a.after||a.error||(a=null)}if(t=n.url,(e=n.requestOptions).responseType==="image"&&(B("host-webworker")||B("host-node")))throw ds("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(e.method==="head"){if(e.body)throw ds("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(i||r)throw ds("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await qK(),ib)return ib.execute(t,e);const l=new AbortController,d=In(e,()=>l.abort()),h={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:wn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},f=e.useRequestQueue?YK(h):Z$(h),y=await f.finally(()=>d?.remove());return a?.after?.(y),y}let ib,M4=!1;const wn=Qe.request,C4="FormData"in globalThis,jK=new Set([499,498,403,401]),UK=new Set(["COM_0056","COM_0057","SB_0008"]),VK=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],fh=()=>null,rb=Symbol();function BK(t){const e=rn(t);e&&!Xt._corsServers.includes(e)&&Xt._corsServers.push(e)}function C3(t){const e=rn(t);return!e||e.endsWith(".arcgis.com")||Xt._corsServers.includes(e)||W2(e)}function ds(t,e,i,r){let n;const s={url:i.url,requestOptions:i.requestOptions,getAllHeaders:fh,getHeader:fh,ssl:!1};if(e instanceof K)return e.details?(e.details=X(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=s,e;if(e){const o=r&&(()=>Array.from(r.headers)),a=r&&(h=>r.headers.get(h)),l=r?.status,d=e.message;d&&(n=d),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?(s.messages=[e.details],n??=e.details):(s.messages=e.details,n??=s.messages?.[0]),s.raw=rb in e?e[rb]:e}return n??="Error",Ki(e)?at():new K(t,n,s)}async function qK(){B("host-webworker")&&(!ib&&globalThis.invokeStaticMessage?ib=await ae(()=>import("./c-request-Cmw63het.js"),[]):M4=!0)}async function W$(){bt||await ae(()=>import("./c-IdentityManager-B2C9u8xm.js"),__vite__mapDeps([0,1]))}async function HK(t){const e=t.params.url,i=t.params.requestOptions,r=t.controller.signal,n=i.body;let s=null,o=null;if(C4&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(o=n),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},keepalive:i.keepAlive??!1,method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:wn.priority,redirect:"follow",signal:r},(s||o)&&(t.fetchOptions.body=s||o),(M4||i.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||i.query?.token||s?.get("token")),!t.hasToken){const a=Q2(e);a&&(i.query??={},i.query.token=a,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!I4(e)&&!Zi(r)){let a;i.authMode==="immediate"?(await W$(),a=await bt.getCredential(e,{signal:r})):i.authMode==="no-prompt"?(await W$(),a=await bt.getCredential(e,{prompt:!1,signal:r}).catch(()=>{})):bt&&(a=bt.findCredential(e)),a&&(t.credential=a,t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function I4(t){return VK.some(e=>e.test(t))}async function GK(t){let e=t.params.url,i=M3(e);const r=t.params.requestOptions,n=t.fetchOptions??{},s=og(e)||tu(e),o=r.responseType||"json",a=s?0:r.timeout!=null?r.timeout:wn.timeout;let l=!1;if(!s){t.useSSL&&(e=J2(e));let b={...r.query};t.credentialToken&&(b.token=t.credentialToken);let x=km(b);B("esri-url-encodes-apostrophe")&&(x=x.replaceAll("'","%27"));const $=i.length+1+x.length;let E;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||$>wn.maxUrlLength;const C=r.useProxy||!!B1(e);if(C){const O=u4(e);E=O.path,!l&&E.length+1+$>wn.maxUrlLength&&(l=!0),O.query&&(b={...O.query,...b})}if(n.method==="HEAD"&&(l||C)){if(l)throw $>wn.maxUrlLength?ds("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):ds("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(C)throw ds("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}l?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?e=b_(e,b):(n.body=km(b),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):e=b_(e,b),C&&(t.useProxy=!0,e=`${E}?${e}`),b.token&&C4&&n.body instanceof FormData&&!n4(e)&&n.body.set("token",b.token),r.hasOwnProperty("withCredentials")?t.withCredentials=r.withCredentials:qc(e,q2())||(W2(e)||bt&&bt.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(n.credentials="include",NK(e)&&await LK(l?b_(e,b):e)),i=M3(e)}let d,h,f=0,y=!1;a>0&&(f=setTimeout(()=>{y=!0,t.controller.abort()},a));try{if(r.responseType==="native-request-init")h=n,h.url=i,r.signal?h.signal=r.signal:delete h.signal;else if(r.responseType!=="image"||n.cache!=="default"||n.keepalive||n.method!=="GET"||l||WK(r.headers)||!s&&!t.useProxy&&wn.proxyUrl&&!C3(e)){if(Xt._beforeFetch&&await Xt._beforeFetch(e,n),d=await fetch(i,n),Xt._afterFetch&&await Xt._afterFetch(d),t.useProxy||BK(e),r.responseType==="native")h=d;else if(n.method!=="HEAD")if(d.ok){switch(o){case"array-buffer":h=await d.arrayBuffer();break;case"blob":case"image":h=await d.blob();break;default:h=await d.text()}if(f&&(clearTimeout(f),f=0),o==="json"||o==="xml"||o==="document")if(h)switch(o){case"json":h=JSON.parse(h);break;case"xml":h=A3(h,"application/xml");break;case"document":h=A3(h,"text/html")}else h=null;if(h){if(o==="array-buffer"||o==="blob"){const b=d.headers.get("Content-Type");if(b&&/application\/json|text\/plain/i.test(b)&&h[o==="blob"?"size":"byteLength"]<=750)try{const x=await new Response(h).json();x.error&&(h=x)}catch{}}o==="image"&&h instanceof Blob&&(h=await P3(URL.createObjectURL(h),t,!0))}}else{h=await d.text();try{h=JSON.parse(h)}catch{}}}else h=await P3(i,t)}catch(b){if(b.name==="AbortError")throw y?DK():at("Request canceled");if(!(!d&&b instanceof TypeError&&wn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||t.useProxy||C3(e))throw b;t.redoRequest=!0,lK({proxyUrl:wn.proxyUrl,urlPrefix:rn(e)??""})}finally{f&&clearTimeout(f)}return[d,h]}async function I3(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,r;try{r=await t.before(e)}catch(n){i=ds("request:interceptor",n,e)}if((r instanceof Error||r instanceof K)&&(i=ds("request:interceptor",r,e)),i)throw t.error&&t.error(i),i;return r}}function WK(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function A3(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Xt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Xt._beforeFetch=void 0,Xt._afterFetch=void 0;const ZK=new Map;async function YK(t){const e=KK(t.params.url);if(!e)return Z$(t);const{QueueProcessor:i}=await ae(()=>import("./c-QueueProcessor-DAks2Ucy.js"),[]);return Qm(ZK,e.origin,()=>{const n=e.isHosted?B("request-queue-concurrency-hosted"):B("request-queue-concurrency-non-hosted");return new i({concurrency:n,process:s=>{if(Zi(s.params.requestOptions))throw ds("",at("Request canceled"),s.params);return Z$(s)}})}).push(t)}async function Z$(t){let e,i;await HK(t);try{do[e,i]=await GK(t);while(!await JK(t,e,i))}catch(s){const o=ds("request:server",s,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const r=t.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!t.hasToken&&!t.credentialToken&&i.user?.username&&!W2(r)){const s=rn(r,!0);s&&wn.trustedServers.push(s)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&zK(i.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&FK(r,i);const n=t.credential;if(n&&bt){let o=bt.findServerInfo(n.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=bt.findCredential(o,n.userId);a&&bt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:i,getAllHeaders:e?()=>Array.from(e.headers):fh,getHeader:e?s=>e.headers.get(s):fh,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function JK(t,e,i){if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!e||r.responseType==="native"||r.responseType==="native-request-init")return!0;let n,s;if(i&&(i.error&&typeof i.error=="object"?n=i.error:i.status==="error"&&Array.isArray(i.messages)&&(n={...i},n[rb]=i,n.details=i.messages)),!n&&!e.ok)throw n=new Error(`Unable to load ${e.url} status: ${e.status}`),n[rb]=i,n;let o,a=null;n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o?.toUpperCase());const l=r.authMode;if(s===403&&(a===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&jK.has(s)&&!I4(t.params.url)&&(s!==403||(!o||!UK.has(o))&&(a==null||a===2&&t.credentialToken))){await W$();try{const d=await bt.getCredential(t.params.url,{error:ds("request:server",n,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=d,t.credentialToken=d.token,t.useSSL=t.useSSL||d.ssl,!1}catch(d){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;n=d}}if(n)throw n;return!0}function P3(t,e,i=!1){const r=e.controller.signal,n=new Image;return e.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=wn.priority,n.src=t,RK(n,t,i,r)}function KK(t){let e,i;return typeof t=="string"?(e=rn(t,!0),i=T3(t)):(e=t.origin,i=T3(t.toString())),e==null?null:{origin:e,isHosted:i}}async function XK(t,e,i,r){const n=e.exec(i);if(!n)throw new K("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const s=n[1]?`${n[1]}/`:"",o=n[2],a=i4(r),l=`${s}${o}.json`,d=a?`${s}${o}_${a}.json`:l;let h;try{h=await O3(t(d))}catch(f){if(d===l)throw new K("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f});try{h=await O3(t(l))}catch(y){throw new K("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:y})}}return h}async function O3(t){if(R3.fetchBundleAsset!=null)return R3.fetchBundleAsset(t);const e=await Xt(t,{responseType:"text"});return JSON.parse(e.data)}let QK=class{constructor({base:e="",pattern:i,location:r=new URL(window.location.href)}){let n;n=typeof r=="string"?s=>new URL(s,new URL(r,window.location.href)).href:r instanceof URL?s=>new URL(s,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=n,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,i){return XK(this.getAssetUrl,this.matcher,e,i)}};function eX(t){return new QK(t)}const R3={};function Yt(t){if(!Qe.assetsPath)throw ue.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new K("assets:path-not-set","config.assetsPath is not set");return sg(Qe.assetsPath,t)}HJ(eX({pattern:"esri/",location:Yt}));function tE(t){return typeof t=="string"?document.getElementById(t):t??null}function D3(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}const z3=new WeakMap;function tX(t,e,i=!1){const r=` DEPRECATED - ${e}`;if(!i)return void t.warn(r);let n=z3.get(t);n||(n=new Set,z3.set(t,n)),n.has(e)||(n.add(e),t.warn(r))}const nb="https://www.esriurl.com/";function iX(t,e,i,r={}){B("esri-deprecation-warnings")&&ol(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${nb}${i}/`,`Esri's move to web components: ${nb}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function rX(t,e,i,r={}){B("esri-deprecation-warnings")&&ol(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${nb}${i}/`,`Esri's move to web components: ${nb}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function $0e(t,e,i={}){B("esri-deprecation-warnings")&&ol(t,`Module: ${e}`,i)}function A4(t,e,i={}){if(B("esri-deprecation-warnings")){const{moduleName:r}=i;ol(t,`Function: ${(r?r+"::":"")+e+"()"}`,i)}}function Y$(t,e,i={}){if(B("esri-deprecation-warnings")){const{moduleName:r}=i;ol(t,`Property: ${(r?r+"::":"")+e}`,i)}}function nX(t,e,i={}){B("esri-deprecation-warnings")&&ol(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...i})}function ol(t,e,i={}){if(B("esri-deprecation-warnings")){const{replacement:r,version:n,see:s,warnOnce:o}=i;let a=e;if(r&&(a+=`
	 Replacement: ${r}`),n&&(a+=`
	 Version: ${n}`),s)if(Array.isArray(s)){a+=`
	 See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	 See ${s} for more details.`;tX(t,a,o)}}function S0e(t){const e=[];return function*(){yield*e;let i,r=e.length;for(;!(i=t.next()).done;)for(e.push(i.value),yield i.value;++r<e.length;)yield e[r]}}function sX(t,e){for(const i of t)if(i!=null&&e(i))return i}function sb(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Bh=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(i=>{e+=i.length}),e}add(e,i){if(sb(e)){const r=this._getOrCreateGroup(i);for(const n of e)L3(n)&&r.push(n)}else L3(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&i&&r.forEach(i)}}has(e){return this._groups.has(xy(e))}remove(e){if(typeof e!="string"&&sb(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(N3(this._getGroup(e)),this._groups.delete(xy(e)),this):this}removeAll(){return this._groups.forEach(N3),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(xy(e),i),i}_getGroup(e){return this._groups.get(xy(e))}};function xy(t){return t||"_default_"}function N3(t){for(const e of t)e instanceof Bh?e.removeAll():e.remove()}function L3(t){return t!=null&&(!!t.remove||t instanceof Bh)}let oX=class{constructor(e,i){this._observers=e,this._observer=i}remove(){u2(this._observers,this._observer)}},P4=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return aX;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,n=!1;const s=i.length;for(let o=0;o<s;++o){const a=i[o];if(a.destroyed)n=!0;else if(a===e){r=!0;break}}return r||(i.push(e),n&&this._removeDestroyedObservers()),new oX(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let r=0;for(let n=0;n<i;++n){for(;n+r<i&&e[n+r].destroyed;)++r;if(r>0){if(!(n+r<i))break;e[n]=e[n+r]}}e.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const aX=Je();let F3=class extends P4{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this.trackingTarget=new O1(this),this.flags=0,this.flags=It.Dirty|(i.nonNullable?It.NonNullable:0)|(i.hasOwnProperty("value")?It.HasDefaultValue:0)|(i.get===void 0?It.DepTrackingInitialized:0)|(i.dependsOn===void 0?It.AutoTracked:0)}destroy(){this.flags&It.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&Ce(this);const i=e.store,r=this.propertyName,n=this.flags,s=i.get(r);if(n&It.Computing||~n&It.Dirty&&i.has(r))return s;this.flags|=It.Computing;const o=e.host;let a;n&It.AutoTracked?a=Zo(this.trackingTarget,this.metadata.get,o):(w5(o,this),a=this.metadata.get.call(o)),this.flags|=It.DepTrackingInitialized,i.set(r,a,1);const l=i.get(r);return l===s?this.flags&=-2:bW(this.commit,this),this.flags&=-5,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&It.Overridden&&(this.flags|=It.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onCommitted()}}};const C0e=8;function iE(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function J$(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function lX(t){return J$(t)}let cX=class O4{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new O4;return this._values.forEach((r,n)=>{e&&e.has(n)||i.set(n,X(r))}),i}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,i){return this.has(e)}isBelowOrigin(e,i){return!this.has(e)}forEach(e){this._values.forEach(e)}};function _u(t,e,i){return t!==void 0}function j3(t,e,i,r){return t!==void 0&&(!(i==null&&t.flags&It.NonNullable)||(r.lifecycle,!1))}let uX=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Jr.INITIALIZING,this.store=new cX,this.mutable=!0,this._origin=7;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const n=new F3(r,i[r]);this.propertiesByName.set(r,n)}this.metadata=i}initialize(){this.lifecycle=Jr.CONSTRUCTING}constructed(){this.lifecycle=Jr.CONSTRUCTED}destroy(){this.lifecycle=Jr.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==Jr.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(!_u(i))return;if(i.metadata.get)return i.getComputed(this);this.mutable&&Ce(i);const r=this.store;return r.has(e)?r.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const r=this.propertiesByName.get(e);if(r!==void 0&&r.flags&It.HasDefaultValue)return"defaults"}return J$(i)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(_u(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const r=this.propertiesByName.get(e);_u(r)&&this._internalSet(r,i)}getDependsInfo(e,i,r){const n=this.propertiesByName.get(i);if(!_u(n))return"";const s=new O1,o=Zo(s,()=>n.metadata.get?.call(e));let a=`${r}${e.declaredClass.split(".").pop()}.${i}: ${o}
`;const l=s.accessed??new Set;if(l.size===0)return a;r+="  ";for(const d of l)d instanceof F3&&(a+=`${r}${d.propertyName}: undefined
`);return a}setAtOrigin(e,i,r){const n=this.propertiesByName.get(e);if(_u(n))return this._setAtOrigin(n,i,r)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&It.Overridden)}clearOrigin(e,i){const r=this.store,n=this.propertiesByName.get(e);if(!_u(n))return;const s=r.isAtOrigin(e,i)&&!(n.flags&It.Overridden);r.delete(e,i),s&&n.notifyChange()}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&It.Overridden&&(i.flags&=-3,i.notifyChange())}override(e,i){const r=this.propertiesByName.get(e);if(!j3(r,e,i,this))return;const n=r.metadata.cast;if(n){const s=this._cast(n,i),{valid:o,value:a}=s;if(w_.release(s),!o)return;i=a}r.flags|=It.Overridden,this._internalSet(r,i)}set(e,i){const r=this.propertiesByName.get(e);if(!j3(r,e,i,this))return;const n=r.metadata.cast;if(n){const o=this._cast(n,i),{valid:a,value:l}=o;if(w_.release(o),!a)return;i=l}const s=r.metadata.set;s?s.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(e){this._origin=iE(e)}getDefaultOrigin(){return J$(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const r=this.lifecycle!==Jr.INITIALIZING?this._origin:0;this._setAtOrigin(e,i,r)}_setAtOrigin(e,i,r){const n=this.store,s=e.propertyName;if(n.isAtOrigin(s,r)&&f2(i,n.get(s))&&~e.flags&It.Overridden)return;const o=n.isBelowOrigin(s,r)||n.isAtOrigin(s,r);o&&e.invalidate(),n.set(s,i,r),o&&e.commit(),b5(this.host,e)}_cast(e,i){const r=w_.acquire();return r.valid=!0,r.value=i,e&&(r.value=e.call(this.host,i,r)),r}},dX=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const w_=new Rh(()=>new dX);let hX;function pX(){return hX}var U3,V3;function fX(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const ua=Symbol("Accessor-Handles"),__=Symbol("Accessor-Initialized");var Qa;let Te=(Qa=class{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,n&&n.apply(this,l)}}zh(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...d){const h=this.inherited;let f;this.inherited=function(...y){if(s.prototype[a])return s.prototype[a].apply(this,y)};try{f=l.apply(this,d)}catch(y){throw this.inherited=h,y}return this.inherited=h,f}:e[a]}for(const a in i){const l=fX(i[a]);p(l)(o.prototype,a)}return R(r)(o)}static freeze(e){return e instanceof Qa?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Qa?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[U3]=null,this[V3]=!1,this.constructor===Qa)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new uX(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,i=e.ctorArgs;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize(),this[__]=!0}initialize(){}[R5](){this[ua]=Ut(this[ua])}destroy(){this.destroyed||(kW(this),this.__accessor__.destroy(),pX()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[__]}get destroyed(){return this.__accessor__?.lifecycle===Jr.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Jr.DESTROYING||!1}commitProperty(e){Fs(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return H0(this,e,i),this}watch(e,i,r){return A4(ue.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),AW(this,e,i,r)}addHandles(e,i){if(this.destroyed){const r=Array.isArray(e)?e:[e];for(const n of r)n.remove();return}(this[ua]??=new Bh).add(e,i)}removeHandles(e){this[ua]?.remove(e)}removeAllHandles(){this[ua]?.removeAll()}removeHandlesReference(e){this[ua]?.removeReference(e)}hasHandles(e){return this[ua]?.has(e)===!0}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}},U3=ua,V3=__,Qa);const G1=t=>{const e=t;class i extends e{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(n,s){let o=this._listenersMap?.get(n);if(!o)return!1;let a=!1;for(const l of o.slice()){const d="deref"in l?l.deref():l;d?d?.call(this,s):a=!0}return a&&(o=o.filter(l=>!("deref"in l)||l.deref()!=null),this._listenersMap.set(n,o)),o.length>0}on(n,s){if(Array.isArray(n)){const a=n.map(l=>this.on(l,s));return Xc(a)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(n)||[];return o.push(s),this._listenersMap.set(n,o),Je(()=>{const a=this._listenersMap?.get(n),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(n,s){const o=this.on(n,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(n){const s=this._listenersMap?.get(n);return s!=null&&s.length>0}}return i},R4=G1(class{}),mX=R4,lg=G1(Te);let gX=class{constructor(){this._resolver=nn(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(at())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=nn(),i=[...this._resolvingPromises,e.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==r||Ki(n)||this._resolver.reject(n)}),e.resolve()}};const D4=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._promiseProps=new gX,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}addResolvingTask(r){r&&!this._promiseProps.isFulfilled()&&(this.addHandles(bG(r)),this._promiseProps.addResolvingPromise(r.promise))}};return i=u([R("esri.core.Promise")],i),i},rE=D4(Te),yX="randomUUID"in crypto;function cg(){if(yX)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function O0e(){return`{${cg().toUpperCase()}}`}function R0e(){return`{${cg()}}`}function D0e(t){const e=t.toUpperCase();return t.startsWith("{")?e:`{${e}}`}var ob=function(){return ob=Object.assign||function(e){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ob.apply(this,arguments)},K$={exports:{}},Ht={},X$={exports:{}},iu={};function z4(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function vX(t,e,i){}function bX(t,e,i){}var wX=/javascript\s*\:/img;function _X(t,e){return wX.test(e)?"":e}iu.whiteList=z4();iu.getDefaultWhiteList=z4;iu.onAttr=vX;iu.onIgnoreAttr=bX;iu.safeAttrValue=_X;var xX={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,n;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,n=t.length;r<n;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},Mp=xX;function $X(t,e){t=Mp.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,r=!1,n=0,s=0,o="";function a(){if(!r){var h=Mp.trim(t.slice(n,s)),f=h.indexOf(":");if(f!==-1){var y=Mp.trim(h.slice(0,f)),b=Mp.trim(h.slice(f+1));if(y){var x=e(n,o.length,y,b,h);x&&(o+=x+"; ")}}}n=s+1}for(;s<i;s++){var l=t[s];if(l==="/"&&t[s+1]==="*"){var d=t.indexOf("*/",s+2);if(d===-1)break;s=d+1,n=s+1,r=!1}else l==="("?r=!0:l===")"?r=!1:l===";"?r||a():l===`
`&&a()}return Mp.trim(o)}var SX=$X,$y=iu,kX=SX;function B3(t){return t==null}function TX(t){var e={};for(var i in t)e[i]=t[i];return e}function N4(t){t=TX(t||{}),t.whiteList=t.whiteList||$y.whiteList,t.onAttr=t.onAttr||$y.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||$y.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||$y.safeAttrValue,this.options=t}N4.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,n=i.onAttr,s=i.onIgnoreAttr,o=i.safeAttrValue,a=kX(t,function(l,d,h,f,y){var b=r[h],x=!1;if(b===!0?x=b:typeof b=="function"?x=b(f):b instanceof RegExp&&(x=b.test(f)),x!==!0&&(x=!1),f=o(h,f),!!f){var $={position:d,sourcePosition:l,source:y,isWhite:x};if(x){var E=n(h,f,$);return B3(E)?h+":"+f:E}else{var E=s(h,f,$);if(!B3(E))return E}}});return a};var EX=N4;(function(t,e){var i=iu,r=EX;function n(o,a){var l=new r(a);return l.process(o)}e=t.exports=n,e.FilterCSS=r;for(var s in i)e[s]=i[s]})(X$,X$.exports);var nE=X$.exports,sE={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,n;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,n=t.length;r<n;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},MX=nE.FilterCSS,CX=nE.getDefaultWhiteList,ab=sE;function L4(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var F4=new MX;function IX(t,e,i){}function AX(t,e,i){}function PX(t,e,i){}function OX(t,e,i){}function j4(t){return t.replace(DX,"&lt;").replace(zX,"&gt;")}function RX(t,e,i,r){if(i=G4(i),e==="href"||e==="src"){if(i=ab.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(Sy.lastIndex=0,Sy.test(i))return""}else if(e==="style"){if(q3.lastIndex=0,q3.test(i)||(H3.lastIndex=0,H3.test(i)&&(Sy.lastIndex=0,Sy.test(i))))return"";r!==!1&&(r=r||F4,i=r.process(i))}return i=W4(i),i}var DX=/</g,zX=/>/g,NX=/"/g,LX=/&quot;/g,FX=/&#([a-zA-Z0-9]*);?/gim,jX=/&colon;?/gim,UX=/&newline;?/gim,Sy=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,q3=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,H3=/u\s*r\s*l\s*\(.*/gi;function U4(t){return t.replace(NX,"&quot;")}function V4(t){return t.replace(LX,'"')}function B4(t){return t.replace(FX,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function q4(t){return t.replace(jX,":").replace(UX," ")}function H4(t){for(var e="",i=0,r=t.length;i<r;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return ab.trim(e)}function G4(t){return t=V4(t),t=B4(t),t=q4(t),t=H4(t),t}function W4(t){return t=U4(t),t=j4(t),t}function VX(){return""}function BX(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function r(o){return i?!0:ab.indexOf(t,o)!==-1}var n=[],s=!1;return{onIgnoreTag:function(o,a,l){if(r(o))if(l.isClosing){var d="[/removed]",h=l.position+d.length;return n.push([s!==!1?s:l.position,h]),s=!1,d}else return s||(s=l.position),"[removed]";else return e(o,a,l)},remove:function(o){var a="",l=0;return ab.forEach(n,function(d){a+=o.slice(l,d[0]),l=d[1]}),a+=o.slice(l),a}}}function qX(t){for(var e="",i=0;i<t.length;){var r=t.indexOf("<!--",i);if(r===-1){e+=t.slice(i);break}e+=t.slice(i,r);var n=t.indexOf("-->",r);if(n===-1)break;i=n+3}return e}function HX(t){var e=t.split("");return e=e.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}Ht.whiteList=L4();Ht.getDefaultWhiteList=L4;Ht.onTag=IX;Ht.onIgnoreTag=AX;Ht.onTagAttr=PX;Ht.onIgnoreTagAttr=OX;Ht.safeAttrValue=RX;Ht.escapeHtml=j4;Ht.escapeQuote=U4;Ht.unescapeQuote=V4;Ht.escapeHtmlEntities=B4;Ht.escapeDangerHtml5Entities=q4;Ht.clearNonPrintableCharacter=H4;Ht.friendlyAttrValue=G4;Ht.escapeAttrValue=W4;Ht.onIgnoreTagStripAll=VX;Ht.StripTagBody=BX;Ht.stripCommentTag=qX;Ht.stripBlankChar=HX;Ht.cssFilter=F4;Ht.getDefaultCSSWhiteList=CX;var W1={},Pa=sE;function GX(t){var e=Pa.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=Pa.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function WX(t){return t.slice(0,2)==="</"}function ZX(t,e,i){var r="",n=0,s=!1,o=!1,a=0,l=t.length,d="",h="";e:for(a=0;a<l;a++){var f=t.charAt(a);if(s===!1){if(f==="<"){s=a;continue}}else if(o===!1){if(f==="<"){r+=i(t.slice(n,a)),s=a,n=a;continue}if(f===">"){r+=i(t.slice(n,s)),h=t.slice(s,a+1),d=GX(h),r+=e(s,r.length,d,h,WX(h)),n=a+1,s=!1;continue}if(f==='"'||f==="'")for(var y=1,b=t.charAt(a-y);b.trim()===""||b==="=";){if(b==="="){o=f;continue e}b=t.charAt(a-++y)}}else if(f===o){o=!1;continue}}return n<t.length&&(r+=i(t.substr(n))),r}var YX=/[^a-zA-Z0-9\\_:.-]/gim;function JX(t,e){var i=0,r=0,n=[],s=!1,o=t.length;function a(y,b){if(y=Pa.trim(y),y=y.replace(YX,"").toLowerCase(),!(y.length<1)){var x=e(y,b||"");x&&n.push(x)}}for(var l=0;l<o;l++){var d=t.charAt(l),h,f;if(s===!1&&d==="="){s=t.slice(i,l),i=l+1,r=t.charAt(i)==='"'||t.charAt(i)==="'"?i:XX(t,l+1);continue}if(s!==!1&&l===r){if(f=t.indexOf(d,l+1),f===-1)break;h=Pa.trim(t.slice(r+1,f)),a(s,h),s=!1,l=f,i=l+1;continue}if(/\s|\n|\t/.test(d))if(t=t.replace(/\s|\n|\t/g," "),s===!1)if(f=KX(t,l),f===-1){h=Pa.trim(t.slice(i,l)),a(h),s=!1,i=l+1;continue}else{l=f-1;continue}else if(f=QX(t,l-1),f===-1){h=Pa.trim(t.slice(i,l)),h=G3(h),a(s,h),s=!1,i=l+1;continue}else continue}return i<t.length&&(s===!1?a(t.slice(i)):a(s,G3(Pa.trim(t.slice(i))))),Pa.trim(n.join(" "))}function KX(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function XX(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function QX(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function eQ(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function G3(t){return eQ(t)?t.substr(1,t.length-2):t}W1.parseTag=ZX;W1.parseAttr=JX;var tQ=nE.FilterCSS,ss=Ht,Z4=W1,iQ=Z4.parseTag,rQ=Z4.parseAttr,yv=sE;function ky(t){return t==null}function nQ(t){var e=yv.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=yv.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=yv.trim(t.slice(0,-1))),{html:t,closing:i}}function sQ(t){var e={};for(var i in t)e[i]=t[i];return e}function oQ(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(r){return r.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function Y4(t){t=sQ(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=ss.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=oQ(t.whiteList||t.allowList):t.whiteList=ss.whiteList,t.onTag=t.onTag||ss.onTag,t.onTagAttr=t.onTagAttr||ss.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||ss.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||ss.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||ss.safeAttrValue,t.escapeHtml=t.escapeHtml||ss.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new tQ(t.css))}Y4.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,n=i.onTag,s=i.onIgnoreTag,o=i.onTagAttr,a=i.onIgnoreTagAttr,l=i.safeAttrValue,d=i.escapeHtml,h=e.cssFilter;i.stripBlankChar&&(t=ss.stripBlankChar(t)),i.allowCommentTag||(t=ss.stripCommentTag(t));var f=!1;i.stripIgnoreTagBody&&(f=ss.StripTagBody(i.stripIgnoreTagBody,s),s=f.onIgnoreTag);var y=iQ(t,function(b,x,$,E,C){var O={sourcePosition:b,position:x,isClosing:C,isWhite:Object.prototype.hasOwnProperty.call(r,$)},j=n($,E,O);if(!ky(j))return j;if(O.isWhite){if(O.isClosing)return"</"+$+">";var D=nQ(E),F=r[$],G=rQ(D.html,function(z,se){var oe=yv.indexOf(F,z)!==-1,ee=o($,z,se,oe);return ky(ee)?oe?(se=l($,z,se,h),se?z+'="'+se+'"':z):(ee=a($,z,se,oe),ky(ee)?void 0:ee):ee});return E="<"+$,G&&(E+=" "+G),D.closing&&(E+=" /"),E+=">",E}else return j=s($,E,O),ky(j)?d(E):j},d);return f&&(y=f.remove(y)),y};var aQ=Y4;(function(t,e){var i=Ht,r=W1,n=aQ;function s(a,l){var d=new n(l);return d.process(a)}e=t.exports=s,e.filterXSS=s,e.FilterXSS=n,(function(){for(var a in i)e[a]=i[a];for(var l in r)e[l]=r[l]})();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=t.exports)})(K$,K$.exports);var xu=K$.exports,lQ=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},J4=(function(){function t(e,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=ob(ob({},xu.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?r.sanitizeUrl(a):xu.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var n;e&&!i?n=e:e&&i?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(s){if(s==="whiteList")n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]);else if(s==="css"){var o=e.css.whiteList;o!=null&&e.css instanceof Object&&Object.keys(o).forEach(function(a){return n.css.whiteList[a]=o[a]})}else n[s]=e[s]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new xu.FilterXSS(n)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var r=(i??{}).isProtocolRequired,n=r===void 0?!0:r,s=this._trim(e.substring(0,e.indexOf(":"))),o=e==="/",a=/^#/.test(e),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?xu.escapeAttrValue(e):!s&&!n?xu.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,r,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,r,n):xu.safeAttrValue(e,i,r,n)},t.prototype.validate=function(e,i){i===void 0&&(i={});var r=this.sanitize(e,i);return{isValid:e===r,sanitized:r}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(r,n){return i.test(r)?r:"&#x".concat(Number(e.charCodeAt(n)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(r){Object.keys(r).forEach(function(n){Array.isArray(r[n])&&Array.isArray(i[n])?i[n]=i[n].concat(r[n]):i[n]=r[n]})}),i},t.prototype._iterateOverObject=function(e,i){var r=this;i===void 0&&(i={});try{var n=!1,s=void 0;if(Array.isArray(e))s=e.reduce(function(a,l){var d=r.validate(l,i);return d.isValid?a.concat([l]):(n=!0,a.concat([d.sanitized]))},[]);else if(lQ(e)){var o=Object.keys(e);s=o.reduce(function(a,l){var d=e[l],h=r.validate(d,i);return h.isValid?a[l]=d:(n=!0,a[l]=h.sanitized),a},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return n?s:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t})();const cQ=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],uQ=cQ.reduce((t,e)=>(t[e]=[],t),{}),dQ=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],K4=new J4({whiteList:uQ,onTagAttr:(t,e,i)=>{const r=`${e}="${i}"`;if(dQ.includes(e))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),z0e=new J4({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:t=>t},!1),X4="http://www.w3.org/",Z1=`${X4}2000/svg`,Q4=`${X4}1999/xlink`;let W3=[],oE=(t,e)=>{let i={};return Object.keys(t).forEach(r=>{i[r]=t[r]}),e&&Object.keys(e).forEach(r=>{i[r]=e[r]}),i},aE=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),eN=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},hQ=(t,e,i)=>{if(e.vnodeSelector!==""){for(let r=i;r<t.length;r++)if(aE(t[r],e))return r}return-1},x_=(t,e,i,r)=>{let n=t[e];if(n.vnodeSelector==="")return;let s=n.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<t.length;o++)if(o!==e){let a=t[o];if(aE(a,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},pQ=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},Q$=[],eS=!1,tN=t=>{(t.children||[]).forEach(tN),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},Z3=()=>{eS=!1,Q$.forEach(tN),Q$.length=0},Y3=t=>{Q$.push(t),eS||(eS=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Z3,{timeout:16}):setTimeout(Z3,16))},J3=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),Y3(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),Y3(t))},fQ=(t,e,i)=>{if(!e)return;let r=i.eventHandlerInterceptor,n=Object.keys(e),s=n.length;for(let o=0;o<s;o++){let a=n[o],l=e[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")iS(t,l,!0);else if(a==="classes"){let d=Object.keys(l),h=d.length;for(let f=0;f<h;f++){let y=d[f];l[y]&&t.classList.add(y)}}else if(a==="styles"){let d=Object.keys(l),h=d.length;for(let f=0;f<h;f++){let y=d[f],b=l[y];b&&(eN(b),i.styleApplyer(t,y,b))}}else if(a!=="key"&&l!=null){let d=typeof l;d==="function"?(a.lastIndexOf("on",0)===0&&(r&&(l=r(a,l,t,e)),a==="oninput"&&(function(){let h=l;l=function(f){h.apply(this,[f]),f.target["oninput-value"]=f.target.value}})()),t[a]=l):i.namespace===Z1?a==="href"?t.setAttributeNS(Q4,a,l):t.setAttribute(a,l):d==="string"&&a!=="value"?a==="innerHTML"?t[a]=K4.sanitize(l):tS(t)&&a in t?t[a]=l:t.setAttribute(a,l):t[a]=l}}};function tS(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let lb,mQ=(t,e,i)=>{if(e)for(let r of e)Nf(r,t,void 0,i)},iN=(t,e,i)=>{mQ(t,e.children,i),e.text&&(t.textContent=e.text),fQ(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},Nf=(t,e,i,r)=>{let n,s=0,o=t.vnodeSelector,a=e.ownerDocument;if(o==="")n=t.domNode=a.createTextNode(t.text),i!==void 0?e.insertBefore(n,i):e.appendChild(n);else{for(let l=0;l<=o.length;++l){let d=o.charAt(l);if(l===o.length||d==="."||d==="#"){let h=o.charAt(s-1),f=o.slice(s,l);h==="."?n.classList.add(f):h==="#"?n.id=f:(f==="svg"&&(r=oE(r,{namespace:Z1})),r.namespace!==void 0?n=t.domNode=a.createElementNS(r.namespace,f):(n=t.domNode=t.domNode||a.createElement(f),f==="input"&&t.properties&&t.properties.type!==void 0&&n.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(n,i):n.parentNode!==e&&e.appendChild(n)),s=l+1}}iN(n,t,r)}},iS=(t,e,i)=>{e&&e.split(" ").forEach(r=>{r&&t.classList.toggle(r,i)})},gQ=(t,e,i,r)=>{if(!i)return;let n=!1,s=Object.keys(i),o=s.length;for(let a=0;a<o;a++){let l=s[a],d=i[l],h=e[l];if(l==="class")h!==d&&(iS(t,h,!1),iS(t,d,!0));else if(l==="classes"){let f=t.classList,y=Object.keys(d),b=y.length;for(let x=0;x<b;x++){let $=y[x],E=!!d[$];E!==!!h[$]&&(n=!0,E?f.add($):f.remove($))}}else if(l==="styles"){let f=Object.keys(d),y=f.length;for(let b=0;b<y;b++){let x=f[b],$=d[x];$!==h[x]&&(n=!0,$?(eN($),r.styleApplyer(t,x,$)):r.styleApplyer(t,x,""))}}else if(d||typeof h!="string"||(d=""),l!=="value"||tS(t)){if(d!==h){let f=typeof d;f==="function"&&r.eventHandlerInterceptor||(r.namespace===Z1?l==="href"?t.setAttributeNS(Q4,l,d):t.setAttribute(l,d):f==="string"?l==="innerHTML"?t[l]=K4.sanitize(d):l==="role"&&d===""?t.removeAttribute(l):tS(t)&&l in t?t[l]=d:t.setAttribute(l,d):t[l]!==d&&(t[l]=d),n=!0)}}else{let f=t[l];f!==d&&(t["oninput-value"]?f===t["oninput-value"]:d!==h)&&(t[l]=d,t["oninput-value"]=void 0),d!==h&&(n=!0)}}return n},yQ=(t,e,i,r,n)=>{if(i===r)return!1;r=r||W3;let s,o=(i=i||W3).length,a=r.length,l=0,d=0,h=!1;for(;d<a;){let f=l<o?i[l]:void 0,y=r[d];if(f!==void 0&&aE(f,y))h=lb(f,y,n)||h,l++;else{let b=hQ(i,y,l+1);if(b>=0){for(s=l;s<b;s++)J3(i[s]),x_(i,s,t,"removed");h=lb(i[b],y,n)||h,l=b+1}else Nf(y,e,l<o?i[l].domNode:void 0,n),pQ(y),x_(r,d,t,"added")}d++}if(o>l)for(s=l;s<o;s++)J3(i[s]),x_(i,s,t,"removed");return h};lb=(t,e,i)=>{let r=t.domNode,n=!1;if(t===e)return!1;let s=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let o=r.ownerDocument.createTextNode(e.text);return r.parentNode.replaceChild(o,r),e.domNode=o,n=!0,n}e.domNode=r}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=oE(i,{namespace:Z1})),t.text!==e.text&&(s=!0,e.text===void 0?r.removeChild(r.firstChild):r.textContent=e.text),e.domNode=r,s=yQ(e,r,t.children,e.children,i)||s,s=gQ(r,t.properties,e.properties,i)||s,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[r,i,e.vnodeSelector,e.properties,e.children]);return s&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(r,e.properties,t.properties),n};let Ty=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=t;t=i,lb(r,i,e)},domNode:t.domNode});const vQ={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let Kp=t=>oE(vQ,t),Ua={append:(t,e,i)=>(i=Kp(i),Nf(e,t,void 0,i),Ty(e,i)),insertBefore:(t,e,i)=>(i=Kp(i),Nf(e,t.parentNode,t,i),Ty(e,i)),merge:(t,e,i)=>(i=Kp(i),e.domNode=t,iN(t,e,i),Ty(e,i)),replace:(t,e,i)=>(i=Kp(i),Nf(e,t.parentNode,t,i),t.parentNode.removeChild(t),Ty(e,i))},rN,bQ=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};rN=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let wQ=(t,e)=>{let i=t;return e.forEach(r=>{i=i&&i.children?rN(i.children,n=>n.domNode===r):void 0}),i},_Q=(t,e,i)=>{let r=function(n){i("domEvent",n);let s=e(),o=bQ(n.currentTarget,s.domNode);o.reverse();let a,l=wQ(s.getLastRender(),o);return t.scheduleRender(),l&&(a=l.properties[`on${n.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",n),a};return(n,s,o,a)=>r},K3=t=>{let e,i,r=Kp(t),n=r.performanceLogger,s=!0,o=!1,a=[],l=[],d=(f,y,b)=>{let x,$=()=>x;r.eventHandlerInterceptor=_Q(e,$,n),x=f(y,b(),r),a.push(x),l.push(b)},h=()=>{if(i=void 0,s){s=!1,n("renderStart",void 0);for(let f=0;f<a.length;f++){let y=l[f]();n("rendered",void 0),a[f].update(y),n("patched",void 0)}n("renderDone",void 0),s=!0}};return e={renderNow:h,scheduleRender:()=>{i||o||(i=requestAnimationFrame(h))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,s=!0,e.scheduleRender()},append:(f,y)=>{d(Ua.append,f,y)},insertBefore:(f,y)=>{d(Ua.insertBefore,f,y)},merge:(f,y)=>{d(Ua.merge,f,y)},replace:(f,y)=>{d(Ua.replace,f,y)},detach:f=>{for(let y=0;y<l.length;y++)if(l[y]===f)return l.splice(y,1),a.splice(y,1)[0];throw new Error("renderFunction was not found")}},e};const xQ={handleInterceptedEvent:(t,e,i,r)=>(t.scheduleRender(),e.properties[`on${r.type}`].apply(e.properties.bind||i,[r]))},$Q={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.startsWith("-")?t.style.setProperty(e,i):t.style[e]=i}},SQ=t=>({...$Q,...t}),kQ=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},TQ=(t,e)=>t.find(e),X3=(t,e,i=!1)=>{let r=t;return e.forEach((n,s)=>{const o=r?.children?TQ(r.children,a=>a.domNode===n):void 0;i&&!o&&s!==e.length-1||(r=o)}),r},EQ=t=>{let e;const i={...xQ,...t},r=SQ(i),n=r.performanceLogger;let s,o=!0,a=!1;const l=[],d=[],h=(y,b,x)=>{let $;r.eventHandlerInterceptor=(C,O,j,D)=>function(F){let G;n("domEvent",F);const z=kQ(F.currentTarget,$.domNode),se=z.some(ee=>customElements.get(ee?.tagName?.toLowerCase()));if(F.eventPhase===Event.CAPTURING_PHASE||!se)z.reverse(),G=X3($.getLastRender(),z);else{const ee=F.composedPath(),ge=ee.slice(ee.indexOf(F.currentTarget),ee.indexOf($.domNode)).reverse();G=X3($.getLastRender(),ge,!0)}let oe;return G&&(oe=i.handleInterceptedEvent(e,G,this,F)),n("domEventProcessed",F),oe},i.postProcessProjectionOptions?.(r);const E=x();$=y(b,E,r),r.eventHandlerInterceptor=void 0,l.push($),d.push(x),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered($,E)};let f=()=>{if(s=void 0,o){o=!1,n("renderStart",void 0);for(let y=0;y<l.length;y++){const b=d[y]();n("rendered",void 0);try{l[y].update(b)}catch(x){console.error(x)}n("patched",void 0)}n("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(f=i.modifyDoRenderImplementation(f,l,d)),e={renderNow:f,scheduleRender:()=>{s||a||(s=requestAnimationFrame(f))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,e.scheduleRender()},append:(y,b)=>{h(Ua.append,y,b)},insertBefore:(y,b)=>{h(Ua.insertBefore,y,b)},merge:(y,b)=>{h(Ua.merge,y,b)},replace:(y,b)=>{h(Ua.replace,y,b)},detach:y=>{for(let b=0;b<d.length;b++)if(d[b]===y)return d.splice(b,1),l.splice(b,1)[0];throw new Error("renderFunction was not found")}},e};let nN=!1;const MQ=t=>{nN=!0,bU(t)};let sN;function CQ(){nN||MQ($n(Yt(sN)))}function lE(t){const e=[];for(const i of Object.keys(t))customElements.get(`calcite-${i}`)||e.push(t[i]?.());return e.length>0?Promise.all(e):null}sN="components/assets";const oN=Symbol("widget"),aN=Symbol("widget-test-data"),IQ=[],AQ={},cb=new WeakMap;function lN(t,e){let i=e.children;if(i?.length)for(let n=0;n<i.length;++n)i[n]=lN(t,i[n]);else i=IQ;const r=e.vnodeSelector;if(ub(r)){const n=e.properties||AQ,s=n.key||r,o={key:s,afterCreate:PQ,afterUpdate:OQ,afterRemoved:cN,parentWidget:t,widgetConstructor:r,widgetProperties:{...n,key:s,children:i}};return{vnodeSelector:r.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return e}function PQ(t,e,i,{parentWidget:r,widgetConstructor:n,widgetProperties:s}){const o=new n(s);o.container=t,cb.set(t,o),o.afterCreate?.(o,t),r.addHandles(Je(()=>cN(t))),queueMicrotask(()=>{o[aN].projector?.renderNow()})}function OQ(t,e,i,{widgetProperties:r}){const n=cb.get(t);n&&(n.set(r),n.afterUpdate?.(n,t))}function cN(t){const e=cb.get(t);e&&(e.afterRemoved?.(e,t),e.destroy(),cb.delete(t))}function ub(t){return typeof t=="function"&&t[oN]}const Q3=new Set;function RQ(t){Q3.add(t),t.finally(()=>Q3.delete(t))}function DQ(t){return Je()}const Y1=new Map;function uN(){Y1.clear()}function zQ(t){return Y1.get(t)}function NQ(t,e){Y1.set(t,e)}function $_(t){Y1.delete(t)}function LQ(...t){const e=or.acquire();for(let r=0;r<t.length;r++){const n=t[r],s=typeof n;if(s==="string")e.push(n);else if(Array.isArray(n))e.push.apply(e,n);else if(s==="object")for(const o in n)n[o]&&e.push(o)}const i=e.join(" ");return or.release(e),i}(()=>{const t=new Map,e=new ResizeObserver(r=>{uN();for(const n of r)t.get(n.target)?.(n)}),i=(r,n,s)=>(t.set(r,n),e.observe(r,s),Je(()=>{e.unobserve(r),t.delete(r)}));return(r,n,s)=>{let o=null;return Xc([De(()=>typeof r=="function"?r():r,a=>{o?.remove(),a&&(o=i(a,n,s))},Ui),Je(()=>o?.remove())])}})();function FQ(t){const e=t?.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function N0e(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function L0e(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function jQ(t){return t==="Enter"||t===" "}async function UQ(t,e){await uW(Km(e));const i=typeof t=="function"?t():t;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}var eA;let VQ=0;function dN(t,e){const i=Object.prototype.hasOwnProperty;for(const r in e)i.call(e,r)&&i.call(t,r)&&(t[r]!=null&&e[r]!=null&&typeof t[r]=="object"&&typeof e[r]=="object"?dN(t[r],e[r]):t[r]=e[r]);return t}const BQ=EQ({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(r,n,s,o)=>{const a=e?.(r,n,s,o),l=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in s)||l){const d=r[2].toLowerCase()+r.slice(3),h=b=>a?.call(s,b);s.addEventListener(d,h,l);const f=()=>s.removeEventListener(d,h,l),y=o.afterRemoved;o.afterRemoved=b=>{y?.(b),f()}}return a}},handleInterceptedEvent(t,e,i,r){const{eventPhase:n,type:s}=r,o=n===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=e.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&(uN(),t.scheduleRender(),l[a].call(l.bind||i,r))}});let S_=!1;var Pc;let xi=(Pc=class extends D4(lg){constructor(e,i){super(e,i),this._attached=!1,this._projector=BQ,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=WG(async()=>{if(this._messageBundleProps?.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:d,propertyName:h})=>{if(this.destroyed)return;let f=await t4(d);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(f=dN(X(f),this.uiStrings)),this[h]=f)}));if(this.destroyed)return;for(const d of l)d.status==="rejected"&&ue.getLogger(this).error("widget-intl:locale-error",this.declaredClass,d.reason)}await this.loadLocale()}),this.addHandles(DQ()),CQ();const r="esri-widget-uid-"+cg(),n=this.render.bind(this);this._trackingTarget=new R1(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const l=n()??s(),d=l.properties??={};if(d.key??=r,ub(l.vnodeSelector)){if(!this.visible)return s()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),d.styles.display??="";let h=0;return l.children?.forEach(f=>{ub(f.vnodeSelector)||(f.properties??={},f.properties.key??=`${this.id}--${h++}`)}),lN(this,l)};this.render=()=>{if(S_)return o();let l=zQ(this)??null;if(l)return l;this._trackingTarget.clear(),S_=!0;try{l=Zo(this._trackingTarget,o)}catch(d){throw ue.getLogger(this).error(d),d}finally{S_=!1}return l&&NQ(this,l),l};const a=this.beforeFirstRender();a?this._resourcesFetch=a.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),RQ(this._resourcesFetch)}normalizeCtorArgs(e,i){const r={...e};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch($I):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Ut(this._trackingTarget),Ut(this.viewModel),this._detach(this.container),this._set("container",null),this.render=()=>null,this._projector=null,$_(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return tE(e)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+VQ++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(eA=oN,aN)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||($_(this),this._projector.scheduleRender())}classes(...e){return LQ.apply(this,e)}renderNow(){$_(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(De(()=>this.viewModel,(i,r)=>{r&&this.removeHandles("delegated-events"),i&&E1(i)&&this.addHandles(this._delegatedEventNames.map(n=>Ph(i,n,s=>{this.emit(n,s)})),"delegated-events")},Ui)),this.postInitialize();const e=async()=>{await this._loadLocale().catch($I),this.scheduleRender()};this.addHandles([G5(e),De(()=>this.uiStrings,e)]),this.addHandles(sn(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}},Pc[eA]=!0,Pc.vnodeSelector="div",Pc);u([p()],xi.prototype,"_readyForTrueRender",void 0),u([p({value:null})],xi.prototype,"container",null),u([vi("container")],xi.prototype,"castContainer",null),u([p()],xi.prototype,"icon",null),u([p()],xi.prototype,"id",null),u([p()],xi.prototype,"label",null),u([p()],xi.prototype,"renderable",null),u([p()],xi.prototype,"uiStrings",void 0),u([p()],xi.prototype,"viewModel",void 0),u([p({value:!0})],xi.prototype,"visible",null),u([p()],xi.prototype,"key",void 0),u([p()],xi.prototype,"children",void 0),u([p()],xi.prototype,"afterCreate",void 0),u([p()],xi.prototype,"afterUpdate",void 0),u([p()],xi.prototype,"afterRemoved",void 0),xi=u([R("esri.widgets.Widget")],xi);const qh=xi;function qQ(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:GQ(t[e])}}}function HQ(t){const e=t?.type;return t instanceof KeyboardEvent||e==="keyup"||e==="keydown"||e==="keypress"}function GQ(t){return function(e,...i){HQ(e)?jQ(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}function J1(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}var WQ=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},hN=function(t,e){for(var i=0,r=t.length;i<r;i++){var n=t[i];Array.isArray(n)?hN(n,e):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=WQ(n)),e.push(n))}},ZQ=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var n=[];return hN(i,n),{vnodeSelector:t,properties:e||void 0,children:n,text:void 0,domNode:null}};function st(t,e,...i){return typeof t!="function"||ub(t)?ZQ(t,e??null,...i):t(e,...i)}function F0e(...t){return t}const YQ="--esri-calcite-mode-name";function JQ(){const t=getComputedStyle(document.body).getPropertyValue(YQ).replaceAll(/\W/g,"").toLowerCase();return t==="dark"||t==="light"?t:void 0}const pN="calcite-mode-";function fN(t){return JQ()??$V(t??document.body)}function j0e(t){return fN(t)==="dark"}function KQ(t){return`${pN}${fN(t)}`}function XQ(t){const e=KQ(t);QQ(t),t.classList.add(e)}function QQ(t){Array.from(t.classList).forEach(e=>{e.startsWith(pN)&&t.classList.remove(e)})}let ug=class extends P4{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var po;let eee=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},tee=class{constructor(e,i,r,n,s){this.target=e,this.added=i,this.removed=r,this.start=n,this.deleteCount=s}};const un=new Rh(()=>new eee,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function tA(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function k_(t){return t?t instanceof Oa?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function T_(t){if(t?.length)return t[0]}function iee(t,e,i,r){const n=Math.min(t.length-i,e.length-r);let s=0;for(;s<n&&t[i+s]===e[r+s];)s++;return s}function mN(t,e,i,r){e&&e.forEach((n,s,o)=>{t.push(n),mN(t,i.call(r,n,s,o),i,r)})}const da=new Set,ha=new Set,pa=new Set,E_=new Map;let ree=0,Oa=po=class extends lg{static ofType(t){if(!t)return po;if(E_.has(t))return E_.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const r in t.typeMap){const n=t.typeMap[r].prototype.declaredClass;e?e+=` | ${n}`:e=n}let i=class extends po{};return u([O5({Type:t,ensureType:typeof t=="function"?ur(t):sl(t)})],i.prototype,"itemType",void 0),i=u([R(`esri.core.Collection<${e}>`)],i),E_.set(t,i),i}static isCollection(t){return t!=null&&t instanceof po}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new ug,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:ree++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof po?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ce(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,k_(t)),this._emitAfterChanges(1))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:super.hasEventListener(t))}on(t,e){if(this.destroyed)return Je();if(t==="change"){const i=this._chgListeners,r={removed:!1,callback:e};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Je(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return super.on(t,e)}once(t,e){const i="deref"in e?()=>e.deref():()=>e,r=this.on(t,n=>{i()?.call(null,n),r.remove()});return r}add(t,e){if(Ce(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e??null);return this._splice(i,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(Ce(this._observable),!t?.length)return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e);return this._splice(i,0,k_(t)),this._emitAfterChanges(1),this}at(t){if(Ce(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(Ce(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._removeAllRaw();return this._emitAfterChanges(2),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ce(this._observable),this._createNewInstance({items:this._items.map(X)})}concat(...t){Ce(this._observable);const e=t.map(k_);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(Ce(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=this._splice(0,this.length),r=i.length;for(let n=0;n<r;n++)t.call(e,i[n],n,i);this._emitAfterChanges(2)}destroyAll(){this.drain(tA)}destroyMany(t){const e=this.removeMany(t);return e.forEach(tA),e}every(t,e){return Ce(this._observable),this._items.every(t,e)}filter(t,e){Ce(this._observable);const i=arguments.length===2?this._items.filter(t,e):this._items.filter(t);return this._createNewInstance({items:i})}find(t,e){return Ce(this._observable),this._items.find(t,e)}findIndex(t,e){return Ce(this._observable),this._items.findIndex(t,e)}flatten(t,e){Ce(this._observable);const i=[];return mN(i,this,t,e),new po(i)}forEach(t,e){return Ce(this._observable),this._items.forEach(t,e)}getItemAt(t){return Ce(this._observable),this._items[t]}getNextIndex(t){Ce(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return Ce(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return Ce(this._observable),this._items.indexOf(t,e)}join(t=","){return Ce(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return Ce(this._observable),this._items.lastIndexOf(t,e)}map(t,e){Ce(this._observable);const i=this._items.map(t,e);return new po({items:i})}reorder(t,e=this.length-1){Ce(this._observable);const i=this.indexOf(t);if(i!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),i!==e){if(this._emitBeforeChanges(4))return t;this._splice(i,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(Ce(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=T_(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return Ce(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){Ce(this._observable);const i=this._items;return arguments.length===2?i.reduce(t,e):i.reduce(t)}reduceRight(t,e){Ce(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(t,e):i.reduceRight(t)}remove(t){return Ce(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Ce(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=T_(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(Ce(this._observable),!t?.length||this._emitBeforeChanges(2))return[];const e=t instanceof po?t.toArray():t,i=this._items,r=[],n=e.length;for(let s=0;s<n;s++){const o=e[s],a=i.indexOf(o);if(a>-1){const l=1+iee(e,i,s+1,a+1),d=this._splice(a,l);d&&d.length>0&&r.push.apply(r,d),s+=l-1}}return this._emitAfterChanges(2),r}reverse(){if(Ce(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(Ce(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=T_(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return Ce(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return Ce(this._observable),this._items.some(t,e)}sort(t){if(Ce(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(t))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}_requiresSort(t=(e,i)=>e===i?0:e<i?-1:1){const e=this.length-1;for(let i=0;i<e;i++)if(t(this.items[i],this.items[i+1])>0)return!0;return!1}splice(t,e,...i){Ce(this._observable),arguments.length===1&&(e=this.length),e??=0;const r=(e?2:0)|(i.length?1:0);if(this._emitBeforeChanges(r))return[];const n=this._splice(t,e,i)||[];return this._emitAfterChanges(r),n}toArray(){return Ce(this._observable),this._items.slice()}toJSON(t){return Ce(this._observable),this.toArray().map(e=>Q0(e)?e.toJSON(t):e)}toLocaleString(){return Ce(this._observable),this._items.toLocaleString()}toString(){return Ce(this._observable),this._items.toString()}unshift(...t){return Ce(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,i){const r=this._items,n=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Dh(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=r.splice(t,e),this.hasEventListener("before-remove")){const a=un.acquire();a.target=this,a.cancellable=!0;for(let l=0,d=o.length;l<d;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(t,0,s),t+=1,l-=1,d-=1);un.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=un.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let d=0;d<l;d++)a.reset(o[d]),this.emit("after-remove",a);un.release(a)}}if(i?.length){if(n){const h=[];for(const f of i){const y=n.ensureType(f);y==null&&f!=null||h.push(y)}i=h}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),d=t===this.length;if(a||l){const h=un.acquire();h.target=this,h.cancellable=!0;const f=un.acquire();f.target=this,f.cancellable=!1;for(const y of i)a?(h.reset(y),this.emit("before-add",h),h.defaultPrevented||(d?r.push(y):r.splice(t++,0,y),this._set("length",r.length),l&&(f.reset(y),this.emit("after-add",f)))):(d?r.push(y):r.splice(t++,0,y),this._set("length",r.length),f.reset(y),this.emit("after-add",f));un.release(f),un.release(h)}else{if(d)for(const h of i)r.push(h);else r.splice(t,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new tee(this,i,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const i=un.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),e=i.defaultPrevented,un.release(i)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=un.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),un.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const i=e.changes;da.clear(),ha.clear(),pa.clear();for(const{added:l,removed:d}of i){if(l)if(pa.size===0&&ha.size===0)for(const h of l)da.add(h);else for(const h of l)ha.has(h)?(pa.add(h),ha.delete(h)):pa.has(h)||da.add(h);if(d)if(pa.size===0&&da.size===0)for(const h of d)ha.add(h);else for(const h of d)da.has(h)?da.delete(h):(pa.delete(h),ha.add(h))}const r=or.acquire();da.forEach(l=>{r.push(l)});const n=or.acquire();ha.forEach(l=>{n.push(l)});const s=this._items,o=e.items,a=or.acquire();if(pa.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(r.length||n.length||a.length)){const l={target:this,added:r,removed:n,moved:a},d=e.listeners.length;for(let h=0;h<d;h++){const f=e.listeners[h];f.removed||f.callback.call(this,l)}}or.release(r),or.release(n),or.release(a)}da.clear(),ha.clear(),pa.clear()}};u([p()],Oa.prototype,"_updating",void 0),u([p()],Oa.prototype,"length",void 0),u([p()],Oa.prototype,"items",null),u([p({readOnly:!0})],Oa.prototype,"updating",null),Oa=po=u([R("esri.core.Collection")],Oa);const pe=Oa;function Vs(t,e,i=pe){return e||(e=new i),e===t||e.destroyed||(e.removeAll(),nee(t)?e.addMany(t):t&&e.add(t)),e}function gN(t){return t}function nee(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}let see=class yN{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new yN;return this._values.forEach((r,n)=>{e&&e.has(n)||i.set(n,X(r.value),r.origin)}),i}get(e,i){i=this._normalizeOrigin(i);const r=this._values.get(e);return i==null||r?.origin===i?r?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter(r=>this._values.get(r)?.origin===e)}set(e,i,r){if((r=this._normalizeOrigin(r))===0){const n=this._values.get(e);if(n?.origin!=null&&n.origin>r)return}this._values.set(e,new oee(i,r))}delete(e,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(e)?.origin!==i||this._values.delete(e)}has(e,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(e)?.origin===i:this._values.has(e)}isAtOrigin(e,i){return i=this._normalizeOrigin(i),this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return i=this._normalizeOrigin(i),!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(({value:i},r)=>e(i,r))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},oee=class{constructor(e,i){this.value=e,this.origin=i}};function aee(t,e,i){e.keys().forEach(n=>{i.set(n,e.get(n),0)});const r=t.metadata;Object.keys(r).forEach(n=>{t.internalGet(n)&&i.set(n,t.internalGet(n),0)})}function lee(t,e,i){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const r=t.read.source;if(typeof r=="string"){if(r===e||r.includes(".")&&r.startsWith(e)&&MI(r,i))return!0}else for(const n of r)if(n===e||n.includes(".")&&n.startsWith(e)&&MI(n,i))return!0;return!1}function cee(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function uee(t,e,i,r,n){let s=G0(e[i],n);cee(s)&&(t[i]=!0);for(const o of Object.getOwnPropertyNames(e))s=G0(e[o],n),lee(s,i,r)&&(t[o]=!0)}function dee(t,e,i,r){const n=i.metadata,s=cZ(n[e],r),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,r):o;a!==void 0&&i.set(e,a)}const vN={origin:"service"};function hee(t,e,i=vN){if(!e||typeof e!="object")return;const r=rl(t),n=r.metadata,s={};for(const o of Object.getOwnPropertyNames(e))uee(s,n,o,e,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(s)){const a=G0(n[o],i).read,l=a?.source;let d;d=l&&typeof l=="string"?Xm(e,l):e[o],a?.reader&&(d=a.reader.call(t,d,e,i)),d!==void 0&&r.set(o,d)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(n))s[o]||dee(t,o,r,i)}r.setDefaultOrigin("user")}function H0e(t,e,i,r=vN){const n={...r,messages:[]};i(n),n.messages?.forEach(s=>{s.type!=="warning"||t.loaded?r?.messages&&r.messages.push(s):t.loadWarnings.push(s)})}function pee(t,e,i,r,n){const s={};return e.write?.writer?.call(t,r,s,i,n),s}function bN(t,e,i,r,n,s){if(!r?.write)return!1;const o=Fs(t,i);if(!n&&r.write.overridePolicy){const a=r.write.overridePolicy.call(t,o,i,s??void 0);a!==void 0&&(n=a)}if(n||(n=r.write),!n||n.enabled===!1||n.layerContainerTypes&&s?.layerContainerType&&!n.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!n.allowNull&&!n.writerEnsuresNonNull||o===void 0)&&n.isRequired){const a=new K("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&ue.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===0)&&fee(t,i,s,r,o)||!n.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(i)<iE(s.origin))}function fee(t,e,i,r,n){const s=r.default;if(s===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const o=s.call(t,e,i??void 0);return M1(o,n)}return!1}return s===n}function G0e(t,e,i,r){const n=rl(t),s=n.metadata,o=z5(s[e],r);return!!o&&bN(t,n,e,o,i,r)}function mee(t,e,i){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return av(e,t.toJSON(i));const r=rl(t),n=r.metadata;for(const s in n){const o=z5(n[s],i);if(!bN(t,r,s,o,void 0,i))continue;const a=Fs(t,s),l=pee(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,i);Object.keys(l).length>0&&(e=av(e,l),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>av(e,l,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:t,propName:s,oldOrigin:lX(r.store.originOf(s)),newOrigin:i.origin}))}return e}const fl=t=>{const e=t;let i=class extends e{constructor(...r){super(...r);const n=rl(this),s=n.store,o=new see;n.store=o,aee(n,s,o)}read(r,n){hee(this,r,n)}write(r,n){return mee(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return gee.call(this,r,n)}};return i=u([R("esri.core.JSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function gee(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}const be=fl(Te),yee="not-loaded",vee="loading",bee="failed",iA="loaded",wee=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const s=this.load.bind(this);this.load=o=>{const a=new Promise((l,d)=>{const h=m2(o,d);this.destroyed&&d(new K("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,d).finally(()=>{h&&h.remove()})});if(this.loadStatus===yee){this._set("loadStatus",vee);const l=this._loadController=new AbortController;s({signal:l.signal})}return n(),a}})),this.when(()=>{this._set("loadStatus",iA),this._loadController=null},n=>{this.destroyed||(this._set("loadStatus",bee),this._set("loadError",n),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=Uc(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===iA}get loadWarnings(){return this._get("loadWarnings")}load(r){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new K("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return u([p({readOnly:!0})],i.prototype,"loaded",null),u([p({readOnly:!0})],i.prototype,"loadError",void 0),u([p({clonable:!1})],i.prototype,"loadStatus",void 0),u([p({type:[Zs],readOnly:!0})],i.prototype,"loadWarnings",null),i=u([R("esri.core.Loadable")],i),i},dg=wee(rE);function rS(t){return!(!t||!t.load)}function W0e(t,e,i){return g2(t.map((r,n)=>e.apply(i,[r,n])))}async function _ee(t,e,i){return(await g2(t.map((r,n)=>e.apply(i,[r,n])))).map(r=>r.value)}function cE(t){return{ok:!0,value:t}}function uE(t){return{ok:!1,error:t}}function xee(t){return t!=null&&t.ok===!0?t.value:null}function $ee(t){return t!=null&&t.ok===!1?t.error:null}async function wN(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return cE(await t)}catch(e){return uE(e)}}async function Z0e(t){try{return cE(await t)}catch(e){return n5(e),uE(e)}}function K1(t,e){return new ba(t,e)}let ba=class extends Te{get value(){return xee(this._result)}get error(){return $ee(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=Uc(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then(n=>{this._result=cE(n),this._cleanup()},n=>{this._result=uE(n),this._cleanup()}),this._abortHandle=In(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=_t(this._abortHandle),this._abortController=null}};u([p()],ba.prototype,"value",null),u([p()],ba.prototype,"error",null),u([p()],ba.prototype,"finished",null),u([p()],ba.prototype,"promise",void 0),u([p()],ba.prototype,"_result",void 0),ba=u([R("esri.core.asyncUtils.ReactiveTask")],ba);async function _N(t,e){return await t.load(),See(t,e)}async function See(t,e){const i=[],r=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?r(...o):pe.isCollection(o)?o.forEach(a=>r(a)):rS(o)&&i.push(o))};e(r);let n=null;if(await _ee(i,async s=>{const o=await wN(kee(s)?s.loadAll():s.load());o.ok!==!1||n||(n=o)}),n)throw n.error;return t}function kee(t){return"loadAll"in t&&typeof t.loadAll=="function"}let dE=class{constructor(e,i,r,n,s,o){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=n,this.scaleHeight=s;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const qt=new dE(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Bs=new dE(3396190,1/169.8944472236118,23e4,6e4,.111),al=new dE(1737400,0,0,0,0);let M_,L=null;function xN(){return!!L}function Tee(){return!!B("esri-wasm")}function Eee(){return M_||(M_=ae(async()=>{const{default:t}=await import("./c-pe-wasm-B87Q3u4k.js");return{default:t}},[]).then(({default:t})=>t({locateFile:e=>Yt(`esri/geometry/support/${e}`)})).then(t=>{MN(t)}),M_)}const vv={geogToProj(t,e,i){L.ensureCache.prepare();const r=Hc(i),n=i===r,s=L.ensureFloat64(r),o=L._pe_geog_to_proj(L.getPointer(t),e,s);return o&&ll(i,e,s,n),o},projGeog(t,e,i,r){switch(r){case Vt.PE_TRANSFORM_P_TO_G:return vv.projToGeog(t,e,i);case Vt.PE_TRANSFORM_G_TO_P:return vv.geogToProj(t,e,i)}return 0},projToGeog:(t,e,i)=>vv.projToGeogCenter(t,e,i,0),projToGeogCenter(t,e,i,r){L.ensureCache.prepare();const n=Hc(i),s=i===n,o=L.ensureFloat64(n),a=L._pe_proj_to_geog_center(L.getPointer(t),e,o,r);return a&&ll(i,e,o,s),a}};let Vt=class tt{static init(){tt.PE_BUFFER_MAX=L.PeDefs.prototype.PE_BUFFER_MAX,tt.PE_NAME_MAX=L.PeDefs.prototype.PE_NAME_MAX,tt.PE_MGRS_MAX=L.PeDefs.prototype.PE_MGRS_MAX,tt.PE_USNG_MAX=L.PeDefs.prototype.PE_USNG_MAX,tt.PE_DD_MAX=L.PeDefs.prototype.PE_DD_MAX,tt.PE_DDM_MAX=L.PeDefs.prototype.PE_DDM_MAX,tt.PE_DMS_MAX=L.PeDefs.prototype.PE_DMS_MAX,tt.PE_UTM_MAX=L.PeDefs.prototype.PE_UTM_MAX,tt.PE_PARM_MAX=L.PeDefs.prototype.PE_PARM_MAX,tt.PE_TYPE_NONE=L.PeDefs.prototype.PE_TYPE_NONE,tt.PE_TYPE_GEOGCS=L.PeDefs.prototype.PE_TYPE_GEOGCS,tt.PE_TYPE_PROJCS=L.PeDefs.prototype.PE_TYPE_PROJCS,tt.PE_TYPE_GEOGTRAN=L.PeDefs.prototype.PE_TYPE_GEOGTRAN,tt.PE_TYPE_COORDSYS=L.PeDefs.prototype.PE_TYPE_COORDSYS,tt.PE_TYPE_UNIT=L.PeDefs.prototype.PE_TYPE_UNIT,tt.PE_TYPE_LINUNIT=L.PeDefs.prototype.PE_TYPE_LINUNIT,tt.PE_STR_OPTS_NONE=L.PeDefs.prototype.PE_STR_OPTS_NONE,tt.PE_STR_AUTH_NONE=L.PeDefs.prototype.PE_STR_AUTH_NONE,tt.PE_STR_AUTH_TOP=L.PeDefs.prototype.PE_STR_AUTH_TOP,tt.PE_STR_NAME_CANON=L.PeDefs.prototype.PE_STR_NAME_CANON,tt.PE_STR_FMT_WKT=L.PeDefs.prototype.PE_STR_FMT_WKT,tt.PE_STR_FMT_WKT2=L.PeDefs.prototype.PE_STR_FMT_WKT2,tt.PE_PARM_X0=L.PeDefs.prototype.PE_PARM_X0,tt.PE_PARM_ND=L.PeDefs.prototype.PE_PARM_ND,tt.PE_TRANSFORM_1_TO_2=L.PeDefs.prototype.PE_TRANSFORM_1_TO_2,tt.PE_TRANSFORM_2_TO_1=L.PeDefs.prototype.PE_TRANSFORM_2_TO_1,tt.PE_TRANSFORM_P_TO_G=L.PeDefs.prototype.PE_TRANSFORM_P_TO_G,tt.PE_TRANSFORM_G_TO_P=L.PeDefs.prototype.PE_TRANSFORM_G_TO_P,tt.PE_HORIZON_RECT=L.PeDefs.prototype.PE_HORIZON_RECT,tt.PE_HORIZON_POLY=L.PeDefs.prototype.PE_HORIZON_POLY,tt.PE_HORIZON_LINE=L.PeDefs.prototype.PE_HORIZON_LINE,tt.PE_HORIZON_DELTA=L.PeDefs.prototype.PE_HORIZON_DELTA}},$N=null;const rA={},nA={},sA=t=>{const e=t.getType();switch(e){case Vt.PE_TYPE_GEOGCS:t=L.castObject(t,L.PeGeogcs);break;case Vt.PE_TYPE_PROJCS:t=L.castObject(t,L.PeProjcs);break;case Vt.PE_TYPE_GEOGTRAN:t=L.castObject(t,L.PeGeogtran);break;default:e&Vt.PE_TYPE_UNIT&&(t=L.castObject(t,L.PeUnit))}return t},Du={initialize(){L.PeFactory.prototype.initialize(null)},coordsys:t=>Du.factoryByType(Vt.PE_TYPE_COORDSYS,t),factoryByType(t,e){let i=null,r=rA[t];if(r||(r={},rA[t]=r),r.hasOwnProperty(String(e))&&(i=r[e],L.compare(i,L.NULL)&&(i=null)),!i){const n=L.PeFactory.prototype.factoryByType(t,e);L.compare(n,L.NULL)||(i=sA(n),r[e]=i)}return i},fromString(t,e){let i=null,r=nA[t];if(r||(r={},nA[t]=r),r.hasOwnProperty(e)&&(i=r[e],L.compare(i,L.NULL)&&(i=null)),!i){const n=L.PeFactory.prototype.fromString(t,e);L.compare(n,L.NULL)||(i=sA(n),r[e]=i)}return i},geogcs:t=>Du.factoryByType(Vt.PE_TYPE_GEOGCS,t),geogtran:t=>Du.factoryByType(Vt.PE_TYPE_GEOGTRAN,t),getCode:t=>L.PeFactory.prototype.getCode(t),projcs:t=>Du.factoryByType(Vt.PE_TYPE_PROJCS,t),unit:t=>Du.factoryByType(Vt.PE_TYPE_UNIT,t)};let oA,SN=null;const hE={PE_GTLIST_OPTS_COMMON:0,init(){hE.PE_GTLIST_OPTS_COMMON=L.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,oA=L._pe_getPeGTlistExtendedEntrySize()},getGTlist(t,e,i,r,n,s){let o=null;const a=new L.PeInteger(s);try{const l=L.PeGTlistExtended.prototype.getGTlist(t,e,i,r,n,a);if((s=a.val)&&(o=[l],s>1)){const d=L.getPointer(l);for(let h=1;h<s;h++)o.push(L.wrapPointer(d+oA*h,L.PeGTlistExtendedEntry))}}finally{L.destroy(a)}return o}},Mee={destroy(t){if(t?.length){for(const e of t)ns(e),e.getEntries().forEach(i=>{ns(i);const r=i.getGeogtran();ns(r),r.getParameters().forEach(ns),[r.getGeogcs1(),r.getGeogcs2()].forEach(n=>{ns(n);const s=n.getDatum();ns(s),ns(s.getSpheroid()),ns(n.getPrimem()),ns(n.getUnit())})});L.PeGTlistExtendedEntry.prototype.Delete(t[0])}}},Cee={geogToGeog(t,e,i,r,n){L.ensureCache.prepare();const s=Hc(i),o=i===s,a=L.ensureFloat64(s);let l=0;r&&(l=L.ensureFloat64(r));const d=L._pe_geog_to_geog(L.getPointer(t),e,a,l,n);return d&&ll(i,e,a,o),d}},Iee={geodesicCoordinate(t,e,i,r,n,s,o,a){L.PeLineType.prototype.geodesic_coordinate(t,e,i,r,n,s,o,a)},geodeticCoordinate(t,e,i,r,n,s,o,a,l){L.PeLineType.prototype.geodetic_coordinate(t,e,i,r,n,s,o,a,l)},geodeticDistance(t,e,i,r,n,s,o,a,l,d){L.PeLineType.prototype.geodetic_distance(t,e,i,r,n,s,o,a,l,d)},greatEllipticDistance(t,e,i,r,n,s,o,a,l){L.PeLineType.prototype.great_elliptic_distance(t,e,i,r,n,s,o,a,l)}},Aee={phiToEta:(t,e)=>L.PeMath.prototype.phi_to_eta(t,e),etaToPhi:(t,e)=>L.PeMath.prototype.eta_to_phi(t,e),phiToPhig:(t,e)=>L.PeMath.prototype.phi_to_phig(t,e),q:(t,e,i)=>L.PeMath.prototype.q(t,e,i),q90:(t,e)=>L.PeMath.prototype.q90(t,e)},C_=(t,e,i,r,n,s)=>{let o,a;switch(L.ensureCache.prepare(),t){case"dd":o=L._pe_geog_to_dd,a=Vt.PE_DD_MAX;break;case"ddm":o=L._pe_geog_to_ddm,a=Vt.PE_DDM_MAX;break;case"dms":o=L._pe_geog_to_dms,a=Vt.PE_DMS_MAX}let l=0;e&&(l=L.getPointer(e));const d=Hc(r),h=L.ensureFloat64(d),f=X1(i,a),y=o(l,i,h,n,L.ensureInt32(f));if(y)for(let b=0;b<i;b++)s[b]=L.UTF8ToString(f[b]);return y},I_=(t,e,i,r,n)=>{let s;switch(L.ensureCache.prepare(),t){case"dd":s=L._pe_dd_to_geog;break;case"ddm":s=L._pe_ddm_to_geog;break;case"dms":s=L._pe_dms_to_geog}let o=0;e&&(o=L.getPointer(e));const a=r.map(f=>L.ensureString(f)),l=L.ensureInt32(a),d=L.ensureFloat64(new Array(2*i)),h=s(o,i,l,d);return h&&ll(n,i,d),h},Pee={geogToDms:(t,e,i,r,n)=>C_("dms",t,e,i,r,n),dmsToGeog:(t,e,i,r)=>I_("dms",t,e,i,r),geogToDdm:(t,e,i,r,n)=>C_("ddm",t,e,i,r,n),ddmToGeog:(t,e,i,r)=>I_("ddm",t,e,i,r),geogToDd:(t,e,i,r,n)=>C_("dd",t,e,i,r,n),ddToGeog:(t,e,i,r)=>I_("dd",t,e,i,r)};let kN=class zu{static init(){zu.PE_MGRS_STYLE_NEW=L.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,zu.PE_MGRS_STYLE_OLD=L.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,zu.PE_MGRS_STYLE_AUTO=L.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,zu.PE_MGRS_180_ZONE_1_PLUS=L.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,zu.PE_MGRS_ADD_SPACES=L.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,i,r,n,s,o,a){L.ensureCache.prepare();let l=0;e&&(l=L.getPointer(e));const d=Hc(r),h=L.ensureFloat64(d),f=X1(i,Vt.PE_MGRS_MAX),y=L.ensureInt32(f),b=L._pe_geog_to_mgrs_extended(l,i,h,n,s,o,y);if(b)for(let x=0;x<i;x++)a[x]=L.UTF8ToString(f[x]);return b}static mgrsToGeogExtended(e,i,r,n,s){L.ensureCache.prepare();let o=0;e&&(o=L.getPointer(e));const a=r.map(f=>L.ensureString(f)),l=L.ensureInt32(a),d=L.ensureFloat64(new Array(2*i)),h=L._pe_mgrs_to_geog_extended(o,i,l,n,d);return h&&ll(s,i,d),h}};const Oee={geogToUsng(t,e,i,r,n,s,o){L.ensureCache.prepare();let a=0;t&&(a=L.getPointer(t));const l=Hc(i),d=L.ensureFloat64(l),h=X1(e,Vt.PE_MGRS_MAX),f=L.ensureInt32(h),y=L._pe_geog_to_usng(a,e,d,r,n,s,f);if(y)for(let b=0;b<e;b++)o[b]=L.UTF8ToString(h[b]);return y},usngToGeog(t,e,i,r){L.ensureCache.prepare();let n=0;t&&(n=L.getPointer(t));const s=i.map(d=>L.ensureString(d)),o=L.ensureInt32(s),a=L.ensureFloat64(new Array(2*e)),l=L._pe_usng_to_geog(n,e,o,a);return l&&ll(r,e,a),l}};let TN=class bv{static init(){bv.PE_UTM_OPTS_NONE=L.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,bv.PE_UTM_OPTS_ADD_SPACES=L.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,bv.PE_UTM_OPTS_NS=L.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,i,r,n,s){L.ensureCache.prepare();let o=0;e&&(o=L.getPointer(e));const a=Hc(r),l=L.ensureFloat64(a),d=X1(i,Vt.PE_UTM_MAX),h=L.ensureInt32(d),f=L._pe_geog_to_utm(o,i,l,n,h);if(f)for(let y=0;y<i;y++)s[y]=L.UTF8ToString(d[y]);return f}static utmToGeog(e,i,r,n,s){L.ensureCache.prepare();let o=0;e&&(o=L.getPointer(e));const a=r.map(f=>L.ensureString(f)),l=L.ensureInt32(a),d=L.ensureFloat64(new Array(2*i)),h=L._pe_utm_to_geog(o,i,l,n,d);return h&&ll(s,i,d),h}};var Mr;let EN=(Mr=class{static init(){Mr.PE_PCSINFO_OPTION_NONE=L.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Mr.PE_PCSINFO_OPTION_DOMAIN=L.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Mr.PE_POLE_OUTSIDE_BOUNDARY=L.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Mr.PE_POLE_POINT=L.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,i=Mr.PE_PCSINFO_OPTION_DOMAIN){let r=null,n=null;return Mr.cache.has(e)&&(n=Mr.cache.get(e),n[i]&&(r=n[i])),r||(r=L.PePCSInfo.prototype.generate(e,i),n||(n=[],Mr.cache.set(e,n)),n[i]=r),r}},Mr.cache=new Map,Mr);const Ree={versionString:()=>L.PeVersion.prototype.version_string()};function MN(t){function e(s,o,a){s[o]=a(s[o])}L=t,Vt.init(),hE.init(),kN.init(),TN.init(),EN.init(),$N=class extends L.PeDouble{constructor(s=NaN){super(s)}destroy(){L.destroy(this)}[Symbol.dispose](){this.destroy()}},SN=class extends L.PeGCSExtent{destroy(){L.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[L.PeAngunit,L.PeDatum,L.PeGeogcs,L.PeGeogtran,L.PeObject,L.PeParameter,L.PePrimem,L.PeProjcs,L.PeSpheroid,L.PeUnit];for(const s of i)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(Vt.PE_NAME_MAX))});for(const s of[L.PeGeogtran,L.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(Vt.PE_PARM_MAX);let l=o.call(this);for(let d=0;d<a.length;d++){const h=L.getValue(l,"*");a[d]=h?L.wrapPointer(h,L.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(L.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return ll(l,a,s.call(this),o),l}),e(L.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=L._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!L.compare(l,L.NULL)){a=[l];const d=this.getSteps();if(d>1){const h=L.getPointer(l);for(let f=1;f<d;f++)a.push(L.wrapPointer(h+o*f,L.PeGTlistExtendedGTs))}}return a}});const r=L._pe_getPeHorizonSize(),n=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!L.compare(l,L.NULL)){a=[l];const d=l.getNump();if(d>1){const h=L.getPointer(l);for(let f=1;f<d;f++)a.push(L.wrapPointer(h+r*f,L.PeHorizon))}}return o.set(s,a),a};e(L.PeProjcs.prototype,"horizonGcsGenerate",n),e(L.PeProjcs.prototype,"horizonPcsGenerate",n),L.PeObject.prototype.toString=function(s=Vt.PE_STR_OPTS_NONE){L.ensureCache.prepare();const o=L.getPointer(this),a=L.ensureInt8(new Array(Vt.PE_BUFFER_MAX));return L.UTF8ToString(L._pe_object_to_string_ext(o,s,a))},L.PeGeogcs.prototype.destroy=function(){this.Delete(),ns(this),this.ptr=0},L.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},L.PeProjcs.prototype.destroy=function(){this.Delete(),ns(this),this.ptr=0},L.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ns(t){if(!t)return;const e=L.getClass(t);if(!e)return;const i=L.getCache(e);if(!i)return;const r=L.getPointer(t);r&&delete i[r]}function X1(t,e){const i=[],r=new Array(e);for(let n=0;n<t;n++)i.push(L.ensureInt8(r));return i}function Hc(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function ll(t,e,i,r=!1){if(r)for(let n=0;n<2*e;n++)t[n]=L.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=t.length===0;for(let s=0;s<e;s++)n&&(t[s]=new Array(2)),t[s][0]=L.getValue(i,"double"),t[s][1]=L.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}const K0e=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:vv,PeDefs:Vt,get PeDouble(){return $N},PeFactory:Du,get PeGCSExtent(){return SN},PeGTTransformations:Cee,PeGTlistExtended:hE,PeGTlistExtendedEntry:Mee,PeLineType:Iee,PeMath:Aee,PeNotationDms:Pee,PeNotationMgrs:kN,PeNotationUsng:Oee,PeNotationUtm:TN,PePCSInfo:EN,PeVersion:Ree,_init:MN,get _pe(){return L},isLoaded:xN,isSupported:Tee,load:Eee},Symbol.toStringTag,{value:"Module"}));let c;const k={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(c=2e3;c<=2045;c++)k[c]=0;for(c=2056;c<=2065;c++)k[c]=0;for(c=2067;c<=2135;c++)k[c]=0;for(c=2137;c<=2154;c++)k[c]=0;for(c=2161;c<=2170;c++)k[c]=0;for(c=2172;c<=2193;c++)k[c]=0;for(c=2195;c<=2198;c++)k[c]=0;for(c=2200;c<=2203;c++)k[c]=0;for(c=2205;c<=2217;c++)k[c]=0;for(c=2222;c<=2224;c++)k[c]=1;for(c=2225;c<=2250;c++)k[c]=2;for(c=2251;c<=2253;c++)k[c]=1;for(c=2257;c<=2264;c++)k[c]=2;for(c=2274;c<=2279;c++)k[c]=2;for(c=2280;c<=2282;c++)k[c]=1;for(c=2283;c<=2289;c++)k[c]=2;for(c=2290;c<=2292;c++)k[c]=0;for(c=2308;c<=2313;c++)k[c]=0;for(c=2315;c<=2491;c++)k[c]=0;for(c=2494;c<=2866;c++)k[c]=0;for(c=2867;c<=2869;c++)k[c]=1;for(c=2870;c<=2888;c++)k[c]=2;for(c=2891;c<=2895;c++)k[c]=2;for(c=2896;c<=2898;c++)k[c]=1;for(c=2902;c<=2908;c++)k[c]=2;for(c=2915;c<=2920;c++)k[c]=2;for(c=2921;c<=2923;c++)k[c]=1;for(c=2924;c<=2930;c++)k[c]=2;for(c=2931;c<=2962;c++)k[c]=0;for(c=2964;c<=2968;c++)k[c]=2;for(c=2969;c<=2973;c++)k[c]=0;for(c=2975;c<=2991;c++)k[c]=0;for(c=2995;c<=3051;c++)k[c]=0;for(c=3054;c<=3079;c++)k[c]=0;for(c=3081;c<=3088;c++)k[c]=0;for(c=3092;c<=3101;c++)k[c]=0;for(c=3106;c<=3138;c++)k[c]=0;for(c=3146;c<=3151;c++)k[c]=0;for(c=3153;c<=3166;c++)k[c]=0;for(c=3168;c<=3172;c++)k[c]=0;for(c=3174;c<=3203;c++)k[c]=0;for(c=3294;c<=3358;c++)k[c]=0;for(c=3367;c<=3403;c++)k[c]=0;for(c=3408;c<=3416;c++)k[c]=0;for(c=3417;c<=3438;c++)k[c]=2;for(c=3441;c<=3446;c++)k[c]=2;for(c=3447;c<=3450;c++)k[c]=0;for(c=3451;c<=3459;c++)k[c]=2;for(c=3460;c<=3478;c++)k[c]=0;for(c=3554;c<=3559;c++)k[c]=0;for(c=3560;c<=3570;c++)k[c]=2;for(c=3571;c<=3581;c++)k[c]=0;for(c=3594;c<=3597;c++)k[c]=0;for(c=3601;c<=3604;c++)k[c]=0;for(c=3637;c<=3639;c++)k[c]=0;for(c=3665;c<=3667;c++)k[c]=0;for(c=3693;c<=3695;c++)k[c]=0;for(c=3701;c<=3727;c++)k[c]=0;for(c=3728;c<=3739;c++)k[c]=2;for(c=3740;c<=3751;c++)k[c]=0;for(c=3753;c<=3760;c++)k[c]=2;for(c=3761;c<=3773;c++)k[c]=0;for(c=3775;c<=3777;c++)k[c]=0;for(c=3779;c<=3781;c++)k[c]=0;for(c=3783;c<=3785;c++)k[c]=0;for(c=3788;c<=3791;c++)k[c]=0;for(c=3797;c<=3802;c++)k[c]=0;for(c=3814;c<=3816;c++)k[c]=0;for(c=3825;c<=3829;c++)k[c]=0;for(c=3832;c<=3841;c++)k[c]=0;for(c=3844;c<=3852;c++)k[c]=0;for(c=3873;c<=3885;c++)k[c]=0;for(c=3890;c<=3893;c++)k[c]=0;for(c=3907;c<=3912;c++)k[c]=0;for(c=3942;c<=3950;c++)k[c]=0;for(c=3968;c<=3970;c++)k[c]=0;for(c=3973;c<=3976;c++)k[c]=0;for(c=3986;c<=3989;c++)k[c]=0;for(c=3994;c<=3997;c++)k[c]=0;for(c=4048;c<=4051;c++)k[c]=0;for(c=4056;c<=4063;c++)k[c]=0;for(c=4093;c<=4096;c++)k[c]=0;for(c=4390;c<=4398;c++)k[c]=0;for(c=4399;c<=4413;c++)k[c]=2;for(c=4418;c<=4433;c++)k[c]=2;for(c=4455;c<=4457;c++)k[c]=2;for(c=4484;c<=4489;c++)k[c]=0;for(c=4491;c<=4554;c++)k[c]=0;for(c=4568;c<=4589;c++)k[c]=0;for(c=4652;c<=4656;c++)k[c]=0;for(c=4766;c<=4800;c++)k[c]=0;for(c=5014;c<=5016;c++)k[c]=0;for(c=5069;c<=5072;c++)k[c]=0;for(c=5105;c<=5130;c++)k[c]=0;for(c=5167;c<=5188;c++)k[c]=0;for(c=5253;c<=5259;c++)k[c]=0;for(c=5269;c<=5275;c++)k[c]=0;for(c=5292;c<=5311;c++)k[c]=0;for(c=5329;c<=5331;c++)k[c]=0;for(c=5343;c<=5349;c++)k[c]=0;for(c=5355;c<=5357;c++)k[c]=0;for(c=5387;c<=5389;c++)k[c]=0;for(c=5459;c<=5463;c++)k[c]=0;for(c=5479;c<=5482;c++)k[c]=0;for(c=5518;c<=5520;c++)k[c]=0;for(c=5530;c<=5539;c++)k[c]=0;for(c=5550;c<=5552;c++)k[c]=0;for(c=5562;c<=5583;c++)k[c]=0;for(c=5623;c<=5625;c++)k[c]=2;for(c=5631;c<=5639;c++)k[c]=0;for(c=5649;c<=5653;c++)k[c]=0;for(c=5663;c<=5680;c++)k[c]=0;for(c=5682;c<=5685;c++)k[c]=0;for(c=5875;c<=5877;c++)k[c]=0;for(c=5896;c<=5899;c++)k[c]=0;for(c=5921;c<=5940;c++)k[c]=0;for(c=6050;c<=6125;c++)k[c]=0;for(c=6244;c<=6275;c++)k[c]=0;for(c=6328;c<=6348;c++)k[c]=0;for(c=6350;c<=6356;c++)k[c]=0;for(c=6366;c<=6372;c++)k[c]=0;for(c=6381;c<=6387;c++)k[c]=0;for(c=6393;c<=6404;c++)k[c]=0;for(c=6480;c<=6483;c++)k[c]=0;for(c=6511;c<=6514;c++)k[c]=0;for(c=6579;c<=6581;c++)k[c]=0;for(c=6619;c<=6624;c++)k[c]=0;for(c=6625;c<=6627;c++)k[c]=2;for(c=6628;c<=6632;c++)k[c]=0;for(c=6634;c<=6637;c++)k[c]=0;for(c=6669;c<=6692;c++)k[c]=0;for(c=6707;c<=6709;c++)k[c]=0;for(c=6720;c<=6723;c++)k[c]=0;for(c=6732;c<=6738;c++)k[c]=0;for(c=6931;c<=6933;c++)k[c]=0;for(c=6956;c<=6959;c++)k[c]=0;for(c=7005;c<=7007;c++)k[c]=0;for(c=7057;c<=7070;c++)k[c]=2;for(c=7074;c<=7082;c++)k[c]=0;for(c=7109;c<=7118;c++)k[c]=0;for(c=7119;c<=7127;c++)k[c]=1;for(c=7374;c<=7376;c++)k[c]=0;for(c=7528;c<=7586;c++)k[c]=0;for(c=7587;c<=7645;c++)k[c]=2;for(c=7692;c<=7696;c++)k[c]=0;for(c=7755;c<=7787;c++)k[c]=0;for(c=7791;c<=7795;c++)k[c]=0;for(c=7799;c<=7801;c++)k[c]=0;for(c=7803;c<=7805;c++)k[c]=0;for(c=7825;c<=7831;c++)k[c]=0;for(c=7845;c<=7859;c++)k[c]=0;for(c=8013;c<=8032;c++)k[c]=0;for(c=8065;c<=8068;c++)k[c]=1;for(c=8518;c<=8529;c++)k[c]=2;for(c=8533;c<=8536;c++)k[c]=2;for(c=8538;c<=8540;c++)k[c]=2;for(c=8677;c<=8679;c++)k[c]=0;for(c=8836;c<=8840;c++)k[c]=0;for(c=8857;c<=8859;c++)k[c]=0;for(c=8908;c<=8910;c++)k[c]=0;for(c=9154;c<=9159;c++)k[c]=0;for(c=9205;c<=9218;c++)k[c]=0;for(c=9271;c<=9273;c++)k[c]=0;for(c=9295;c<=9297;c++)k[c]=0;for(c=9356;c<=9360;c++)k[c]=0;for(c=9404;c<=9407;c++)k[c]=0;for(c=9476;c<=9482;c++)k[c]=0;for(c=9487;c<=9494;c++)k[c]=0;for(c=9697;c<=9699;c++)k[c]=0;for(c=9821;c<=9865;c++)k[c]=0;for(c=10285;c<=10291;c++)k[c]=0;for(c=10314;c<=10317;c++)k[c]=0;for(c=10448;c<=10465;c++)k[c]=0;for(c=10726;c<=10729;c++)k[c]=0;for(c=10731;c<=10733;c++)k[c]=0;for(c=11114;c<=11118;c++)k[c]=0;for(c=20004;c<=20032;c++)k[c]=0;for(c=20047;c<=20049;c++)k[c]=0;for(c=20062;c<=20092;c++)k[c]=0;for(c=20135;c<=20138;c++)k[c]=0;for(c=20248;c<=20258;c++)k[c]=0;for(c=20348;c<=20358;c++)k[c]=0;for(c=20436;c<=20440;c++)k[c]=0;for(c=20822;c<=20824;c++)k[c]=0;for(c=20904;c<=20932;c++)k[c]=0;for(c=20934;c<=20936;c++)k[c]=0;for(c=21004;c<=21032;c++)k[c]=0;for(c=21035;c<=21037;c++)k[c]=0;for(c=21095;c<=21097;c++)k[c]=0;for(c=21148;c<=21150;c++)k[c]=0;for(c=21207;c<=21264;c++)k[c]=0;for(c=21307;c<=21364;c++)k[c]=0;for(c=21413;c<=21423;c++)k[c]=0;for(c=21453;c<=21463;c++)k[c]=0;for(c=21473;c<=21483;c++)k[c]=0;for(c=21780;c<=21782;c++)k[c]=0;for(c=21891;c<=21894;c++)k[c]=0;for(c=21896;c<=21899;c++)k[c]=0;for(c=22171;c<=22177;c++)k[c]=0;for(c=22181;c<=22187;c++)k[c]=0;for(c=22191;c<=22197;c++)k[c]=0;for(c=22207;c<=22222;c++)k[c]=0;for(c=22229;c<=22232;c++)k[c]=0;for(c=22234;c<=22236;c++)k[c]=0;for(c=22243;c<=22250;c++)k[c]=0;for(c=22262;c<=22265;c++)k[c]=0;for(c=22307;c<=22322;c++)k[c]=0;for(c=22348;c<=22357;c++)k[c]=0;for(c=22407;c<=22422;c++)k[c]=0;for(c=22462;c<=22465;c++)k[c]=0;for(c=22521;c<=22525;c++)k[c]=0;for(c=22607;c<=22622;c++)k[c]=0;for(c=22641;c<=22646;c++)k[c]=0;for(c=22648;c<=22657;c++)k[c]=0;for(c=22707;c<=22722;c++)k[c]=0;for(c=22762;c<=22765;c++)k[c]=0;for(c=22807;c<=22822;c++)k[c]=0;for(c=22991;c<=22994;c++)k[c]=0;for(c=23028;c<=23038;c++)k[c]=0;for(c=23301;c<=23333;c++)k[c]=2;for(c=23830;c<=23853;c++)k[c]=0;for(c=23866;c<=23872;c++)k[c]=0;for(c=23877;c<=23884;c++)k[c]=0;for(c=23886;c<=23894;c++)k[c]=0;for(c=23946;c<=23948;c++)k[c]=0;for(c=24311;c<=24313;c++)k[c]=0;for(c=24342;c<=24347;c++)k[c]=0;for(c=24370;c<=24374;c++)k[c]=10;for(c=24375;c<=24381;c++)k[c]=0;for(c=24718;c<=24721;c++)k[c]=0;for(c=24817;c<=24821;c++)k[c]=0;for(c=24877;c<=24882;c++)k[c]=0;for(c=24891;c<=24893;c++)k[c]=0;for(c=25391;c<=25395;c++)k[c]=0;for(c=25828;c<=25838;c++)k[c]=0;for(c=26191;c<=26195;c++)k[c]=0;for(c=26391;c<=26393;c++)k[c]=0;for(c=26701;c<=26722;c++)k[c]=0;for(c=26729;c<=26799;c++)k[c]=2;for(c=26801;c<=26803;c++)k[c]=2;for(c=26811;c<=26813;c++)k[c]=2;for(c=26847;c<=26870;c++)k[c]=2;for(c=26891;c<=26899;c++)k[c]=0;for(c=26901;c<=26923;c++)k[c]=0;for(c=26929;c<=26946;c++)k[c]=0;for(c=26948;c<=26998;c++)k[c]=0;for(c=27037;c<=27040;c++)k[c]=0;for(c=27205;c<=27232;c++)k[c]=0;for(c=27258;c<=27260;c++)k[c]=0;for(c=27391;c<=27398;c++)k[c]=0;for(c=27561;c<=27564;c++)k[c]=0;for(c=27571;c<=27574;c++)k[c]=0;for(c=27581;c<=27584;c++)k[c]=0;for(c=27591;c<=27594;c++)k[c]=0;for(c=27700;c<=27707;c++)k[c]=0;for(c=28191;c<=28193;c++)k[c]=0;for(c=28348;c<=28358;c++)k[c]=0;for(c=28402;c<=28432;c++)k[c]=0;for(c=28462;c<=28492;c++)k[c]=0;for(c=29118;c<=29122;c++)k[c]=0;for(c=29168;c<=29172;c++)k[c]=0;for(c=29177;c<=29185;c++)k[c]=0;for(c=29187;c<=29195;c++)k[c]=0;for(c=29900;c<=29903;c++)k[c]=0;for(c=30161;c<=30179;c++)k[c]=0;for(c=30491;c<=30494;c++)k[c]=0;for(c=30729;c<=30732;c++)k[c]=0;for(c=31251;c<=31259;c++)k[c]=0;for(c=31265;c<=31268;c++)k[c]=0;for(c=31275;c<=31279;c++)k[c]=0;for(c=31281;c<=31297;c++)k[c]=0;for(c=31461;c<=31469;c++)k[c]=0;for(c=31491;c<=31495;c++)k[c]=0;for(c=31917;c<=31922;c++)k[c]=0;for(c=31965;c<=32e3;c++)k[c]=0;for(c=32001;c<=32003;c++)k[c]=2;for(c=32005;c<=32031;c++)k[c]=2;for(c=32033;c<=32060;c++)k[c]=2;for(c=32064;c<=32067;c++)k[c]=2;for(c=32074;c<=32077;c++)k[c]=2;for(c=32081;c<=32086;c++)k[c]=0;for(c=32107;c<=32130;c++)k[c]=0;for(c=32133;c<=32159;c++)k[c]=0;for(c=32164;c<=32167;c++)k[c]=2;for(c=32180;c<=32199;c++)k[c]=0;for(c=32201;c<=32260;c++)k[c]=0;for(c=32301;c<=32360;c++)k[c]=0;for(c=32401;c<=32460;c++)k[c]=0;for(c=32501;c<=32560;c++)k[c]=0;for(c=32601;c<=32662;c++)k[c]=0;for(c=32664;c<=32667;c++)k[c]=2;for(c=32701;c<=32761;c++)k[c]=0;for(c=53001;c<=53004;c++)k[c]=0;for(c=53008;c<=53019;c++)k[c]=0;for(c=53021;c<=53032;c++)k[c]=0;for(c=53034;c<=53037;c++)k[c]=0;for(c=53042;c<=53046;c++)k[c]=0;for(c=53074;c<=53080;c++)k[c]=0;for(c=54001;c<=54004;c++)k[c]=0;for(c=54008;c<=54019;c++)k[c]=0;for(c=54021;c<=54032;c++)k[c]=0;for(c=54034;c<=54037;c++)k[c]=0;for(c=54042;c<=54046;c++)k[c]=0;for(c=54048;c<=54053;c++)k[c]=0;for(c=54074;c<=54080;c++)k[c]=0;for(c=54090;c<=54096;c++)k[c]=0;for(c=54098;c<=54101;c++)k[c]=0;for(c=65161;c<=65163;c++)k[c]=0;for(c=102001;c<=102040;c++)k[c]=0;for(c=102042;c<=102063;c++)k[c]=0;for(c=102065;c<=102067;c++)k[c]=0;for(c=102070;c<=102117;c++)k[c]=0;for(c=102122;c<=102216;c++)k[c]=0;for(c=102221;c<=102377;c++)k[c]=0;for(c=102382;c<=102388;c++)k[c]=0;for(c=102389;c<=102398;c++)k[c]=2;for(c=102399;c<=102444;c++)k[c]=0;for(c=102445;c<=102447;c++)k[c]=2;for(c=102448;c<=102458;c++)k[c]=0;for(c=102459;c<=102468;c++)k[c]=2;for(c=102469;c<=102499;c++)k[c]=0;for(c=102500;c<=102519;c++)k[c]=1;for(c=102520;c<=102524;c++)k[c]=0;for(c=102525;c<=102529;c++)k[c]=2;for(c=102530;c<=102588;c++)k[c]=0;for(c=102590;c<=102598;c++)k[c]=0;for(c=102601;c<=102603;c++)k[c]=0;for(c=102605;c<=102628;c++)k[c]=0;for(c=102629;c<=102646;c++)k[c]=2;for(c=102648;c<=102700;c++)k[c]=2;for(c=102701;c<=102703;c++)k[c]=0;for(c=102707;c<=102730;c++)k[c]=2;for(c=102733;c<=102758;c++)k[c]=2;for(c=102767;c<=102900;c++)k[c]=0;for(c=102901;c<=102933;c++)k[c]=2;for(c=102934;c<=102950;c++)k[c]=13;for(c=102951;c<=102963;c++)k[c]=0;for(c=102965;c<=102969;c++)k[c]=0;for(c=102971;c<=102973;c++)k[c]=0;for(c=102975;c<=102989;c++)k[c]=0;for(c=102990;c<=102992;c++)k[c]=1;for(c=102997;c<=103002;c++)k[c]=0;for(c=103003;c<=103008;c++)k[c]=2;for(c=103009;c<=103011;c++)k[c]=0;for(c=103012;c<=103014;c++)k[c]=2;for(c=103019;c<=103021;c++)k[c]=0;for(c=103022;c<=103024;c++)k[c]=2;for(c=103029;c<=103031;c++)k[c]=0;for(c=103032;c<=103034;c++)k[c]=2;for(c=103065;c<=103068;c++)k[c]=0;for(c=103074;c<=103076;c++)k[c]=0;for(c=103077;c<=103079;c++)k[c]=1;for(c=103080;c<=103082;c++)k[c]=0;for(c=103083;c<=103085;c++)k[c]=2;for(c=103090;c<=103093;c++)k[c]=0;for(c=103097;c<=103099;c++)k[c]=0;for(c=103100;c<=103102;c++)k[c]=2;for(c=103107;c<=103109;c++)k[c]=0;for(c=103110;c<=103112;c++)k[c]=2;for(c=103113;c<=103116;c++)k[c]=0;for(c=103117;c<=103120;c++)k[c]=2;for(c=103153;c<=103157;c++)k[c]=0;for(c=103158;c<=103162;c++)k[c]=2;for(c=103163;c<=103165;c++)k[c]=0;for(c=103166;c<=103168;c++)k[c]=1;for(c=103169;c<=103171;c++)k[c]=2;for(c=103186;c<=103188;c++)k[c]=0;for(c=103189;c<=103191;c++)k[c]=2;for(c=103192;c<=103195;c++)k[c]=0;for(c=103196;c<=103199;c++)k[c]=2;for(c=103200;c<=103224;c++)k[c]=0;for(c=103225;c<=103227;c++)k[c]=1;for(c=103232;c<=103237;c++)k[c]=0;for(c=103238;c<=103243;c++)k[c]=2;for(c=103244;c<=103246;c++)k[c]=0;for(c=103247;c<=103249;c++)k[c]=2;for(c=103254;c<=103256;c++)k[c]=0;for(c=103257;c<=103259;c++)k[c]=2;for(c=103264;c<=103266;c++)k[c]=0;for(c=103267;c<=103269;c++)k[c]=2;for(c=103300;c<=103375;c++)k[c]=0;for(c=103381;c<=103383;c++)k[c]=0;for(c=103384;c<=103386;c++)k[c]=1;for(c=103387;c<=103389;c++)k[c]=0;for(c=103390;c<=103392;c++)k[c]=2;for(c=103397;c<=103399;c++)k[c]=0;for(c=103400;c<=103471;c++)k[c]=2;for(c=103476;c<=103478;c++)k[c]=0;for(c=103479;c<=103481;c++)k[c]=2;for(c=103486;c<=103488;c++)k[c]=0;for(c=103489;c<=103491;c++)k[c]=2;for(c=103492;c<=103495;c++)k[c]=0;for(c=103496;c<=103499;c++)k[c]=2;for(c=103528;c<=103543;c++)k[c]=0;for(c=103544;c<=103548;c++)k[c]=2;for(c=103549;c<=103551;c++)k[c]=0;for(c=103552;c<=103554;c++)k[c]=1;for(c=103555;c<=103557;c++)k[c]=2;for(c=103558;c<=103560;c++)k[c]=0;for(c=103571;c<=103573;c++)k[c]=0;for(c=103574;c<=103576;c++)k[c]=2;for(c=103577;c<=103580;c++)k[c]=0;for(c=103581;c<=103583;c++)k[c]=2;for(c=103595;c<=103694;c++)k[c]=0;for(c=103696;c<=103699;c++)k[c]=0;for(c=103700;c<=103793;c++)k[c]=2;for(c=103794;c<=103890;c++)k[c]=0;for(c=103891;c<=103896;c++)k[c]=2;for(c=103900;c<=103971;c++)k[c]=2;for(c=103972;c<=103977;c++)k[c]=0;for(c=112e3;c<=112101;c++)k[c]=0;const CN=[102100,102113,3857,3785,900913],Dee=[104905,104971],zee=[104903],Nee=[4326,...CN,...Dee,...zee],Tm=[-20037508342788905e-9,20037508342788905e-9],nS=[-20037508342787e-6,20037508342787e-6],A_={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Tm,origin:nS,dx:1e-5},IN={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Tm,origin:nS,dx:1e-5},102100:A_,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Tm,origin:nS,dx:1e-5},3857:A_,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:A_,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Ti(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const i=t.wkid,r=e.wkid;if(i!=null||r!=null){if(i===r||Ks(t)&&Ks(e))return!0;const o=t.latestWkid;if(o!=null&&r===o)return!0;const a=e.latestWkid;return a!=null&&i===a}let n,s;return t.wkt2&&e.wkt2?(n=t.wkt2,s=e.wkt2):t.wkt&&e.wkt&&(n=t.wkt,s=e.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function cr(t){const e=t?.wkid;return e!=null&&e>=2e3&&IN[e]||null}function AN(t){if(!t)return;const{wkid:e,vcsWkid:i}=t;if(e)return i?JSON.stringify({wkid:e,vcsWkid:i}):String(e);const r=t.wkt||t.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function Hh(t){if(!Xr(t))return!1;const{wkid:e}=t;if(e)return k[e]==null;const i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function Lee(t){return!(PN(t)||ON(t))}function Gc(t){return t?.wkid===4326}function X0e(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function aA(t){return t?.wkid===4490}function Ks(t){const e=t?.wkid;return e!=null&&e>=2e3&&CN.includes(e)}function Fee(t){return t?.wkid===32662}function Q1(t){return t===104971||t===104905}function PN(t){return Q1(t?.wkid)}function ew(t){return t===104903}function ON(t){return ew(t?.wkid)}function jee(t){const e=t?.wkid;return e!=null&&e>=2e3&&Nee.includes(e)}function Xr(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const RN={wkid:4326,wkt:e5(IN[4326].wkTemplate,{Central_Meridian:"0.0"})},DN={wkid:102100,latestWkid:3857},Uee={wkid:32662};function pE(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Vee=pE(qt),fE=pE(Bs),mE=pE(al),Bee={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${qt.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},qee=fE.wkt.toUpperCase(),Hee=mE.wkt.toUpperCase();function Gee(t){if(t!=null&&Xr(t)){const e=t.wkid,i=t.wkt2??t.wkt;if(Q1(e))return Bs;const r=i?.toUpperCase();if(i&&r===qee)return Bs;if(ew(e)||r&&r===Hee)return al}return qt}function Q0e(t){return Q1(t)?Bs:ew(t)?al:qt}function db(t){return Ti(t,Vee)}function cl(t){return db(t)||Ti(t,fE)||Ti(t,mE)}const ebe=39.37,Wee=qt.radius*Math.PI/200,zN=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,mh=k,NN=/UNIT\[([^\]]+)]/i,Zee=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Yee=hr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Jn=t=>t*t,fa=t=>t*t*t,Em={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Jn(.001)},"square-centimeters":{inBaseUnits:Jn(.01)},"square-decimeters":{inBaseUnits:Jn(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Jn(1e3)},"square-inches":{inBaseUnits:Jn(.0254)},"square-feet":{inBaseUnits:Jn(.3048)},"square-yards":{inBaseUnits:Jn(.9144)},"square-miles":{inBaseUnits:Jn(1609.344)},"square-nautical-miles":{inBaseUnits:Jn(1852)},"square-us-feet":{inBaseUnits:Jn(1200/3937)},acres:{inBaseUnits:.0015625*Jn(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*fa(.001)},"cubic-centimeters":{inBaseUnits:1e3*fa(.01)},"cubic-decimeters":{inBaseUnits:1e3*fa(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*fa(1e3)},"cubic-inches":{inBaseUnits:1e3*fa(.0254)},"cubic-feet":{inBaseUnits:1e3*fa(.3048)},"cubic-yards":{inBaseUnits:1e3*fa(.9144)},"cubic-miles":{inBaseUnits:1e3*fa(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Jee=(()=>{const t={};for(const e in Em)for(const i in Em[e].units)t[i]=e;return t})();function Kee(t,e,i){return t*Em[i].units[e].inBaseUnits}function Xee(t,e,i){return t/Em[i].units[e].inBaseUnits}const Qee=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],ete=["metric","imperial"],LN=[...ete,...Qee],tte=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function sS(t){const e=Jee[t];if(!e)throw new Error("unknown type");return e}function lA(t,e=null){return e=e||sS(t),Em[e].baseUnit===t}function Jt(t,e,i){if(e===i)return t;const r=sS(e);if(r!==sS(i))throw new Error("incompatible units");const n=lA(e,r)?t:Kee(t,e,r);return lA(i,r)?n:Xee(n,i,r)}function tbe(t,e,i,r=!1){if(!r&&Hh(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const n=ru(e);return n!==i&&(t=n?Jt(t,n,i):Jt(t*=eo(e),"meters",i)),t}function ibe(t,e,i,r=!1){if(!r&&Hh(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const n=ru(i);return e!==n&&(t=n?Jt(t,e,n):Jt(t,e,"meters")/eo(i)),t}function ite(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function rbe(t){return ite(t)}function nbe(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function sbe(t,e,i){switch(i){case"metric":return rte(t,e);case"imperial":return ste(t,e);default:return i}}function obe(t,e,i){switch(i){case"metric":return nte(t,e);case"imperial":return ote(t,e);default:return i}}function rte(t,e){const i=Jt(t,e,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function nte(t,e){const i=Jt(t,e,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function ste(t,e){const i=Jt(t,e,"feet");return Math.abs(i)<1e3?"feet":"miles"}function ote(t,e){const i=Jt(t,e,"feet");return Math.abs(i)<1e5?"feet":"miles"}function abe(t,e){const i=Jt(t,e,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function lbe(t,e){const i=Jt(t,e,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function ate(t,e,i){return Jt(t,e,"meters")/(i*Math.PI/180)}function gE(t){return Yee.fromJSON(t.toLowerCase())||null}function cA(t){if(t!=null&&!Lee(t))return 1;const e=eo(t);return e>1e5?1:e}function FN(t){return eo(t)>=Gee(t).metersPerDegree?"meters":ru(t)}function eo(t,e=qt.metersPerDegree){return lte(t,!0)??e}function lte(t,e=!1){const i=t?.wkid??null,r=t?.wkt2??t?.wkt??null;let n=null;if(i){if(Q1(i))return Bs.metersPerDegree;if(ew(i))return al.metersPerDegree;n=mh.values[mh[i]],!n&&e&&Zee.has(i)&&(n=Wee)}else r&&(VN(r)?n=uA(zN.exec(r),n):UN(r)&&(n=uA(NN.exec(r),n)));return n}function cbe(t){return Hh(t)?1:eo(t)}function uA(t,e){return t?.[1]?jN(t[1]):e}function jN(t){return parseFloat(t.split(",")[1])}function ru(t){const e=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let r=null;if(e)r=mh.units[mh[e]];else if(i){const n=VN(i)?zN:UN(i)?NN:null;if(n){const s=n.exec(i);s?.[1]&&(r=ute(s[1]))}}return r!=null?gE(r):null}function ube(t){const e=ru(t);return e!=null&&LN.includes(e)?e:null}function dbe(t){const e=FN(t);return e!=null&&LN.includes(e)?e:null}function hbe(t){const e=ru(t);return e==null?null:tte.get(e)}function UN(t){return/^GEOCCS/i.test(t)}function VN(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const cte=1e-7;function ute(t){let i=/[\\"']([^\\"']+)/.exec(t)?.[1];if(!i||!gE(i)){const r=jN(t);i=null;const n=mh.values;for(let s=0;s<n.length;++s)if(Math.abs(r-n[s])<cte){i=mh.units[s];break}}return i}function pbe(t){const e=ru(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const dte={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},hte={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},pte={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},fbe=hr()(dte),mbe=hr()(hte),gbe=hr()(pte);var Ss,Ns;let Se=(Ns=class extends be{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return Ss.WebMercator;if(e?.wkid===4326)return Ss.WGS84;const i=new Ss;return i.read(e),i}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Gc(this)}get isWebMercator(){return Ks(this)}get isGeographic(){return Hh(this)}get isWrappable(){return jee(this)}get metersPerUnit(){return eo(this)}get unit(){return ru(this)||(this.isGeographic?"degrees":null)}writeWkt(e,i){this.wkid||(i.wkt=e)}clone(){if(this===Ss.WGS84)return new Ss(RN);if(this===Ss.WebMercator)return new Ss(DN);const e=new Ss;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=X(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:i,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return i==null||n?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):r?s.id===i&&s.referenceServiceName===r:s.id===i}return Ti(this,e)}toJSON(e){return this.write(void 0,e)}},Ss=Ns,Ns.GCS_NAD_1927=null,Ns.WGS84=null,Ns.WebMercator=null,Ns.PlateCarree=null,Ns);u([p({readOnly:!0})],Se.prototype,"isWGS84",null),u([p({readOnly:!0})],Se.prototype,"isWebMercator",null),u([p({readOnly:!0})],Se.prototype,"isGeographic",null),u([p({readOnly:!0})],Se.prototype,"isWrappable",null),u([p({type:ht,json:{write:!0}})],Se.prototype,"latestWkid",void 0),u([p({readOnly:!0})],Se.prototype,"metersPerUnit",null),u([p({readOnly:!0})],Se.prototype,"unit",null),u([p({type:ht,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Se.prototype,"wkid",void 0),u([p({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Se.prototype,"wkt",void 0),u([Ye("wkt"),Ye("web-scene","wkt")],Se.prototype,"writeWkt",null),u([p({type:String,json:{write:!1}})],Se.prototype,"wkt2",void 0),u([p({type:ht,json:{write:!0}})],Se.prototype,"vcsWkid",void 0),u([p({type:ht,json:{write:!0}})],Se.prototype,"latestVcsWkid",void 0),u([p()],Se.prototype,"imageCoordinateSystem",void 0),Se=Ss=u([R("esri.geometry.SpatialReference")],Se),Se.prototype.toJSON.isDefaultToJSON=!0,Se.GCS_NAD_1927=Te.freeze(new Se({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Se.WGS84=Te.freeze(new Se(RN)),Se.WebMercator=Te.freeze(new Se(DN)),Se.PlateCarree=Te.freeze(new Se(Uee));let mi=class extends be{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Se.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof Se)return e;if(e!=null){const r=new Se;return r.read(e,i),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};u([p()],mi.prototype,"type",void 0),u([p({readOnly:!0})],mi.prototype,"cache",null),u([p({readOnly:!0})],mi.prototype,"extent",null),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],mi.prototype,"hasM",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],mi.prototype,"hasZ",void 0),u([p({type:Se,json:{write:!0},value:Se.WGS84})],mi.prototype,"spatialReference",void 0),u([et("spatialReference")],mi.prototype,"readSpatialReference",null),mi=u([R("esri.geometry.Geometry")],mi);function gh(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new K("internal:mesh","Mesh geometries are not supported for this operation")}function fte(t){t.forEach(gh)}const mte=57.29577951308232,gte=.017453292519943;function dA(t){return t*mte}function hA(t){return t*gte}function vbe(t){return Math.PI/2-2*Math.atan(Math.exp(-t/qt.radius))}function oS(t){return t.wkid!=null||t.wkt!=null}const P_=[0,0];function hb(t,e,i,r,n){const s=t,o=n;if(o.spatialReference=i,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,P_,r);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,P_,r),[o.xmax,o.ymax]=e(s.xmax,s.ymax,P_,r);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let d;for(let h=0;h<a.length;h++){const f=a[h];d=[],l.push(d);for(let y=0;y<f.length;y++)d.push(e(f[y][0],f[y][1],[0,0],r)),f[y].length>2&&d[y].push(f[y][2]),f[y].length>3&&d[y].push(f[y][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let d=0;d<a.length;d++)l[d]=e(a[d][0],a[d][1],[0,0],r),a[d].length>2&&l[d].push(a[d][2]),a[d].length>3&&l[d].push(a[d][3]);o.points=l}return n}function wv(t,e){const i=t&&(oS(t)?t:t.spatialReference),r=e&&(oS(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!r)&&(!!Ti(r,i)||Ks(r)&&Gc(i)||Ks(i)&&Gc(r))}function tw(t,e){if(t==null)return null;const i=t.spatialReference,r=e&&(oS(e)?e:e.spatialReference);return wv(i,r)?Ti(i,r)?X(t):Ks(r)?hb(t,dd,Se.WebMercator,!1,X(t)):Gc(r)?hb(t,iw,Se.WGS84,!1,X(t)):null:null}function dd(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const r=hA(e);return i[0]=hA(t)*qt.radius,i[1]=qt.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function iw(t,e,i=[0,0],r=!1){if(t===Tm[0])i[0]=-180;else if(t===Tm[1])i[0]=180;else{const n=dA(t/qt.radius);i[0]=r?n:n-360*Math.floor((n+180)/360)}return i[1]=dA(Math.PI/2-2*Math.atan(Math.exp(-e/qt.radius))),i}function $c(t,e=!1,i=X(t)){return gh(t),gh(i),hb(t,dd,Se.WebMercator,e,i)}function Xp(t,e=!1,i=X(t)){return gh(t),gh(i),hb(t,iw,Se.WGS84,e,i)}function BN(t,e){const i=t.x-e.x,r=t.y-e.y,n=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(i*i+r*r+n*n)}function yte(t){return qN(t,HN)?.[0]??null}function vte(t){return qN(t,HN)?.[1]??null}function qN({x:t,y:e,spatialReference:i},r=[0,0]){if(i){if(Ks(i))return iw(t,e,r);if(Hh(i))return r[0]=t,r[1]=e,r}return null}const HN=[0,0];var _v;const O_=[0,0];function pA(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Ee=_v=class extends mi{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",Te.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,r,n){let s;if(Array.isArray(t))s=t,n=e,t=s[0],e=s[1],i=s[2],r=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,i=s.z,r=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new Se(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)ue.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)ue.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n?.isWebMercator){const a=dd(s.longitude,s.latitude,O_);t=a[0],e=a[1]}}}else pA(i)?(n=i,i=null):pA(r)&&(n=r,r=null);const o={x:t,y:e};return o.x==null&&o.y!=null?ue.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&ue.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(o.spatialReference=n),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return vte(this)}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",dd(i,t,O_)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return yte(this)}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",dd(t,e,O_)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new _v;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return _v.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:r,m:n,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:d,spatialReference:h}=t;if(!s.equals(h))if(s.isWebMercator&&h.isWGS84)[l,d]=dd(l,d),h=s;else{if(!s.isWGS84||!h.isWebMercator)return!1;[l,d]=iw(l,d),h=s}return e===l&&i===d&&r===o&&n===a&&s.wkid===h.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=cr(this.spatialReference);if(!t)return this;let e=this.x;const[i,r]=t.valid,n=2*r;let s;return e>r?(s=Math.ceil(Math.abs(e-r)/n),e-=s*n):e<i&&(s=Math.ceil(Math.abs(e-i)/n),e+=s*n),this._set("x",e),this}distance(t){return BN(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};u([p({readOnly:!0})],Ee.prototype,"cache",null),u([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ee.prototype,"hasM",null),u([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ee.prototype,"hasZ",null),u([p({type:Number})],Ee.prototype,"latitude",null),u([p({type:Number})],Ee.prototype,"longitude",null),u([p({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),vi(t=>isNaN(t)?t:Kr(t))],Ee.prototype,"x",void 0),u([Ye("x")],Ee.prototype,"writeX",null),u([et("x")],Ee.prototype,"readX",null),u([p({type:Number,json:{write:!0}})],Ee.prototype,"y",void 0),u([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ee.prototype,"z",void 0),u([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ee.prototype,"m",void 0),Ee=_v=u([R("esri.geometry.Point")],Ee),Ee.prototype.toJSON.isDefaultToJSON=!0;const R_=[0,0];function hg(t,e){return e!=null&&rr(t,e.x,e.y,e.z)}function bbe(t,e){if(!e.points?.length)return!1;for(const i of e.points)if(!yh(t,i))return!1;return!0}function bte(t,e){const{xmin:i,ymin:r,zmin:n,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?rr(t,i,r,n)&&rr(t,i,o,n)&&rr(t,s,o,n)&&rr(t,s,r,n)&&rr(t,i,r,a)&&rr(t,i,o,a)&&rr(t,s,o,a)&&rr(t,s,r,a):rr(t,i,r)&&rr(t,i,o)&&rr(t,s,o)&&rr(t,s,r)}function yh(t,e){return rr(t,e[0],e[1])}function wte(t,e){return rr(t,e[0],e[1],e[2])}function rr(t,e,i,r){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(r==null||!t.hasZ||r>=t.zmin&&r<=t.zmax)}function yE(t,e){return R_[1]=e.y,R_[0]=e.x,_te(t,R_)}function _te(t,e){return vE(t.rings,e)}function vE(t,e){if(!t||t.length<1)return!1;if(xte(t))return fA(!1,t,e);let i=!1;for(let r=0,n=t.length;r<n;r++)i=fA(i,t[r],e);return i}function xte(t){return!Array.isArray(t[0][0])}function fA(t,e,i){const[r,n]=i;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[d,h]=e[a],[f,y]=e[o];(h<n&&y>=n||y<n&&h>=n)&&d+(n-h)/(y-h)*(f-d)<r&&(s=!s)}return s}function $te(t,e){return hg(t,e)}function Ste(t,e){const i=t.hasZ&&e.hasZ;let r,n,s;if(t.xmin<=e.xmin){if(r=e.xmin,t.xmax<r)return!1}else if(r=t.xmin,e.xmax<r)return!1;if(t.ymin<=e.ymin){if(n=e.ymin,t.ymax<n)return!1}else if(n=t.ymin,e.ymax<n)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function kte(t,e){const{points:i,hasZ:r}=e,n=r?wte:yh;for(const s of i)if(n(t,s))return!0;return!1}const Wc=[0,0],Zc=[0,0],Yc=[0,0],Jc=[0,0],Tte=[Wc,Zc,Yc,Jc],GN=[[Yc,Wc],[Wc,Zc],[Zc,Jc],[Jc,Yc]];function Ete(t,e){return Mte(t,e.rings)}function Mte(t,e){Wc[0]=t.xmin,Wc[1]=t.ymax,Zc[0]=t.xmax,Zc[1]=t.ymax,Yc[0]=t.xmin,Yc[1]=t.ymin,Jc[0]=t.xmax,Jc[1]=t.ymin;for(const i of Tte)if(vE(e,i))return!0;for(const i of e){if(!i.length)continue;let r=i[0];if(yh(t,r))return!0;for(let n=1;n<i.length;n++){const s=i[n];if(yh(t,s)||WN(r,s,GN))return!0;r=s}}return!1}function Cte(t,e){Wc[0]=t.xmin,Wc[1]=t.ymax,Zc[0]=t.xmax,Zc[1]=t.ymax,Yc[0]=t.xmin,Yc[1]=t.ymin,Jc[0]=t.xmax,Jc[1]=t.ymin;const i=e.paths;for(const r of i){if(!i.length)continue;let n=r[0];if(yh(t,n))return!0;for(let s=1;s<r.length;s++){const o=r[s];if(yh(t,o)||WN(n,o,GN))return!0;n=o}}return!1}const _i=[0,0];function Ite(t){for(let e=0;e<t.length;e++){const i=t[e];for(let n=0;n<i.length-1;n++){const s=i[n],o=i[n+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const d=t[a][l],h=t[a][l+1];if(aS(s,o,d,h,_i)&&!(_i[0]===s[0]&&_i[1]===s[1]||_i[0]===d[0]&&_i[1]===d[1]||_i[0]===o[0]&&_i[1]===o[1]||_i[0]===h[0]&&_i[1]===h[1]))return!0}}const r=i.length;if(!(r<=4))for(let n=0;n<r-3;n++){let s=r-1;n===0&&(s=r-2);const o=i[n],a=i[n+1];for(let l=n+2;l<s;l++){const d=i[l],h=i[l+1];if(aS(o,a,d,h,_i)&&!(_i[0]===o[0]&&_i[1]===o[1]||_i[0]===d[0]&&_i[1]===d[1]||_i[0]===a[0]&&_i[1]===a[1]||_i[0]===h[0]&&_i[1]===h[1]))return!0}}}return!1}function WN(t,e,i){for(let r=0;r<i.length;r++)if(aS(t,e,i[r][0],i[r][1]))return!0;return!1}function aS(t,e,i,r,n){const[s,o]=t,[a,l]=e,[d,h]=i,[f,y]=r,b=f-d,x=s-d,$=a-s,E=y-h,C=o-h,O=l-o,j=E*$-b*O;if(j===0)return!1;const D=(b*C-E*x)/j,F=($*C-O*x)/j;return D>=0&&D<=1&&F>=0&&F<=1&&(n&&(n[0]=s+D*(a-s),n[1]=o+D*(l-o)),!0)}function Ate(t){switch(t){case"esriGeometryEnvelope":case"extent":return Ste;case"esriGeometryMultipoint":case"multipoint":return kte;case"esriGeometryPoint":case"point":return $te;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Ete;case"esriGeometryPolyline":case"polyline":return Cte}}var es;function Pte(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function ma(t,e,i){return e==null?i:i==null?e:t(e,i)}let We=es=class extends mi{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,r,n){return Pte(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Se.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:r,spatialReference:n??Se.WGS84}}static fromPoint(t){return new es({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new Ee({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new es;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&wv(e,i)&&(t=e.isWebMercator?$c(t):Xp(t,!0)),t.type==="point"?hg(this,t):t.type==="extent"&&bte(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&wv(e,i)&&(t=e.isWebMercator?$c(t):Xp(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,r=this.height*e;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const n=(this.zmax-this.zmin)*e;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*e;this.mmin+=n,this.mmax-=n}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!Ti(e,i)&&wv(e,i)&&(t=e.isWebMercator?$c(t):Xp(t,!0)),Ate(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=ma(Math.min,this.zmin,t.zmin),this.zmax=ma(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=ma(Math.min,this.mmin,t.mmin),this.mmax=ma(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=ma(Math.max,this.zmin,t.zmin),this.zmax=ma(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=ma(Math.max,this.mmin,t.mmin),this.mmax=ma(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=cr(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const r=e.isWebMercator?Xp(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(r.x=D_(r.x,t).x),this.spatialReference=new Se(e5((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(t){let e=null;const[i,r]=t.valid,n=this.xmin,s=this.xmax;return n>=i&&n<=r&&s>=i&&s<=r||(e=this.center),e}_normalize(t,e,i){const r=this.spatialReference;if(!r)return this;const n=i??cr(r);if(n==null)return this;const s=this._getParts(n).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(t)return this._shiftCM(n);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const d=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const h=(l.zmax-l.zmin)/2;for(let f=0;f<d.length;f++)d[f].push(h)}if(a){const h=(l.mmax-l.mmin)/2;for(let f=0;f<d.length;f++)d[f].push(h)}return d}),hasZ:o,hasM:a,spatialReference:r}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:n,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,d=this.xmax;let h;t=t||cr(o);const[f,y]=t.valid;h=D_(this.xmin,t);const b=h.x,x=h.frameId;h=D_(this.xmax,t);const $=h.x,E=h.frameId,C=b===$&&a>0;if(a>2*y){const O=new es(l<d?b:$,n,y,s,o),j=new es(f,n,l<d?$:b,s,o),D=new es(0,n,y,s,o),F=new es(f,n,0,s,o),G=[],z=[];O.contains(D)&&G.push(x),O.contains(F)&&z.push(x),j.contains(D)&&G.push(E),j.contains(F)&&z.push(E);for(let se=x+1;se<E;se++)G.push(se),z.push(se);e.push({extent:O,frameIds:[x]},{extent:j,frameIds:[E]},{extent:D,frameIds:G},{extent:F,frameIds:z})}else b>$||C?e.push({extent:new es(b,n,y,s,o),frameIds:[x]},{extent:new es(f,n,$,s,o),frameIds:[E]}):e.push({extent:new es(b,n,$,s,o),frameIds:[x]});this.cache._parts=e}const i=this.hasZ,r=this.hasM;if(i||r){const n={};i&&(n.zmin=this.zmin,n.zmax=this.zmax),r&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(n)}return e}};function D_(t,e){const[i,r]=e.valid,n=2*r;let s,o=0;return t>r?(s=Math.ceil(Math.abs(t-r)/n),t-=s*n,o=s):t<i&&(s=Math.ceil(Math.abs(t-i)/n),t+=s*n,o=-s),{x:t,frameId:o}}u([p({readOnly:!0})],We.prototype,"cache",null),u([p({readOnly:!0})],We.prototype,"center",null),u([p({readOnly:!0})],We.prototype,"extent",null),u([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],We.prototype,"hasM",null),u([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],We.prototype,"hasZ",null),u([p({readOnly:!0})],We.prototype,"height",null),u([p({readOnly:!0})],We.prototype,"width",null),u([p({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],We.prototype,"xmin",void 0),u([p({type:Number,json:{write:!0}})],We.prototype,"ymin",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],We.prototype,"mmin",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],We.prototype,"zmin",void 0),u([p({type:Number,json:{write:!0}})],We.prototype,"xmax",void 0),u([p({type:Number,json:{write:!0}})],We.prototype,"ymax",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],We.prototype,"mmax",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],We.prototype,"zmax",void 0),We=es=u([R("esri.geometry.Extent")],We),We.prototype.toJSON.isDefaultToJSON=!0;let Ey;function Ote(t){return Ey&&!Ey.destroyed||(Ey=t()),Ey}var lS;const Rte=new ui({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let ei=lS=class extends Te{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new lS({categories:this.categories?X(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=tw(this.extent,Se.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let n=this.query;!this.disableExtraQuery&&t.extraQuery&&(n="("+n+")"+t.extraQuery);const s={categories:i,bbox:r,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>Rte.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};u([p()],ei.prototype,"categories",void 0),u([p()],ei.prototype,"disableExtraQuery",void 0),u([p({type:We})],ei.prototype,"extent",void 0),u([p()],ei.prototype,"filter",void 0),u([p()],ei.prototype,"num",void 0),u([p()],ei.prototype,"query",void 0),u([p()],ei.prototype,"sortField",void 0),u([p()],ei.prototype,"sortOrder",null),u([p()],ei.prototype,"start",void 0),ei=lS=u([R("esri.portal.PortalQueryParams")],ei);var cS;let Wt=cS=class extends be{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new K("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new cS({sourceJSON:t});return e.read(t),e}queryItems(t,e){let i=ur(ei,t);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new ei,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new ei,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then(r=>{const n=r.contentCategorySetsGroupQuery;if(n){const s=new ei({disableExtraQuery:!0,num:1,query:n});return i.queryGroups(s,e)}throw new K("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const n=r.results[0],s=new ei({num:1,query:`typekeywords:"${t}"`});return n.queryItems(s,e)}throw new K("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",e).then(n=>{const s=n?.categorySchema;return s?.length?s:[]}):[])}};u([p()],Wt.prototype,"access",void 0),u([p({type:Date})],Wt.prototype,"created",void 0),u([p()],Wt.prototype,"description",void 0),u([p()],Wt.prototype,"id",void 0),u([p()],Wt.prototype,"isInvitationOnly",void 0),u([p({type:Date})],Wt.prototype,"modified",void 0),u([p()],Wt.prototype,"owner",void 0),u([p()],Wt.prototype,"portal",void 0),u([p()],Wt.prototype,"snippet",void 0),u([p()],Wt.prototype,"sortField",void 0),u([p()],Wt.prototype,"sortOrder",void 0),u([p()],Wt.prototype,"sourceJSON",void 0),u([p()],Wt.prototype,"tags",void 0),u([p()],Wt.prototype,"thumbnail",void 0),u([p({readOnly:!0})],Wt.prototype,"thumbnailUrl",null),u([p()],Wt.prototype,"title",void 0),u([p({readOnly:!0})],Wt.prototype,"url",null),Wt=cS=u([R("esri.portal.PortalGroup")],Wt);let Ul=class extends Te{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([p()],Ul.prototype,"nextQueryParams",void 0),u([p()],Ul.prototype,"queryParams",void 0),u([p()],Ul.prototype,"results",void 0),u([p()],Ul.prototype,"total",void 0),Ul=u([R("esri.portal.PortalQueryResult")],Ul);let fo=class extends be{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new K("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([p({type:Date})],fo.prototype,"created",void 0),u([p()],fo.prototype,"id",void 0),u([p()],fo.prototype,"portal",void 0),u([p()],fo.prototype,"title",void 0),u([p({readOnly:!0})],fo.prototype,"url",null),u([p()],fo.prototype,"username",void 0),fo=u([R("esri.portal.PortalFolder")],fo);var uS;let pt=uS=class extends be{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,i=t?.data,r=t?.folder,n={method:"post"};e&&(n.query=e.createPostQuery(),i!=null&&(typeof i=="string"?n.query.text=i:typeof i=="object"&&(n.query.text=JSON.stringify(i))));let s=this.userContentUrl;return r&&(s+="/"+(typeof r=="string"?r:r.id)),this.portal.request(s+"/addItem",n).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder);const r=e?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:r}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const i=this.userContentUrl+"/deleteItems",r=[],n=t.map(s=>s.id);if(n.length){const s={method:"post",query:{items:n.join(","),permanentDelete:e}},o=await this.portal.request(i,s);for(const a of o.results){const l=t.find(f=>a.itemId===f.id),d=a.success;let h=null;d?(l.id=null,l.portal=null):a.error&&(h=new K("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:d,error:h})}}return r}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let i;return i=e&&e.folders?e.folders.map(r=>{const n=fo.fromJSON(r);return n.portal=this.portal,n}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(i=>{const r=Wt.fromJSON(i);return r.portal=this.portal,r}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:i}=await ae(()=>Promise.resolve().then(()=>ZN),void 0),r={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},n=await this.portal.request(e,{query:r});let s;return n?.items?(s=n.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new Wt({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new K("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const i=this.userContentUrl,r=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:r})}toJSON(){throw new K("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new uS({sourceJSON:t});return e.read(t),e}};u([p()],pt.prototype,"access",void 0),u([p({type:Date})],pt.prototype,"created",void 0),u([p()],pt.prototype,"culture",void 0),u([p()],pt.prototype,"description",void 0),u([p()],pt.prototype,"email",void 0),u([p()],pt.prototype,"favGroupId",void 0),u([p()],pt.prototype,"fullName",void 0),u([p()],pt.prototype,"id",void 0),u([p({type:Date})],pt.prototype,"modified",void 0),u([p()],pt.prototype,"orgId",void 0),u([p()],pt.prototype,"portal",void 0),u([p()],pt.prototype,"preferredView",void 0),u([p()],pt.prototype,"privileges",void 0),u([p()],pt.prototype,"region",void 0),u([p()],pt.prototype,"role",void 0),u([p()],pt.prototype,"roleId",void 0),u([p()],pt.prototype,"sourceJSON",void 0),u([p()],pt.prototype,"thumbnail",void 0),u([p({readOnly:!0})],pt.prototype,"thumbnailUrl",null),u([p()],pt.prototype,"units",void 0),u([p({readOnly:!0})],pt.prototype,"userContentUrl",null),u([p({readOnly:!0})],pt.prototype,"url",null),u([p()],pt.prototype,"username",void 0),u([p()],pt.prototype,"userLicenseTypeId",void 0),u([p()],pt.prototype,"userType",void 0),pt=uS=u([R("esri.portal.PortalUser")],pt);var Br;let Cp;const mA={PortalGroup:()=>Promise.resolve({default:Wt}),PortalItem:()=>ae(()=>Promise.resolve().then(()=>ZN),void 0),PortalUser:()=>Promise.resolve({default:pt})};var Ls;let Q=(Ls=class extends fl(dg){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Qe.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){gA.unregister(this),this.defaultBasemap=Ut(this.defaultBasemap),this.defaultDevBasemap=Ut(this.defaultDevBasemap),this.defaultVectorBasemap=Ut(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=_t(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const i of e)Qe.request.trustedServers.includes(i)||Qe.request.trustedServers.push(i);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,i=!e||this.canSearchPublic;return this.id&&!i?` AND orgid:${this.id}`:null}get hasAPIKey(){return OK(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let e=this.url;if(e){const i=e.indexOf("/sharing");e=i>0?e.slice(0,i):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,i=this.thumbnail;return e&&i?this._normalizeSSL(e+"/portals/self/resources/"+i):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let i=null;return e&&(i=pt.fromJSON(e),i.portal=this),i}load(e){const i=ae(async()=>{const{default:r}=await Promise.resolve().then(()=>cie);return{default:r}},void 0).then(({default:r})=>{Pt(e),Cp=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{if(!this.hasAPIKey&&bt){const n=bt;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Br.AUTH_MODE_AUTO&&this.authMode!==Br.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",Dte(new WeakRef(this))),gA.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),i=(await ae(async()=>{const{default:r}=await import("./c-ElevationLayer-Q44TpIDj.js");return{default:r}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]))).default;return e?e.map(r=>new i({id:r.id,url:r.url})):[]}async fetchBasemaps(e,i){const r=await this._fetchBasemaps(e,i);if(i?.include3d===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,i);r.unshift(...n)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const i=new ei;i.query=this.default3DBasemapQuery,i.disableExtraQuery=!0;const r=(await this.queryItems(i,e)).results.find(n=>n.type==="Web Scene");return r?new Cp({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(i=>i.categorySchema):Zi(e)?Promise.reject(at()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(i=>i.classificationSchema):null}fetchFeaturedGroups(e){const i=this.featuredGroups,r=new ei({num:100,sortField:"title"});if(i?.length){const n=[];for(const s of i)n.push(`(title:"${s.title}" AND owner:${s.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(s=>s.results)}return Zi(e)?Promise.reject(at()):Promise.resolve([])}fetchRegions(e){const i=this.user?.culture||this.culture||Mn();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:i}})}fetchSettings(e){const i=this.user?.culture||this.culture||Mn();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:i}})}static getDefault(){return Ote(()=>new Br)}queryGroups(e,i){return this.queryPortal("/community/groups",e,"PortalGroup",i)}queryItems(e,i){return this.queryPortal("/search",e,"PortalItem",i)}queryUsers(e,i){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",i)}fetchSelf(e=this.authMode,i=!1,r){const n=this.restUrl+"/portals/self",s={authMode:e,query:{culture:Mn().toLowerCase()},withCredentials:!0,...r};return s.authMode==="auto"&&(s.authMode="no-prompt"),i&&(s.query.default=!0),this.request(n,s)}queryPortal(e,i,r,n){const s=ur(ei,i),o=a=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...n}).then(l=>{const d=s.clone();return d.start=l.nextStart,new Ul({nextQueryParams:d,queryParams:s,total:l.total,results:Br._resultsToTypedArray(a,{portal:this},l,n)})}).then(l=>Promise.all(l.results.map(d=>typeof d.when=="function"?d.when():l)).then(()=>l,d=>(n5(d),l)));return r&&mA[r]?mA[r]().then(({default:a})=>(Pt(n),o(a))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new K("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Br.AUTH_MODE_ANONYMOUS||this.authMode===Br.AUTH_MODE_NO_PROMPT&&!bt)return Promise.reject(new K("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=i=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(i||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=i,this.fetchSelf("immediate"))):this.user&&this.credential===i?null:(this.credential=i,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return bt?bt.getCredential(this.restUrl,{prompt:this.authMode!==Br.AUTH_MODE_NO_PROMPT}).then(i=>e(i)):e(this.credential)}normalizeUrl(e){const i=this.credential?.token;return this._normalizeSSL(i?e+(e.includes("?")?"&":"?")+"token="+i:e)}requestToTypedArray(e,i,r){return this.request(e,i).then(n=>{const s=Br._resultsToTypedArray(r,{portal:this},n);return Promise.all(s.map(o=>typeof o.when=="function"?o.when():n)).then(()=>s,()=>s)})}request(e,i={}){const r={f:"json",...i.query},{authMode:n=this.authMode===Br.AUTH_MODE_ANONYMOUS||this.authMode===Br.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:d}=i,h={authMode:n,body:s,cacheBust:o,method:a,query:r,responseType:l,timeout:0,signal:d};return i.withCredentials&&(h.withCredentials=!0),Xt(this._normalizeSSL(e),h).then(f=>f.data)}toJSON(){throw new K("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Br({sourceJSON:e})}_getHelperService(e){const i=this.helperServices?.[e];if(!i)throw new K("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return i}async _fetchBasemaps(e,i){const r=new ei;r.query=e||(H$()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,i);if(!n.total)return[];const s=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(r,i);return o.total?o.results.filter(a=>a.type==="Web Map").map(a=>new Cp({portalItem:a})):[]}async _fetchBasemaps3D(e,i){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];if(H$())return[];const n=new ei({query:r,disableExtraQuery:!0}),s=await this.queryGroups(n,i);if(!s.total)return[];const o=s.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=o.sortField||"name",n.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(n,i);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new Cp({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const i=Cp.fromJSON(e);return i.portalItem={portal:this},i}return null}static _resultsToTypedArray(e,i,r,n){let s;if(r){const o=n!=null?n.signal:null;s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||i)&&(s=s.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,i);return typeof l.load=="function"&&l.load(o),l}))}else s=[];return s}},Br=Ls,Ls.AUTH_MODE_ANONYMOUS="anonymous",Ls.AUTH_MODE_AUTO="auto",Ls.AUTH_MODE_IMMEDIATE="immediate",Ls.AUTH_MODE_NO_PROMPT="no-prompt",Ls);u([p()],Q.prototype,"access",void 0),u([p()],Q.prototype,"allSSL",void 0),u([p()],Q.prototype,"authMode",void 0),u([p()],Q.prototype,"authorizedCrossOriginDomains",void 0),u([et("authorizedCrossOriginDomains")],Q.prototype,"readAuthorizedCrossOriginDomains",null),u([p()],Q.prototype,"basemapGalleryGroupQuery",void 0),u([p({json:{name:"3DBasemapGalleryGroupQuery"}})],Q.prototype,"basemapGalleryGroupQuery3D",void 0),u([p({json:{name:"g3DTilesGalleryGroupQuery"}})],Q.prototype,"g3DTilesGalleryGroupQuery",void 0),u([p({json:{name:"g3dTilesEnabled"}})],Q.prototype,"g3dTilesEnabled",void 0),u([p()],Q.prototype,"bingKey",void 0),u([p()],Q.prototype,"canListApps",void 0),u([p()],Q.prototype,"canListData",void 0),u([p()],Q.prototype,"canListPreProvisionedItems",void 0),u([p()],Q.prototype,"canProvisionDirectPurchase",void 0),u([p()],Q.prototype,"canSearchPublic",void 0),u([p()],Q.prototype,"canShareBingPublic",void 0),u([p()],Q.prototype,"canSharePublic",void 0),u([p()],Q.prototype,"canSignInArcGIS",void 0),u([p()],Q.prototype,"canSignInIDP",void 0),u([p()],Q.prototype,"colorSetsGroupQuery",void 0),u([p()],Q.prototype,"commentsEnabled",void 0),u([p({type:Date})],Q.prototype,"created",void 0),u([p()],Q.prototype,"credential",void 0),u([p()],Q.prototype,"culture",void 0),u([p()],Q.prototype,"currentVersion",void 0),u([p()],Q.prototype,"customBaseUrl",void 0),u([p()],Q.prototype,"default3DBasemapQuery",void 0),u([p()],Q.prototype,"defaultBasemap",void 0),u([et("defaultBasemap")],Q.prototype,"readDefaultBasemap",null),u([p()],Q.prototype,"defaultDevBasemap",void 0),u([et("defaultDevBasemap")],Q.prototype,"readDefaultDevBasemap",null),u([p({type:We})],Q.prototype,"defaultExtent",void 0),u([p()],Q.prototype,"defaultVectorBasemap",void 0),u([et("defaultVectorBasemap")],Q.prototype,"readDefaultVectorBasemap",null),u([p()],Q.prototype,"description",void 0),u([p()],Q.prototype,"devBasemapGalleryGroupQuery",void 0),u([p()],Q.prototype,"eueiEnabled",void 0),u([p({readOnly:!0})],Q.prototype,"extraQuery",null),u([p()],Q.prototype,"featuredGroups",void 0),u([p()],Q.prototype,"featuredItemsGroupQuery",void 0),u([p()],Q.prototype,"galleryTemplatesGroupQuery",void 0),u([p()],Q.prototype,"layoutGroupQuery",void 0),u([p()],Q.prototype,"livingAtlasGroupQuery",void 0),u([p({readOnly:!0})],Q.prototype,"hasAPIKey",null),u([p()],Q.prototype,"hasCategorySchema",void 0),u([p()],Q.prototype,"hasClassificationSchema",void 0),u([p()],Q.prototype,"helpBase",void 0),u([p()],Q.prototype,"helperServices",void 0),u([p()],Q.prototype,"helpMap",void 0),u([p()],Q.prototype,"homePageFeaturedContent",void 0),u([p()],Q.prototype,"homePageFeaturedContentCount",void 0),u([p()],Q.prototype,"httpPort",void 0),u([p()],Q.prototype,"httpsPort",void 0),u([p()],Q.prototype,"id",void 0),u([p()],Q.prototype,"ipCntryCode",void 0),u([p({readOnly:!0})],Q.prototype,"isOrganization",null),u([p()],Q.prototype,"isPortal",void 0),u([p()],Q.prototype,"isReadOnly",void 0),u([p({readOnly:!0})],Q.prototype,"itemPageUrl",null),u([p()],Q.prototype,"layerTemplatesGroupQuery",void 0),u([p()],Q.prototype,"maxTokenExpirationMinutes",void 0),u([p({type:Date})],Q.prototype,"modified",void 0),u([p()],Q.prototype,"name",void 0),u([p()],Q.prototype,"portalHostname",void 0),u([p()],Q.prototype,"portalMode",void 0),u([p()],Q.prototype,"portalProperties",void 0),u([p()],Q.prototype,"region",void 0),u([p()],Q.prototype,"recycleBinEnabled",void 0),u([p({readOnly:!0})],Q.prototype,"restUrl",null),u([p()],Q.prototype,"rotatorPanels",void 0),u([p()],Q.prototype,"showHomePageDescription",void 0),u([p()],Q.prototype,"sourceJSON",void 0),u([p()],Q.prototype,"staticImagesUrl",void 0),u([p({json:{name:"2DStylesGroupQuery"}})],Q.prototype,"stylesGroupQuery2d",void 0),u([p({json:{name:"stylesGroupQuery"}})],Q.prototype,"stylesGroupQuery3d",void 0),u([p()],Q.prototype,"supportsHostedServices",void 0),u([p()],Q.prototype,"symbolSetsGroupQuery",void 0),u([p()],Q.prototype,"templatesGroupQuery",void 0),u([p()],Q.prototype,"thumbnail",void 0),u([p({readOnly:!0})],Q.prototype,"thumbnailUrl",null),u([p()],Q.prototype,"units",void 0),u([p()],Q.prototype,"url",void 0),u([p()],Q.prototype,"urlKey",void 0),u([et("urlKey")],Q.prototype,"readUrlKey",null),u([p()],Q.prototype,"user",void 0),u([et("user")],Q.prototype,"readUser",null),u([p()],Q.prototype,"use3dBasemaps",void 0),u([p()],Q.prototype,"useDefault3dBasemap",void 0),u([p()],Q.prototype,"useStandardizedQuery",void 0),u([p()],Q.prototype,"useVectorBasemaps",void 0),u([p()],Q.prototype,"vectorBasemapGalleryGroupQuery",void 0),Q=Br=u([R("esri.portal.Portal")],Q);const gA=new FinalizationRegistry(t=>{t.remove()});function Dte(t){const e=bt;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let mo=class extends Te{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:yA(e.path,e.portalItem)}:e}set path(e){e!=null&&Pr(e)?ue.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return yA(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const r=this.cdnUrl;if(r==null)throw new K("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey,_ts:i?.cacheBust?Date.now():null},signal:i?.signal})}async update(e,i){const{addOrUpdateResources:r}=await ae(()=>import("./c-resourceUtils-Bsfzqbpe.js"),[]);return await r(this.portalItem,[{resource:this,content:e,compress:i?.compress,access:i?.access}],"update",i),this}hasPath(){return this.path!=null}};function yA(t,e){return t==null?t:(t=t.replace(/^\/+/,""),e!=null&&Pr(t)&&(t=Z2(t,e.itemUrl)),t?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}u([p()],mo.prototype,"portalItem",void 0),u([p({type:String,value:null})],mo.prototype,"path",null),u([vi("path")],mo.prototype,"_castPath",null),u([p({type:String,readOnly:!0})],mo.prototype,"url",null),u([p({type:String,readOnly:!0})],mo.prototype,"cdnUrl",null),u([p({type:String,readOnly:!0})],mo.prototype,"itemRelativeUrl",null),mo=u([R("esri.portal.PortalItemResource")],mo);let hc=class extends Te{constructor(e){super(e),this.created=null,this.rating=null}};u([p({type:Date})],hc.prototype,"created",void 0),u([p()],hc.prototype,"rating",void 0),hc=u([R("esri.portal.PortalRating")],hc);var Vl;const zte=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),Nte=new Set(["KML","GeoJson","CSV"]);let Fe=Vl=class extends fl(dg){static from(t){return D1(Vl,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Geocoding Service"?i="Locator":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t?.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="Raster function template"?i="Raster Function Template":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"?i="Excalibur Project":t==="3DTiles Service"?i="3D tiles layer":t==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new We(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){const t=this.type?.toLowerCase()||"",e=this.typeKeywords||[],i="esri/images/portal/",r="16";let n,s=!1,o=!1,a=!1,l=!1,d=!1,h=!1,f=!1,y=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(s=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(o=e.includes("Table"),a=e.includes("Route Layer"),l=e.includes("Markup"),d=e.includes("Spatiotemporal"),h=e.includes("UtilityNetwork"),n=d&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":d?"spatiotemporal":h?"utilitynetwork":s?"featureshosted":"features"):t==="map service"||t==="wms"||t==="wmts"?(d=e.includes("Spatiotemporal"),f=e.includes("Relational"),n=d||f?"mapimages":s||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages"):n=t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?e.includes("3DObject")?"3dobjecttileslayer":e.includes("IntegratedMesh")?"integratedmeshtileslayer":e.includes("GaussianSplat")?"gaussiansplatlayer":"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?n="maps":t==="web scene"?n=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?n="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?n="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?n="mapsgray":t==="service definition"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?n="datafiles":t==="360 vr experience"?n="360vr":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?n="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?n="addindesktop":t==="pdf"?n="pdf":t==="microsoft word"?n="word":t==="microsoft excel"?n="excel":t==="microsoft powerpoint"?n="ppt":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?n="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?n="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?n="layersgray":t==="analysis model"?n="analysismodel":t==="scene package"?n="scenepackage":t==="3dtiles package"?n="3dtileslayerpackage":t==="3dtiles service"?n="3dtileslayer":t==="mobile scene package"?n="mobilescenepackage":t==="tile package"||t==="compact tile package"?n="tilepackage":t==="task file"?n="taskfile":t==="report template"?n="report-template":t==="statistical data collection"?n="statisticaldatacollection":t==="insights workbook"?n="workbook":t==="insights model"?n="insightsmodel":t==="insights page"?n="insightspage":t==="insights theme"?n="insightstheme":t==="hub initiative"?n="hubinitiative":t==="hub page"?n="hubpage":t==="hub site application"?n="hubsite":t==="hub event"?n="hubevent":t==="hub project"?n="hubproject":t==="relational database connection"?n="relationaldatabaseconnection":t==="big data file share"?n="datastorecollection":t==="image collection"?n="imagecollection":t==="desktop style"?n="desktopstyle":t==="style"?n=e.includes("Dictionary")?"dictionarystyle":"style":t==="dashboard"?n="dashboard":t==="raster function template"?n="rasterprocessingtemplate":t==="vector tile package"?n="vectortilepackage":t==="ortho mapping project"?n="orthomappingproject":t==="ortho mapping template"?n="orthomappingtemplate":t==="solution"?n="solutions":t==="geopackage"?n="geopackage":t==="deep learning package"?n="deeplearningpackage":t==="real time analytic"?n="realtimeanalytics":t==="reality mapping project"?n="realitymappingproject":t==="big data analytic"?n="bigdataanalytics":t==="feed"?n="feed":t==="excalibur imagery project"?n="excaliburimageryproject":t==="notebook"?n="notebook":t==="storymap"?n="storymap":t==="survey123 add in"?n="survey123addin":t==="mission"?n="mission":t==="mission report"?n="missionreport":t==="mission template"?n="missiontemplate":t==="quickcapture project"?n="quickcaptureproject":t==="pro report"?n="proreport":t==="pro report template"?n="proreporttemplate":t==="urban model"?n="urbanmodel":t==="urban project"?n="urbanproject":t==="web experience"?n="experiencebuilder":t==="web experience template"?n="webexperiencetemplate":t==="experience builder widget"?n="experiencebuilderwidget":t==="experience builder widget package"?n="experiencebuilderwidgetpackage":t==="workflow"?n="workflow":t==="kernel gateway connection"?n="kernelgatewayconnection":t==="insights script"?n="insightsscript":t==="hub initiative template"?n="hubinitiativetemplate":t==="storymap theme"?n="storymaptheme":t==="knowledge graph"?n="knowledgegraph":t==="knowledge graph layer"?n="knowledgegraphlayer":t==="knowledge studio project"?n="knowledgestudio":t==="native application"?n="nativeapp":t==="native application installer"?n="nativeappinstaller":t==="web link chart"?n="linkchart":t==="knowledge graph web investigation"?n="investigation":t==="ogcfeatureserver"?n="features":t==="pro presentation"?n="propresentation":t==="pro project"?n="proproject":t==="insights workbook package"?n="insightsworkbookpackage":t==="apache parquet"?n="apacheparquet":t==="notebook code snippet library"?n="notebookcodesnippets":t==="suitability model"?n="suitabilitymodel":t==="esri classifier definition"?n="classifierdefinition":t==="esri classification schema"?n="classificationschema":t==="insights data engineering workbook"?n="dataengineeringworkbook":t==="insights data engineering model"?n="dataengineeringmodel":t==="deep learning studio project"?n="deeplearningproject":t==="discussion"?n="discussion":t==="allsource project"?n="allsourceproject":t==="api key"?n="apikey":t==="data pipeline"?n="datapipelines":t==="group layer"?(y=e.includes("Map"),n=y?"layergroup2d":"layergroup"):n=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":t==="csv"?"csv":t==="image"?"image":t==="xr experience"?"xrexperience":"maps",n?Yt(i+n+r+".png"):null}get isLayer(){return this.type!=null&&zte.has(this.type)}get itemCdnUrl(){return X2(this.itemUrl)}get itemPageUrl(){const t=this.portal?.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){const t=this.portal?.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get loaded(){return super.loaded}get thumbnailUrl(){const t=this.itemUrl,e=this.thumbnail;return t&&e?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`)??null:null}get userItemUrl(){const t=this.portal?.restUrl;if(!t)return null;const e=this.owner||this.portal?.user?.id;return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=Q.getDefault()),i=e.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}},i=t instanceof hc?t.rating:t;return i==null||isNaN(i)||typeof t!="number"||(e.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new hc({rating:i,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:X(this.applicationProxies),avgRating:this.avgRating,categories:X(this.categories),classification:X(this.classification),created:X(this.created),culture:this.culture,description:this.description,extent:X(this.extent),groupCategories:X(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:X(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:X(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:X(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:X(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new Vl({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){const t=this.toJSON();for(const e of["tags","typeKeywords","categories"])t[e]=t[e]?.join(", ");for(const e of["extent","classification"]){const i=t[e];i&&(t[e]=JSON.stringify(i))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new hc(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},Vl)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t?.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new K("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new K("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:r,folder:n,tags:s,title:o}=t||{},a={method:"post",query:{copyPrivateResources:r==="all",folder:typeof n=="string"?n:n?.id,includeResources:!!r,tags:s?.join(","),title:o}},{itemId:l}=await e.request(`${i}/copy`,a);return new Vl({id:l,portal:e})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t.thumbnail,i=t.filename,r={method:"post"};if(typeof e=="string")tu(e)?r.query={data:e}:r.query={url:$n(e)},i!=null&&(r.query.filename=i);else{const n=new FormData;i!=null?n.append("file",e,i):n.append("file",e),r.body=n}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new K("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await ae(()=>import("./c-resourceUtils-Bsfzqbpe.js"),[]);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResources:r}=await ae(()=>import("./c-resourceUtils-Bsfzqbpe.js"),[]);return t.portalItem=this,await r(this,[{resource:t,content:e,compress:i?.compress,access:i?.access}],"add",i),t}async removeResource(t,e){const{removeResource:i}=await ae(()=>import("./c-resourceUtils-Bsfzqbpe.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new K("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await ae(()=>import("./c-resourceUtils-Bsfzqbpe.js"),[]);return e(this,t)}resourceFromPath(t){return new mo({portalItem:this,path:t})}toJSON(){const t=this.extent,e={accessInformation:this.accessInformation,categories:X(this.categories),classification:X(this.classification),created:this.created?.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:X(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:X(this.typeKeywords),url:this.url};return DG(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Vl({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};u([p({type:["private","shared","org","public"]})],Fe.prototype,"access",void 0),u([p()],Fe.prototype,"accessInformation",void 0),u([p({type:String})],Fe.prototype,"apiKey",void 0),u([p({json:{read:{source:"appProxies"}}})],Fe.prototype,"applicationProxies",void 0),u([p()],Fe.prototype,"avgRating",void 0),u([p()],Fe.prototype,"categories",void 0),u([p()],Fe.prototype,"classification",void 0),u([p({type:Date})],Fe.prototype,"created",void 0),u([p()],Fe.prototype,"culture",void 0),u([p()],Fe.prototype,"description",void 0),u([p({readOnly:!0})],Fe.prototype,"displayName",null),u([p({type:We})],Fe.prototype,"extent",void 0),u([et("extent")],Fe.prototype,"readExtent",null),u([p()],Fe.prototype,"groupCategories",void 0),u([p({readOnly:!0})],Fe.prototype,"iconUrl",null),u([p()],Fe.prototype,"id",void 0),u([p({readOnly:!0})],Fe.prototype,"isLayer",null),u([p({type:Boolean,readOnly:!0})],Fe.prototype,"isOrgItem",void 0),u([p()],Fe.prototype,"itemControl",void 0),u([p({readOnly:!0})],Fe.prototype,"itemPageUrl",null),u([p({readOnly:!0})],Fe.prototype,"itemUrl",null),u([p()],Fe.prototype,"licenseInfo",void 0),u([p({type:Date})],Fe.prototype,"modified",void 0),u([p()],Fe.prototype,"name",void 0),u([p()],Fe.prototype,"numComments",void 0),u([p()],Fe.prototype,"numRatings",void 0),u([p()],Fe.prototype,"numViews",void 0),u([p()],Fe.prototype,"owner",void 0),u([p()],Fe.prototype,"ownerFolder",void 0),u([p({type:Q})],Fe.prototype,"portal",void 0),u([p()],Fe.prototype,"screenshots",void 0),u([p()],Fe.prototype,"size",void 0),u([p()],Fe.prototype,"snippet",void 0),u([p()],Fe.prototype,"sourceJSON",void 0),u([p({type:String})],Fe.prototype,"sourceUrl",void 0),u([p({type:String})],Fe.prototype,"spatialReference",void 0),u([p()],Fe.prototype,"tags",void 0),u([p()],Fe.prototype,"thumbnail",void 0),u([p({readOnly:!0})],Fe.prototype,"thumbnailUrl",null),u([p()],Fe.prototype,"title",void 0),u([p()],Fe.prototype,"type",void 0),u([p()],Fe.prototype,"typeKeywords",void 0),u([p({type:String,json:{read(t,e){if(Nte.has(e.type)){const i=this.portal?.restUrl;t||=i&&this.id?`${i}/content/items/${this.id}/data`:null}return t}}})],Fe.prototype,"url",void 0),u([p({readOnly:!0})],Fe.prototype,"userItemUrl",null),Fe=Vl=u([R("esri.portal.PortalItem")],Fe);const ZN=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Fe}},Symbol.toStringTag,{value:"Module"}));async function Lte(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await t4("esri/t9n/basemaps");return i[t]||i[e]}const dS={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-hillshade",url:"https://services.arcgisonline.com/ArcGIS/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1},{id:"terrain-base",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/33064a20de0c48d2bb61efa8faca93a8/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Terrain Base"},{id:"terrain-reference",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/14fbc125ccc9488888b014db09f35f67/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Reference Reference",isReference:!0}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/94329802cbfa44a18f423e6f1a0b875c/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Yt("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Yt("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Yt("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Yt("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Yt("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Buildings_v1/SceneServer",itemId:"cd33b09dde0a419c986ca1a78a5fc06d",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Yt("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]}};let go=class extends Te{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let i=e==="local"||e==="global"?e:i4(e??Mn())??"global";return i=i==="no"?"nb":i,i}};u([p()],go.prototype,"apiKey",void 0),u([p()],go.prototype,"id",void 0),u([p()],go.prototype,"language",void 0),u([p()],go.prototype,"places",void 0),u([p()],go.prototype,"serviceUrl",void 0),u([p()],go.prototype,"worldview",void 0),go=u([R("esri.support.BasemapStyle")],go);const Fte=go,YN=Symbol("BasemapInstance");function kbe(t){return t!=null&&typeof t=="object"&&YN in t}let JN=0;const bE=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+JN++})}};return i=u([R("esri.core.Identifiable")],i),i},wE=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:JN++})}};return i=u([R("esri.core.Identifiable.NumericIdentifiable")],i),i};bE(class{});async function jte(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await ae(async()=>{const{fromItem:r}=await import("./c-portalLayers-ian1Cnyd.js");return{fromItem:r}},__vite__mapDeps([15,16,17,18,19,13]));try{return await i(e)}catch(r){const n=e?.portalItem,s=n?.id||"unset",o=n?.portal?.url||Qe.portalUrl;throw ue.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",r),r}}const vA={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function z_(t,e,i,r=Ys){const n=new gs(V2(r)),s=Pe.fromJSDate(t,{zone:n}),o=i==="decades"||i==="centuries"?"year":KN(i);return i==="decades"&&(e*=10),i==="centuries"&&(e*=100),s.plus({[o]:e}).toJSDate()}function Tbe(t,e,i="milliseconds"){const r=t.getTime(),n=Ute(e,i,"milliseconds");return new Date(r+n)}function bA(t,e,i=Ys){const r=new gs(V2(i)),n=Pe.fromJSDate(t,{zone:r});if(e==="decades"||e==="centuries"){const o=n.startOf("year"),{year:a}=o,l=a-a%(e==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=KN(e);return n.startOf(s).toJSDate()}function Ute(t,e,i){return t===0?0:t*vA[e]/vA[i]}function Ebe(t,e){return t&&e?t.intersection(e):t||e}function KN(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var dn,Ld;let nr=(Ld=class extends be{static get allTime(){return wA}static get empty(){return Vte}static fromArray(e){return new dn({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,i){return i.end!=null?new Date(i.end):null}writeEnd(e,i){i.end=e?.getTime()??null}get isAllTime(){return this.equals(dn.allTime)}get isEmpty(){return this.equals(dn.empty)}readStart(e,i){return i.start!=null?new Date(i.start):null}writeStart(e,i){i.start=e?.getTime()??null}clone(){return new dn({end:this.end,start:this.start})}equals(e){if(!e)return!1;const i=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,s=e.end?.getTime()??e.end;return i===n&&r===s}expandTo(e,i=Ys){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=bA(r,e,i));let n=this.end;if(n){const s=bA(n,e,i);n=n.getTime()===s.getTime()?s:z_(s,1,e,i)}return new dn({start:r,end:n})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return dn.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const i=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,s=e.end?.getTime()??1/0;let o,a;return n>=i&&n<=r?o=n:i>=n&&i<=s&&(o=i),r>=n&&r<=s?a=r:s>=i&&s<=r&&(a=s),o==null||a==null||isNaN(o)||isNaN(a)?dn.empty:new dn({start:o===-1/0?null:new Date(o),end:a===1/0?null:new Date(a)})}offset(e,i,r=Ys){if(this.isEmpty||this.isAllTime)return this.clone();const n=new dn,{start:s,end:o}=this;return s!=null&&(n.start=z_(s,e,i,r)),o!=null&&(n.end=z_(o,e,i,r)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return wA.clone();const i=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new dn({start:i,end:r})}},dn=Ld,Ld);u([p({type:Date,json:{write:{allowNull:!0}}})],nr.prototype,"end",void 0),u([et("end")],nr.prototype,"readEnd",null),u([Ye("end")],nr.prototype,"writeEnd",null),u([p({readOnly:!0,json:{read:!1}})],nr.prototype,"isAllTime",null),u([p({readOnly:!0,json:{read:!1}})],nr.prototype,"isEmpty",null),u([p({type:Date,json:{write:{allowNull:!0}}})],nr.prototype,"start",void 0),u([et("start")],nr.prototype,"readStart",null),u([Ye("start")],nr.prototype,"writeStart",null),nr=dn=u([R("esri.time.TimeExtent")],nr);const wA=new nr,Vte=new nr({start:void 0,end:void 0});let Bte=0,Mt=class extends G1(bE(dg)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new We(-180,-90,180,90,Se.WGS84),this.id=Date.now().toString(16)+"-layer-"+Bte++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Se.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const i=typeof e=="string"?{url:e}:e;return(await ae(async()=>{const{fromUrl:r}=await import("./c-arcgisLayers-Ca0kbuhf.js");return{fromUrl:r}},__vite__mapDeps([20,16,17,19]))).fromUrl(i)}static fromPortalItem(e){return jte(e)}initialize(){this.when().catch(e=>{Ki(e)||ue.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}destroy(){const{parent:e}=this;e&&(this.parent=null,e.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:e}=this;e&&(e.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return dr(this.url)}createLayerView(e,i){return Promise.reject(new K("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Xt(e,{query:{f:"json"},responseType:"json"})).data;throw new K("layer:no-attribution-data","Layer does not have attribution data")}};u([p({type:String})],Mt.prototype,"attributionDataUrl",void 0),u([p({readOnly:!0})],Mt.prototype,"effectiveVisible",null),u([p({type:We})],Mt.prototype,"fullExtent",void 0),u([p({readOnly:!0})],Mt.prototype,"hasAttributionData",null),u([p({type:String,clonable:!1})],Mt.prototype,"id",void 0),u([p({type:Boolean,nonNullable:!0})],Mt.prototype,"legendEnabled",void 0),u([p({type:["show","hide","hide-children"]})],Mt.prototype,"listMode",void 0),u([p({type:Number,range:{min:0,max:1},nonNullable:!0})],Mt.prototype,"opacity",void 0),u([p({clonable:!1})],Mt.prototype,"parent",void 0),u([p({readOnly:!0})],Mt.prototype,"parsedUrl",null),u([p({type:Boolean,readOnly:!0})],Mt.prototype,"persistenceEnabled",void 0),u([p({type:Boolean})],Mt.prototype,"popupEnabled",void 0),u([p({type:Boolean})],Mt.prototype,"attributionVisible",void 0),u([p({type:Se})],Mt.prototype,"spatialReference",void 0),u([p({type:String})],Mt.prototype,"title",void 0),u([p({readOnly:!0,json:{read:!1}})],Mt.prototype,"type",void 0),u([p()],Mt.prototype,"url",void 0),u([p({type:nr})],Mt.prototype,"visibilityTimeExtent",void 0),u([p({type:Boolean,nonNullable:!0})],Mt.prototype,"visible",void 0),Mt=u([R("esri.layers.Layer")],Mt);const My=new WeakMap;function XN(t){return!t.destroyed&&(My.has(t)||t.addHandles([De(()=>{const{parent:e}=t;return!!(e&&e instanceof Mt)&&(e.type==="catalog-dynamic-group"||XN(e))},e=>My.set(t,e),Ui),Je(()=>My.delete(t))]),My.get(t))}function qte(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function Cbe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function Hte(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function Gte(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function Ibe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function _A(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function Nu(t){return t?.type==="subtype-sublayer"}const Abe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Pbe(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function Obe(t){return t.type==="integrated-mesh"||t.type==="integrated-mesh-3dtiles"}function rw(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function Rbe(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}function Wte(t){return t?.type==="feature"&&t.source?.type==="feature-layer"}function Dbe(t){return qte(t)&&Wte(t)}async function zbe(t,e){const i=bt?.findServerInfo(t);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=t.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const n=`${t.slice(0,r)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await Xt(n,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function Zte(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Yte(t){return Zte(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function Jte(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function Kte(t){return!!Jte(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function Xte(t,e){return null}function Nbe(t){return null}function Qte(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function Lbe(t,e){!e||!Qte(t)||Xte(t.url)}const eie=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),tie=new Set(["integrated-mesh-3dtiles"]),QN=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","parquet","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),iie=new Set([...QN,"link-chart"]);function rie(t){switch(t.layerContainerType){case"basemap-base-layers":return eie;case"basemap-ground-layers":return tie;case"operational-layers":return t.origin==="link-chart"?iie:QN;default:return null}}function nie(t,e){if(e.restrictedWebMapWriting){const i=rie(e);return i==null||i.has(t.type)&&!rw(t)}return!0}function sie(t,e){if(e)if(rw(t)){const i=A1("featureCollection.layers",e),r=i?.[0]?.layerDefinition;r&&xA(t,r)}else t.type!=="group"&&xA(t,e)}function xA(t,e){"maxScale"in t&&(e.maxScale=Z0(t.maxScale)??void 0),"minScale"in t&&(e.minScale=Z0(t.minScale)??void 0)}function oie(t,e){if(sie(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=Z0(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(rw(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function N_(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i?.messages&&i.messages.push(new K("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(rw(t)&&!t.isTable)e=t.resourceInfo;else if(nie(t,i)){const r={};return t.write(r,i)?r:null}return e!=null&&oie(t,e=X(e)),e}var $A,Lu,Oc;let gr=(Oc=class extends fl(dg){constructor(e){super(e),this[$A]=!0,this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.type="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Lu.idCounter++,this.baseLayers=new pe,this.referenceLayers=new pe,this.groundLayers=new pe;const i=a=>{const{parent:l}=a;l&&l!==this&&"remove"in l&&l.remove?.(a),a.parent=this,a.type!=="elevation"&&a.type!=="integrated-mesh-3dtiles"||ue.getLogger(this).error(`Layer '${a.title}, id:${a.id}' of type '${a.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=a=>{const{parent:l}=a;l&&l!==this&&"remove"in l&&l.remove?.(a),a.parent=this},n=a=>{const l=a.item;return l.parent===this?(ue.getLogger(this).error(`Layer '${l.title}, id:${l.id}' of type '${l.type}' already a ground layer, second add will be ignored.`),void a.preventDefault()):l.type!=="integrated-mesh-3dtiles"&&l.type!=="integrated-mesh"?(ue.getLogger(this).error(`Layer '${l.title}, id:${l.id}' of type '${l.type}' is not supported as a ground layer and will therefore be ignored.`),void a.preventDefault()):void 0},s=a=>{a.parent=null},o=a=>{a.parent===this&&(a.parent=null)};this.addHandles([this.baseLayers.on("after-add",a=>i(a.item)),this.baseLayers.on("after-remove",a=>s(a.item)),this.referenceLayers.on("after-add",a=>i(a.item)),this.referenceLayers.on("after-remove",a=>s(a.item)),this.groundLayers.on("before-add",n),this.groundLayers.on("after-add",a=>r(a.item)),this.groundLayers.on("after-remove",a=>o(a.item))])}initialize(){this.when().catch(e=>{ue.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const n of e)n.destroyed||n.destroy();const i=this.groundLayers.toArray();for(const n of i)n.destroyed||n.destroy();const r=this.referenceLayers.toArray();for(const n of r)n.destroyed||n.destroy();this.baseLayers.destroy(),this.groundLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=Ut(this.portalItem)}removeChildLayer(e){for(const i of[this.baseLayers,this.referenceLayers,this.groundLayers])i.remove(e)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Vs(e,this._get("baseLayers")))}_writeBaseLayers(e,i,r){const n=[];e&&(r={...r,layerContainerType:"basemap-base-layers"},this.baseLayers.forEach(s=>{const o=N_(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);o!=null&&n.push(o)}),this.referenceLayers.forEach(s=>{const o=N_(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);o!=null&&(s.type!=="scene"&&(o.isReference=!0),n.push(o))})),i.baseMapLayers=n}set groundLayers(e){this._set("groundLayers",Vs(e,this._get("groundLayers")))}_writeGroundLayers(e,i,r){const n=[];e&&(r={...r,layerContainerType:"basemap-ground-layers"},this.groundLayers.forEach(s=>{const o=N_(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);o!=null&&n.push(o)}),n.length>0&&(i.groundLayers=n))}get loaded(){return super.loaded}set referenceLayers(e){this._set("referenceLayers",Vs(e,this._get("referenceLayers")))}writeTitle(e,i){i.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return _N(this,e=>{e(this.baseLayers,this.groundLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(i=>Pf(i)?i.clone():i),groundLayers:this.groundLayers.map(i=>Pf(i)?i.clone():i),referenceLayers:this.referenceLayers.map(i=>Pf(i)?i.clone():i)};return this.loaded&&(e.loadStatus="loaded"),new Lu({resourceInfo:this.resourceInfo}).set(e)}read(e,i){this.resourceInfo||this._set("resourceInfo",{data:e,context:i}),super.read(e,i)}write(e,i){return e=e||{},i?.origin||(i={origin:"web-map",...i}),super.write(e,i),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=X(r);return n.url&&Js(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&Js(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:i,portalItem:r,style:n}=this;Pt(e);const s=[];if(i){const o=i.context?i.context.url:null;if(s.push(this._loadLayersFromJSON(i.data,o,e)),i.data.id&&!i.data.title){const a=i.data.id;s.push(Lte(a).then(l=>{l&&this.read({title:l},i.context)}))}}else r?s.push(this._loadFromItem(r,e)):n&&s.push(this._loadFromStylesService(n,e));await Promise.all(s)}async _loadLayersFromJSON(e,i,r){const n=this.resourceInfo?.context,s=this.portalItem?.portal||n?.portal||null,o=lie[n?.origin||""]??"web-map",{populateOperationalLayers:a}=await ae(async()=>{const{populateOperationalLayers:d}=await import("./c-layersCreator-DfZtFQRm.js");return{populateOperationalLayers:d}},__vite__mapDeps([21,18,17,16,19,15,13,22])),l=[];if(Pt(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const d={context:{...n,origin:o,url:i,portal:s,layerContainerType:"basemap-base-layers"},defaultLayerType:"DefaultTileLayer"},h=b=>o==="web-scene"&&b.layerType==="ArcGISSceneServiceLayer"||b.isReference,f=a(this.baseLayers,e.baseMapLayers.filter(b=>!h(b)),d);l.push(f);const y=a(this.referenceLayers,e.baseMapLayers.filter(h),d);l.push(y)}if(e.groundLayers&&Array.isArray(e.groundLayers)){const d={context:{...n,origin:o,url:i,portal:s,layerContainerType:"basemap-ground-layers"},defaultLayerType:"IntegratedMesh3DTilesLayer"},h=a(this.groundLayers,e.groundLayers,d);l.push(h)}await Promise.allSettled(l)}async _loadFromItem(e,i){const r=await e.load(i),n=await r.fetchData("json",i),s=dr(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:aie[e.type||""]??"web-map",portal:e.portal||Q.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Q.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,i)}async _loadFromStylesService(e,i){const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,n=`${r}/styles/${e.id}/self`,s=`${r}/webmaps/${e.id}`,o=e.apiKey??Qe.apiKeys.basemapStyles,[a,l]=await Promise.all([(await Xt(n,{query:{token:o},signal:i?.signal})).data,(await Xt(s,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:o},signal:i?.signal})).data]);this.thumbnailUrl??=a.thumbnailUrl;const d=dr(s);if(this._set("resourceInfo",{data:l.baseMap??{},context:{origin:"web-map",url:d}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:l.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,d,i),o)for(const h of[...this.baseLayers,...this.groundLayers,...this.referenceLayers])"apiKey"in h&&(h.apiKey=o)}static fromId(e){const i=dS[e];return i?i.itemId?new Lu({portalItem:{id:i.itemId,portal:{url:"https://www.arcgis.com"}}}):Lu.fromJSON(i,i.is3d?{origin:"web-scene",portal:new Q({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}},$A=YN,Lu=Oc,Oc.idCounter=0,Oc);u([p({json:{read:!1,write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,r){this._writeBaseLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:pe}},writer(t,e,i,r){this._writeBaseLayers(t,e,r)}}}}}})],gr.prototype,"baseLayers",null),u([p({json:{read:!1,write:{ignoreOrigin:!0,target:"groundLayers",writer(t,e,i,r){this._writeGroundLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{groundLayers:{type:pe}},writer(t,e,i,r){this._writeGroundLayers(t,e,r)}}}}}})],gr.prototype,"groundLayers",null),u([p({type:String,json:{origins:{"web-scene":{write:!0}}}})],gr.prototype,"id",void 0),u([p({type:Fe})],gr.prototype,"portalItem",void 0),u([p()],gr.prototype,"referenceLayers",null),u([p({readOnly:!0})],gr.prototype,"resourceInfo",void 0),u([p({type:Se})],gr.prototype,"spatialReference",void 0),u([p({type:Fte})],gr.prototype,"style",void 0),u([p()],gr.prototype,"thumbnailUrl",void 0),u([p({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],gr.prototype,"title",void 0),u([Ye("title")],gr.prototype,"writeTitle",null),gr=Lu=u([R("esri.Basemap")],gr);const aie={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},lie={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Lf=gr,cie=Object.freeze(Object.defineProperty({__proto__:null,default:Lf},Symbol.toStringTag,{value:"Module"})),pb={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function eL(t){return!!pb[t]||!!pb[t.toLowerCase()]}function _E(t){return pb[t]??pb[t.toLowerCase()]}function uie(t){return[..._E(t)]}function L_(t,e,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?t+(e-t)*r:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function tL(t,e,i,r=1){const n=(t%360+360)%360/360,s=i<=.5?i*(e+1):i+e-i*e,o=2*i-s;return[Math.round(255*L_(o,s,n+1/3)),Math.round(255*L_(o,s,n)),Math.round(255*L_(o,s,n-1/3)),r]}function die(t){const e=t.length>5,i=e?8:4,r=(1<<i)-1,n=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&r,o>>=i,a[3]=n*l/255),l=o&r,o>>=i,a[2]=n*l,l=o&r,o>>=i,a[1]=n*l,l=o&r,o>>=i,a[0]=n*l,a}function iL(t){if(!t.startsWith("#")||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),r=parseInt(t.slice(3,4),16),n=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,i+16*i,r+16*r,(n+16*n)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function rL(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const i=e[2].split(/\s*,\s*/),r=e[1];if(r==="rgb"&&i.length===3||r==="rgba"&&i.length===4){if(i[0].endsWith("%")){const n=i.map(s=>2.56*parseFloat(s));return i.length===4&&(n[3]=parseFloat(i[3])),SA(n)}return SA(i.map(n=>parseFloat(n)))}if(r==="hsl"&&i.length===3||r==="hsla"&&i.length===4)return tL(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3]??"1"))}return null}function SA(t){return t[0]=Td(t[0]),t[1]=Td(t[1]),t[2]=Td(t[2]),t[3]=t.length===4?sL(t[3]):1,t}function nL(t){let e=eL(t)?_E(t):null;return e??=rL(t),e??=iL(t),e}function Fbe(t){const e=nL(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function sL(t){return oL(t,0,1)}function Td(t){return Math.round(oL(t,0,255))}function oL(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}const aL=2.2,hie=1/aL;function jbe(t){return t**aL}function Ube(t){return t**hie}const kA=new Float32Array(1);function Vbe(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function An(t,e,i){return Math.min(Math.max(t,e),i)}function Bbe(t){return!(t&t-1)}function qbe(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function Qp(t,e,i){return t+(e-t)*i}function Hbe(t,e,i,r,n){return Qp(r,n,(t-e)/(i-e))}function pg(t){return t*Math.PI/180}function lL(t){return 180*t/Math.PI}function Gbe(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function Wbe(t){return Math.acos(An(t,-1,1))}function pie(t){return Math.asin(An(t,-1,1))}function Ja(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}function Zbe(t,e,i=1e-6){return!Ja(t,e,i)&&t>e}function Ybe(t,e,i=1e-6){return!Ja(t,e,i)&&t<e}function Jbe(t,e,i=1e-6){return Ja(t,e,i)||t>e}const fb=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function hS(t){return fb.setFloat64(0,t),fb.getBigInt64(0)}function fie(t){return fb.setBigInt64(0,t),fb.getFloat64(0)}const xv=1000000n,mie=cL(1);function cL(t){const e=hS(t=Math.abs(t)),i=fie(e<=xv?xv:e-xv);return Math.abs(t-i)}function Kbe(t,e,i=mie){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(i!=null&&cL(Math.min(Math.abs(t),Math.abs(e)))<i)return Math.abs(t-e)<=i;const r=hS(t),n=hS(e);return r<0!=n<0?!1:!((r<n?n-r:r-n)>xv)}function uL(t,e,i=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const r=Math.abs(t-e),n=Math.abs(t),s=Math.abs(e);if(t===0||e===0||n<1e-12&&s<1e-12){if(r>.01*i)return!1}else if(r/(n+s)>i)return!1;return!0}function Xbe(t){return dL(Math.max(-TA,Math.min(t,TA)))}function dL(t){return kA[0]=t,kA[0]}function Qbe(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(Ja(e,1)&&Ja(i,1)&&Ja(r,1))}function e1e(t,e){return(t%e+e)%e}const TA=dL(34028234663852886e22);function t1e(t,e,i){if(i===void 0||+i==0)return Math[t](e);if(e=+e,i=+i,isNaN(e)||typeof i!="number"||i%1!=0)return NaN;let r=e.toString().split("e");return r=(e=Math[t](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}function Cy(t){return An($2(t),0,255)}function Iy(t,e){const i=t.toString(16).padStart(2,"0");return e?i.slice(0,1):i}let Ke=class hn{static blendColors(e,i,r,n=new hn){return n.r=Math.round(e.r+(i.r-e.r)*r),n.g=Math.round(e.g+(i.g-e.g)*r),n.b=Math.round(e.b+(i.b-e.b)*r),n.a=e.a+(i.a-e.a)*r,n._sanitize()}static fromRgb(e,i){const r=rL(e);return r?hn.fromArray(r,i):null}static fromHex(e,i=new hn){const r=iL(e);return r?hn.fromArray(r,i):null}static fromArray(e,i=new hn){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const r=nL(e);return r?hn.fromArray(r,i):null}static fromJSON(e){return e!=null?new hn([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e,i){return e==null?null:(i??=[0,0,0,0],i[0]=e.r/255,i[1]=e.g/255,i[2]=e.b/255,i[3]=e.a!=null?e.a:1,i)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?hn.fromString(e,this):Array.isArray(e)?hn.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof hn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=e?.capitalize??!1,r=e?.digits??6,n=r===3||r===4,s=r===4||r===8,o=`#${Iy(this.r,n)}${Iy(this.g,n)}${Iy(this.b,n)}${s?Iy(Math.round(255*this.a),n):""}`;return i?o.toUpperCase():o}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const i=Cy(this.r),r=Cy(this.g),n=Cy(this.b);return e===0||this.a!==1?[i,r,n,Cy(255*this.a)]:[i,r,n]}clone(){return new hn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Td(this.r),this.g=Td(this.g),this.b=Td(this.b),this.a=sL(this.a),this}_set(e,i,r,n){this.r=e,this.g=i,this.b=r,this.a=n}};Ke.prototype.declaredClass="esri.Color";let ls=class extends pe{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles($W(()=>this._refresh(),nl))}destroy(){this.getCollections=null}_refresh(){const e=this.getCollections?.();if(e==null)return void this.removeAll();let i=0;for(const r of e)r!=null&&(i=this._processCollection(i,r));this.splice(i)}_createNewInstance(e){return new pe(e)}_processCollection(e,i){if(!i)return e;const r=this.itemFilterFunction??(n=>!!n);for(const n of i)if(n){if(r(n)){const s=this.indexOf(n,e);s>=0?s!==e&&this.reorder(n,e):this.add(n,e),++e}if(this.getChildrenFunction){const s=this.getChildrenFunction(n);if(Array.isArray(s))for(const o of s)e=this._processCollection(e,o);else e=this._processCollection(e,s)}}return e}};u([p()],ls.prototype,"getCollections",void 0),u([p()],ls.prototype,"getChildrenFunction",void 0),u([p()],ls.prototype,"itemFilterFunction",void 0),ls=u([R("esri.core.CollectionFlattener")],ls);var pS;let $v=pS=class extends be{constructor(t){super(t),this.type="none"}clone(){return new pS({type:this.type})}};u([ze({none:"none",stayAbove:"stay-above"}),p({json:{write:{isRequired:!0}}})],$v.prototype,"type",void 0),$v=pS=u([R("esri.ground.NavigationConstraint")],$v);const hL=Symbol("GroundInstance");function r1e(t){return t!=null&&typeof t=="object"&&hL in t}function pL(t){const e=$2(100*(1-t));return Math.max(0,Math.min(e,100))}function fL(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}var EA,fS,iR;let pn=fS=(iR=class extends fl(dg){constructor(t){super(t),this[EA]=!0,this.parent=null,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new pe;const e=r=>{const{parent:n}=r;n&&n!==this&&"remove"in n&&n.remove?.(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&ue.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>e(r.item)),this.layers.on("after-remove",r=>i(r.item))]),this.allLayers=new ls({getCollections:()=>[this.layers,this.parent?.basemap?.groundLayers]})}removeChildLayer(t){this.layers.remove(t)}initialize(){this.when().catch(t=>{Ki(t)||ue.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}get integratedMeshGround(){const t=this.parent?.basemap?.groundLayers.at(0);return t?.replacesTerrain?t:null}destroy(){const t=this.layers.removeAll();for(const e of t)Ut(e);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}get loaded(){return super.loaded}get layers(){return this._get("layers")}set layers(t){this._set("layers",Vs(t,this._get("layers")))}writeLayers(t,e,i,r){const n=[];t&&(r={...r,layerContainerType:"ground"},t.forEach(s=>{if("write"in s){const o={};TG(s)().write(o,r)&&n.push(o)}else r?.messages&&r.messages.push(new K("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),e.layers=n}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return _N(this,t=>{t(this.layers)})}async queryElevation(t,e){await this.load({signal:e?.signal});const{queryAll:i}=await ae(()=>import("./c-ElevationQuery-CfQBkrFq.js"),__vite__mapDeps([23,24]));return Pt(e),i(this.layers.filter(MA).toArray(),t,e)}async createElevationSampler(t,e){await this.load({signal:e?.signal});const{createSampler:i}=await ae(()=>import("./c-ElevationQuery-CfQBkrFq.js"),__vite__mapDeps([23,24]));return Pt(e),i(this.layers.filter(MA).toArray(),t,e)}clone(){const t={opacity:this.opacity,surfaceColor:X(this.surfaceColor),navigationConstraint:X(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new fS({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve()}async _loadLayersFromJSON(t,e,i){const r=e?.origin||"web-scene",n=e?.portal||null,s=e?.url||null,{populateOperationalLayers:o}=await ae(async()=>{const{populateOperationalLayers:l}=await import("./c-layersCreator-DfZtFQRm.js");return{populateOperationalLayers:l}},__vite__mapDeps([21,18,17,16,19,15,13,22]));Pt(i);const a=[];if(t.layers&&Array.isArray(t.layers)){const l={context:{origin:r,url:s,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,t.layers,l))}await Promise.allSettled(a)}},EA=hL,iR);function MA(t){return t&&"createElevationSampler"in t}u([p()],pn.prototype,"parent",void 0),u([p()],pn.prototype,"integratedMeshGround",null),u([p({json:{read:!1,write:{isRequired:!0}}})],pn.prototype,"layers",null),u([p()],pn.prototype,"allLayers",void 0),u([Ye("layers")],pn.prototype,"writeLayers",null),u([p({readOnly:!0})],pn.prototype,"resourceInfo",void 0),u([p({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ht,read:{reader:fL,source:"transparency"},write:{writer:(t,e)=>{e.transparency=pL(t)},target:"transparency"}}})],pn.prototype,"opacity",void 0),u([p({type:Ke,json:{type:[ht],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],pn.prototype,"surfaceColor",void 0),u([p({type:$v,json:{write:!0}})],pn.prototype,"navigationConstraint",void 0),pn=fS=u([R("esri.Ground")],pn);const mb=pn,gie=Symbol("ClonableMixin"),bi=t=>{var n;var e;const i=t;let r=(n=class extends i{constructor(){super(...arguments),this[e]=!0}clone(s){const o=rl(this);LD(o,"unable to clone instance of non-accessor class");const a=o.metadata,l=o.store,d={},h=new Map;for(const y in a){const b=a[y],x=l?.originOf(y),$=b.clonable;if(b.readOnly||$===!1||x!==7&&x!==0&&x!==5&&x!==4)continue;const E=this[y];let C=null;if(typeof $=="function")C=$(E,s);else if($==="reference")C=E;else if(C=f$(E,s),E!=null&&C==null)continue;x===0?h.set(y,C):d[y]=C}const f=new(Object.getPrototypeOf(this)).constructor(d);if(h.size){const y=rl(f)?.store;if(y)for(const[b,x]of h)y.set(b,x,0)}return f}},e=gie,n);return r=u([R("esri.core.Clonable")],r),r},xE=bi(Te),$u={Base64:0,Hex:1,String:2,Raw:3},Ed=8,mL=(1<<Ed)-1;function Va(t,e){const i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function yie(t){const e=[];for(let i=0,r=t.length*Ed;i<r;i+=Ed)e[i>>5]|=(t.charCodeAt(i/Ed)&mL)<<i%32;return e}function vie(t){const e=[];for(let i=0,r=32*t.length;i<r;i+=Ed)e.push(String.fromCharCode(t[i>>5]>>>i%32&mL));return e.join("")}function bie(t){const e="0123456789abcdef",i=[];for(let r=0,n=4*t.length;r<n;r++)i.push(e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15));return i.join("")}function wie(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let n=0,s=4*t.length;n<s;n+=3){const o=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255;for(let a=0;a<4;a++)8*n+6*a>32*t.length?r.push("="):r.push(i.charAt(o>>6*(3-a)&63))}return r.join("")}function _ie(t,e){return t<<e|t>>>32-e}function nw(t,e,i,r,n,s){return Va(_ie(Va(Va(e,t),Va(r,s)),n),i)}function Oi(t,e,i,r,n,s,o){return nw(e&i|~e&r,t,e,n,s,o)}function Ri(t,e,i,r,n,s,o){return nw(e&r|i&~r,t,e,n,s,o)}function Di(t,e,i,r,n,s,o){return nw(e^i^r,t,e,n,s,o)}function zi(t,e,i,r,n,s,o){return nw(i^(e|~r),t,e,n,s,o)}function xie(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let i=1732584193,r=-271733879,n=-1732584194,s=271733878;for(let o=0;o<t.length;o+=16){const a=i,l=r,d=n,h=s;i=Oi(i,r,n,s,t[o],7,-680876936),s=Oi(s,i,r,n,t[o+1],12,-389564586),n=Oi(n,s,i,r,t[o+2],17,606105819),r=Oi(r,n,s,i,t[o+3],22,-1044525330),i=Oi(i,r,n,s,t[o+4],7,-176418897),s=Oi(s,i,r,n,t[o+5],12,1200080426),n=Oi(n,s,i,r,t[o+6],17,-1473231341),r=Oi(r,n,s,i,t[o+7],22,-45705983),i=Oi(i,r,n,s,t[o+8],7,1770035416),s=Oi(s,i,r,n,t[o+9],12,-1958414417),n=Oi(n,s,i,r,t[o+10],17,-42063),r=Oi(r,n,s,i,t[o+11],22,-1990404162),i=Oi(i,r,n,s,t[o+12],7,1804603682),s=Oi(s,i,r,n,t[o+13],12,-40341101),n=Oi(n,s,i,r,t[o+14],17,-1502002290),r=Oi(r,n,s,i,t[o+15],22,1236535329),i=Ri(i,r,n,s,t[o+1],5,-165796510),s=Ri(s,i,r,n,t[o+6],9,-1069501632),n=Ri(n,s,i,r,t[o+11],14,643717713),r=Ri(r,n,s,i,t[o],20,-373897302),i=Ri(i,r,n,s,t[o+5],5,-701558691),s=Ri(s,i,r,n,t[o+10],9,38016083),n=Ri(n,s,i,r,t[o+15],14,-660478335),r=Ri(r,n,s,i,t[o+4],20,-405537848),i=Ri(i,r,n,s,t[o+9],5,568446438),s=Ri(s,i,r,n,t[o+14],9,-1019803690),n=Ri(n,s,i,r,t[o+3],14,-187363961),r=Ri(r,n,s,i,t[o+8],20,1163531501),i=Ri(i,r,n,s,t[o+13],5,-1444681467),s=Ri(s,i,r,n,t[o+2],9,-51403784),n=Ri(n,s,i,r,t[o+7],14,1735328473),r=Ri(r,n,s,i,t[o+12],20,-1926607734),i=Di(i,r,n,s,t[o+5],4,-378558),s=Di(s,i,r,n,t[o+8],11,-2022574463),n=Di(n,s,i,r,t[o+11],16,1839030562),r=Di(r,n,s,i,t[o+14],23,-35309556),i=Di(i,r,n,s,t[o+1],4,-1530992060),s=Di(s,i,r,n,t[o+4],11,1272893353),n=Di(n,s,i,r,t[o+7],16,-155497632),r=Di(r,n,s,i,t[o+10],23,-1094730640),i=Di(i,r,n,s,t[o+13],4,681279174),s=Di(s,i,r,n,t[o],11,-358537222),n=Di(n,s,i,r,t[o+3],16,-722521979),r=Di(r,n,s,i,t[o+6],23,76029189),i=Di(i,r,n,s,t[o+9],4,-640364487),s=Di(s,i,r,n,t[o+12],11,-421815835),n=Di(n,s,i,r,t[o+15],16,530742520),r=Di(r,n,s,i,t[o+2],23,-995338651),i=zi(i,r,n,s,t[o],6,-198630844),s=zi(s,i,r,n,t[o+7],10,1126891415),n=zi(n,s,i,r,t[o+14],15,-1416354905),r=zi(r,n,s,i,t[o+5],21,-57434055),i=zi(i,r,n,s,t[o+12],6,1700485571),s=zi(s,i,r,n,t[o+3],10,-1894986606),n=zi(n,s,i,r,t[o+10],15,-1051523),r=zi(r,n,s,i,t[o+1],21,-2054922799),i=zi(i,r,n,s,t[o+8],6,1873313359),s=zi(s,i,r,n,t[o+15],10,-30611744),n=zi(n,s,i,r,t[o+6],15,-1560198380),r=zi(r,n,s,i,t[o+13],21,1309151649),i=zi(i,r,n,s,t[o+4],6,-145523070),s=zi(s,i,r,n,t[o+11],10,-1120210379),n=zi(n,s,i,r,t[o+2],15,718787259),r=zi(r,n,s,i,t[o+9],21,-343485551),i=Va(i,a),r=Va(r,l),n=Va(n,d),s=Va(s,h)}return[i,r,n,s]}function $ie(t,e=$u.Hex){const i=e||$u.Base64,r=xie(yie(t),t.length*Ed);switch(i){case $u.Raw:return r;case $u.Hex:return bie(r);case $u.String:return vie(r);case $u.Base64:return wie(r)}}function Sie(t){return t&&"getAtOrigin"in t&&"originOf"in t}function mS(t){return $E[kie(t)]||Eie}function kie(t){return t.type==="json"?"application/json":t.type==="blob"?t.blob.type:Tie(t.url)}function Tie(t){const e=m4(t);return gS[e]||gL}const $E={},gL="text/plain",Eie=$E[gL],gS={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in gS)$E[gS[t]]=t;function Mie(t){const e=t?.origins??[void 0];return(i,r)=>{const n=Cie(t,i,r);for(const s of e){const o=k2(i,s,r);for(const a in n)o[a]=n[a]}}}function Cie(t,e,i){if(t?.type==="resource")return Iie(t,e,i);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:r,write:n}=MK;return{read:r,write:n}}}}function Iie(t,e,i){const r=eg(e,i);return{type:String,read:(n,s,o)=>{const a=q1(n,s,o);return r.type===String?a:typeof r.type=="function"?new r.type({url:a}):void 0},write:{isRequired:r.json?.write?.isRequired,writer(n,s,o,a){if(!a?.resources)return typeof n=="string"?void(s[o]=hh(n,a)):void(s[o]=n.write({},a));const l=Oie(n),d=hh(l,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},1),h=r.type!==String&&(!Sie(this)||a?.origin&&this.originIdOf(i)>iE(a.origin)),f={object:this,propertyName:i,value:n,targetUrl:d,dest:s,targetPropertyName:o,context:a,params:t};a?.portalItem&&d&&!Pr(d)?h&&t?.contentAddressed?yS(f):h?Aie(f):Pie(f):a?.portalItem&&(d==null||b4(d)!=null||og(d)||h)?yS(f):s[o]=d}}}}function yS(t){const{targetUrl:e,params:i,value:r,context:n,dest:s,targetPropertyName:o}=t;if(!n.portalItem)return;const a=w4(e),l=vL(r,e,n);if(i?.contentAddressed&&l.type!=="json")return void n.messages?.push(new K("persistable:contentAddressingUnsupported",`Property "${o}" is trying to serializing a resource with content of type ${l.type} with content addressing. Content addressing is only supported for json resources.`,{content:l}));const d=i?.contentAddressed&&l.type==="json"?$ie(l.jsonString):a?.filename??cg(),h=sg(i?.prefix??a?.prefix,d),f=`${h}.${mS(l)}`;if(i?.contentAddressed&&n.resources&&l.type==="json"){const x=n.resources.toKeep.find(({resource:$})=>$.path===f)??n.resources.toAdd.find(({resource:$})=>$.path===f);if(x)return void(s[o]=x.resource.itemRelativeUrl)}const y=n.portalItem.resourceFromPath(f);og(e)&&n.resources&&n.resources.pendingOperations.push(pK(e).then(x=>{y.path=`${h}.${mS({type:"blob",blob:x})}`,s[o]=y.itemRelativeUrl}).catch(()=>{}));const b=i?.compress??!1;n.resources&&yL({...t,resource:y,content:l,compress:b,updates:n.resources.toAdd}),s[o]=y.itemRelativeUrl}function Aie(t){const{context:e,targetUrl:i,params:r,value:n,dest:s,targetPropertyName:o}=t;if(!e.portalItem)return;const a=e.portalItem.resourceFromPath(i),l=vL(n,i,e),d=mS(l),h=m4(a.path),f=r?.compress??!1;d===h?(e.resources&&yL({...t,resource:a,content:l,compress:f,updates:e.resources.toUpdate}),s[o]=i):yS(t)}function Pie({context:t,targetUrl:e,dest:i,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),i[r]=e)}function yL({object:t,propertyName:e,updates:i,resource:r,content:n,compress:s}){const o=a=>{Rie(t,e,a)};i.push({resource:r,content:n,compress:s,finish:o})}function vL(t,e,i){return typeof t=="string"?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(i))}}function Oie(t){return t==null?null:typeof t=="string"?t:t.url}function Rie(t,e,i){typeof t[e]=="string"?t[e]=i.url:t[e].url=i.url}let Sv=class extends bi(be){constructor(e){super(e),this.color=null}};u([p({type:Ke,json:{type:[ht],write:!0}})],Sv.prototype,"color",void 0),Sv=u([R("esri.effects.FocusAreaOutline")],Sv);const Die=Sv;function s1e(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function zie(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function o1e(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if(t.type==="point")return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(r=>[r]);if(t.type==="extent"){const r=t.clone().normalize();if(!r)return null;let n=!1,s=!1;return r.forEach(o=>{o.hasZ&&(n=!0),o.hasM&&(s=!0)}),r.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let d=0;d<a.length;d++)a[d].push(l)}if(s&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let d=0;d<a.length;d++)a[d].push(l)}return a})}return null}function sw(t,e){const i=e[0]-t[0],r=e[1]-t[1];if(t.length>2&&e.length>2){const n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}return Math.sqrt(i*i+r*r)}function bL(t,e,i){const r=t[0]+i*(e[0]-t[0]),n=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[r,n,t[2]+i*(e[2]-t[2])]:[r,n]}function Nie(t,e,i,r){return Lie(t,e,i[r],i[r+1])}function Lie(t,e,i,r){const[n,s]=e,[o,a]=i,[l,d]=r,h=l-o,f=d-a,y=h*h+f*f,b=(n-o)*h+(s-a)*f,x=Math.min(1,Math.max(0,b/y));return t[0]=o+h*x,t[1]=a+f*x,t}function a1e(t,e,i,r,n,s){let o=i,a=r,l=n-o,d=s-a;if(l!==0||d!==0){const h=((t-o)*l+(e-a)*d)/(l*l+d*d);h>1?(o=n,a=s):h>0&&(o+=l*h,a+=d*h)}return l=t-o,d=e-a,l*l+d*d}function wL(t,e){return bL(t,e,.5)}function l1e(t){const e=t.length;let i=0;for(let r=0;r<e-1;++r)i+=sw(t[r],t[r+1]);return i}function c1e(t,e){if(e<=0)return t[0];const i=t.length;let r=0;for(let n=0;n<i-1;++n){const s=sw(t[n],t[n+1]);if(e-r<s){const o=(e-r)/s;return bL(t[n],t[n+1],o)}r+=s}return t[i-1]}function _L(t,e=0,i=1){let r=0;const n=t.length;let s=t[0];for(let o=1;o<n;o++){const a=t[o];r+=(a[e]-s[e])*(a[i]+s[i]),s=a}if(xL(t)){const o=t[0];r+=(o[e]-s[e])*(o[i]+s[i])}return r>=0}function xL(t){const e=t.length;return e>0&&!M1(t[0],t[e-1])}function u1e(t){"rings"in t&&(Fie(t),jie(t))}function Fie(t){if("rings"in t)for(const e of t.rings)xL(e)&&e.push(e[0].slice())}function jie(t){if(!("rings"in t)||t.rings.length===0||_L(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function d1e(t){return t.type!=="polygon"&&t.type!=="polyline"||Uie(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function Uie(t,e){const i=cr(e);if(!i)return;const r=i.valid[0],n=i.valid[1],s=n-r;for(const o of t){let a=1/0,l=-1/0;for(const h of o){const f=Vie(h[0],r,n);a=Math.min(a,f),l=Math.max(l,f),h[0]=f}const d=l-a;s-d<d&&o.forEach(h=>{h[0]<0&&(h[0]+=s)})}}function Vie(t,e,i){const r=i-e;return t<e?i-(e-t)%r:t>i?e+(t-e)%r:t}function h1e(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[i,r]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return i.length===r.length&&i.every((n,s)=>n.length===r[s].length)}function p1e(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function Bie(t){return Hie(t.rings,t.hasZ??!1)}function qie(t){const e=Bie(t);if(!e)return null;const{hasZ:i,spatialReference:r}=t,[n,s,o]=e;return isNaN(n)||isNaN(s)||i&&isNaN(o)?null:{x:n,y:s,z:i?o:void 0,spatialReference:r}}function Hie(t,e){if(!t?.length)return null;const i=[],r=[],n=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=$L(t[s],e,n);a&&r.push(a)}if(r.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||e&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){const s=t[0]&&t[0].length?Gie(t[0],e):null;if(!s)return null;i[0]=s[0],i[1]=s[1],e&&s.length>2&&(i[2]=s[2])}return i}function $L(t,e,i){let r=0,n=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,d=t.length?t[0][1]:0,h=t.length&&e?t[0][2]:0;for(let y=0;y<t.length;y++){const b=t[y],x=t[(y+1)%t.length],[$,E,C]=b,O=$-l,j=E-d,[D,F,G]=x,z=D-l,se=F-d,oe=O*se-z*j;if(o+=oe,r+=(O+z)*oe,n+=(j+se)*oe,e&&b.length>2&&x.length>2){const ee=C-h,ge=G-h,te=O*ge-z*ee;s+=(ee+ge)*te,a+=te}$<i[0]&&(i[0]=$),$>i[1]&&(i[1]=$),E<i[2]&&(i[2]=E),E>i[3]&&(i[3]=E),e&&(C<i[4]&&(i[4]=C),C>i[5]&&(i[5]=C))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const f=[r/(6*o)+l,n/(6*o)+d,o];return e&&(i[4]===i[5]||a===0?(f[3]=(i[4]+i[5])/2,f[4]=0):(f[3]=s/(6*a)+h,f[4]=a)),f}function f1e(t,e){let i=0,r=0,n=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const d=[t.x,t.y],[h,f]=l,y=h-s,b=f-o,[x,$]=d,E=x-s,C=$-o,O=y*C-E*b;n+=O,i+=(y+E)*O,r+=(b+C)*O,h<e[0]&&(e[0]=h),h>e[1]&&(e[1]=h),f<e[2]&&(e[2]=f),f>e[3]&&(e[3]=f)}return n>0&&(n*=-1),n?(n*=.5,[i/(6*n)+s,r/(6*n)+o,n]):null}function Gie(t,e){const i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;for(let l=0,d=t.length;l<d-1;l++){const h=t[l],f=t[l+1];if(h&&f){i[0]=h[0],i[1]=h[1],r[0]=f[0],r[1]=f[1],e&&h.length>2&&f.length>2&&(i[2]=h[2],r[2]=f[2]);const y=sw(i,r);if(y){n+=y;const b=wL(h,f);s+=y*b[0],o+=y*b[1],e&&b.length>2&&(a+=y*b[2])}}}return n>0?e?[s/n,o/n,a/n]:[s/n,o/n]:t.length?t[0]:null}function Wie(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const r=[],n=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=$L(zie(t),t.hasZ,s);o&&n.push(o)}if(n.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],e&&(r[2]=n[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||e&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){t.reset(),t.nextPath();const o=t.pathSize?Zie(t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],e&&o.length>2&&(r[2]=o[2])}return r}function Zie(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,d=t.y,h=t.z;for(;t.nextPoint();){const f=t.x,y=t.y,b=t.z;i[0]=l,i[1]=d,r[0]=f,r[1]=y,e&&(i[2]=h,r[2]=b);const x=sw(i,r);if(x){n+=x;const $=wL(i,r);s+=x*$[0],o+=x*$[1],e&&$.length>2&&(a+=x*$[2])}l=f,d=y,h=b}}return n>0?e?[s/n,o/n,a/n]:[s/n,o/n]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const Yie=1e-6;function m1e(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<Yie){const n=Wie(t);return n?[n[0],n[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const r=[t.x,t.y];for(t.reset();t.nextPath();)Kie(i,r,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=r[0],i[1]+=r[1],i}const Jie=1/3;function Kie(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,n=i.y;i.nextPoint();let s,o=i.x-r,a=i.y-n,l=0,d=0;for(;i.nextPoint();)l=i.x-r,d=i.y-n,s=.5*Jie*(l*a-d*o),t[0]+=s*(o+l),t[1]+=s*(a+d),o=l,a=d;const h=i.getCurrentRingArea(),f=[r,n];return f[0]-=e[0],f[1]-=e[1],f[0]*=h,f[1]*=h,t[0]+=f[0],t[1]+=f[1],t}function Ar(t=rre){return[t[0],t[1],t[2],t[3]]}function SL(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function Xie(t,e,i,r,n=Ar()){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function g1e(t,e=Ar()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function Qie(t,e,i=new We){return i.xmin=t[0],i.ymin=t[1],i.xmax=t[2],i.ymax=t[3],i.spatialReference=e,i}function Sn(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function ere(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function tre(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function y1e(t,e,i){if(e!=null)if("length"in e)bS(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else SL(i,t)}function v1e(t,e,i=t){const r=e.length;let n=t[0],s=t[1],o=t[2],a=t[3];for(let l=0;l<r;l++){const d=e[l];n=Math.min(n,d[0]),s=Math.min(s,d[1]),o=Math.max(o,d[0]),a=Math.max(a,d[1])}return i[0]=n,i[1]=s,i[2]=o,i[3]=a,i}function b1e(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function SE(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function kE(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function w1e(t){return SE(t)*kE(t)}function _1e(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function x1e(t){const e=SE(t),i=kE(t);return Math.sqrt(e*e+i*i)}function $1e(t,e){return!!t&&vS(t,e.x,e.y)}function vS(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function S1e(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function k1e(t,e,i){return Math.max(e[0],t[0])-i<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-i<=Math.min(e[3],t[3])}function ire(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function T1e(t,e,i,r){return r??=t,r[0]=t[0]+e,r[1]=t[1]+i,r[2]=t[2]+e,r[3]=t[3]+i,r}function E1e(t){return t?SL(t,CA):Ar(CA)}function bS(t){return t!=null&&t.length===4}function M1e(t,e){return bS(t)&&bS(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const CA=[1/0,1/0,-1/0,-1/0],rre=[0,0,0,0];let TE=1e-6;function Or(){return TE}function nre(t){TE=t}const EE=Math.random,sre=Math.PI/180,ore=180/Math.PI;function ME(t){return t*sre}function are(t){return t*ore}function lre(t,e){return Math.abs(t-e)<=TE*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:EE,equals:lre,getEpsilon:Or,setEpsilon:nre,toDegree:are,toRadian:ME},Symbol.toStringTag,{value:"Module"}));function Md(t,e){return t[0]=e[0],t[1]=e[1],t}function ki(t,e,i){return t[0]=e,t[1]=i,t}function kL(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Mm(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function TL(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function EL(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function cre(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function ure(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function dre(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function hre(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function pre(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function fg(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function fre(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t}function ow(t,e){const i=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(i*i+r*r)}function Cm(t,e){const i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}function gb(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function ML(t){const e=t[0],i=t[1];return e*e+i*i}function CL(t,e){return t[0]=-e[0],t[1]=-e[1],t}function mre(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function wS(t,e){const i=e[0],r=e[1];let n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}function IL(t,e){return t[0]*e[0]+t[1]*e[1]}function AL(t,e,i){const r=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=r,t}function gre(t,e,i,r){const n=e[0],s=e[1];return t[0]=n+r*(i[0]-n),t[1]=s+r*(i[1]-s),t}function yre(t,e=1){const i=2*EE()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function vre(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n,t[1]=i[1]*r+i[3]*n,t}function Ds(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n+i[4],t[1]=i[1]*r+i[3]*n+i[5],t}function kv(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[3]*n+i[6],t[1]=i[1]*r+i[4]*n+i[7],t}function bre(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[4]*n+i[12],t[1]=i[1]*r+i[5]*n+i[13],t}function wre(t,e,i,r){const n=e[0]-i[0],s=e[1]-i[1],o=Math.sin(r),a=Math.cos(r);return t[0]=n*a-s*o+i[0],t[1]=n*o+s*a+i[1],t}function _re(t,e){const i=t[0],r=t[1],n=e[0],s=e[1];let o=i*i+r*r;o>0&&(o=1/Math.sqrt(o));let a=n*n+s*s;a>0&&(a=1/Math.sqrt(a));const l=(i*n+r*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function xre(t){return"vec2("+t[0]+", "+t[1]+")"}function $re(t,e){return t[0]===e[0]&&t[1]===e[1]}function Sre(t,e){const i=t[0],r=t[1],n=e[0],s=e[1],o=Or();return Math.abs(i-n)<=o*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-s)<=o*Math.max(1,Math.abs(r),Math.abs(s))}function kre(t,e,i,r,n){let s=e[0]-i[0],o=e[1]-i[1];const a=(r[0]*s+r[1]*o)*(n-1);return s=r[0]*a,o=r[1]*a,t[0]=e[0]+s,t[1]=e[1]+o,t}const Tre=gb,CE=Mm,Ere=TL,Mre=EL,Cre=ow,Ire=Cm,Are=ML;Object.freeze(Object.defineProperty({__proto__:null,add:kL,angle:_re,ceil:cre,copy:Md,cross:AL,dist:Cre,distance:ow,div:Mre,divide:EL,dot:IL,equals:Sre,exactEquals:$re,floor:ure,inverse:mre,len:Tre,length:gb,lerp:gre,max:hre,min:dre,mul:Ere,multiply:TL,negate:CL,normalize:wS,projectAndScale:kre,random:yre,rotate:wre,round:pre,scale:fg,scaleAndAdd:fre,set:ki,sqrDist:Ire,sqrLen:Are,squaredDistance:Cm,squaredLength:ML,str:xre,sub:CE,subtract:Mm,transformMat2:vre,transformMat2d:Ds,transformMat3:kv,transformMat4:bre},Symbol.toStringTag,{value:"Module"}));function zo(t,e,i,r){return t[0]=e[0]*(1-r)+i[0]*r,t[1]=e[1]*(1-r)+i[1]*r,t}function lr(t,e){return Cm(t,e)}function C1e(t,e,i){const r=lr(e,i);if(r===0)return lr(e,t);const n=(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0]);return n*n/r}function Pre(t,e,i,r,n){const[s,o]=e,[a,l]=i,[d,h]=r,[f,y]=n,b=(s-a)*(h-y)-(o-l)*(d-f);if(b===0)return null;const x=(s*l-o*a)*(d-f)-(s-a)*(d*y-h*f),$=(s*l-o*a)*(h-y)-(o-l)*(d*y-h*f);return t[0]=x/b,t[1]=$/b,t}const us=2*Math.PI;function Sc(t,e){const i=Math.atan2(t,e);return i<0?i+us:i}function PL(t){return Math.abs(t)%us}function IA(t){const e=PL(t);return e<Math.PI?e:us-e}function aw(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function OL(t,e,i,r){if(Ja(PL(t-e),0))return i?[t,t]:[t,r?t-us:t+us];const[n,s]=r?[t-us,t]:[t,t+us];return[t,mg({min:n,max:s},e)]}function mg({min:t,max:e},i){let r;return r=e-i,r>=us?(r-=r%us,i+r):(r=i-t,r>=us?(r-=r%us,i-r):i)}function Ore(t,e){const i=mg(t,e);return i>t.min&&i<t.max?i:IA(i-t.min)<IA(i-t.max)?t.min:t.max}function RL(t,e,i,r=10){return e.map(n=>{let s=n;for(let o=0;o<r;o++){const[a,l,d,h,f,y]=i(s),b=t[0]-a,x=t[1]-l,$=-d,E=-h;s+=-(2*b*$+2*x*E)/(2*$*$+2*b*-f+2*E*E+2*x*-y||1e-6)}return s})}const Rre=[0,0];function DL(t){const e=1-t,i=e*e,r=t*t;return[i*e,3*t*i,3*r*e,r*t]}function _S(t,e,i,r,n){const[s,o,a,l]=DL(n);return[t[0]*s+e[0]*o+i[0]*a+r[0]*l,t[1]*s+e[1]*o+i[1]*a+r[1]*l]}function AA(t,e,i,r,n){const[s,o,a,l]=DL(n);return t*s+e*o+i*a+r*l}function I1e(t,e,i){const r=t,[n,s,o]=e.b;return _S(r,s,o,n,i)}function Dre(t,e,i){const r=t,[n,s,o]=e.b,a=zo([0,0],r,s,i),l=zo(Rre,s,o,i),d=zo([0,0],o,n,i),h=zo([0,0],a,l,i),f=zo([0,0],l,d,i);return[{b:[zo([],h,f,i),a,h]},{b:[[...n],f,d]}]}function A1e(t,e,i){const r=t,[n,s,o]=e.b,a=RL(i,[.1,.5,.9],f=>{const y=1-f,[b,x]=_S(r,s,o,n,f);return[b,x,3*y*y*(s[0]-r[0])+6*y*f*(o[0]-s[0])+3*f*f*(n[0]-o[0]),3*y*y*(s[1]-r[1])+6*y*f*(o[1]-s[1])+3*f*f*(n[1]-o[1]),6*y*(o[0]-2*s[0]+r[0])+6*f*(n[0]-2*o[0]+s[0]),6*y*(o[1]-2*s[1]+r[1])+6*f*(n[1]-2*o[1]+s[1])]}).map(f=>Math.min(1,Math.max(0,f)));a.push(0,1);let l=1/0;const d=a.map(f=>{const y=_S(r,s,o,n,f),[b,x]=y,$=i[0]-b,E=i[1]-x,C=Math.sqrt($*$+E*E);return l=Math.min(C,l),{t:f,curvePoint:y,distance:C}}),h=[];for(const f of d){const{t:y,distance:b}=f;uL(b,l)&&!h.some(({t:x})=>Ja(x,y))&&h.push(f)}return h}function zre(t,e,i){const r=e,[n,s,o]=i.b;if(Sn(t,r),Sn(t,n),vS(t,s[0],s[1])&&vS(t,o[0],o[1]))return t;for(const a of PA(r[0],s[0],o[0],n[0]))a>0&&a<1&&ere(t,AA(r[0],s[0],o[0],n[0],a));for(const a of PA(r[1],s[1],o[1],n[1]))a>0&&a<1&&tre(t,AA(r[1],s[1],o[1],n[1],a));return t}function PA(t,e,i,r){const n=3*(3*(e-i)-t+r),s=6*(t-2*e+i),o=3*(e-t);if(n===0)return s!==0?[-o/s]:[];const a=Math.sqrt(s*s-4*n*o);return[(-s+a)/(2*n),(-s-a)/(2*n)]}function P1e(t,e,i){let n=0,s=[e];for(let o=0;o<16;o++){let a=t;const l=[];for(const h of s)l.push(...Dre(a,h,.5)),a=h.b[0];s=l,a=t,n=0;let d=0;for(const h of s){const[f,y,b]=h.b,x=Math.sqrt(lr(a,f));n+=(x+(Math.sqrt(lr(a,y))+Math.sqrt(lr(y,b))+Math.sqrt(lr(b,f))))/2,d+=x,a=f}if(n-d<i)return n}return n}function Nre(t,e,i){const[r,n]=t,[s,o]=e,[a,l]=i,[d,h]=[s-r,o-n];let f=d*(a-r)+h*(l-n);f/=d**2+h**2,f=An(f,0,1);const y=zo([0,0],t,e,f);return{t:f,curvePoint:y,distance:Math.sqrt(lr(y,i))}}let zL=class{constructor(e,i,r,n,s,o){this.cx=e,this.cy=i,this.radius=r,this.thetaStart=n,this.thetaEnd=s,this.isInvalid=o}get startPoint(){const{cx:e,cy:i,radius:r,thetaStart:n}=this;return[e+r*Math.cos(n),i+r*Math.sin(n)]}get endPoint(){const{cx:e,cy:i,radius:r,thetaEnd:n}=this;return[e+r*Math.cos(n),i+r*Math.sin(n)]}};function yb(t,e){const{cx:i,cy:r,radius:n}=t;return[i+n*Math.cos(e),r+n*Math.sin(e)]}function Tv(t,e){if(t.isInvalid)return zo([0,0],t.startPoint,t.endPoint,e);const{thetaStart:i,thetaEnd:r}=t;return yb(t,i*(1-e)+r*e)}function R1e(t,e){if(t.isInvalid)return Nre(t.startPoint,t.endPoint,e);const{cx:i,cy:r,thetaStart:n,thetaEnd:s}=t,[o,a]=e,l=Ore(aw(n,s),Math.atan2(a-r,o-i)),d=yb(t,l);return{t:(l-n)/(s-n),curvePoint:d,distance:Math.sqrt(lr(e,d))}}function OA(t,e){if(e.isInvalid)return Sn(t,e.startPoint),Sn(t,e.endPoint),t;const{cx:i,cy:r,radius:n,thetaStart:s,thetaEnd:o}=e;Sn(t,yb(e,s)),Sn(t,yb(e,o));const a=aw(s,o),l=Math.PI/2;let d=0;for(const h of[[i+n,r],[i,r+n],[i-n,r],[i,r-n]])d=mg(a,d),d>a.min&&d<a.max&&Sn(t,h),d+=l;return t}function D1e(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:i,thetaEnd:r}=t;return e*Math.abs(r-i)}function Lre(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Fre(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Cd(t,e,i,r,n,s,o,a,l,d){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=d,t}function NL(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function LL(t,e){if(t===e){const i=e[1],r=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=r,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function FL(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],h=e[8],f=h*o-a*d,y=-h*s+a*l,b=d*s-o*l;let x=i*f+r*y+n*b;return x?(x=1/x,t[0]=f*x,t[1]=(-h*r+n*d)*x,t[2]=(a*r-n*o)*x,t[3]=y*x,t[4]=(h*i-n*l)*x,t[5]=(-a*i+n*s)*x,t[6]=b*x,t[7]=(-d*i+r*l)*x,t[8]=(o*i-r*s)*x,t):null}function jre(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],h=e[8];return t[0]=o*h-a*d,t[1]=n*d-r*h,t[2]=r*a-n*o,t[3]=a*l-s*h,t[4]=i*h-n*l,t[5]=n*s-i*a,t[6]=s*d-o*l,t[7]=r*l-i*d,t[8]=i*o-r*s,t}function Ev(t){const e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],d=t[8];return e*(d*s-o*l)+i*(-d*n+o*a)+r*(l*n-s*a)}function Im(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=e[6],h=e[7],f=e[8],y=i[0],b=i[1],x=i[2],$=i[3],E=i[4],C=i[5],O=i[6],j=i[7],D=i[8];return t[0]=y*r+b*o+x*d,t[1]=y*n+b*a+x*h,t[2]=y*s+b*l+x*f,t[3]=$*r+E*o+C*d,t[4]=$*n+E*a+C*h,t[5]=$*s+E*l+C*f,t[6]=O*r+j*o+D*d,t[7]=O*n+j*a+D*h,t[8]=O*s+j*l+D*f,t}function xS(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=e[6],h=e[7],f=e[8],y=i[0],b=i[1];return t[0]=r,t[1]=n,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=y*r+b*o+d,t[7]=y*n+b*a+h,t[8]=y*s+b*l+f,t}function jL(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=e[6],h=e[7],f=e[8],y=Math.sin(i),b=Math.cos(i);return t[0]=b*r+y*o,t[1]=b*n+y*a,t[2]=b*s+y*l,t[3]=b*o-y*r,t[4]=b*a-y*n,t[5]=b*l-y*s,t[6]=d,t[7]=h,t[8]=f,t}function Ure(t,e,i){const r=i[0],n=i[1],s=i[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function Vre(t,e,i){const r=i[0],n=i[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t}function Bre(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function qre(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Hre(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Gre(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Wre(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=i+i,a=r+r,l=n+n,d=i*o,h=r*o,f=r*a,y=n*o,b=n*a,x=n*l,$=s*o,E=s*a,C=s*l;return t[0]=1-f-x,t[3]=h-C,t[6]=y+E,t[1]=h+C,t[4]=1-d-x,t[7]=b-$,t[2]=y-E,t[5]=b+$,t[8]=1-d-f,t}function Zre(t,e){const i=e[0],r=e[1],n=e[2],s=e[4],o=e[5],a=e[6],l=e[8],d=e[9],h=e[10],f=h*o-a*d,y=-h*s+a*l,b=d*s-o*l,x=i*f+r*y+n*b;if(!x)return null;const $=1/x;return t[0]=f*$,t[1]=(-h*r+n*d)*$,t[2]=(a*r-n*o)*$,t[3]=y*$,t[4]=(h*i-n*l)*$,t[5]=(-a*i+n*s)*$,t[6]=b*$,t[7]=(-d*i+r*l)*$,t[8]=(o*i-r*s)*$,t}function Yre(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],h=e[8],f=e[9],y=e[10],b=e[11],x=e[12],$=e[13],E=e[14],C=e[15],O=i*a-r*o,j=i*l-n*o,D=i*d-s*o,F=r*l-n*a,G=r*d-s*a,z=n*d-s*l,se=h*$-f*x,oe=h*E-y*x,ee=h*C-b*x,ge=f*E-y*$,te=f*C-b*$,Y=y*C-b*E;let H=O*Y-j*te+D*ge+F*ee-G*oe+z*se;return H?(H=1/H,t[0]=(a*Y-l*te+d*ge)*H,t[1]=(l*ee-o*Y-d*oe)*H,t[2]=(o*te-a*ee+d*se)*H,t[3]=(n*te-r*Y-s*ge)*H,t[4]=(i*Y-n*ee+s*oe)*H,t[5]=(r*ee-i*te-s*se)*H,t[6]=($*z-E*G+C*F)*H,t[7]=(E*D-x*z-C*j)*H,t[8]=(x*G-$*D+C*O)*H,t):null}function Jre(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Kre(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Xre(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function Qre(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function UL(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function ene(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function tne(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t}function ine(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function rne(t,e){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],h=t[8],f=e[0],y=e[1],b=e[2],x=e[3],$=e[4],E=e[5],C=e[6],O=e[7],j=e[8],D=Or();return Math.abs(i-f)<=D*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-y)<=D*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-b)<=D*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(s-x)<=D*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(o-$)<=D*Math.max(1,Math.abs(o),Math.abs($))&&Math.abs(a-E)<=D*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(l-C)<=D*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(d-O)<=D*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(h-j)<=D*Math.max(1,Math.abs(h),Math.abs(j))}function nne(t){const e=Or(),i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],h=t[8];return Math.abs(1-(i*i+s*s+l*l))<=e&&Math.abs(1-(r*r+o*o+d*d))<=e&&Math.abs(1-(n*n+a*a+h*h))<=e}const sne=Im,one=UL;Object.freeze(Object.defineProperty({__proto__:null,add:Qre,adjoint:jre,copy:Fre,determinant:Ev,equals:rne,exactEquals:ine,frob:Xre,fromMat2d:Gre,fromMat4:Lre,fromQuat:Wre,fromRotation:qre,fromScaling:Hre,fromTranslation:Bre,identity:NL,invert:FL,isOrthoNormal:nne,mul:sne,multiply:Im,multiplyScalar:ene,multiplyScalarAndAdd:tne,normalFromMat4:Yre,normalFromMat4Legacy:Zre,projection:Jre,rotate:jL,scale:Ure,scaleByVec2:Vre,set:Cd,str:Kre,sub:one,subtract:UL,translate:xS,transpose:LL},Symbol.toStringTag,{value:"Module"}));function nu(){return[1,0,0,0,1,0,0,0,1]}function ane(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function lne(t,e,i,r,n,s,o,a,l){return[t,e,i,r,n,s,o,a,l]}const cne=nu();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:cne,clone:ane,create:nu,fromValues:lne},Symbol.toStringTag,{value:"Module"}));const Su=nu();function une(t,e,i){const[r,n]=t,[s,o]=e,[a,l]=i;Cd(Su,r,s,a,n,o,l,1,1,1);const d=Ev(Su),h=4*d/(lr(t,e)+lr(e,i)+lr(i,t));if(!isFinite(h)||Math.abs(h)<1e-8)return null;const f=r**2+n**2,y=s**2+o**2,b=a**2+l**2;Cd(Su,f,y,b,n,o,l,1,1,1);const x=Ev(Su);return Cd(Su,f,y,b,r,s,a,1,1,1),[x/d*.5,Ev(Su)/d*-.5]}function VL(t,e){const[i,r]=e.c,n=une(t,r,i),s=n==null,o=n??zo([],t,i,.5),[a,l]=t,[d,h]=r,[f,y]=i,[b,x]=o,$=a-b,E=l-x,C=Math.sqrt($*$+E*E),O=Sc(l-x,a-b),j=Sc(h-x,d-b);let D=Sc(y-x,f-b);return(j-O)*(D-j)<0&&(D+=2*Math.sign(O-D)*Math.PI),new zL(b,x,C,O,D,s)}function z1e(t,e,i){const r=Tv(t,i/2),n=Tv(t,i),s=Tv(t,(i+1)/2);return[{c:[n,r]},{c:[[...e.c[0]],s]}]}function N1e(t,e){const[i]=e.c,{cx:r,cy:n,thetaStart:s,thetaEnd:o,radius:a,isInvalid:l}=VL(t,e);return{a:[i,[r,n],Math.abs(o-s)<Math.PI?1:0,s>o?1:0,l?s:0,a,l?0:1]}}function L1e(t){return"curveRings"in t&&!!t.curveRings?.length||"curvePaths"in t&&!!t.curvePaths?.length}function F1e(t){return"curveRings"in t?t.curveRings:t.curvePaths}function IE(t){return"b"in t}function AE(t){return"c"in t}function lw(t){return Array.isArray(t)}function j1e(t){return"a"in t}function BL(t){return"a"in t&&t.a.length===4}function dne(t){return"a"in t&&t.a.length===7}function F_(t){return lw(t)?t:IE(t)?t.b[0]:AE(t)?t.c[0]:t.a[0]}function hne(t){if(IE(t)){const[e,i,r]=t.b;return{b:[[...e],[...i],[...r]]}}if(AE(t)){const[e,i]=t.c;return{c:[[...e],[...i]]}}if(lw(t))return[...t];if(BL(t)){const[e,i,r,n]=t.a;return{a:[[...e],[...i],r,n]}}if(dne(t)){const[e,i,r,n,s,o,a]=t.a;return{a:[[...e],[...i],r,n,s,o,a]}}return t}function pne(t,e){const[i,r,n,s]=e.a,[o,a]=t,[l,d]=i,[h,f]=r,y=o-h,b=a-f,x=Math.sqrt(y*y+b*b),$=l-h,E=d-f,C=Math.sqrt($*$+E*E),O=x===0||C===0||!uL(x,C),j=x,[D,F]=OL(Sc(a-f,o-h),Math.atan2(d-f,l-h),n,s);return new zL(h,f,j,D,F,O)}function U1e(t,e,i){const{cx:r,cy:n,thetaStart:s,thetaEnd:o}=t,[a,l,d,h]=e.a,f=s*(1-i)+o*i;return[{a:[Tv(t,i),[r,n],Math.abs(f-s)<Math.PI?1:0,h]},{a:[[...a],[r,n],Math.abs(o-f)<Math.PI?1:0,h]}]}let fne=class{constructor(e,i,r,n,s,o,a,l,d){this.cx=e,this.cy=i,this.a=r,this.b=n,this.cosR=s,this.sinR=o,this.u1=a,this.u2=l,this.isInvalid=d}};function PE(t,e){const[i,r,n,s,o,a,l]=e.a,[d,h]=t,[f,y]=i,[b,x]=r,$=a*l,E=Math.cos(o),C=Math.sin(o),[O,j]=OL(Sc(1/$*(h-x)*E-1/$*(d-b)*C,1/a*(h-x)*C+1/a*(d-b)*E),Math.atan2(1/$*(y-x)*E-1/$*(f-b)*C,1/a*(y-x)*C+1/a*(f-b)*E),n,s);return new fne(b,x,a,$,E,C,O,j,a===0||$===0)}function Am(t,e){const{a:i,b:r,cosR:n,sinR:s,cx:o,cy:a}=t,l=Math.cos(e),d=Math.sin(e);return[i*l*n-r*d*s+o,i*l*s+r*d*n+a]}function Fu(t,e){const{u1:i,u2:r}=t;return Am(t,i*(1-e)+r*e)}function B1e(t,e,i){if(i<0||i>1)return[];if(i===0||i===1)return[hne(e)];const[r,[n,s],o,a,l,d,h]=e.a,{u1:f,u2:y}=t,b=f*(1-i)+y*i;return[{a:[[...Fu(t,i)],[n,s],Math.abs(b-f)<Math.PI?1:0,a,l,d,h]},{a:[[...r],[n,s],Math.abs(y-b)<Math.PI?1:0,a,l,d,h]}]}function q1e(t,e){const{a:i,b:r,cosR:n,sinR:s,u1:o,u2:a}=t,l=Math.PI/6,d=RL(e,[1*l,2*l,4*l,5*l,7*l,8*l,10*l,11*l],$=>{const E=Math.cos($),C=Math.sin($),[O,j]=Am(t,$);return[O,j,-i*n*C-r*s*E,-i*s*C+r*n*E,-i*n*E+r*s*C,-i*s*E-r*n*C]}),h=aw(o,a),f=new Set(d.map($=>mg(h,$)).filter($=>$>h.min&&$<h.max));f.add(o),f.add(a);let y,b,x=1/0;for(const $ of f){const E=Am(t,$),[C,O]=E,j=e[0]-C,D=e[1]-O,F=j*j+D*D;F<x&&(y=($-o)/(a-o),b=E,x=F)}return{t:y,curvePoint:b,distance:Math.sqrt(x)}}function mne(t,e,i){const r=PE(e,i),{a:n,b:s,u1:o,u2:a,cosR:l,sinR:d,isInvalid:h}=r,f=i.a[0];if(Sn(t,e),Sn(t,f),h)return t;const y=Math.atan2(-s*d,n*l),b=y+Math.PI,x=Math.atan2(s*l,n*d),$=x+Math.PI,E=aw(o,a);for(const C of[y,b,x,$].map(O=>mg(E,O)))C>E.min&&C<E.max&&Sn(t,Am(r,C));return t}function H1e(t,e,i){const[r,n,s,o,a,l,d]=e.a,h=PE(t,e),{u1:f,u2:y,isInvalid:b}=h,x=y-f;if(b)return Math.sqrt(lr(t,r));const $=14,E=[0,0];let C=0,O=[Fu(h,0),Fu(h,.25),Fu(h,.5),Fu(h,.75),Fu(h,1)];for(let j=0;j<$;j++){const D=O.length-1,F=x/(2*D),G=[];for(let se=0;se<D;se++)G.push(O[se]),G.push(Am(h,f+(2*se+1)*F));G.push(O[O.length-1]),O=G,C=0;let z=0;for(let se=1;se<O.length;se++){const oe=O[se-1],ee=O[se];if(C+=Math.sqrt(lr(oe,ee)),se>1){const ge=O[se-2],te=Pre(E,ge,oe,n,ee);z+=te?Math.sqrt(lr(oe,te)):Math.abs(ee[0]-oe[0])+Math.abs(ee[1]-oe[1])}else z+=C}if(z-C<i)return C}return C}const RA=nu(),Ay=nu(),DA=nu(),ga=nu();function G1e(t,e,i){const[r,n,s,o,a,l,d]=e.a,h=PE(t,e),{cosR:f,sinR:y,a:b,b:x,cx:$,cy:E}=h,C=kv([0,0],r,i),O=kv([0,0],n,i),j=i[0]*i[4]<0?1-o:o;{const D=b*b*y*y+x*x*f*f,F=2*(x*x-b*b)*y*f,G=b*b*f*f+x*x*y*y,z=-2*D*$-F*E,se=-F*$-2*G*E;Cd(RA,D,F/2,z/2,F/2,G,se/2,z/2,se/2,D*$*$+F*$*E+G*E*E-b*b*x*x)}if(FL(Ay,i),Ay==null){const D=kv([0,0],t,i);return{a:[C,O,s,o,Sc(C[1],C[0]),Math.sqrt(lr(C,D))/2,0]}}LL(DA,Ay),Im(ga,Im(ga,DA,RA),Ay);{const D=ga[0],F=2*ga[1],G=ga[4],z=2*ga[2],se=2*ga[5],oe=F*F-4*D*G,ee=2*(D*se*se+G*z*z-F*z*se+oe*ga[8]),ge=Math.sqrt((D-G)**2+F*F),te=-Math.sqrt(ee*(D+G+ge))/oe,Y=-Math.sqrt(ee*(D+G-ge))/oe;return{a:[C,O,s,j,.5*Sc(-F,G-D),te,Y/te]}}}function gne(t,e,i){if(lw(i))return Sn(t,e),Sn(t,i),t;if(IE(i))return zre(t,e,i);if(AE(i)){const r=VL(e,i);return OA(t,r)}if(BL(i)){const r=pne(e,i);return OA(t,r)}return mne(t,e,i)}function qL(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function HL(t){return t.points!==void 0}function GL(t){return t.x!==void 0&&t.y!==void 0}function WL(t){return t.paths!==void 0}function ZL(t){return t.rings!==void 0}function YL(t){function e(i,r){return i==null?r:r==null?i:t(i,r)}return e}const Ba=YL(Math.min),qa=YL(Math.max);function W1e(t,e){return WL(e)?vh(t,e.curvePaths??e.paths,!1,!1)??t:ZL(e)?vh(t,e.curveRings??e.rings,!1,!1)??t:HL(e)?OE(t,e.points,!1,!1,!1,!1):qL(e)?JL(t,e):(GL(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function Z1e(t){let e,i,r,n;for(t.reset(),e=r=1/0,i=n=-1/0;t.nextPath();){const s=yne(t);e=Math.min(s[0],e),r=Math.min(s[1],r),i=Math.max(s[2],i),n=Math.max(s[3],n)}return Ar([e,r,i,n])}function yne(t){let e,i,r,n;for(e=r=1/0,i=n=-1/0;t.nextPoint();)e=Math.min(t.x,e),r=Math.min(t.y,r),i=Math.max(t.x,i),n=Math.max(t.y,n);return Ar([e,r,i,n])}function Y1e(t,e){return WL(e)?vh(t,e.curvePaths??e.paths,!0,!1)??t:ZL(e)?vh(t,e.curveRings??e.rings,!0,!1)??t:HL(e)?OE(t,e.points,!0,!1,!0,!1):qL(e)?JL(t,e,!0,!1,!0,!1):(GL(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function vh(t,e,i,r){const n=i?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[d,h]=F_(e[0][0]),f=d,y=h;for(let b=0;b<e.length;b++){const x=e[b];for(let $=0;$<x.length;$++){const E=F_(x[$]),[C,O]=E;if(d=Ba(d,C),h=Ba(h,O),f=qa(f,C),y=qa(y,O),i&&E.length>2){const G=E[2];s=Ba(s,G),o=qa(o,G)}if(r&&E.length>n){const G=E[n];a=Ba(s,G),l=qa(o,G)}const j=x[$];if(lw(j)||$<1)continue;const D=F_(x[$-1]),F=Xie(d,h,f,y);[d,h,f,y]=gne(F,D,j)}}return i?r?(t[0]=d,t[1]=h,t[2]=s,t[3]=a,t[4]=f,t[5]=y,t[6]=o,t[7]=l,t.length=8,t):(t[0]=d,t[1]=h,t[2]=s,t[3]=f,t[4]=y,t[5]=o,t.length=6,t):r?(t[0]=d,t[1]=h,t[2]=a,t[3]=f,t[4]=y,t[5]=l,t.length=6,t):(t[0]=d,t[1]=h,t[2]=f,t[3]=y,t.length=4,t)}function JL(t,e,i,r,n,s){const o=e.xmin,a=e.xmax,l=e.ymin,d=e.ymax;let h=e.zmin,f=e.zmax,y=e.mmin,b=e.mmax;return n?(h=h||0,f=f||0,s?(y=y||0,b=b||0,t[0]=o,t[1]=l,t[2]=h,t[3]=y,t[4]=a,t[5]=d,t[6]=f,t[7]=b,t):(t[0]=o,t[1]=l,t[2]=h,t[3]=a,t[4]=d,t[5]=f,t)):s?(y=y||0,b=b||0,t[0]=o,t[1]=l,t[2]=y,t[3]=a,t[4]=d,t[5]=b,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=d,t)}function OE(t,e,i,r,n,s){const o=i?3:2,a=r&&s,l=i&&n;if(!e.length||!e[0].length)return null;let d,h,f,y,[b,x]=e[0],[$,E]=e[0];for(let C=0;C<e.length;C++){const O=e[C],[j,D]=O;if(b=Ba(b,j),x=Ba(x,D),$=qa($,j),E=qa(E,D),l&&O.length>2){const F=O[2];d=Ba(d,F),h=qa(h,F)}if(a&&O.length>o){const F=O[o];f=Ba(d,F),y=qa(h,F)}}return n?(d=d||0,h=h||0,s?(f=f||0,y=y||0,t[0]=b,t[1]=x,t[2]=d,t[3]=f,t[4]=$,t[5]=E,t[6]=h,t[7]=y,t):(t[0]=b,t[1]=x,t[2]=d,t[3]=$,t[4]=E,t[5]=h,t)):s?(f=f||0,y=y||0,t[0]=b,t[1]=x,t[2]=f,t[3]=$,t[4]=E,t[5]=y,t):(t[0]=b,t[1]=x,t[2]=$,t[3]=E,t)}function vne(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function bne(t){return t.points!==void 0}function wne(t){return t.x!==void 0&&t.y!==void 0}function _ne(t){return t.paths!==void 0}function xne(t){return t.rings!==void 0}const RE=[];function KL(t,e,i,r){return{xmin:t,ymin:e,xmax:i,ymax:r}}function XL(t,e,i,r,n,s){return{xmin:t,ymin:e,zmin:i,xmax:r,ymax:n,zmax:s}}function QL(t,e,i,r,n,s){return{xmin:t,ymin:e,mmin:i,xmax:r,ymax:n,mmax:s}}function e6(t,e,i,r,n,s,o,a){return{xmin:t,ymin:e,zmin:i,mmin:r,xmax:n,ymax:s,zmax:o,mmax:a}}function DE(t,e=!1,i=!1){return e?i?e6(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):XL(t[0],t[1],t[2],t[3],t[4],t[5]):i?QL(t[0],t[1],t[2],t[3],t[4],t[5]):KL(t[0],t[1],t[2],t[3])}function J1e(t){return t?vne(t)?t:wne(t)?$ne(t):xne(t)?i6(t):_ne(t)?r6(t):bne(t)?t6(t):null:null}function t6(t){const{hasZ:e,hasM:i,points:r}=t,n=OE(RE,r,e??!1,i??!1,e??!1,i??!1);return n?DE(n,e,i):null}function $ne(t){const{x:e,y:i,z:r,m:n}=t,s=n!=null;return r!=null?s?e6(e,i,r,n,e,i,r,n):XL(e,i,r,e,i,r):s?QL(e,i,n,e,i,n):KL(e,i,e,i)}function i6(t){const{hasZ:e,hasM:i,rings:r,curveRings:n}=t,s=vh(RE,n??r,e??!1,i??!1);return s?DE(s,e,i):null}function r6(t){const{hasZ:e,hasM:i,paths:r,curvePaths:n}=t,s=vh(RE,n??r,e??!1,i??!1);return s?DE(s,e,i):null}function bh(t,e,i=!1){let{hasM:r,hasZ:n}=t;Array.isArray(e)?e.length!==4||r||n?e.length===3&&i&&!r?(n=!0,r=!1):e.length===3&&r&&n&&(r=!1,n=!1):(r=!0,n=!0):(n=!n&&e.hasZ&&(!r||e.hasM),r=!r&&e.hasM&&(!n||e.hasZ)),t.hasZ=n,t.hasM=r}var Mv;function zA(t){return!Array.isArray(t[0])}function Sne(t){return typeof t[0]?.[0]=="number"}function kne(t){if(!t)return;let{rings:e,hasM:i,hasZ:r,spatialReference:n}=t;switch(e??=[],Sne(e)&&(e=[e]),e[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Se.WGS84,{...t,hasM:i,hasZ:r,rings:e,spatialReference:n}}let Dt=Mv=class extends mi{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:i}=t;let r=!1,n=!1;for(const o of e)o.hasZ&&(r=!0),o.hasM&&(n=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let d=0;d<a.length;d++)a[d].push(l)}if(n&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let d=0;d<a.length;d++)a[d].push(l)}return a}),spatialReference:i};return r&&(s.hasZ=!0),n&&(s.hasM=!0),new Mv(s)}constructor(t){super(kne(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){Y$(ue.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=qie(this);return t?Ee.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=X(t)}get extent(){const t=i6(this),{spatialReference:e}=this;return t?new We({...t,spatialReference:e}):null}get isSelfIntersecting(){return Y$(ue.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),Ite(this.rings)}writeRings(t,e){e.rings=X(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(zA(t)){const r=[];for(let n=0,s=t.length;n<s;n++)r[n]=t[n].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new Mv;return t.spatialReference=this.spatialReference,t.rings=X(this.rings),t.curveRings=X(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const r=([n,s,o,a],[l,d,h,f])=>n===l&&s===d&&(o==null&&h==null||o===h)&&(a==null&&f==null||a===f);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],o=t.rings[n];if(!M1(s,o,r))return!1}return!0}contains(t){if(!t)return!1;const e=tw(t,this.spatialReference);return yE(this,e??t)}isClockwise(t){const e=zA(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t;return _L(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],r=this.hasZ,n=this.hasM;return r&&!n?new Ee(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Ee(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Ee(i[0],i[1],i[2],i[3],this.spatialReference):new Ee(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(bh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new Ee(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,r=e.map(n=>new Ee(n,i));return this.notifyChange("rings"),r}setPoint(t,e,i){return this._validateInputs(t,e)?(bh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const r=this.rings[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};u([p({readOnly:!0})],Dt.prototype,"cache",null),u([p({readOnly:!0})],Dt.prototype,"centroid",null),u([p({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Dt.prototype,"curveRings",void 0),u([Ye("curveRings")],Dt.prototype,"writeCurveRings",null),u([p({readOnly:!0})],Dt.prototype,"extent",null),u([p({readOnly:!0})],Dt.prototype,"isSelfIntersecting",null),u([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],Dt.prototype,"rings",void 0),u([Ye("rings")],Dt.prototype,"writeRings",null),Dt=Mv=u([R("esri.geometry.Polygon")],Dt),Dt.prototype.toJSON.isDefaultToJSON=!0;function ml(){return[0,0,0]}function Tne(t){return[t[0],t[1],t[2]]}function Gh(t,e,i){return[t,e,i]}function Ene(t,e,i){return[t,e,i]}function Mne(t,e=ml()){const i=Math.min(3,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function n6(){return ml()}function s6(){return Gh(1,1,1)}function o6(){return Gh(1,0,0)}function a6(){return Gh(0,1,0)}function l6(){return Gh(0,0,1)}const Cne=n6(),Ine=s6(),Ane=o6(),Pne=a6(),One=l6();Object.freeze(Object.defineProperty({__proto__:null,ONES:Ine,UNIT_X:Ane,UNIT_Y:Pne,UNIT_Z:One,ZEROS:Cne,clone:Tne,create:ml,freeze:Ene,fromArray:Mne,fromValues:Gh,ones:s6,unitX:o6,unitY:a6,unitZ:l6,zeros:n6},Symbol.toStringTag,{value:"Module"}));var $S;function Rne(t){if(!t)return;let{points:e,hasM:i,hasZ:r,spatialReference:n}=t;switch(e??=[],e?.at(0)?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Se.WGS84,{...t,hasM:i,hasZ:r,points:e,spatialReference:n}}let os=$S=class extends mi{constructor(t){super(Rne(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=t6(this);return t?new We({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=X(this.points)}clone(){const{points:t,spatialReference:e,hasM:i,hasZ:r}=this;return new $S({points:X(t),spatialReference:e.clone(),hasM:i,hasZ:r})}addPoint(t){return bh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=e[2],r=3),this.hasM&&(i.m=e[r]),new Ee(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new Ee(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(bh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};u([p({readOnly:!0})],os.prototype,"cache",null),u([p({readOnly:!0})],os.prototype,"extent",null),u([p({type:[[Number]],json:{write:{isRequired:!0}}})],os.prototype,"points",void 0),u([Ye("points")],os.prototype,"writePoints",null),os=$S=u([R("esri.geometry.Multipoint")],os),os.prototype.toJSON.isDefaultToJSON=!0;var SS;function Dne(t){return!Array.isArray(t[0])}function zne(t){return typeof t[0]?.[0]=="number"}function Nne(t){if(!t)return;let{paths:e,hasM:i,hasZ:r,spatialReference:n}=t;switch(e??=[],zne(e)&&(e=[e]),e[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Se.WGS84,{...t,hasM:i,hasZ:r,paths:e,spatialReference:n}}let ci=SS=class extends mi{constructor(t){super(Nne(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=X(t)}get extent(){const t=r6(this),{spatialReference:e}=this;return t?new We({...t,spatialReference:e}):null}writePaths(t,e){e.paths=X(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(Dne(t)){const r=[];for(let n=0,s=t.length;n<s;n++)r[n]=t[n].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new SS;return t.spatialReference=this.spatialReference,t.paths=X(this.paths),t.curvePaths=X(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],r=this.hasZ,n=this.hasM;return r&&!n?new Ee(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new Ee(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new Ee(i[0],i[1],i[2],i[3],this.spatialReference):new Ee(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(bh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,r=e.map(n=>new Ee(n,i));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new Ee(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(bh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const r=this.paths[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};u([p({readOnly:!0})],ci.prototype,"cache",null),u([p({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],ci.prototype,"curvePaths",void 0),u([Ye("curvePaths")],ci.prototype,"writeCurvePaths",null),u([p({readOnly:!0})],ci.prototype,"extent",null),u([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],ci.prototype,"paths",void 0),u([Ye("paths")],ci.prototype,"writePaths",null),ci=SS=u([R("esri.geometry.Polyline")],ci),ci.prototype.toJSON.isDefaultToJSON=!0;var kS;let ju=kS=class extends Te{constructor(t){super(t),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new kS({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};u([p()],ju.prototype,"isInverse",void 0),u([p()],ju.prototype,"wkt",void 0),u([p()],ju.prototype,"wkid",void 0),ju=kS=u([R("esri.geometry.operators.support.GeographicTransformationStep")],ju);var TS;let Ff=TS=class extends Te{constructor(t){super(t),this.steps=[]}getInverse(){const t=new TS;for(let e=this.steps.length-1;e>=0;e--){const i=this.steps[e];t.steps.push(i.getInverse())}return t}};u([p({type:[ju],nonNullable:!0})],Ff.prototype,"steps",void 0),Ff=TS=u([R("esri.geometry.operators.support.GeographicTransformation")],Ff);const K1e=Math.PI/180,X1e=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,ya=qt.radius,Kn=qt.eccentricitySquared,Lne={a1:ya*Kn,a2:ya*Kn*ya*Kn,a3:ya*Kn*Kn/2,a4:ya*Kn*ya*Kn*2.5,a5:ya*Kn+ya*Kn*Kn/2,a6:1-Kn},Q1e={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:qt.radius,f:qt.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:al.radius,f:al.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:Bs.radius,f:Bs.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:Bs.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},Fne={2:{5:Et,7:null,9:null,10:Et,1:Uf,6:null,8:null,0:null,3:Id,11:Ad,2:Et,4:Rd},5:{5:Et,7:null,9:null,10:Et,1:Uf,6:null,8:null,0:null,3:Id,11:Ad,2:Et,4:Rd},7:{5:null,7:Et,9:null,10:Et,1:null,6:FA,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:Et,10:Et,1:null,6:null,8:LA,0:null,3:null,11:null,2:null,4:null},3:{5:jf,7:null,9:null,10:jf,1:Une,6:null,8:null,0:null,3:Et,11:qne,2:jf,4:Vne},4:{5:Dd,7:null,9:null,10:Dd,1:Qne,6:null,8:null,0:null,3:ese,11:Hne,2:Dd,4:Et},1:{5:Od,7:null,9:null,10:Od,1:Et,6:null,8:null,0:null,3:Jne,11:Gne,2:Od,4:Kne},6:{5:null,7:UA,9:null,10:UA,1:null,6:Et,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:jA,10:jA,1:null,6:null,8:Et,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:Et,3:null,11:null,2:null,4:null},10:{5:Et,7:Et,9:Et,10:Et,1:Uf,6:FA,8:LA,0:null,3:Id,11:Ad,2:Et,4:Rd},11:{5:Pd,7:null,9:null,10:Pd,1:Wne,6:null,8:null,0:null,3:Zne,11:Et,2:Pd,4:Yne}};function c6(t,e){return jne(t,e)?.projector}function jne(t,e){if(t==null||e==null)return null;if(oo.source.spatialReference===t&&oo.dest.spatialReference===e)return oo;const i=NA(t,oo.source),r=NA(e,oo.dest);return i===0&&r===0?Ti(t,e)?oo.projector=Et:oo.projector=null:oo.projector=Fne[i][r],oo}function NA(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=eo(t,1)),db(t)?e.spatialReferenceId=1:Gc(t)?e.spatialReferenceId=2:Ks(t)?e.spatialReferenceId=3:Fee(t)?e.spatialReferenceId=11:t.wkt===Bee.wkt?e.spatialReferenceId=4:t.wkid===4490?e.spatialReferenceId=5:t.wkt===fE.wkt?e.spatialReferenceId=6:t.wkt===mE.wkt?e.spatialReferenceId=8:PN(t)?e.spatialReferenceId=7:ON(t)?e.spatialReferenceId=9:e.spatialReferenceId=0):0}function Et(t,e,i,r){t!==i&&(i[r++]=t[e++],i[r++]=t[e++],i[r]=t[e])}function jf(t,e,i,r){i[r]=_h*(t[e]/kc),i[r+1]=_h*(u6-2*Math.atan(Math.exp(-t[e+1]/kc))),i[r+2]=t[e+2]}function Une(t,e,i,r){const n=t[e]/kc,s=u6-2*Math.atan(Math.exp(-t[e+1]/kc)),o=kc+t[e+2],a=Math.cos(s)*o;i[r]=Math.cos(n)*a,i[r+1]=Math.sin(n)*a,i[r+2]=Math.sin(s)*o}function Vne(t,e,i,r){jf(t,e,i,r),Rd(i,r,i,r)}function Bne(t,e,i,r,n){const s=.4999999*Math.PI,o=An(wh*t[e+1],-s,s),a=Math.sin(o);i[r++]=wh*t[e]*n.radius,i[r++]=n.halfSemiMajorAxis*Math.log((1+a)/(1-a)),i[r]=t[e+2]}function Id(t,e,i,r){Bne(t,e,i,r,qt)}function Ad(t,e,i,r){i[r]=t[e]*VA,i[r+1]=t[e+1]*VA,i[r+2]=t[e+2]}function Pd(t,e,i,r){i[r]=t[e]*BA,i[r+1]=t[e+1]*BA,i[r+2]=t[e+2]}function qne(t,e,i,r){jf(t,e,i,r),Ad(i,r,i,r)}function Hne(t,e,i,r){Dd(t,e,i,r),Ad(i,r,i,r)}function Gne(t,e,i,r){Od(t,e,i,r),Ad(i,r,i,r)}function Wne(t,e,i,r){Pd(t,e,i,r),Uf(i,r,i,r)}function Zne(t,e,i,r){Pd(t,e,i,r),Id(i,r,i,r)}function Yne(t,e,i,r){Pd(t,e,i,r),Rd(i,r,i,r)}function zE(t,e,i,r,n){const s=n+t[e+2],o=wh*t[e+1],a=wh*t[e],l=Math.cos(o)*s;i[r]=Math.cos(a)*l,i[r+1]=Math.sin(a)*l,i[r+2]=Math.sin(o)*s}function LA(t,e,i,r){zE(t,e,i,r,al.radius)}function FA(t,e,i,r){zE(t,e,i,r,Bs.radius)}function Uf(t,e,i,r){zE(t,e,i,r,qt.radius)}function NE(t,e,i,r,n){const s=t[e],o=t[e+1],a=t[e+2],l=Math.sqrt(s*s+o*o+a*a),d=pie(a/(l===0?1:l)),h=Math.atan2(o,s);i[r++]=_h*h,i[r++]=_h*d,i[r]=l-n}function jA(t,e,i,r){NE(t,e,i,r,al.radius)}function UA(t,e,i,r){NE(t,e,i,r,Bs.radius)}function Od(t,e,i,r){NE(t,e,i,r,qt.radius)}function Jne(t,e,i,r){Od(t,e,i,r),Id(i,r,i,r)}function Kne(t,e,i,r){Od(t,e,i,r),Rd(i,r,i,r)}function Xne(t,e,i,r,n){const s=wh*t[e],o=wh*t[e+1],a=t[e+2],l=Math.sin(o),d=Math.cos(o),h=n.radius/Math.sqrt(1-n.eccentricitySquared*l*l);i[r++]=(h+a)*d*Math.cos(s),i[r++]=(h+a)*d*Math.sin(s),i[r++]=(h*(1-n.eccentricitySquared)+a)*l}function Rd(t,e,i,r){Xne(t,e,i,r,qt)}function Dd(t,e,i,r){const n=Lne,s=t[e],o=t[e+1],a=t[e+2];let l,d,h,f,y,b,x,$,E,C,O,j,D,F,G,z,se,oe,ee,ge,te;l=Math.abs(a),d=s*s+o*o,h=Math.sqrt(d),f=d+a*a,y=Math.sqrt(f),ge=Math.atan2(o,s),b=a*a/f,x=d/f,F=n.a2/y,G=n.a3-n.a4/y,x>.3?($=l/y*(1+x*(n.a1+F+b*G)/y),ee=Math.asin($),C=$*$,E=Math.sqrt(1-C)):(E=h/y*(1-b*(n.a5-F-x*G)/y),ee=Math.acos(E),C=1-E*E,$=Math.sqrt(C)),O=1-qt.eccentricitySquared*C,j=qt.radius/Math.sqrt(O),D=n.a6*j,F=h-j*E,G=l-D*$,se=E*F+$*G,z=E*G-$*F,oe=z/(D/O+se),ee+=oe,te=se+z*oe/2,a<0&&(ee=-ee),i[r++]=_h*ge,i[r++]=_h*ee,i[r]=te}function Qne(t,e,i,r){Dd(t,e,i,r),Uf(i,r,i,r)}function ese(t,e,i,r){Dd(t,e,i,r),Id(i,r,i,r)}const oo={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Et},wh=pg(1),_h=lL(1),u6=.5*Math.PI,kc=qt.radius,VA=kc*Math.PI/180,BA=180/(kc*Math.PI);function gg(t,e,i,r,n,s,o=Math.floor(t.length/3)){const a=c6(e,n);if(a==null)return!1;if(a===Et){if(t===r&&i===s)return!0;const d=i+3*o;for(let h=i,f=s;h<d;h++,f++)r[f]=t[h];return!0}const l=i+3*o;for(let d=i,h=s;d<l;d+=3,h+=3)a(t,d,r,h);return!0}const ewe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:gg},Symbol.toStringTag,{value:"Module"}));function qA(t,e,i,r,n,s){return Py[0]=t,Py[1]=e,Py[2]=i,gg(Py,r,0,n,s,0)}const Py=ml();function tse(t,e,i){if(e==null||i==null||i.vcsWkid||Ti(e,i)||cl(e)||cl(i))return null;const r=cA(e)/cA(i);if(r===1)return null;switch(t){case"point":case"esriGeometryPoint":return n=>ise(n,r);case"polyline":case"esriGeometryPolyline":return n=>nse(n,r);case"polygon":case"esriGeometryPolygon":return n=>rse(n,r);case"multipoint":case"esriGeometryMultipoint":return n=>sse(n,r);case"extent":case"esriGeometryEnvelope":return n=>ose(n,r);default:return null}}function ise(t,e){t?.z!=null&&(t.z*=e)}function rse(t,e){if(t)for(const i of t.rings)for(const r of i)r.length>2&&(r[2]*=e)}function nse(t,e){if(t)for(const i of t.paths)for(const r of i)r.length>2&&(r[2]*=e)}function sse(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function ose(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let Vf=null,Pm=null,Om=null,xh=null,ES={};const LE=new ug;function Jo(){return!!(Pm?.isLoaded()&&Om?.isLoaded()&&xh?.isLoaded())}function d6(){return!!Jo()||(Ce(LE),ul(),!1)}function h6(t,e){return!t||!e||ys(t,e)||d6()}function ase(t,e){return!ys(t,e)&&!Jo()}async function ul(t){Vf==null&&(Vf=Promise.all([ae(()=>import("./c-projectOperator-CSZEVenB.js"),__vite__mapDeps([25,26,27])).then(e=>(Pm=e,Pm.load())),ae(()=>import("./c-projectOperator-YIPJ7Z6u.js"),__vite__mapDeps([28,26,27])).then(e=>(Om=e,Om.load())),ae(()=>import("./c-geographicTransformationUtils-6-ngvFUb.js"),[]).then(e=>(xh=e,xh.load()))])),await Vf,Pt(t),LE.notify()}function su(t,e,i){return Array.isArray(t)?t.length===0?[]:(fte(t),MS(t,t[0].spatialReference,e,i)):(gh(t),MS([t],t.spatialReference,e,i)[0])}function MS(t,e,i,r){if(e==null||i==null)return t;if(ys(e,i,r))return t.map(n=>Cv(n,e,i));if(r?.geographicTransformation==null&&db(e))return t.map(n=>Cv(n,e,Se.WGS84)).map(n=>Rm(n,i));if(r?.geographicTransformation==null&&db(i))return t.map(n=>Rm(n,Se.WGS84)).map(n=>Cv(n,Se.WGS84,i));if(!Jo())throw new f6;if(!r?.geographicTransformation){if(r?.extendedParams)r={...r,geographicTransformation:xh.getTransformation(e,i,r.areaOfInterestExtent)||new Ff};else if(!r?.areaOfInterestExtent){const n=lse(e,i);let s=ES[n];s||(s=xh.getTransformation(e,i)||new Ff,ES[n]=s),r={geographicTransformation:s}}}return t[0].spatialReference||(t[0].spatialReference=e),t[0]instanceof mi?Pm.executeMany(t,i,r):Om.executeMany(t,i,r)}function lse(t,e){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??""].join()}function cse(t,e){const i=p6([t],e);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function p6(t,e){if(!Jo()){for(const i of t)if(i!=null&&!Ti(i.spatialReference,e)&&Xr(i.spatialReference)&&Xr(e)&&!ys(i.spatialReference,e))return Ce(LE),{pending:ul(),geometries:null}}return{pending:null,geometries:t.map(i=>i==null?null:Ti(i.spatialReference,e)?i:Xr(i.spatialReference)&&Xr(e)?Rm(i,e):null)}}let f6=class extends K{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function use(){Vf=null,Pm=null,Om=null,xh=null,ES={}}const dse={get loadPromise(){return Vf}};function Rm(t,e){try{const i=su(t,e);if(i==null)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const r=tse(i.type,t.spatialReference,e);return r?.(i),i}catch(i){if(!(i instanceof f6))throw i;return null}}async function m6(t,e,i){const r=t.spatialReference;return r!=null&&e!=null&&await g6(r,e,null,i),Rm(t,e)}function ys(t,e,i){return!(i?.areaOfInterestExtent||i?.extendedParams||i?.geographicTransformation)&&(!!Ti(t,e)||Xr(t)&&Xr(e)&&!!c6(t,e))}function hse(t,e){if(Ti(t,e))return!0;if(!Xr(t)||!Xr(e))return!1;const i=Gc(t)||Ks(t)||aA(t),r=Gc(e)||Ks(e)||aA(e);return i&&r}async function g6(t,e,i,r){if(Jo())return SI(r);if(Array.isArray(t)){for(const{source:n,dest:s,options:o}of t)if(n&&s&&!ys(n,s,o))return ul(r)}else if(t&&e&&!ys(t,e,i))return ul(r);return SI(r)}function Cv(t,e,i){return t?"x"in t?y6(t,e,new Ee,i,0):"xmin"in t?x6(t,e,new We,i,0):"rings"in t?_6(t,e,new Dt,i,0):"paths"in t?b6(t,e,new ci,i,0):"points"in t?v6(t,e,new os,i,0):null:null}function pse(t,e,i=e.spatialReference,r=0){return i!=null&&t.spatialReference!=null&&y6(t,t.spatialReference,e,i,r)!=null}function y6(t,e,i,r,n){Bi[0]=t.x,Bi[1]=t.y;const s=t.z;return Bi[2]=s!==void 0?s:n,gg(Bi,e,0,Bi,r,0)?(i.x=Bi[0],i.y=Bi[1],i.spatialReference=r,s!==void 0||cl(r)?(i.z=Bi[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),t.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function fse(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&v6(t,t.spatialReference,e,i,r)!=null}function v6(t,e,i,r,n){const{points:s,hasZ:o,hasM:a}=t,l=[],d=s.length,h=[];for(const y of s)h.push(y[0],y[1],o?y[2]:n);if(!gg(h,e,0,h,r,0,d))return null;const f=o||cl(r);for(let y=0;y<d;++y){const b=3*y,x=h[b],$=h[b+1];f&&a?l.push([x,$,h[b+2],s[y][3]]):f?l.push([x,$,h[b+2]]):a?l.push([x,$,s[y][2]]):l.push([x,$])}return i.points=l,i.spatialReference=r,i.hasZ=o,i.hasM=a,i}function mse(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&b6(t,t.spatialReference,e,i,r)!=null}function b6(t,e,i,r,n){const{paths:s,hasZ:o,hasM:a}=t,l=[];if(!$6(s,o??!1,a??!1,e,l,r,n))return null;const d=o||cl(r);return i.paths=l,i.spatialReference=r,i.hasZ=d,i.hasM=a,i}function w6(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&_6(t,t.spatialReference,e,i,r)!=null}function _6(t,e,i,r,n){const{rings:s,hasZ:o,hasM:a}=t,l=[];if(!$6(s,o??!1,a??!1,e,l,r,n))return null;const d=o||cl(r);return i.rings=l,i.spatialReference=r,i.hasZ=d,i.hasM=a,i}function gse(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&x6(t,t.spatialReference,e,i,r)!=null}function x6(t,e,i,r,n){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:d,hasM:h}=t,f=d?t.zmin:n;if(!qA(s,o,f,e,Bi,r))return null;const y=d||cl(r);i.xmin=Bi[0],i.ymin=Bi[1],y&&(i.zmin=Bi[2]);const b=d?t.zmax:n;return qA(a,l,b,e,Bi,r)?(i.xmax=Bi[0],i.ymax=Bi[1],y&&(i.zmax=Bi[2]),h&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=r,i):null}function $6(t,e,i,r,n,s,o=0){const a=new Array;for(const h of t)for(const f of h)a.push(f[0],f[1],e?f[2]:o);if(!gg(a,r,0,a,s,0))return!1;let l=0;n.length=0;const d=e||cl(s);for(const h of t){const f=new Array;for(const y of h)d&&i?f.push([a[l++],a[l++],a[l++],y[3]]):d?f.push([a[l++],a[l++],a[l++]]):i?(f.push([a[l++],a[l++],y[2]]),l++):(f.push([a[l++],a[l++]]),l++);n.push(f)}return!0}const Bi=ml(),iwe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:ys,initializeProjection:g6,isEqualBaseGCS:hse,isLoaded:Jo,isLoadedOrLoad:d6,isLoadedOrLoadFor:h6,load:ul,project:su,projectExtent:gse,projectMany:MS,projectMultipoint:fse,projectOrLoad:cse,projectOrLoadMany:p6,projectPoint:pse,projectPolygon:w6,projectPolyline:mse,projectWithZConversion:m6,projectWithoutEngine:Cv,requiresLoad:ase,test:dse,tryProjectWithZConversion:Rm,unload:use},Symbol.toStringTag,{value:"Module"}));var Iv;let CS=Iv=class extends fl(pe.ofType(Dt)){constructor(t){super(t)}clone(){return new Iv(this.items.map(t=>t.clone()))}write(t,e){return this.toJSON(e)}toJSON(t){const e=t?.layer?.spatialReference;return e?this.toArray().map(i=>{if(!e.equals(i.spatialReference)){if(!ys(i.spatialReference,e))return t?.messages?.push(new Zs("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:t.layer.spatialReference,context:t})),null;const n=new Dt;w6(i,n,e),i=n}const r=i.toJSON(t);return delete r.spatialReference,r}).filter(i=>i!=null):this.toArray().map(i=>i.toJSON(t))}static fromJSON(t,e){const i=new Iv;return t.forEach(r=>i.add(Dt.fromJSON(r,e))),i}};CS=Iv=u([R("esri.layers.support.PolygonCollection")],CS);const Bf=CS;let yo=class extends fl(xE){constructor(e){super(e),this.id=`focusarea-${cg()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new Bf}readGeometries(e,i,r){Array.isArray(e)?this.geometries=Bf.fromJSON(e,r):r.origin!=="web-scene"&&r.origin!=="portal-item"||r.hooks?.onAfterLoad?.(()=>this._loadGeometries(Vh(e,r),r))}async _loadGeometries(e,i){const r=await Xt(e,{responseType:"json"});this.geometries=Bf.fromJSON(r.data,i)}};u([p({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),p()],yo.prototype,"id",void 0),u([p({type:String,json:{write:!0}})],yo.prototype,"title",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],yo.prototype,"enabled",void 0),u([p({type:Die,json:{write:!0}})],yo.prototype,"outline",void 0),u([p({type:Bf,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new Bf(t.items.map(e=>e.clone()))}),Mie({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],yo.prototype,"geometries",void 0),u([et(["web-scene","portal-item","service"],"geometries")],yo.prototype,"readGeometries",null),yo=u([R("esri.effects.FocusArea")],yo);const yse=yo;let ef=class extends fl(xE){constructor(e){super(e),this.areas=new pe,this.style="bright"}};u([p({type:pe.ofType(yse),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new pe(t.items.map(e=>e.clone()))})],ef.prototype,"areas",void 0),u([p({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],ef.prototype,"style",void 0),ef=u([R("esri.effects.FocusAreas")],ef);const S6=ef;function vse(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function bse(t){return!(!vse(t)||!Yte(t)?.operations?.supportsEditing||"editingEnabled"in t&&!Kte(t)||XN(t))}const wse=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,_se="screenUtils.toPt: input not recognized!",k6=96;function swe(t){return t?t/72*k6:0}function dl(t){return t?72*t/k6:0}function zt(t){if(typeof t=="string"){const e=t.match(wse);if(e){const i=Number(e[1]),r=e[3]&&e[3].toLowerCase(),n=t.startsWith("-"),s=r==="px"?dl(i):i;return n?-s:s}return console.warn(_se),null}return t}function yi(t=0,e=0){return{x:t,y:e}}function owe(t){return t?yi(t.x,t.y):null}function awe(t=0,e=0){return[t,e]}function lwe(t=0,e=0,i=0){return[t,e,i]}function cwe(t){return t}function uwe(t){return t}function dwe(t){return t}function hwe(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function cw(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function xse(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $se(t,e,i,r,n,s,o,a,l,d,h,f,y,b,x,$){const E=new Float32Array(16);return E[0]=t,E[1]=e,E[2]=i,E[3]=r,E[4]=n,E[5]=s,E[6]=o,E[7]=a,E[8]=l,E[9]=d,E[10]=h,E[11]=f,E[12]=y,E[13]=b,E[14]=x,E[15]=$,E}const Sse=cw();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Sse,clone:xse,create:cw,fromValues:$se},Symbol.toStringTag,{value:"Module"}));function T6(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function gl(t,e,i,r,n,s,o,a,l,d,h,f,y,b,x,$,E){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=d,t[9]=h,t[10]=f,t[11]=y,t[12]=b,t[13]=x,t[14]=$,t[15]=E,t}function uw(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yl(t,e){if(t===e){const i=e[1],r=e[2],n=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=s,t[11]=e[14],t[12]=n,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function kse(t,e){return E6(t,e)||uw(t),t}function E6(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],h=e[8],f=e[9],y=e[10],b=e[11],x=e[12],$=e[13],E=e[14],C=e[15],O=i*a-r*o,j=i*l-n*o,D=i*d-s*o,F=r*l-n*a,G=r*d-s*a,z=n*d-s*l,se=h*$-f*x,oe=h*E-y*x,ee=h*C-b*x,ge=f*E-y*$,te=f*C-b*$,Y=y*C-b*E;let H=O*Y-j*te+D*ge+F*ee-G*oe+z*se;return H?(H=1/H,t[0]=(a*Y-l*te+d*ge)*H,t[1]=(n*te-r*Y-s*ge)*H,t[2]=($*z-E*G+C*F)*H,t[3]=(y*G-f*z-b*F)*H,t[4]=(l*ee-o*Y-d*oe)*H,t[5]=(i*Y-n*ee+s*oe)*H,t[6]=(E*D-x*z-C*j)*H,t[7]=(h*z-y*D+b*j)*H,t[8]=(o*te-a*ee+d*se)*H,t[9]=(r*ee-i*te-s*se)*H,t[10]=(x*G-$*D+C*O)*H,t[11]=(f*D-h*G-b*O)*H,t[12]=(a*oe-o*ge-l*se)*H,t[13]=(i*ge-r*oe+n*se)*H,t[14]=($*j-x*F-E*O)*H,t[15]=(h*F-f*j+y*O)*H,t):null}function Tse(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],d=e[7],h=e[8],f=e[9],y=e[10],b=e[11],x=e[12],$=e[13],E=e[14],C=e[15];return t[0]=a*(y*C-b*E)-f*(l*C-d*E)+$*(l*b-d*y),t[1]=-(r*(y*C-b*E)-f*(n*C-s*E)+$*(n*b-s*y)),t[2]=r*(l*C-d*E)-a*(n*C-s*E)+$*(n*d-s*l),t[3]=-(r*(l*b-d*y)-a*(n*b-s*y)+f*(n*d-s*l)),t[4]=-(o*(y*C-b*E)-h*(l*C-d*E)+x*(l*b-d*y)),t[5]=i*(y*C-b*E)-h*(n*C-s*E)+x*(n*b-s*y),t[6]=-(i*(l*C-d*E)-o*(n*C-s*E)+x*(n*d-s*l)),t[7]=i*(l*b-d*y)-o*(n*b-s*y)+h*(n*d-s*l),t[8]=o*(f*C-b*$)-h*(a*C-d*$)+x*(a*b-d*f),t[9]=-(i*(f*C-b*$)-h*(r*C-s*$)+x*(r*b-s*f)),t[10]=i*(a*C-d*$)-o*(r*C-s*$)+x*(r*d-s*a),t[11]=-(i*(a*b-d*f)-o*(r*b-s*f)+h*(r*d-s*a)),t[12]=-(o*(f*E-y*$)-h*(a*E-l*$)+x*(a*y-l*f)),t[13]=i*(f*E-y*$)-h*(r*E-n*$)+x*(r*y-n*f),t[14]=-(i*(a*E-l*$)-o*(r*E-n*$)+x*(r*l-n*a)),t[15]=i*(a*y-l*f)-o*(r*y-n*f)+h*(r*l-n*a),t}function Ese(t){const e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],d=t[8],h=t[9],f=t[10],y=t[11],b=t[12],x=t[13],$=t[14],E=t[15];return(e*o-i*s)*(f*E-y*$)-(e*a-r*s)*(h*E-y*x)+(e*l-n*s)*(h*$-f*x)+(i*a-r*o)*(d*E-y*b)-(i*l-n*o)*(d*$-f*b)+(r*l-n*a)*(d*x-h*b)}function M6(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=e[6],h=e[7],f=e[8],y=e[9],b=e[10],x=e[11],$=e[12],E=e[13],C=e[14],O=e[15];let j=i[0],D=i[1],F=i[2],G=i[3];return t[0]=j*r+D*a+F*f+G*$,t[1]=j*n+D*l+F*y+G*E,t[2]=j*s+D*d+F*b+G*C,t[3]=j*o+D*h+F*x+G*O,j=i[4],D=i[5],F=i[6],G=i[7],t[4]=j*r+D*a+F*f+G*$,t[5]=j*n+D*l+F*y+G*E,t[6]=j*s+D*d+F*b+G*C,t[7]=j*o+D*h+F*x+G*O,j=i[8],D=i[9],F=i[10],G=i[11],t[8]=j*r+D*a+F*f+G*$,t[9]=j*n+D*l+F*y+G*E,t[10]=j*s+D*d+F*b+G*C,t[11]=j*o+D*h+F*x+G*O,j=i[12],D=i[13],F=i[14],G=i[15],t[12]=j*r+D*a+F*f+G*$,t[13]=j*n+D*l+F*y+G*E,t[14]=j*s+D*d+F*b+G*C,t[15]=j*o+D*h+F*x+G*O,t}function Mse(t,e,i){const r=i[0],n=i[1],s=i[2];if(e===t)t[12]=e[0]*r+e[4]*n+e[8]*s+e[12],t[13]=e[1]*r+e[5]*n+e[9]*s+e[13],t[14]=e[2]*r+e[6]*n+e[10]*s+e[14],t[15]=e[3]*r+e[7]*n+e[11]*s+e[15];else{const o=e[0],a=e[1],l=e[2],d=e[3],h=e[4],f=e[5],y=e[6],b=e[7],x=e[8],$=e[9],E=e[10],C=e[11];t[0]=o,t[1]=a,t[2]=l,t[3]=d,t[4]=h,t[5]=f,t[6]=y,t[7]=b,t[8]=x,t[9]=$,t[10]=E,t[11]=C,t[12]=o*r+h*n+x*s+e[12],t[13]=a*r+f*n+$*s+e[13],t[14]=l*r+y*n+E*s+e[14],t[15]=d*r+b*n+C*s+e[15]}return t}function Cse(t,e,i){const r=i[0],n=i[1],s=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ise(t,e,i,r){let n=r[0],s=r[1],o=r[2],a=Math.sqrt(n*n+s*s+o*o);if(a<=Or())return void T6(t,e);a=1/a,n*=a,s*=a,o*=a;const l=Math.sin(i),d=Math.cos(i),h=1-d,f=e[0],y=e[1],b=e[2],x=e[3],$=e[4],E=e[5],C=e[6],O=e[7],j=e[8],D=e[9],F=e[10],G=e[11],z=n*n*h+d,se=s*n*h+o*l,oe=o*n*h-s*l,ee=n*s*h-o*l,ge=s*s*h+d,te=o*s*h+n*l,Y=n*o*h+s*l,H=s*o*h-n*l,ce=o*o*h+d;t[0]=f*z+$*se+j*oe,t[1]=y*z+E*se+D*oe,t[2]=b*z+C*se+F*oe,t[3]=x*z+O*se+G*oe,t[4]=f*ee+$*ge+j*te,t[5]=y*ee+E*ge+D*te,t[6]=b*ee+C*ge+F*te,t[7]=x*ee+O*ge+G*te,t[8]=f*Y+$*H+j*ce,t[9]=y*Y+E*H+D*ce,t[10]=b*Y+C*H+F*ce,t[11]=x*Y+O*H+G*ce,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function Ase(t,e,i){const r=Math.sin(i),n=Math.cos(i),s=e[4],o=e[5],a=e[6],l=e[7],d=e[8],h=e[9],f=e[10],y=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*n+d*r,t[5]=o*n+h*r,t[6]=a*n+f*r,t[7]=l*n+y*r,t[8]=d*n-s*r,t[9]=h*n-o*r,t[10]=f*n-a*r,t[11]=y*n-l*r,t}function Pse(t,e,i){const r=Math.sin(i),n=Math.cos(i),s=e[0],o=e[1],a=e[2],l=e[3],d=e[8],h=e[9],f=e[10],y=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n-d*r,t[1]=o*n-h*r,t[2]=a*n-f*r,t[3]=l*n-y*r,t[8]=s*r+d*n,t[9]=o*r+h*n,t[10]=a*r+f*n,t[11]=l*r+y*n,t}function Ose(t,e,i){const r=Math.sin(i),n=Math.cos(i),s=e[0],o=e[1],a=e[2],l=e[3],d=e[4],h=e[5],f=e[6],y=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n+d*r,t[1]=o*n+h*r,t[2]=a*n+f*r,t[3]=l*n+y*r,t[4]=d*n-s*r,t[5]=h*n-o*r,t[6]=f*n-a*r,t[7]=y*n-l*r,t}function Rse(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Dse(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zse(t,e,i){if(e===0)return uw(t);let r=i[0],n=i[1],s=i[2],o=Math.sqrt(r*r+n*n+s*s);if(o<=Or())return null;o=1/o,r*=o,n*=o,s*=o;const a=Math.sin(e),l=Math.cos(e),d=1-l;return t[0]=r*r*d+l,t[1]=n*r*d+s*a,t[2]=s*r*d-n*a,t[3]=0,t[4]=r*n*d-s*a,t[5]=n*n*d+l,t[6]=s*n*d+r*a,t[7]=0,t[8]=r*s*d+n*a,t[9]=n*s*d-r*a,t[10]=s*s*d+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Nse(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Lse(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Fse(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C6(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=r+r,l=n+n,d=s+s,h=r*a,f=r*l,y=r*d,b=n*l,x=n*d,$=s*d,E=o*a,C=o*l,O=o*d;return t[0]=1-(b+$),t[1]=f+O,t[2]=y-C,t[3]=0,t[4]=f-O,t[5]=1-(h+$),t[6]=x+E,t[7]=0,t[8]=y+C,t[9]=x-E,t[10]=1-(h+b),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function jse(t,e){const i=Use,r=-e[0],n=-e[1],s=-e[2],o=e[3],a=e[4],l=e[5],d=e[6],h=e[7],f=r*r+n*n+s*s+o*o;return f>0?(i[0]=2*(a*o+h*r+l*s-d*n)/f,i[1]=2*(l*o+h*n+d*r-a*s)/f,i[2]=2*(d*o+h*s+a*n-l*r)/f):(i[0]=2*(a*o+h*r+l*s-d*n),i[1]=2*(l*o+h*n+d*r-a*s),i[2]=2*(d*o+h*s+a*n-l*r)),C6(t,e,i),t}const Use=ml();function Vse(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Bse(t,e){const i=e[0],r=e[1],n=e[2],s=e[4],o=e[5],a=e[6],l=e[8],d=e[9],h=e[10];return t[0]=Math.sqrt(i*i+r*r+n*n),t[1]=Math.sqrt(s*s+o*o+a*a),t[2]=Math.sqrt(l*l+d*d+h*h),t}function qse(t,e){const i=e[0]+e[5]+e[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function Hse(t,e,i,r){const n=e[0],s=e[1],o=e[2],a=e[3],l=n+n,d=s+s,h=o+o,f=n*l,y=n*d,b=n*h,x=s*d,$=s*h,E=o*h,C=a*l,O=a*d,j=a*h,D=r[0],F=r[1],G=r[2];return t[0]=(1-(x+E))*D,t[1]=(y+j)*D,t[2]=(b-O)*D,t[3]=0,t[4]=(y-j)*F,t[5]=(1-(f+E))*F,t[6]=($+C)*F,t[7]=0,t[8]=(b+O)*G,t[9]=($-C)*G,t[10]=(1-(f+x))*G,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function Gse(t,e,i,r,n){const s=e[0],o=e[1],a=e[2],l=e[3],d=s+s,h=o+o,f=a+a,y=s*d,b=s*h,x=s*f,$=o*h,E=o*f,C=a*f,O=l*d,j=l*h,D=l*f,F=r[0],G=r[1],z=r[2],se=n[0],oe=n[1],ee=n[2],ge=(1-($+C))*F,te=(b+D)*F,Y=(x-j)*F,H=(b-D)*G,ce=(1-(y+C))*G,_e=(E+O)*G,we=(x+j)*z,me=(E-O)*z,ke=(1-(y+$))*z;return t[0]=ge,t[1]=te,t[2]=Y,t[3]=0,t[4]=H,t[5]=ce,t[6]=_e,t[7]=0,t[8]=we,t[9]=me,t[10]=ke,t[11]=0,t[12]=i[0]+se-(ge*se+H*oe+we*ee),t[13]=i[1]+oe-(te*se+ce*oe+me*ee),t[14]=i[2]+ee-(Y*se+_e*oe+ke*ee),t[15]=1,t}function Wse(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=i+i,a=r+r,l=n+n,d=i*o,h=r*o,f=r*a,y=n*o,b=n*a,x=n*l,$=s*o,E=s*a,C=s*l;return t[0]=1-f-x,t[1]=h+C,t[2]=y-E,t[3]=0,t[4]=h-C,t[5]=1-d-x,t[6]=b+$,t[7]=0,t[8]=y+E,t[9]=b-$,t[10]=1-d-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Zse(t,e,i,r,n,s,o){const a=1/(i-e),l=1/(n-r),d=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*l,t[6]=0,t[7]=0,t[8]=(i+e)*a,t[9]=(n+r)*l,t[10]=(o+s)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*d,t[15]=0,t}function Yse(t,e,i,r,n){const s=1/Math.tan(e/2);let o;return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,n!=null&&n!==1/0?(o=1/(r-n),t[10]=(n+r)*o,t[14]=2*n*r*o):(t[10]=-1,t[14]=-2*r),t}function Jse(t,e,i,r){const n=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+a),d=2/(n+s);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=-(o-a)*l*.5,t[9]=(n-s)*d*.5,t[10]=r/(i-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i/(i-r),t[15]=0,t}function Kse(t,e,i,r,n,s,o){const a=1/(e-i),l=1/(r-n),d=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+i)*a,t[13]=(n+r)*l,t[14]=(o+s)*d,t[15]=1,t}function Xse(t,e,i,r){const n=e[0],s=e[1],o=e[2];let a=n-i[0],l=s-i[1],d=o-i[2];const h=Or();if(Math.abs(a)<h&&Math.abs(l)<h&&Math.abs(d)<h)return void uw(t);let f=1/Math.sqrt(a*a+l*l+d*d);a*=f,l*=f,d*=f;const y=r[0],b=r[1],x=r[2];let $=b*d-x*l,E=x*a-y*d,C=y*l-b*a;f=Math.sqrt($*$+E*E+C*C),f?(f=1/f,$*=f,E*=f,C*=f):($=0,E=0,C=0);let O=l*C-d*E,j=d*$-a*C,D=a*E-l*$;f=Math.sqrt(O*O+j*j+D*D),f?(f=1/f,O*=f,j*=f,D*=f):(O=0,j=0,D=0),t[0]=$,t[1]=O,t[2]=a,t[3]=0,t[4]=E,t[5]=j,t[6]=l,t[7]=0,t[8]=C,t[9]=D,t[10]=d,t[11]=0,t[12]=-($*n+E*s+C*o),t[13]=-(O*n+j*s+D*o),t[14]=-(a*n+l*s+d*o),t[15]=1}function Qse(t,e,i,r){const n=e[0],s=e[1],o=e[2],a=r[0],l=r[1],d=r[2];let h=n-i[0],f=s-i[1],y=o-i[2],b=h*h+f*f+y*y;b>0&&(b=1/Math.sqrt(b),h*=b,f*=b,y*=b);let x=l*y-d*f,$=d*h-a*y,E=a*f-l*h;return b=x*x+$*$+E*E,b>0&&(b=1/Math.sqrt(b),x*=b,$*=b,E*=b),t[0]=x,t[1]=$,t[2]=E,t[3]=0,t[4]=f*E-y*$,t[5]=y*x-h*E,t[6]=h*$-f*x,t[7]=0,t[8]=h,t[9]=f,t[10]=y,t[11]=0,t[12]=n,t[13]=s,t[14]=o,t[15]=1,t}function eoe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function toe(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function ioe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function I6(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function roe(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function noe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t[9]=e[9]+i[9]*r,t[10]=e[10]+i[10]*r,t[11]=e[11]+i[11]*r,t[12]=e[12]+i[12]*r,t[13]=e[13]+i[13]*r,t[14]=e[14]+i[14]*r,t[15]=e[15]+i[15]*r,t}function soe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ooe(t,e){if(t===e)return!0;const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],d=t[7],h=t[8],f=t[9],y=t[10],b=t[11],x=t[12],$=t[13],E=t[14],C=t[15],O=e[0],j=e[1],D=e[2],F=e[3],G=e[4],z=e[5],se=e[6],oe=e[7],ee=e[8],ge=e[9],te=e[10],Y=e[11],H=e[12],ce=e[13],_e=e[14],we=e[15],me=Or();return Math.abs(i-O)<=me*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(r-j)<=me*Math.max(1,Math.abs(r),Math.abs(j))&&Math.abs(n-D)<=me*Math.max(1,Math.abs(n),Math.abs(D))&&Math.abs(s-F)<=me*Math.max(1,Math.abs(s),Math.abs(F))&&Math.abs(o-G)<=me*Math.max(1,Math.abs(o),Math.abs(G))&&Math.abs(a-z)<=me*Math.max(1,Math.abs(a),Math.abs(z))&&Math.abs(l-se)<=me*Math.max(1,Math.abs(l),Math.abs(se))&&Math.abs(d-oe)<=me*Math.max(1,Math.abs(d),Math.abs(oe))&&Math.abs(h-ee)<=me*Math.max(1,Math.abs(h),Math.abs(ee))&&Math.abs(f-ge)<=me*Math.max(1,Math.abs(f),Math.abs(ge))&&Math.abs(y-te)<=me*Math.max(1,Math.abs(y),Math.abs(te))&&Math.abs(b-Y)<=me*Math.max(1,Math.abs(b),Math.abs(Y))&&Math.abs(x-H)<=me*Math.max(1,Math.abs(x),Math.abs(H))&&Math.abs($-ce)<=me*Math.max(1,Math.abs($),Math.abs(ce))&&Math.abs(E-_e)<=me*Math.max(1,Math.abs(E),Math.abs(_e))&&Math.abs(C-we)<=me*Math.max(1,Math.abs(C),Math.abs(we))}function aoe(t){const e=Or(),i=t[0],r=t[1],n=t[2],s=t[4],o=t[5],a=t[6],l=t[8],d=t[9],h=t[10];return Math.abs(1-(i*i+s*s+l*l))<=e&&Math.abs(1-(r*r+o*o+d*d))<=e&&Math.abs(1-(n*n+a*a+h*h))<=e}function loe(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const coe=M6,uoe=I6;Object.freeze(Object.defineProperty({__proto__:null,add:ioe,adjoint:Tse,copy:T6,determinant:Ese,equals:ooe,exactEquals:soe,frob:toe,fromQuat:Wse,fromQuat2:jse,fromRotation:zse,fromRotationTranslation:C6,fromRotationTranslationScale:Hse,fromRotationTranslationScaleOrigin:Gse,fromScaling:Dse,fromTranslation:Rse,fromXRotation:Nse,fromYRotation:Lse,fromZRotation:Fse,frustum:Zse,getRotation:qse,getScale:Bse,getTranslation:Vse,hasIdentityRotation:loe,identity:uw,invert:E6,invertOrIdentity:kse,isOrthoNormal:aoe,lookAt:Xse,mul:coe,multiply:M6,multiplyScalar:roe,multiplyScalarAndAdd:noe,ortho:Kse,perspective:Yse,perspectiveFromFieldOfView:Jse,rotate:Ise,rotateX:Ase,rotateY:Pse,rotateZ:Ose,scale:Cse,set:gl,str:eoe,sub:uoe,subtract:I6,targetTo:Qse,translate:Mse,transpose:yl},Symbol.toStringTag,{value:"Module"}));const doe=(t,e)=>{const i=gl(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return yl(i,i)},hoe=(t,e)=>{const i=gl(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return yl(i,i)},poe=(t,e)=>{const i=1-e,r=gl(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return yl(r,r)},foe=(t,e)=>{const i=Math.sin(e*Math.PI/180),r=Math.cos(e*Math.PI/180),n=gl(t,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return yl(n,n)},moe=(t,e)=>{const i=1-2*e,r=gl(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return yl(r,r)},goe=(t,e)=>{const i=gl(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return yl(i,i)},yoe=(t,e)=>{const i=1-e,r=gl(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return yl(r,r)};let A6=class P6{constructor(e,i,r){this.strength=e,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(e,i,r){this.strength=Cr(e.strength,i.strength,r),this.radius=Cr(e.radius,i.radius,r),this.threshold=Cr(e.threshold,i.threshold,r)}clone(){return new P6(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:qf(this.radius),strength:this.strength,threshold:this.threshold}}},O6=class R6{constructor(e){this.radius=e,this.type="blur"}interpolate(e,i,r){this.radius=Math.round(Cr(e.radius,i.radius,r))}clone(){return new R6(this.radius)}toJSON(){return{type:"blur",radius:qf(this.radius)}}},IS=class D6{constructor(e,i){this.type=e,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.amount=Cr(e.amount,i.amount,r),this._updateMatrix()}clone(){return new D6(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||cw();switch(this.type){case"brightness":this._colorMatrix=doe(e,this.amount);break;case"contrast":this._colorMatrix=hoe(e,this.amount);break;case"grayscale":this._colorMatrix=poe(e,this.amount);break;case"invert":this._colorMatrix=moe(e,this.amount);break;case"saturate":this._colorMatrix=goe(e,this.amount);break;case"sepia":this._colorMatrix=yoe(e,this.amount)}}},z6=class N6{constructor(e,i,r,n){this.offsetX=e,this.offsetY=i,this.blurRadius=r,this.color=n,this.type="drop-shadow"}interpolate(e,i,r){this.offsetX=Cr(e.offsetX,i.offsetX,r),this.offsetY=Cr(e.offsetY,i.offsetY,r),this.blurRadius=Cr(e.blurRadius,i.blurRadius,r),this.color[0]=Math.round(Cr(e.color[0],i.color[0],r)),this.color[1]=Math.round(Cr(e.color[1],i.color[1],r)),this.color[2]=Math.round(Cr(e.color[2],i.color[2],r)),this.color[3]=Cr(e.color[3],i.color[3],r)}clone(){return new N6(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:qf(this.offsetX),yoffset:qf(this.offsetY),blurRadius:qf(this.blurRadius),color:e}}},L6=class F6{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.angle=Cr(e.angle,i.angle,r),this._updateMatrix()}clone(){return new F6(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||cw();this._colorMatrix=foe(e,this.angle)}},j6=class U6{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,i,r){this.amount=Cr(e.amount,i.amount,r)}clone(){return new U6(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Cr(t,e,i){return t+(e-t)*i}function qf(t){return Math.round(1e3*dl(t))/1e3}function voe(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new IS(t.type,0);case"saturate":case"brightness":case"contrast":return new IS(t.type,1);case"opacity":return new j6(1);case"hue-rotate":return new L6(0);case"blur":return new O6(0);case"drop-shadow":return new z6(0,0,0,[..._E("transparent")]);case"bloom":return new A6(0,0,1)}}function boe(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every((r,n)=>r.type===i[n].type)}function woe(t,e){const i=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let n=r.length;n<i.length;n++)r.push(voe(i[n]))}function _oe(t){const e=t[0];return!!e&&"type"in e}const j_=()=>ue.getLogger("esri.support.basemapUtils");function xoe(){return{}}function $oe(t){for(const e in t){const i=t[e];i&&!i.destroyed&&i.destroy(),delete t[e]}}function Soe(t,e){let i;if(typeof t=="string"){const r=t in dS,n=!r&&t.includes("/");if(!r&&!n){if(H$())j_().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const s=Object.entries(dS).filter(([o,a])=>a.classic||a.is3d).map(([o])=>`"${o}"`).sort().join(", ");j_().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${s}`)}return null}e&&(i=e[t]),i||(i=r?Lf.fromId(t):new Lf({style:{id:t}}),e&&(e[t]=i))}else i=ur(Lf,t);return i?.destroyed&&(j_().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function koe(t){return new ls({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const i=[];return"tables"in e&&i.push(e.tables),"layers"in e&&i.push(e.layers),i},itemFilterFunction:e=>{const i=e.parent;return!!i&&"tables"in i&&i.tables.includes(e)}})}function Oy(t){for(const e of t.values())e?.destroy();t.clear()}const HA={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function Toe(t){let e=null;if(typeof t=="string")if(t in HA){const i=HA[t];e=new mb({resourceInfo:{data:{layers:[i]}}})}else ue.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=ur(mb,t);return e}function AS(t,e,i){let r,n;if(t)for(let s=0,o=t.length;s<o;s++){if(r=t.at(s),r?.[e]===i)return r;if(r?.type==="group"&&(n=AS(r.layers,e,i),n))return n}}const Eoe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.layers=new pe;const n=a=>{a.parent&&a.removeFromParent()},s=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||ue.getLogger(this).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},o=a=>{a.parent=null,this.layerRemoved(a)};this.addHandles([this.layers.on("before-add",a=>{if(a.item===this)return a.preventDefault(),void ue.getLogger(this).error("#add()","Cannot add layer to itself.");n(a.item)}),this.layers.on("after-add",a=>s(a.item)),this.layers.on("after-remove",a=>o(a.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}removeChildLayer(r){this.layers.remove(r),super.removeChildLayer?.(r)}set layers(r){this._set("layers",Vs(r,this._get("layers")))}add(r,n){const s=this.layers;if(n=s.getNextIndex(n),r instanceof Mt){const o=r;o.parent===this?this.reorder(o,n):s.add(o,n)}else Yi(r)?r.then(o=>{this.destroyed||this.add(o,n)}):ue.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const s=this.layers;let o=s.getNextIndex(n);r.slice().forEach(a=>{a.parent!==this?(s.add(a,o),o+=1):this.reorder(a,o)})}findLayerById(r){return AS(this.layers,"id",r)}findLayerByUid(r){return AS(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return u([p()],i.prototype,"layers",null),i=u([R("esri.support.LayersMixin")],i),i},Moe=new Set(["feature","subtype-group"]);function PS(t,e,i){if(t)for(let r=0,n=t.length;r<n;r++){const s=t.at(r);if(s[e]===i)return s;if(s?.type==="group"){const o=PS(s.tables,e,i);if(o)return o}}}const Coe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.tables=new pe,this.addHandles([this.tables.on("after-add",n=>{const s=n.item;s.parent&&s.parent!==this&&s.removeFromParent(),s.parent=this,Moe.has(s.type)||ue.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}removeChildLayer(r){this.tables.remove(r),super.removeChildLayer?.(r)}set tables(r){this._set("tables",Vs(r,this._get("tables")))}findTableById(r){return PS(this.tables,"id",r)}findTableByUid(r){return PS(this.tables,"uid",r)}};return u([p()],i.prototype,"tables",null),i=u([R("esri.support.TablesMixin")],i),i};let fn=class extends Coe(Eoe(lg)){constructor(e){super(e),this.allLayers=new ls({getCollections:()=>[this.basemap?.baseLayers,this.basemap?.groundLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:i=>"layers"in i?i.layers:null}),this.focusAreas=new S6,this.allTables=koe(this),this.basemap=null,this.editableLayers=new ls({getCollections:()=>[this.allLayers],itemFilterFunction:bse}),this.ground=new mb,this._basemapCache=xoe(),this.addHandles(sn(()=>this.ground,(i,r)=>{r?.parent===this&&(r.parent=null),i.parent=this},{sync:!0}))}destroy(){$oe(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Ut(this.basemap),Ut(this.ground),this._set("ground",null)}castBasemap(e){return Soe(e,this._basemapCache)}castGround(e){return Toe(e)??this._get("ground")}findLayerById(e){return this.allLayers.find(i=>i.id===e)}findTableById(e){return this.allTables.find(i=>i.id===e)}};u([p({readOnly:!0,dependsOn:[]})],fn.prototype,"allLayers",void 0),u([p({type:S6,nonNullable:!0,json:{write:{overridePolicy:t=>({enabled:t.areas.length>0,ignoreOrigin:!0})}}})],fn.prototype,"focusAreas",void 0),u([p({readOnly:!0})],fn.prototype,"allTables",void 0),u([p({type:Lf,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],fn.prototype,"basemap",void 0),u([vi("basemap")],fn.prototype,"castBasemap",null),u([p({readOnly:!0})],fn.prototype,"editableLayers",void 0),u([p({type:mb,nonNullable:!0})],fn.prototype,"ground",void 0),u([vi("ground")],fn.prototype,"castGround",null),u([p()],fn.prototype,"undoRedo",void 0),fn=u([R("esri.Map")],fn);const V6=fn;let Bl=class extends xE{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return e!=null&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bl.prototype,"row",void 0),u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bl.prototype,"column",void 0),u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bl.prototype,"rows",void 0),u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Bl.prototype,"columns",void 0),Bl=u([R("esri.CameraLayout")],Bl);const B6=Bl;let dw=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}normalize(e,i=0,r=!1){return GA(this.range,this.min,this.max,e,i,r)}clamp(e,i=0){return An(e-i,this.min,this.max)+i}monotonic(e,i,r){return e<i?i:i+OS(this.range,e-i,r)}minimalMonotonic(e,i,r){return GA(this.range,e,e+this.range,i,r)}center(e,i,r){return i=this.monotonic(e,i,r),this.normalize((e+i)/2,r)}diff(e,i,r){return this.monotonic(e,i,r)-e}shortestSignedDiff(e,i){e=this.normalize(e);const r=(i=this.normalize(i))-e,n=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(r)<Math.abs(n)?r:n}contains(e,i,r){return i=this.minimalMonotonic(e,i),(r=this.minimalMonotonic(e,r))>e&&r<i}};function GA(t,e,i,r,n=0,s=!1){return(r-=n)<e?r+=OS(t,e-r):r>i&&(r-=OS(t,r-i)),s&&r===i&&(r=e),r+n}function OS(t,e,i=0){return Math.ceil((e-i)/t)*t+i}const gwe=new dw(0,2*Math.PI),ywe=new dw(-Math.PI,Math.PI),Ioe=new dw(0,360);let ks=class extends bi(be){constructor(...e){super(...e),this.position=new Ee([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new B6}normalizeCtorArgs(e,i,r,n){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const s={position:e};return i!=null&&(s.heading=i),r!=null&&(s.tilt=r),n!=null&&(s.fov=n),s}return e}writePosition(e,i,r,n){const s=e.clone();s.x=Kr(e.x||0),s.y=Kr(e.y||0),s.z=e.hasZ?Kr(e.z||0):e.z,i[r]=s.write({},n)}readPosition(e,i){const r=new Ee;return r.read(e,i),r.x=Kr(r.x||0),r.y=Kr(r.y||0),r.z=r.hasZ?Kr(r.z||0):r.z,r}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};u([p({type:Ee,json:{write:{isRequired:!0}}})],ks.prototype,"position",void 0),u([Ye("position")],ks.prototype,"writePosition",null),u([et("position")],ks.prototype,"readPosition",null),u([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),vi(t=>Ioe.normalize(Kr(t)))],ks.prototype,"heading",void 0),u([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),vi(t=>An(Kr(t),-180,180))],ks.prototype,"tilt",void 0),u([p({type:Number,nonNullable:!0,json:{default:55,write:!0}}),vi(t=>An(Kr(t,55),1,170))],ks.prototype,"fov",void 0),u([p({type:B6,nonNullable:!0,json:{read:!1,write:!1}})],ks.prototype,"layout",void 0),ks=u([R("esri.Camera")],ks);const Aoe=ks;function q6(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function H6(t){return t.points!==void 0}function G6(t){return t.x!==void 0&&t.y!==void 0}function W6(t){return t.paths!==void 0||t.curvePaths!==void 0}function FE(t){return t.rings!==void 0||t.curveRings!==void 0}function $h(t){return t==null?null:t instanceof mi?t:G6(t)?Ee.fromJSON(t):W6(t)?ci.fromJSON(t):FE(t)?Dt.fromJSON(t):H6(t)?os.fromJSON(t):q6(t)?We.fromJSON(t):null}function jE(t){return t?G6(t)?"esriGeometryPoint":W6(t)?"esriGeometryPolyline":FE(t)?"esriGeometryPolygon":q6(t)?"esriGeometryEnvelope":H6(t)?"esriGeometryMultipoint":null:null}const Poe={esriGeometryPoint:Ee,esriGeometryPolyline:ci,esriGeometryPolygon:Dt,esriGeometryEnvelope:We,esriGeometryMultipoint:os,esriGeometryMultiPatch:Dt};function Ooe(t){return t&&Poe[t]||null}const Roe=hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),bwe=hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),UE={base:mi,key:"type",typeMap:{extent:We,multipoint:os,point:Ee,polyline:ci,polygon:Dt}};function wwe(t){return t.type==="point"}function _we(t){return t.type==="multipoint"}function xwe(t){return t.type==="polygon"}function $we(t){return t.type==="polyline"}var RS;let wa=RS=class extends be{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new RS({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};u([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:U_}}}}})],wa.prototype,"rotation",void 0),u([vi("rotation")],wa.prototype,"castRotation",null),u([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:U_}}}}})],wa.prototype,"scale",void 0),u([p({types:UE,json:{read:$h,write:!0,origins:{"web-scene":{read:$h,write:{overridePolicy:U_}}}}})],wa.prototype,"targetGeometry",void 0),u([p({type:Aoe,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],wa.prototype,"camera",void 0),wa=RS=u([R("esri.Viewpoint")],wa);const Cn=wa;function U_(){return{enabled:!this.camera}}let Dm=class{constructor(e=i=>i.values().next().value){this._peeker=e,this._observable=new ug,this._items=new Set}get length(){return Ce(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return Ce(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const i=this.length;return this._items.forEach(r=>{e(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Ce(this._observable),yield*this._items}};const Z6=new FinalizationRegistry(t=>{t.close()});function Doe(t,e){Z6.register(t,e,e)}function zoe(t){Z6.unregister(t)}function Y6(t,e){return new Proxy({},{get:(i,r,n)=>(...s)=>{let o,a;const l=s[s.length-1];return Noe(l)&&(o=l.signal,a=l.transferList,s.pop()),t.apply(e?`${e}.${r.toString()}`:r.toString(),s,{transferList:a,signal:o})}})}function Noe(t){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&("signal"in t||"transferList"in t||Object.keys(t).length===0)}const Loe={statsWorker:()=>ae(()=>import("./c-statsWorker-DeM95VRc.js"),__vite__mapDeps([29,30,31,32,33,34,35,36,37])),geometryEngineWorker:()=>ae(()=>import("./c-geometryEngineWorker-CnFtEzLz.js"),__vite__mapDeps([38,39,40,41])),arcadeGeometryOperatorsWorker:()=>ae(()=>import("./c-operatorsWorker-qhLKqC0u.js"),[]),CSVSourceWorker:()=>ae(()=>import("./c-CSVSourceWorker--93juYZE.js"),__vite__mapDeps([42,43,44,9,45,46,47,48,49,50,51,52,53,54,7,8,55,56,57,58,59,31,30,32,33,34,35,36,37,60,61,62,63,64,65,66,67])),EdgeProcessingWorker:()=>ae(()=>import("./c-EdgeProcessingWorker-CJHWicFe.js"),__vite__mapDeps([68,69,70,71,33,34,72,73,74,75,76,77,78])),ElevationSamplerWorker:()=>ae(()=>import("./c-ElevationSamplerWorker-DFPJiRg3.js"),__vite__mapDeps([79,49,80,81,82,83,84,85,86,71,33,34,87])),FeatureServiceSnappingSourceWorker:()=>ae(()=>import("./c-FeatureServiceSnappingSourceWorker-D60fBh8W.js"),__vite__mapDeps([88,45,46,44,9,47,48,49,50,51,52,53,54,7,8,55,56,57,58,59,31,30,32,33,34,35,36,37,60,61,62,63,89,90,91,92,93])),GaussianSplatSortWorker:()=>ae(()=>import("./c-GaussianSplatSortWorker-CkystscD.js"),[]),GeoJSONSourceWorker:()=>ae(()=>import("./c-GeoJSONSourceWorker-D__7I6UX.js"),__vite__mapDeps([94,46,44,9,47,45,48,49,50,51,52,53,54,7,8,55,56,57,58,59,31,30,32,33,34,35,36,37,60,61,62,63,95,43,66,67,96])),LercWorker:()=>ae(()=>import("./c-LercWorker-DF_TqmWR.js"),[]),MemorySourceWorker:()=>ae(()=>import("./c-MemorySourceWorker-B8xY6Jv9.js"),__vite__mapDeps([97,46,44,9,47,98,45,48,49,50,51,52,53,54,7,8,55,56,57,58,59,31,30,32,33,34,35,36,37,60,61,62,63,66,67,96,43])),PBFDecoderWorker:()=>ae(()=>import("./c-PBFDecoderWorker-BSnJjCAY.js"),__vite__mapDeps([99,100,9,46,44,47,90,91])),FeaturePipelineWorker:()=>ae(()=>import("./c-FeaturePipelineWorker-BWUD71C0.js"),__vite__mapDeps([101,102,103,104,105,73,106,107,56,57,58,63,108,44,9,46,47,109,31,110,111,112,113,51,50,114,115,116,117,118,119,120,121,122,67,123,124,125,126,52,53,54,7,8,55,59,30,32,33,34,35,36,37,60,61,62,127,128,129,130,27,131,132,133,134,135,95,43,66,96,92,90,91,93,136,137])),PointCloudWorker:()=>ae(()=>import("./c-PointCloudWorker-JyhL0tpl.js"),__vite__mapDeps([138,139,140,33,141,142,143,144,145,146,34,82,83,147,148])),RasterWorker:()=>ae(()=>import("./c-RasterWorker-BNEhZkLc.js"),__vite__mapDeps([149,150,151,41,152,153,33,34,154,155,156,157,158,159])),SceneLayerSnappingSourceWorker:()=>ae(()=>import("./c-SceneLayerSnappingSourceWorker-CyM34D_u.js"),__vite__mapDeps([160,161,162,34,148,140,163,164,33,147,71,75,76,77,70,72,73,74,78])),SceneLayerWorker:()=>ae(()=>import("./c-SceneLayerWorker-CQA56LjN.js"),__vite__mapDeps([165,80,86,166,84])),WFSSourceWorker:()=>ae(()=>import("./c-WFSSourceWorker-CnIDHXAd.js"),__vite__mapDeps([167,46,44,9,47,45,48,49,50,51,52,53,54,7,8,55,56,57,58,59,31,30,32,33,34,35,36,37,60,61,62,63,95,43,96,168,169])),WorkerTileHandler:()=>ae(()=>import("./c-WorkerTileHandler-B69MP63Z.js"),__vite__mapDeps([170,120,171,121,172,91,9,124,173,174,74,73,153,33,34,175,119])),Lyr3DWorker:()=>ae(()=>import("./c-Lyr3DWorker-22cWqpm2.js"),[]),Feature3DPipelineWorker:()=>ae(()=>import("./c-Feature3DPipelineWorker-BAYPG3Dc.js"),__vite__mapDeps([176,53,46,44,9,47,54,7,8,55,56,57,58,50,51,59,31,30,32,33,34,35,36,37,60,61,62,63,177,178,179,180,157,144,181,182,183,122,67,143,115,107,111,112,184,185,102,186,187,85,80,166,84,188,141,189,77,71,190,162,148,140,161,191,192,164,147,146,139,82,83,74,73,70,72,193,194,195,196,197,198,199,200,201,202,49,92,90,91,93,203])),TextureCompressionWorker:()=>ae(()=>import("./c-TextureCompressionWorker-BWJZ2D2_.js"),[]),FlowWorker:()=>ae(()=>import("./c-FlowWorker-BmU_cWP1.js"),__vite__mapDeps([204,159])),ParquetSourceWorker:()=>ae(()=>import("./c-ParquetSourceWorker-Cr138Ei_.js"),__vite__mapDeps([205,126,53,46,44,9,47,54,7,8,55,56,57,58,50,51,59,31,30,32,33,34,35,36,37,60,61,62,63,66,67,206,65,129,108,109,128,127])),PanoramicMeshWorker:()=>ae(()=>import("./c-PanoramicMeshWorker-CSMEcJcI.js"),__vite__mapDeps([207,150]))},J6="worker:port-closed",Ho={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8};let Foe=0;function K6(){return Foe++}function joe(t){return t&&typeof t=="object"&&("result"in t||"transferList"in t)}function vb(t){return t?typeof t=="string"?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function X6(t,e,i,r){if(e.type===Ho.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==Ho.INVOKE&&e.type!==Ho.RESPONSE)return void t.postMessage(e);let n;joe(i)?(n=WA(i.transferList),e.data=i.result):(n=WA(r),e.data=i),n?t.postMessage(e,n):t.postMessage(e)}function zm(t){if(!t)return null;const e=t.data;return e?typeof e=="string"?JSON.parse(e):e:null}function WA(t){if(!t?.length)return null;if(B("esri-workers-arraybuffer-transfer"))return t;const e=t.filter(i=>!Uoe(i));return e.length?e:null}function Uoe(t){return t instanceof ArrayBuffer||t?.constructor?.name==="ArrayBuffer"}async function kwe(t){try{return await t}catch(e){const i=e?.name===J6;if(!(Ki(e)||i))throw e;return}}const{CLOSE:Ry,ABORT:DS,INVOKE:ZA,RESPONSE:Ip,OPEN_PORT:YA,ON:JA}=Ho,Voe=2;let Boe=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===DS?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var _n;let Sh=(_n=class{static connect(e,i){const r=new MessageChannel;let n;n=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const s=new _n(r.port1,{channel:r,client:n,schedule:i});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=s),_n.clients.set(s,n),r.port2}static loadWorker(e){const i=Loe[e];return i?i():Promise.resolve(null)}constructor(e,i,r,n){this._port=e,this._jobQueue=r,this._lowPriorityJobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Boe(s=>this._onInvokeMessage(s)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:Ry}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const n=r?.signal,s=r?.transferList;if(!this._port)return Promise.reject(new K(J6,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:i}));const o=K6();return new Promise((a,l)=>{if(Zi(n))return this._processWork(),void l(at());const d=In(n,()=>{const f=this._outJobs.get(o);f&&(this._outJobs.delete(o),this._processWork(),_t(f.abortHandle),this._post({type:DS,jobId:o}),l(at()))}),h={resolve:a,reject:l,abortHandle:d,debugInfo:e};this._outJobs.set(o,h),this._post({type:ZA,jobId:o,methodName:e,abortable:n!=null},i,s)})}createInvokeProxy(e){return Y6(this,e)}on(e,i){const r=new MessageChannel;function n(s){i(s.data)}return this._port.postMessage({type:JA,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),Je(()=>{r.port1.postMessage({type:Ry}),r.port1.close(),r.port1.removeEventListener("message",n)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:YA,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=Voe)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:i,data:r,invokeOptions:n,resolver:s}=e;this.apply(i,r,n).then(o=>s.resolve(o)).catch(o=>s.reject(o))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{_t(e.abortHandle),e.reject(at(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e,!0)):this._processMessage(e,!1)}_processMessage(e,i){const r=zm(e);if(r)switch(r.type){case Ip:this._onResponseMessage(r);break;case ZA:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case DS:this._onAbortMessage(r);break;case Ry:this._onCloseMessage();break;case YA:this._onOpenPortMessage(r);break;case JA:this._onOnMessage(r)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,n=i.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),i.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&_n.clients.get(this)===e&&e.destroy(),_n.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:i,jobId:r,data:n=[],abortable:s}=e,o=s?new AbortController:null,a=this._inJobs;let l,d=this._client,h=d[i];try{if(!h&&i&&i.includes(".")){const f=i.split(".");for(let y=0;y<f.length-1;y++)d=d[f[y]],h=d[f[y+1]]}if(typeof h!="function")throw new TypeError(`${i} is not a function`);n.push({client:this,signal:o?o.signal:null}),l=h.apply(d,n)}catch(f){return void this._post({type:Ip,jobId:r,error:vb(f)})}Yi(l)?(a.set(r,{controller:o,promise:l}),l.then(f=>{a.has(r)&&(a.delete(r),this._post({type:Ip,jobId:r},f))},f=>{a.has(r)&&(a.delete(r),Ki(f)||this._post({type:Ip,jobId:r,error:vb(f||{message:`Error encountered at method ${i}`})}))})):this._post({type:Ip,jobId:r},l)}_onOpenPortMessage(e){new _n(e.port,{client:this._client})}_onOnMessage(e){const{port:i}=e,r=this._client.on(e.eventType,s=>{i.postMessage(s)}),n=Ph(e.port,"message",s=>{zm(s)?.type===Ry&&(n.remove(),r.remove(),i.close())})}_onResponseMessage(e){const{jobId:i,error:r,data:n}=e,s=this._outJobs;if(!s.has(i))return;const o=s.get(i);s.delete(i),this._processWork(),_t(o.abortHandle),r?o.reject(K.fromJSON(JSON.parse(r))):o.resolve(n)}_post(e,i,r){return X6(this._port,e,i,r)}},_n.kernelInfo={buildDate:y4,fullVersion:K2,revision:v4},_n.clients=new Map,_n),qoe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new Dm,this._ongoingLowPriorityJobsQueue=new Dm}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,i){return new Promise((r,n)=>{let s=!0;const o=a=>{Pt(i.signal),s&&(s=!1,a())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let a=0;a<e.length;++a){const l=e[a];Yi(l)?this._clientPromises[a]=l.then(d=>(this._clients[a]=new Sh(d,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),o(r),this._clients[a]),()=>(o(n),null)):(this._clients[a]=new Sh(l,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(r))}})}broadcast(e,i,r){const n=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];n[s]=o.then(a=>a?.invoke(e,i,r))}return n}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(at(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject(at(`Worker closing, aborting job calling '${e.methodName}'`));for(const i of this._clientPromises)i.then(r=>r?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,zoe(this)}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const n=nn();(r?.priority==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:i,invokeOptions:r,resolver:n});for(let s=0;s<this._clientPromises.length;s++){const o=this._clients[s];o?o.jobAdded():this._clientPromises[s].then(a=>a?.jobAdded())}return n.promise}createInvokeProxy(e){return Y6(this,e)}on(e,i){return Promise.all(this._clientPromises).then(()=>Xc(this._clients.map(r=>r.on(e,i))))}openPorts(){return new Promise(e=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(s=>{s&&(i[n]=s.openPort()),--r===0&&e(i)})})}get test(){}};const Hoe={async request(t,e){const i=t.options,r=i.responseType;i.signal=e?.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&j$(t.url)?.after?r:"array-buffer";const n=await Xt(t.url,i),s={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch(n.requestOptions?.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}},KA={};function Goe(t){const e={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:t.packages?.slice()||[],paths:{...KA.paths,...t.paths}};return t.hasOwnProperty("async")||(e.async=!0),t.hasOwnProperty("isDebug")||(e.isDebug=!1),t.baseUrl||(e.baseUrl=KA.baseUrl),e}let Woe=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>e[i](...r)})}},Av=class{constructor(){this._dispatcher=new Woe,this._workerPostMessage({type:Ho.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){D0(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,i,r){this._dispatcher.addEventListener(e,i,r)}removeEventListener(e,i,r){this._dispatcher.removeEventListener(e,i,r)}_workerPostMessage(e){D0(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){const i=zm(e);if(i&&i.type===Ho.OPEN){const{modulePath:r,jobId:n}=i;let s=await Sh.loadWorker(r);s||(s=await import(r));const o=Sh.connect(s);this._workerPostMessage({type:Ho.OPENED,jobId:n,data:o})}}};const zS=()=>ue.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Zoe}=Ho,Yoe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}).finally(()=>{t&&t.removeEventListener("abort",s)})}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://esriurl.com/using-local-assets.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||new Promise(e=>{require([o.modulePath],e)})).then(t)}):"System"in self&&"function"==typeof System.import?System.import(workerPath).then(e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath))).then(e=>e||System.import(o.modulePath)).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||import(o.modulePath)).then(t)}):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let Dy,zy;const XA="Failed to create Worker. Fallback to execute module in main thread";async function Joe(){if(!B("esri-workers"))return QA(new Av);if(!Dy&&!zy)try{const e=Yoe.split("{CONFIGURATION}").join(Koe());Dy=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){zy=e||{}}let t;if(Dy)try{t=new Worker(Dy,{name:"esri-worker-"+Xoe++})}catch{zS().warn(XA,zy),t=new Av}else zS().warn(XA,zy),t=new Av;return QA(t)}async function QA(t){return new Promise(e=>{function i(n){const s=zm(n);s&&s.type===Zoe&&(t.removeEventListener("message",i),t.removeEventListener("error",r),e(t))}function r(n){n.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",r),zS().warn("Failed to create Worker. Fallback to execute module in main thread",n),(t=new Av).addEventListener("message",i),t.addEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)})}function Koe(){let t;if(Qe.default!=null){const n={...Qe};delete n.default,t=JSON.parse(JSON.stringify(n))}else t=JSON.parse(JSON.stringify(Qe));t.assetsPath=$n(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?$n(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=Mn(),t.has={"esri-csp-restrictions":B("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":B("esri-2d-update-debug"),"esri-2d-log-updating":B("esri-2d-log-updating"),"featurelayer-pbf":B("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":B("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":B("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":B("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":B("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":B("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":B("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":B("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":B("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":B("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":B("featurelayer-snapshot-enabled"),"parquetlayer-full-query-feature-count":B("parquetlayer-full-query-feature-count"),"esri-atomics":B("esri-atomics"),"esri-shared-array-buffer":B("esri-shared-array-buffer"),"esri-tiles-debug":B("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":B("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":B("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=$n(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=$n(t.workers.workerPath):t.workers.workerPath=$n(Yt("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;const e=Qe.workers.loaderConfig,i=Goe({baseUrl:e?.baseUrl,locale:Mn(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e?.has},map:{...e?.map},paths:{...e?.paths},packages:e?.packages||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:y4,fullVersion:K2,revision:v4}})}let Xoe=0;const{ABORT:eP,INVOKE:Qoe,OPEN:eae,OPENED:tae,RESPONSE:Ap}=Ho;let iae=class Q6{static async create(e){const i=await Joe();return new Q6(i,e)}constructor(e,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=i,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",r=>{r.preventDefault(),ue.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(e,i={}){const{signal:r}=i,n=K6();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:m2(r,()=>{this._outJobs.delete(n),this._post({type:eP,jobId:n})})};this._outJobs.set(n,a),this._post({type:eae,jobId:n,modulePath:e})})}_onMessage(e){const i=zm(e);if(i)switch(i.type){case tae:this._onOpenedMessage(i);break;case Ap:this._onResponseMessage(i);break;case eP:this._onAbortMessage(i);break;case Qoe:this._onInvokeMessage(i)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,n=i.get(r);n&&(n.controller&&n.controller.abort(),i.delete(r))}_onInvokeMessage(e){const{methodName:i,jobId:r,data:n,abortable:s}=e,o=s?new AbortController:null,a=this._inJobs,l=Hoe[i];let d;try{if(typeof l!="function")throw new TypeError(`${i} is not a function`);d=l.call(null,n,{signal:o?o.signal:null})}catch(h){return void this._post({type:Ap,jobId:r,error:vb(h)})}Yi(d)?(a.set(r,{controller:o,promise:d}),d.then(h=>{a.has(r)&&(a.delete(r),this._post({type:Ap,jobId:r},h))},h=>{a.has(r)&&(a.delete(r),h||(h={message:"Error encountered at method"+i}),Ki(h)||this._post({type:Ap,jobId:r,error:vb(h||{message:`Error encountered at method ${i}`})}))})):this._post({type:Ap,jobId:r},d)}_onOpenedMessage(e){const{jobId:i,data:r}=e,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),_t(n.abortHandle),n.resolve(r))}_onResponseMessage(e){const{jobId:i,error:r,data:n}=e,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),_t(s.abortHandle),r?s.reject(K.fromJSON(JSON.parse(r))):s.resolve(n))}_post(e,i,r){return X6(this.worker,e,i,r)}};const tP=B("host-browser")?Math.min(navigator.hardwareConcurrency-1,B("workers-pool-size")??8):0;let pc=B("esri-mobile")?Math.min(tP,3):tP;pc||(pc=B("safari")&&B("mac")?7:2);let iP=0;const Pv=[];function rae(){eF()}async function Ny(t,e){const i=new qoe,{registryTarget:r,...n}=e;return await i.open(t,n),r&&Doe(r,i),i}async function Iwe(t,e={}){if(typeof t!="string")throw new K("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(B("host-webworker")&&!B("esri-workers")&&(i="local"),i==="local"){let r=await Sh.loadWorker(t);r||(r=await import(t)),Pt(e.signal);const n=e.client||r;return Ny([Sh.connect(r,e.schedule)],{...e,client:n})}if(await eF(),Pt(e.signal),i==="dedicated"){const r=iP++%pc;return Ny([await Pv[r].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const r=Math.min(e.maxNumWorkers,pc);if(r<pc){const n=new Array(r);for(let s=0;s<r;++s){const o=iP++%pc;n[s]=Pv[o].open(t,e)}return Ny(n,e)}}return Ny(Pv.map(r=>r.open(t,e)),e)}let Ly=null;async function eF(){if(Ly)return Ly;new AbortController;const t=[];for(let e=0;e<pc;e++){const i=iae.create(e).then(r=>(Pv[e]=r,r));t.push(i)}return Ly=Promise.all(t),Ly}let Hf=class extends pe{constructor(e){super(e),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(e){this.destroyed||e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(pe.ofType(this.itemType.Type))(e):new pe(e)}};function bb(t,e){return{type:t,cast:gN,set(i){const r=Vs(i,this._get(e),t);r&&!r.destroyed&&(r.owner=this),this._set(e,r)}}}u([p()],Hf.prototype,"owner",null),Hf=u([R("esri.core.support.OwningCollection")],Hf);var NS,Fd;let Ii=(Fd=class extends be{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new NS({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}},NS=Fd,Fd);u([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Ii.prototype,"cols",void 0),u([p({type:ht,json:{write:!0}})],Ii.prototype,"level",void 0),u([p({type:String,json:{write:!0}})],Ii.prototype,"levelValue",void 0),u([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Ii.prototype,"origin",void 0),u([p({type:Number,json:{write:!0}})],Ii.prototype,"resolution",void 0),u([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Ii.prototype,"rows",void 0),u([p({type:Number,json:{write:!0}})],Ii.prototype,"scale",void 0),Ii=NS=u([R("esri.layers.support.LOD")],Ii);let nae=class tF{constructor(e,i,r,n=Ar()){this._level=e,this._row=i,this._col=r,this.extent=n}get id(){return this._id??=`${this.level}/${this.row}/${this.col}`,this._id}get level(){return this._level}set level(e){this._level=e,this._id=null}get row(){return this._row}set row(e){this._row=e,this._id=null}get col(){return this._col}set col(e){this._col=e,this._id=null}toJSON(){return{level:this._level,row:this._row,col:this._col,extent:this.extent}}static fromJSON(e){return new tF(e.level,e.row,e.col,e.extent)}};var Uu;const rP=new ui({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});var jd;let tr=(jd=class extends be{static create(e={}){const{resolutionFactor:i=1,scales:r,size:n=256,spatialReference:s=Se.WebMercator,numLODs:o=24}=e;if(!Xr(s)){const y=[];if(r)for(let b=0;b<r.length;b++){const x=r[b];y.push(new Ii({level:b,scale:x,resolution:x}))}else{let b=5e-4;for(let x=o-1;x>=0;x--)y.unshift(new Ii({level:x,scale:b,resolution:b})),b*=2}return new Uu({dpi:96,lods:y,origin:new Ee(0,0,s),size:[n,n],spatialReference:s})}const a=cr(s),l=e.origin?new Ee({x:e.origin.x,y:e.origin.y,spatialReference:s}):new Ee(a?{x:a.origin[0],y:a.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),d=96,h=1/(eo(s)*39.37*d),f=[];if(r)for(let y=0;y<r.length;y++){const b=r[y],x=b*h;f.push(new Ii({level:y,scale:b,resolution:x}))}else{let y=Hh(s)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const b=Math.ceil(o/i);f.push(new Ii({level:0,scale:y,resolution:y*h}));for(let x=1;x<b;x++){const $=y/2**i,E=$*h;f.push(new Ii({level:x,scale:$,resolution:E})),y=$}}return new Uu({dpi:d,lods:f,origin:l,size:[n,n],spatialReference:s})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:i}=this;if(e&&i){const r=cr(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-i.x)<=r.dx}return!1}readOrigin(e,i){return Ee.fromJSON({spatialReference:i.spatialReference,...e})}set lods(e){let i=0,r=0;const n=[],s=this._levelToLOD={};e&&(i=-1/0,r=1/0,e.forEach(o=>{n.push(o.scale),i=o.scale>i?o.scale:i,r=o.scale<r?o.scale:r,s[o.level]=o})),this._set("scales",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,i){return[i.cols,i.rows]}writeSize(e,i){i.cols=e[0],i.rows=e[1]}zoomToScale(e){const i=this.scales;if(e<=0)return i[0];if(e>=i.length-1)return i[i.length-1];const r=Math.floor(e),n=r+1;return i[r]/(i[r]/i[n])**(e-r)}scaleToZoom(e){const i=this.scales,r=i.length-1;let n=0;for(;n<r;n++){const s=i[n],o=i[n+1];if(s<=e)return n;if(o===e)return n+1;if(s>e&&o<e)return n+Math.log(s/e)/Math.log(s/o)}return n}tileAt(e,i,r,n){const s=this.lodAt(e);if(!s)return null;let o,a;if(typeof i=="number")o=i,a=r;else if(Ti(i.spatialReference,this.spatialReference))o=i.x,a=i.y,n=r;else{const h=tw(i,this.spatialReference);if(h==null)return null;o=h.x,a=h.y,n=r}const l=s.resolution*this.size[0],d=s.resolution*this.size[1];return n??=new nae(0,0,0),n.level=e,n.row=Math.floor((this.origin.y-a)/d+.001),n.col=Math.floor((o-this.origin.x)/l+.001),this.updateTileInfo(n),n}updateTileInfo(e,i=0){if(!("extent"in e))return!1;let r=this.lodAt(e.level);if(!r&&i===1){const a=this.lods[this.lods.length-1];a.level<e.level&&(r=a)}if(!r)return!1;const n=e.level-r.level,s=r.resolution*this.size[0]/2**n,o=r.resolution*this.size[1]/2**n;return e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+o,!0}upsampleTile(e){const i=this._upsampleLevels[e.level];return!(!i||i.parentLevel===-1)&&(e.level=i.parentLevel,e.row=Math.floor(e.row/i.factor+.001),e.col=Math.floor(e.col/i.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,i){const r=this.lodAt(i.level);if(r==null)return null;const{resolution:n}=r,s=n*this.size[0],o=n*this.size[1];return e[0]=this.origin.x+i.col*s,e[1]=this.origin.y-(i.row+1)*o,e[2]=e[0]+s,e[3]=e[1]+o,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return Uu.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const i=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&i===0)return this;const r=[],n=this.lods.length-i;for(let s=0;s<n;s++){const o=s+i,{scale:a,resolution:l}=o>=0?this.lods[o]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new Ii({level:s,scale:a,resolution:l}))}return new Uu({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let i=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:i?i.level:-1,factor:i?i.resolution/n.resolution:0},i=n}}},Uu=jd,jd);u([p({type:Number,json:{write:!0}})],tr.prototype,"compressionQuality",void 0),u([p({type:Number,json:{write:!0}})],tr.prototype,"dpi",void 0),u([p({type:String,json:{read:rP.read,write:rP.write,origins:{"web-scene":{read:!1,write:!1}}}})],tr.prototype,"format",void 0),u([p({readOnly:!0})],tr.prototype,"isWrappable",null),u([p({type:Ee,json:{write:!0}})],tr.prototype,"origin",void 0),u([et("origin")],tr.prototype,"readOrigin",null),u([p({type:[Ii],value:null,json:{write:!0}})],tr.prototype,"lods",null),u([p({readOnly:!0})],tr.prototype,"scales",void 0),u([p({cast:t=>Array.isArray(t)?t:typeof t=="number"?[t,t]:[256,256]})],tr.prototype,"size",void 0),u([et("size",["rows","cols"])],tr.prototype,"readSize",null),u([Ye("size",{cols:{type:ht},rows:{type:ht}})],tr.prototype,"writeSize",null),u([p({type:Se,json:{write:!0}})],tr.prototype,"spatialReference",void 0),tr=Uu=u([R("esri.layers.support.TileInfo")],tr);let kh=class extends Hf{constructor(e){super(e),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(ue.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};kh=u([R("esri.support.AnalysesCollection")],kh);const Ov={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],r=e[1],n=this.values;return r>=i?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},V_={xsmall:544,small:768,medium:992,large:1200};function sae(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function B_(t,e){return e?Ov[t].valueToClassName[e].split(" "):[]}const oae=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=V_}initialize(){this.addHandles(De(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ji))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!sae(r)){const n=JSON.stringify(V_,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),r=V_}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=or.acquire(),n=or.acquire();let s,o=!1;for(s in Ov){const a=this[s],l=Ov[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==l&&(o=!0,this[s]=l,B_(s,a).forEach(d=>n.push(d)),B_(s,l).forEach(d=>r.push(d)))}o&&(this._applyClassNameChanges(r,n),or.release(r),or.release(n))}_applyClassNameChanges(r,n){const s=this.container;s&&(n.forEach(o=>s.classList.remove(o)),r.forEach(o=>s.classList.add(o)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in Ov)B_(n,this[n]).forEach(s=>r.classList.remove(s))}};return u([p()],i.prototype,"breakpoints",null),u([p()],i.prototype,"orientation",void 0),u([p()],i.prototype,"widthBreakpoint",void 0),u([p()],i.prototype,"heightBreakpoint",void 0),i=u([R("esri.views.BreakpointsOwner")],i),i};let Tc=class extends Te{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,i,r={}){return this._installWatch(e,i,r,De)}addWhen(e,i,r={}){return this._installWatch(e,i,r,sn)}addOnCollectionChange(e,i,{initial:r=!1,final:n=!1}={}){const s=++this._handleId;return this.addHandles([Bc(e,"after-changes",this._createSyncUpdatingCallback(),nl),Bc(e,"change",i,{onListenerAdd:r?o=>i({added:o.toArray(),removed:[]}):void 0,onListenerRemove:n?o=>i({added:[],removed:o.toArray()}):void 0})],s),Je(()=>this.removeHandles(s))}addPromise(e){if(e==null)return e;const i=++this._handleId;this.addHandles(Je(()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(Fy)||this._set("updating",!1))}),i),this._pendingPromises.add(e),this._set("updating",!0);const r=()=>this.removeHandles(i);return e.then(r,r),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,i,r={},n){const s=++this._handleId;r.sync||this._installSyncUpdatingWatch(e,s);const o=n(e,i,r);return this.addHandles(o,s),Je(()=>this.removeHandles(s))}_installSyncUpdatingWatch(e,i){const r=this._createSyncUpdatingCallback(),n=De(e,r,{sync:!0,equals:()=>!1});return this.addHandles(n,i),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(Fy),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(Dh(()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(Fy))}),Fy)}}};u([p({readOnly:!0})],Tc.prototype,"updating",void 0),Tc=u([R("esri.core.support.UpdatingHandles")],Tc);const Fy=-42;let _a=class extends Te{constructor(){super(...arguments),this.items=new pe,this._watchUpdatingTracking=new Tc,this._callbacks=new Map,this._projector=K3(),this._hiddenProjector=K3()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const n=()=>r.render();this._callbacks.set(r,n),this._projector.append(this.surface,n)}for(const r of i.removed){const n=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(n.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const i=this._hiddenSurface,r=this._hiddenProjector;let n;const s=()=>(n=e.render(),n);r.append(i,s),r.renderNow();const o={left:0,top:0,right:0,bottom:0};if(n?.domNode){const a=n.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(r.detach(s);i.firstChild;)i.removeChild(i.firstChild);return o}overlaps(e,i){const r=this.computeBoundingRect(e),n=this.computeBoundingRect(i);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e,i){const r=!!i?.disableDecorations;if(!this.items.some(s=>s.visible&&!(r&&s.isDecoration)))return;const n=e.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach(s=>{r&&s.isDecoration||(n.save(),s.renderCanvas(n),n.restore())}),n.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};u([p({readOnly:!0})],_a.prototype,"surface",void 0),u([p({readOnly:!0})],_a.prototype,"items",void 0),u([p({readOnly:!0})],_a.prototype,"needsRender",null),u([p({readOnly:!0})],_a.prototype,"_watchUpdatingTracking",void 0),u([p({readOnly:!0})],_a.prototype,"updating",null),_a=u([R("esri.views.overlay.ViewOverlay")],_a);const nP=_a,q_=[0,0];function aae(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return q_[0]=i.left+(e?.pageXOffset??0),q_[1]=i.top+(e?.pageYOffset??0),q_}function sP(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}function lae(t){const e=document.createElement("div");return t.appendChild(e),e}const ku=16,Pp=750,cae=512,uae=2,dae=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._freqInfo={freq:ku,time:Pp},this._overlayRenderTaskHandle=null,this.aria={},this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([De(()=>this.cursor,n=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",n)}),De(()=>this.navigating,n=>{const{surface:s}=this;s&&s.setAttribute("data-navigating",n.toString())}),De(()=>[this.aria,this.surface],()=>this._updateAria(),{initial:!0})])}initialize(){const r=this;this.addHandles([De(()=>this.ui,(n,s)=>this._handleUIChange(n,s),Ji),r.on("focus",()=>this.notifyChange("focused")),r.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),s=tE(r);if(s||typeof r!="string"||ue.getLogger(this).error("#container",`element with id '${r}' not found`),n===s)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(sP(this.root),this._set("root",null)),this.userContent&&(D3(this.userContent,n),sP(this.userContent),this._set("userContent",null))),!s)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);s.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",D3(s,o),s.appendChild(o),this._set("userContent",o);const a=document.createElement("div");a.className="esri-view-root",s.insertBefore(a,s.firstChild),this._set("root",a);const l=document.createElement("div");l.className="esri-view-surface",l.setAttribute("role","application"),l.tabIndex=0,a.appendChild(l),this._set("surface",l);const d=new nP;a.appendChild(d.surface),this._set("overlay",d),this.addHandles(De(()=>d.needsRender,h=>{h&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=ch({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=_t(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",s),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}set ui(r){const n=this._get("ui");n!==r&&n?.destroy(),this._set("ui",r)}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(r,n,s){const o=this.position;return r-=o?o[0]:0,n-=o?o[1]:0,s?(s[0]=r,s[1]=n):s=[r,n],s}containerToPage(r,n,s){const o=this.position;return r+=o?o[0]:0,n+=o?o[1]:0,s?(s[0]=r,s[1]=n):s=[r,n],s}_updateAria(){const{surface:r,aria:n}=this;r&&(r.ariaLabelledByElements=n?.labelledByElements??null,r.ariaDescribedByElements=n?.describedByElements??null,r.ariaLabel=n?.label??null,r.ariaDescription=n?.description??null)}_handleUIChange(r,n){this.removeHandles("ui"),n&&n!==r&&n.destroy(),r&&(r.view=this,this.addHandles(De(()=>this.root,s=>{r.container=s?lae(s):null},Ji),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=ku,r.time=Pp;const n=ch({prepare:a=>{const l=this._measure(),d=this._freqInfo;if(d.time+=a.deltaTime,l&&(d.freq=ku,this._get("resizing")||this._set("resizing",!0)),d.time<d.freq)return;d.time=0;const h=this._position();d.freq=h||l?ku:Math.min(Pp,d.freq*uae),!l&&d.freq>=cae&&(n.pause(),this._get("resizing")&&this._set("resizing",!1))}}),s=new ResizeObserver(a=>{r.freq=ku,r.time=Pp,n.resume()});this.container!=null&&s.observe(this.container);const o=Je(()=>s.disconnect());this.addHandles([Ph(window,"resize",()=>{r.freq=ku,r.time=Pp,n.resume()}),o,n],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,s=r?r.clientHeight:0;if(n===0||s===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,a=this.height;return n===o&&s===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:a,width:n,height:s}),!0)}_position(){const r=this.container,n=this.position,s=r&&aae(r);return!!s&&(!n||s[0]!==n[0]||s[1]!==n[1])&&(this._set("position",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return u([p()],i.prototype,"aria",void 0),u([p()],i.prototype,"container",null),u([p({readOnly:!0})],i.prototype,"focused",null),u([p({readOnly:!0})],i.prototype,"height",void 0),u([p()],i.prototype,"messagesCommon",void 0),u([p({type:nP})],i.prototype,"overlay",void 0),u([p({readOnly:!0})],i.prototype,"position",void 0),u([p({readOnly:!0})],i.prototype,"resizing",void 0),u([p({readOnly:!0})],i.prototype,"root",void 0),u([p({value:null,readOnly:!0})],i.prototype,"size",null),u([p({readOnly:!0})],i.prototype,"surface",void 0),u([p({readOnly:!0})],i.prototype,"suspended",void 0),u([p({nonNullable:!0})],i.prototype,"ui",null),u([p({readOnly:!0})],i.prototype,"userContent",void 0),u([p({readOnly:!0})],i.prototype,"width",void 0),u([p()],i.prototype,"widthBreakpoint",void 0),i=u([R("esri.views.DOMContainer")],i),i},jy="popup",oP="manual";function qs(t){return t!=null&&"open"in t&&"declaredClass"in t}function Yo(t){return!!t&&t.tagName.toLowerCase()==="arcgis-popup"&&"open"in t}function hae(t,e,i){const[r,n,s]=e;if(i){const[o,a,l]=i;o&&qs(a)&&(a.view=null,o.remove(a,jy),a!==n&&n&&a.destroy()),o&&l&&Yo(l)&&(l.view=null,o.remove(l,jy),l!==s&&s&&l.remove())}r&&qs(n)&&(n.view=t,r.add(n,{key:jy,position:oP,internal:!0})),r&&s&&Yo(s)&&(s.view=t,r.add(s,{key:jy,position:oP,internal:!0}))}async function pae(t,e){const{popup:i,popupElement:r}=t;qs(i)?await Uy(i,null,e):r&&Yo(r)?await Uy(null,r,e):e?.defer(async()=>{await t.setupPopup();const{popup:n,popupElement:s}=t;qs(n)&&!t.destroyed&&t.ready&&t.popupEnabled?await Uy(n,null,e):s&&Yo(s)&&await Uy(null,s,e)})}function fae(t,e){const{popup:i,popupElement:r}=t;if(qs(i))return i.open(e);r&&Yo(r)&&r.open(e)}function mae(t,e){qs(t)&&t.close(),e&&Yo(e)&&(e.visible=!1)}async function Uy(t,e,i){if(qs(t)){const r=await t.viewModel.handleViewClick(i);return void(r?.promises?.length?t.open(r):t.visible&&t.close())}if(e&&Yo(e)){const r=await e.handleViewClick(i);r?.promises?.length?e.open(r):e.visible&&(e.visible=!1)}}const iF=B("mac")?"Meta":"Control",gae=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),yae=t=>gae.has(t);let vae=class{constructor(e,i=[]){this.eventType=e,this.keyModifiers=i}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=e.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},wi=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const i=this._incoming[e];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback(i=>this._handleEvent(i)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,i,r){let n;typeof i=="function"?(r=i,n=[]):n=i||[];const s=typeof e=="string"?new vae(e,n):e,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=h=>{const f=this._incoming[h.match.eventType];if(f){const y=f.indexOf(h);f.splice(y,1),o(),this._manager&&this._manager.updateDependencies()}},l=new bae(s,r,{onPause:a,onRemove:a,onResume:h=>{const f=this._incoming[h.match.eventType];f&&!f.includes(h)&&(f.push(h),o(),this._manager&&this._manager.updateDependencies())}});let d=this._incoming[s.eventType];return d||(d=[],this._incoming[s.eventType]=d),d.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const i=new wae(e,{onEmit:(r,n,s,o)=>{this._manager?.emit(r.eventType,n,s,o)},onRemove:r=>{delete this._outgoing[r.eventType],this._manager?.updateDependencies()}});return this._outgoing[e]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const i=this._incoming[e.type];if(i){for(const r of i)if(r.match.matches(e)&&(r.callback?.(e),e.shouldStopPropagation()))break}}},bae=class{constructor(e,i,r){this.match=e,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},wae=class{constructor(e,i){this.eventType=e,this._removed=!1,this._handler=i}emit(e,i,r){this._removed||this._handler.onEmit(this,e,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},_ae=class extends wi{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this._id=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(e){const i=e.native.pointerType==="touch"?"touch":"mouse",{x:r,y:n,native:{pointerId:s}}=e;i===this._value&&this._x===r&&this._y===n&&this._id===s||(this._value=i,this._x=r,this._y=n,this._id=s,this._onChange(s,i,r,n))}},xae=class{constructor(e,i){this._observable=new ug,this._value=e,this._equalityFunction=i}get value(){return Ce(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function Th(t,e=KD){return new xae(t,e)}let $ae=class extends wi{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Th(!1),this._onPointerAdd=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},Sae=class{constructor(e,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in e){const n=e[r],s=new o5(n,void 0,void 0,2,2);this._properties[r]={pool:s,acquired:[]}}this._afterDispatchHandle=MW(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const i=this._properties[e];for(const r of i.acquired)AI(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(e){const i=this._owner._get(e),r=this._properties[e];let n=r.pool.acquire();for(r.acquired.push(n);n===i;)n=r.pool.acquire(),r.acquired.push(n);return k5(),n}_release(){for(const e in this._properties){const i=this._properties[e];let r=0;for(const n of i.acquired)AI(n)?i.acquired[r++]=n:i.pool.release(n);i.acquired.length=r}}},kae=class{constructor(){this.id=0,this.type="mouse",this.location=yi()}},ts=class extends Te{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=iF,this._propertiesPool=new Sae({latestPointerInfo:()=>new kae},this),this._latestPointerInfo=void 0,this._paused=!1,this._testTimestamp=void 0}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const i of e)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get latestPointerInfo(){return this._latestPointerInfo}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,i,r=Go.INTERNAL){if(this._nameToGroup[e]||i.length===0)return;const n={name:e,handlers:i.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=n;for(let s=n.handlers.length-1;s>=0;s--){const o=n.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,d,h,f)=>{this._emitInputEvent(o.priorityIndex+1,a,l,d,f,h)},setPointerCapture:(a,l)=>{this._setPointerCapture(n,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const i=this._nameToGroup[e];i?(i.handlers.forEach(r=>{r.removed=!0,r.uninstallCallback?.()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ue.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const n=this._handlersPriority[r];n.priorityIndex=r;let s=n.handler.hasSideEffects;if(!s){for(const o of n.handler.outgoingEventTypes)if(e.has(o)){s=!0;break}}if(s)for(const o of n.handler.incomingEventMatches){e.add(o.eventType);for(const a of o.keyModifiers)yae(a)||i.add(a)}n.active=s}this._sourceEvents=e,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,i,r,n){const s=this._latestPointerInfo;if(s==null||s.id!==e||s.type!==i||s.location.x!==r||s.location.y!==n){const o=this._propertiesPool.get("latestPointerInfo");o.id=e,o.type=i,o.location.x=r,o.location.y=n,this._latestPointerInfo=o}}_onEventReceived(e,i){if(e==="pointer-capture-lost"){const s=i;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(e,i);const r=this._testTimestamp??i.native?.timestamp,n=i.native?.cancelable;this._emitInputEventFromSource(e,i,r,n)}_updateKeyModifiers(e,i){if(!i)return;let r=!1;const n=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(n(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(n(),this._activeKeyModifiers.delete(a))};if(e==="key-down"||e==="key-up"){const a=i.key;this._keyModifiers.has(a)&&s(a,e==="key-down")}const o=i.native;s("Alt",!!o?.altKey),s("Control",!!o?.ctrlKey),s("Ctrl",!!o?.ctrlKey),s("Shift",!!o?.shiftKey),s("Meta",!!o?.metaKey),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new _ae((e,i,r,n)=>this._setLatestPointer(e,i,r,n)),this._multiTouchHandler=new $ae,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Go.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Go.INTERNAL)}_setPointerCapture(e,i,r,n){const s=e.name+"-"+i.priorityIndex,o=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,o),n?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,i,r,n){this._emitInputEvent(0,e,i,r,n)}_emitInputEvent(e,i,r,n,s,o){const a=n??this._currentPropagation?.timestamp??performance.now(),l=s??!1,d={event:new Tae(i,r,a,o||this._activeKeyModifiers,l),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(d):this._doNewPropagation(d)}_doNewPropagation(e){this._currentPropagation={events:new Dm,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:i,priorityIndex:r}=e.events.pop(),n=i.data?.eventId;if(!(n!=null&&this._stoppedPropagationEventIds.has(n)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!i.shouldStopPropagation()&&e.currentHandler.eventCallback?.(i),i.shouldStopPropagation()){n!=null&&this._stoppedPropagationEventIds.add(n);break}if(i.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:i,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const i=new Dm;i.push(e);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,i){if(e.handler.hasSideEffects!==i.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==i.groupPriority)return e.groupPriority>i.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const n of i.handler.incomingEventMatches){if(r.eventType!==n.eventType)continue;const s=r.keyModifiers.filter(o=>n.keyModifiers.includes(o));if(s.length===r.keyModifiers.length!=(s.length===n.keyModifiers.length))return r.keyModifiers.length>n.keyModifiers.length?-1:1}return e.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(e){const i=[];for(const r of e){let n=0;for(;n<i.length&&this._compareHandlerPriority(r,i[n])>=0;)n++;i.splice(n,0,r)}return i}get test(){}};u([p({readOnly:!0})],ts.prototype,"hasPendingInputs",null),u([p({constructOnly:!0})],ts.prototype,"eventSource",void 0),u([p({constructOnly:!0})],ts.prototype,"recognizers",void 0),u([p()],ts.prototype,"multiTouchActive",null),u([p()],ts.prototype,"_latestPointerInfo",void 0),u([p()],ts.prototype,"latestPointerInfo",null),u([p()],ts.prototype,"_paused",void 0),u([p({readOnly:!0})],ts.prototype,"updating",null),ts=u([R("esri.views.input.InputManager")],ts);let Tae=class{constructor(e,i,r,n,s){this.type=e,this.data=i,this.timestamp=r,this.modifiers=n,this.cancelable=s,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return!!(1&this._propagationState)}defer(e){this._propagationState|=2;const i=(r,n)=>{this._propagationState&=-3;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),n)throw r;return r};return(typeof e=="function"?e():e).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};const Go={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},Eae=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([De(()=>[this.ui,this.popup,this.popupElement],([r,n,s],o)=>{const[a,l,d]=o??[];hae(this,[r,n,s],[a,l,d])},Ui),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&pae(this,r)},Go.WIDGET)]),x2(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>ae(()=>import("./c-Popup-7L7oOnWU.js").then(r=>r.P),__vite__mapDeps([208,209,1,210,211,212,213,184,180,157,144,181,182,183,122,67,185,102,143,186,62,110,214,35,215,216,111,112,7,8,178,179,115,63,58,107,56,57,32,33,34,217,92,90,91,9,44,47,93,218,219,220,221,222,3,223,224,225,226,10,227,228,229,134,230,231,232,233,234,11,235,236,237,238,239,13,240,241,177,242,243,12,244,245,246,247,248,249,250,251,252,22,253,114,254,255,256,257])))}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(qs(this.popup))return this.popup.open(r);if(this.popupElement&&Yo(this.popupElement))this.popupElement.open(r).catch(()=>{});else try{if(await this.setupPopup(),!this.popup)return void ue.getLogger(this).error(new K("view:null-popup","Popup is null and can't be opened"));fae(this,r)}catch{}}closePopup(){this._popupSetupTask?.abort(),mae(this.popup,this.popupElement)}async fetchPopupFeatures(r,n){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,n),n)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!qs(this.popup))return this._popupSetupTask=K1(async r=>{if(!this.popupEnabled||!Yo(this.popupElement))if(this.dependencies.popup&&typeof this.dependencies.popup=="function")await this.dependencies.popup(),Pt(r),customElements.get("arcgis-popup")||ue.getLogger(this).error(new K("view:undefined-popup-element","`arcgis-popup` custom element is undefined and can't be opened")),this.popupElement=document.createElement("arcgis-popup");else{const{default:n}=await ae(()=>import("./c-Popup-7L7oOnWU.js").then(o=>o.P),__vite__mapDeps([208,209,1,210,211,212,213,184,180,157,144,181,182,183,122,67,185,102,143,186,62,110,214,35,215,216,111,112,7,8,178,179,115,63,58,107,56,57,32,33,34,217,92,90,91,9,44,47,93,218,219,220,221,222,3,223,224,225,226,10,227,228,229,134,230,231,232,233,234,11,235,236,237,238,239,13,240,241,177,242,243,12,244,245,246,247,248,249,250,251,252,22,253,114,254,255,256,257]));if(Pt(r),!this.popup||qs(this.popup))return;const s=this.popup;if("open"in s||"close"in s){const{open:o,close:a,...l}=s;this.popup=new n({...l})}else this.popup=new n(s)}}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:n},s){const o=[],a=[];let l=!1;const d=GG(s,B("popup-view-fetch-timeout")??Cae),h=b=>{const x=new Mae(b);return a.push(x),o.push(x.promise),x},f=b=>{const x=a.at(-1);return x&&x.layerView===b&&!l?x:h(b)};for(const b of n)"graphic"in b?(f(b.layerView).graphics.push(b.graphic),l=!1):(o.push(b.layerView.fetchPopupFeaturesAtLocation(b.mapPoint,d)),l=!0);a.forEach(b=>b.resolve(d));const y=HG(o).then(b=>b.filter(x=>!!x).flat());return{pendingFeatures:o,allGraphicsPromise:y,location:r}}async _getPopupHits(r,n){const{hits:s,location:o}=await this.popupHitTest(r);Pt(n);const a=[];for(const l of s)if("graphic"in l){if(this._isValidPopupGraphic(l.graphic,n)){const d=this._isValidPopupGraphicsLayerView(l.layerView)?l.layerView:void 0;a.push({graphic:l.graphic,layerView:d})}}else this._isValidPopupLocationLayerView(l.layerView)&&a.push({mapPoint:l.mapPoint,layerView:l.layerView});return{hits:a,location:o}}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(n?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return u([p()],i.prototype,"popup",void 0),u([p()],i.prototype,"popupElement",void 0),u([p()],i.prototype,"popupEnabled",void 0),i=u([R("esri.views.PopupView")],i),i};let Mae=class{constructor(e){this.layerView=e,this._resolver=nn(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:i,graphics:r,_resolver:n}=this;if(!i)return n.resolve(r),n.promise;let s;return i.fetchPopupFeaturesFromGraphics(r,e).catch(o=>(s=o,null)).then(o=>{o?n.resolve(o):n.reject(s)}),n.promise}};const Cae=5e3;var tf;const wb=hr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),rF=wb.jsonValues.slice();p$(rF,"orthometric");const Gf=hr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let _r=tf=class extends be{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return wb.write(t,e,i)}readHeightModel(t,e,i){return wb.read(t)||(i?.messages&&i.messages.push(Iae(t,{context:i})),null)}readHeightUnit(t,e,i){return Gf.read(t)||(i?.messages&&i.messages.push(aP(t,{context:i})),null)}readHeightUnitService(t,e,i){return gE(t)||Gf.read(t)||(i?.messages&&i.messages.push(aP(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new tf({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=FN(e);return new tf({heightModel:t.heightModel,heightUnit:i??void 0,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new tf;return e.read(t,{origin:"web-scene"}),e}};function aP(t,e){return new Zs("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function Iae(t,e){return new Zs("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}u([p({type:wb.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:rF,default:"ellipsoidal",write:{isRequired:!0}}}}})],_r.prototype,"heightModel",void 0),u([Ye("web-scene","heightModel")],_r.prototype,"writeHeightModel",null),u([et(["web-scene","service"],"heightModel")],_r.prototype,"readHeightModel",null),u([p({type:Gf.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Gf.jsonValues,write:{writer:Gf.write,isRequired:!0}}}}})],_r.prototype,"heightUnit",void 0),u([et("web-scene","heightUnit")],_r.prototype,"readHeightUnit",null),u([et("service","heightUnit")],_r.prototype,"readHeightUnitService",null),u([p({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],_r.prototype,"vertCRS",void 0),u([et("service","vertCRS",["vertCRS","ellipsoid","geoid"])],_r.prototype,"readVertCRS",null),_r=tf=u([R("esri.geometry.HeightModelInfo")],_r);let H_;async function Aae(){return H_==null&&(H_=ae(()=>import("./c-WhereClauseCache-9ypWY4gS.js"),__vite__mapDeps([54,7,8,55,56,57,58])).then(t=>new t.WhereClauseCache(500,500))),H_}async function Pae(t,e){const i=await Aae(),r=i.get(t,e);if(r==null)throw i.getError(t,e);return r}function Wwe(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function Zwe(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function Ywe(t,e){return e.length===0?null:`${t} IN (${Oae(e)})`}function Oae(t){return t.map(e=>typeof e=="string"?Rae(e):e).join(",")}function Rae(t){return`'${t.replaceAll("'","''")}'`}function Jwe(t){return typeof t=="number"}function Kwe(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function Xwe(t){return typeof t=="boolean"}function yg(t){return typeof t=="string"||t instanceof String}function Dae(t){return t==null||yg(t)}function Qwe(t){return Array.isArray(t)}function e_e(t){return t?.declaredClass==="esri.Graphic"}function t_e(t){return t instanceof Date}const zae="HH:mm",Nae="HH:mm:ss",Lae="HH:mm:ss.SSS",Fae=[Lae,Nae,zae,"TT"],jae="yyyy-MM-dd";function lP(t){if(!t||!yg(t))return null;const e=Pe.fromFormat(t,jae);return e.isValid?e:null}function cP(t){return t&&yg(t)?SG(Fae,e=>{const i=Pe.fromFormat(t,e);return i.isValid?i:null})??null:null}function uP(t){if(!t||!yg(t))return null;const e=Pe.fromISO(t);return e.isValid?e:null}const nF=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Uae(t){return t!=null&&nF.has(t.type)}function sF(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function oF(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function aF(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const Vae=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);v2(nF,Vae);function i_e(t,e){const i=t?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,n="range"in i?i.range[1]:i.maxValue,s=Uae(t);return sF(t)||aF(t)||oF(t)?{...Bae(t,n,r),isInteger:s}:{min:r!=null&&typeof r=="number"?r:null,max:n!=null&&typeof n=="number"?n:null,rawMin:r,rawMax:n,isInteger:s}}function Bae(t,e,i){return sF(t)?{min:lP(i)?.toMillis(),max:lP(e)?.toMillis(),rawMin:i,rawMax:e}:aF(t)?{min:cP(i)?.toMillis(),max:cP(e)?.toMillis(),rawMin:i,rawMax:e}:oF(t)?{min:uP(i)?.toMillis(),max:uP(e)?.toMillis(),rawMin:i,rawMax:e}:{max:null,min:null}}function qae(t){if(!t)return;const e=t.match(Hae);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Hae=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function r_e(t){return t.match(Gae)?.[1]?.replaceAll("\\'","'")??null}const Gae=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let G_;function Wae(){return G_||(G_=(async()=>{const[t,e,i]=await Promise.all([ae(()=>import("./c-arcadeUtils-YkvuUaYb.js"),__vite__mapDeps([258,259,260,57,261,56,58,262,219,64,263,46,44,9,47,63,264,265,55,114,266,220,221,267])),ae(()=>import("./c-batchExec-BAgUNzHJ.js"),__vite__mapDeps([268,126])),ae(()=>import("./c-aiServices-CiPeCHnd.js").then(r=>r.a),__vite__mapDeps([264,58,261,56,57,262,219,64,265,260]))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:i,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel,Pixel:t.Pixel}})()),G_}const Zae=/^([0-9_])/,Yae=/[^a-z0-9_\u0080-\uffff]+/gi;function n_e(t){return t==null?null:t.trim().replaceAll(Yae,"_").replace(Zae,"F$1")||null}const Jae=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Kae=["field","normalizationField"];function s_e(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if(dP(Jae,i,e),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)dP(Kae,r,e)}}function dP(t,e,i){if(t)for(const r of t){const n=A1(r,e),s=n&&typeof n!="function"&&i.get(n);s&&Qc(r,s.name,e)}}function o_e(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const i=e.get(t.startField),r=e.get(t.endField);t.startField=i?.name??null,t.endField=r?.name??null}else{const i=e.get(t.startTimeField),r=e.get(t.endTimeField);t.startTimeField=i?.name??null,t.endTimeField=r?.name??null}}const W_=new Set;function VE(t,e){return t&&e?(W_.clear(),Nm(W_,t,e),Array.from(W_).sort()):[]}function Nm(t,e,i){if(i)if(e?.fields?.length)if(i.includes("*"))for(const{name:r}of e.fields)t.add(r);else for(const r of i)Lm(t,e,r);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const r of i)r!=null&&t.add(r)}}function Lm(t,e,i){if(typeof i=="string")if(e){const r=e.get(i);r&&t.add(r.name)}else t.add(i)}function a_e(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(i=>i.name):e}function l_e(t,e,i=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const r=VE(t,e);return r.length/t.fields.length>=i?["*"]:r}async function hl(t,e,i,r){if(!r)return;const n=qae(r);if(n)Lm(t,e,n);else{const{arcadeUtils:s}=await Wae(),o=s.extractFieldNames(r,i?.partitions??e?.fields?.map(a=>a.name));for(const a of o)Lm(t,i?.index??e,a)}}async function BE(t,e,i){if(i&&i!=="1=1"){const r=await Pae(i,e);if(!r.isStandardized)throw new K("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Nm(t,e,r.fieldNames)}}function c_e({displayField:t,fields:e}){return t||(e?.length?Xae(e):null)}function Xae(t){return Z_(t,"name-or-title")||Z_(t,"unique-identifier")||Z_(t,"type-or-category")||Qae(t)}function Qae(t){for(const e of t){if(!e?.name)continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function Z_(t,e){for(const i of t)if(i?.valueType&&i.valueType===e)return i.name;return null}async function u_e(t,e){if(!e)return;const i=e.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function ele(t,e,i){i.onStatisticExpression?hl(t,e,null,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function d_e(t,e,i){if(!e||!i||!("fields"in i))return;const r=[],n=i.popupTemplate;r.push(lF(t,e,n)),i.fields&&r.push(...i.fields.map(async s=>ele(t,e.fieldsIndex,s))),await Promise.all(r)}async function h_e(t,e){const{fieldsIndex:i,trackInfo:r}=e;if(!e||!r||!i)return;const n=[r.latestObservations.renderer?.collectRequiredFields(t,i),r.previousObservations.renderer?.collectRequiredFields(t,i),r.trackLines.renderer?.collectRequiredFields(t,i)];r.popupTemplate&&n.push(lF(t,e,r.popupTemplate));for(const s of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(s)for(const o of s)n.push(dF(t,i,o));await Promise.all(n)}async function lF(t,e,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(s=>hl(t,e.fieldsIndex,null,s.expression)));const n=i?.content;if(Array.isArray(n))for(const s of n)s.type==="expression"&&s.expressionInfo&&r.push(hl(t,e.fieldsIndex,null,s.expressionInfo.expression));await Promise.all(r)}async function p_e(t,e,i){e&&(e.timeInfo&&i?.timeExtent&&Nm(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Nm(t,e.fieldsIndex,[e.floorInfo.floorField]),i?.where!=null&&await BE(t,e.fieldsIndex,i.where))}async function f_e(t,e,i){e&&i&&await Promise.all(i.map(r=>tle(t,e,r)))}async function tle(t,e,i){e&&i&&(i.valueExpression?await hl(t,e.fieldsIndex,null,i.valueExpression):i.field&&Lm(t,e.fieldsIndex,i.field))}function m_e(t){return t?VE(t.fieldsIndex,cF(t)):[]}function ile(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?VE(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function g_e(t,e,i){if(!e||!i)return;const r=e.fieldsIndex;await Promise.all(i.filters.map(n=>BE(t,r,n.where)))}const rle=new Set(["oid","global-id","guid"]),nle=new Set(["oid","global-id"]),sle=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function ole(t){const e=new Set;uF(t).forEach(r=>e.add(r)),ile(t).forEach(r=>e.add(r.toLowerCase()));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>e.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>e.add(r.toLowerCase()))),Array.from(e)}function cF(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:r,editDateField:n,editorField:s}=e;return[i,r,n,s].filter(Boolean)}function uF(t){return cF(t).map(e=>e.toLowerCase())}function y_e(t,e){return t.editable&&!rle.has(t.type)&&!uF(e).includes(t.name?.toLowerCase()??"")}function v_e(t,e){const i=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&i===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&i===e.globalIdField.toLowerCase()||ole(e).includes(i)||nle.has(t.type)||sle.some(r=>r.test(i)))}async function b_e(t,e){const{labelingInfo:i,fieldsIndex:r}=e;i?.length&&await Promise.all(i.map(n=>dF(t,r,n)))}async function dF(t,e,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if(r.type==="arcade")await hl(t,e,null,r.expression);else{const s=r.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Lm(t,e,o.slice(1,-1))})}await BE(t,e,n)}function w_e(t){const e=t.defaultValue;return e!==void 0&&pF(t,e)?e:t.nullable?null:void 0}function __e(t){const e=typeof t=="string"?{type:t}:t;return gle(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function hF(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function ale(t){return t===null||hF(t)}function lle(t){return t===null||Number.isInteger(t)}function cle(){return!0}function pF(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?lle:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?ale:hF;break;case"string":case"esriFieldTypeString":i=t.nullable?Dae:yg;break;default:i=cle}return arguments.length===1?i:i(e)}const ule=["integer","small-integer","big-integer","long"],dle=["single","double"],hle=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],ple=["esriFieldTypeSingle","esriFieldTypeDouble"],fF=new Set([...ule,...hle]),fle=new Set([...dle,...ple]),mle=v2(fF,fle);function x_e(t){return t!=null&&fF.has(t.type)}function mF(t){return t!=null&&mle.has(t.type)}function gle(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function yle(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function vle(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function ble(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function wle(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function $_e(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function S_e(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function k_e(t,e){return _le(t,e)===null}function T_e(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function _le(t,e){return t==null||t.nullable&&e===null?null:pF(t,e)?mF(t)&&!xle(t.type,Number(e))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function xle(t,e){const i=typeof t=="string"?gF(t):t;if(!i)return!1;const r=i.min,n=i.max;return i.isInteger?Number.isInteger(e)&&e>=r&&e<=n:e>=r&&e<=n}function gF(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return $le;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return Sle;case"esriFieldTypeBigInteger":case"big-integer":return kle;case"esriFieldTypeSingle":case"single":return Tle;case"esriFieldTypeDouble":case"double":return Ele}}const $le={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Sle={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},kle={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Vy=(2-2**-23)*2**127,Tle={min:-Vy,max:Vy,isInteger:!1,rawMin:-Vy,rawMax:Vy},Ele={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function E_e(t,e,i){switch(t){case"domain-validation-error::invalid-coded-value":return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"type-validation-error::invalid-type":return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:r,max:n}=gF(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${r} to ${n}`}}}function M_e(t,e){return!Mle(t,e,null)}function Mle(t,e,i){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let n=!1;for(const s of e)if(!r.has(s)&&(n=!0,i==null))break;return n}function C_e(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function Cle(t){const e=t?.match(/{[^}]+}/g);return e?e.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let Rv=class extends be{constructor(e){super(e),this.type=null}};u([p({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Rv.prototype,"type",void 0),Rv=u([R("esri.popup.content.Content")],Rv);const Ko=Rv,By=new ui({asc:"ascending",desc:"descending"});let rf=class extends bi(be){constructor(e){super(e),this.field=null,this.order="ascending"}};u([p({type:String,json:{write:!0}})],rf.prototype,"field",void 0),u([p({type:By.apiValues,json:{type:By.jsonValues,read:By.read,write:By.write}})],rf.prototype,"order",void 0),rf=u([R("esri.popup.support.AttachmentsOrderByInfo")],rf);const Ile=rf;let Ts=class extends bi(Ko){constructor(e){super(e),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};u([p({type:[String],json:{write:!0}})],Ts.prototype,"attachmentKeywords",void 0),u([p({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],Ts.prototype,"attachmentTypes",void 0),u([p({type:String,json:{write:!0}})],Ts.prototype,"description",void 0),u([p({type:["auto","preview","list"],json:{write:!0}})],Ts.prototype,"displayType",void 0),u([p({type:[Ile],json:{write:!0}})],Ts.prototype,"orderByFields",void 0),u([p({type:String,json:{write:!0}})],Ts.prototype,"title",void 0),u([p({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ts.prototype,"type",void 0),Ts=u([R("esri.popup.content.AttachmentsContent")],Ts);const Fm=Ts;var LS;let ql=LS=class extends Ko{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new LS({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?X(this.outFields):null})}};u([p()],ql.prototype,"creator",void 0),u([p()],ql.prototype,"destroyer",void 0),u([p()],ql.prototype,"outFields",void 0),u([p({type:["custom"],readOnly:!0})],ql.prototype,"type",void 0),ql=LS=u([R("esri.popup.content.CustomContent")],ql);const Ale=ql;var FS;let Vu=FS=class extends be{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new FS({title:this.title,expression:this.expression})}};u([p({type:String,json:{write:!0}})],Vu.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],Vu.prototype,"expression",void 0),u([p({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Vu.prototype,"returnType",void 0),Vu=FS=u([R("esri.popup.ElementExpressionInfo")],Vu);const Ple=Vu;var jS;let nf=jS=class extends Ko{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new jS({expressionInfo:this.expressionInfo?.clone()})}};u([p({type:Ple,json:{write:!0}})],nf.prototype,"expressionInfo",void 0),u([p({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],nf.prototype,"type",void 0),nf=jS=u([R("esri.popup.content.ExpressionContent")],nf);const hw=nf;let Dv=class extends bi(be){constructor(e){super(e),this.type=null}};u([p({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Dv.prototype,"type",void 0),Dv=u([R("esri.layers.support.FieldFormat")],Dv);const qE=Dv,yF="auto";let vo=class extends qE{constructor(e){super(e),this.dateStyle=null,this.hour12=yF,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};u([p({type:["full","long","medium","short"],json:{write:!0}})],vo.prototype,"dateStyle",void 0),u([p({type:["always","auto","never"],nonNullable:!0,json:{default:yF,write:!0}})],vo.prototype,"hour12",void 0),u([p({type:["long","short"],json:{write:!0}})],vo.prototype,"month",void 0),u([p({type:["full","long","medium","short"],json:{write:!0}})],vo.prototype,"timeStyle",void 0),u([p({type:["date-time"]})],vo.prototype,"type",void 0),u([p({type:["numeric"],json:{write:!0}})],vo.prototype,"year",void 0),vo=u([R("esri.layers.support.DateTimeFieldFormat")],vo);const Ec=vo,hP={min:0,max:20},vF=2,bF=0,wF="decimal",_F="auto";let xa=class extends qE{constructor(e){super(e),this.maximumFractionDigits=vF,this.minimumFractionDigits=bF,this.style=wF,this.type="number",this.useGrouping=_F}};u([p({type:ht,nonNullable:!0,range:hP,json:{default:vF,write:!0}})],xa.prototype,"maximumFractionDigits",void 0),u([p({type:ht,nonNullable:!0,range:hP,json:{default:bF,write:!0}})],xa.prototype,"minimumFractionDigits",void 0),u([p({type:["decimal"],nonNullable:!0,json:{default:wF,write:!0}})],xa.prototype,"style",void 0),u([p({type:["number"]})],xa.prototype,"type",void 0),u([p({type:["always","auto","never"],nonNullable:!0,json:{default:_F,write:!0}})],xa.prototype,"useGrouping",void 0),xa=u([R("esri.layers.support.NumberFieldFormat")],xa);const _b=xa;let Bu=class extends bi(be){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([ze(FJ)],Bu.prototype,"dateFormat",void 0),u([p({type:Boolean,json:{write:!0}})],Bu.prototype,"digitSeparator",void 0),u([p({type:ht,json:{write:!0}})],Bu.prototype,"places",void 0),Bu=u([R("esri.popup.support.FieldInfoFormat")],Bu);const Wh=Bu,Ole={base:qE,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":Ec,number:_b}};function N_e(t,e){const{format:i}=t;return e&&pw(e)?i?xF(i,e):zv(e,{hour12:"always",useGrouping:"always"}):null}function xF(t,e){const{dateFormat:i}=t;if(!e)return i?fP(t):pP(t);if(!pw(e))return;const r={hour12:"always"};switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return $F(t);case"single":case"double":return pP(t);case"date":case"timestamp-offset":return i?fP(t):zv(e,r);case"date-only":return i?Rle(t):zv(e);case"time-only":return i?Dle(t):zv(e,r)}}function pw(t){return mF(t)||yle(t)||vle(t)||wle(t)||ble(t)}function $F(t){return new _b({useGrouping:t.digitSeparator?"always":"never"})}function pP(t){const e=$F(t),{places:i}=t;return e.minimumFractionDigits=i??0,e.maximumFractionDigits=i??2,e}function fP(t){return new Ec({dateStyle:SF(t),year:MF(t),month:TF(t),timeStyle:EF(t),hour12:kF(t)})}function Rle(t){return new Ec({dateStyle:SF(t),year:MF(t),month:TF(t)})}function Dle(t){return new Ec({timeStyle:EF(t),hour12:kF(t)})}function SF(t){const{dateFormat:e}=t;return e?e.startsWith("short-date")?"short":e.startsWith("day-short-month-year")?"medium":e.startsWith("long-month-day-year")?"long":e.startsWith("long-date")?"full":null:null}function kF(t){return t.dateFormat?.endsWith("-24")?"never":"always"}function TF(t){switch(t.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function EF(t){const{dateFormat:e}=t;return e?e.includes("short-time")?"short":e.includes("long-time")?"medium":null:null}function MF(t){switch(t.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function zle(t,e){const i=t.type==="number",r=t.type==="date-time";if(!e)return i?mP(t):r?gP(t):null;if(pw(e))switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return i?CF(t):null;case"single":case"double":return i?mP(t):null;case"date":case"timestamp-offset":return r?gP(t):null;case"date-only":return r?Nle(t):null;case"time-only":return r?Lle(t):null}}function CF(t){return new Wh({digitSeparator:t.useGrouping!=="never"})}function mP(t){const e=CF(t);return e.places=t.maximumFractionDigits,e}function gP(t){let e;const i=IF(t),r=AF(t),n=t.hour12==="never"?"24":null,s=t.year==="numeric"?"year":null,o=PF(t);return i&&r&&n?e=`${i}-${r}-${n}`:i&&r?e=`${i}-${r}`:i?e=i:s&&o?e=`${o}-${s}`:s&&(e=s),e?new Wh({dateFormat:e}):null}function Nle(t){let e;const i=IF(t),r=t.year==="numeric"?"year":null,n=PF(t);return i?e=i:r&&n?e=`${n}-${r}`:r&&(e=r),e?new Wh({dateFormat:e}):null}function Lle(t){let e;const i=AF(t),r=t.hour12==="never"?"24":null;return i&&r?e=`short-date-${i}-${r}`:i&&(e=`short-date-${i}`),e?new Wh({dateFormat:e}):null}function IF(t){switch(t.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function AF(t){return t.timeStyle&&(t.timeStyle==="short"?"short-time":"long-time")}function PF(t){switch(t.month){case"short":return"short-month";case"long":return"long-month";default:return}}function zv(t,e){if(!pw(t))return;const i=e?.useGrouping??"auto",r=e?.hour12??"auto";switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return new _b({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:i});case"single":case"double":return new _b({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:i});case"date":case"timestamp-offset":return new Ec({dateStyle:"short",timeStyle:"short",hour12:r});case"date-only":return new Ec({dateStyle:"short"});case"time-only":return new Ec({timeStyle:"short",hour12:r})}}let qr=class extends bi(be){constructor(e){super(e),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(e){this._set("fieldFormat",e),this._set("format",e?zle(e):null)}set format(e){this._set("format",e),this._set("fieldFormat",e?xF(e):null)}readFormat(e,i){if(!i.fieldFormat)return e?Wh.fromJSON(e):null}clone(){const e=super.clone();return e._set("format",this.format?.clone()),e._set("fieldFormat",this.fieldFormat?.clone()),e}};u([p({value:null,clonable:!1,types:Ole,json:{write:{overridePolicy(t,e,i){const{fieldName:r}=this;return{enabled:!!r&&!r.startsWith("expression/")&&!r.startsWith("relationships/")&&!!i?.writeFieldFormat}}}}})],qr.prototype,"fieldFormat",null),u([p({type:String,json:{write:!0}})],qr.prototype,"fieldName",void 0),u([p({value:null,clonable:!1,type:Wh,json:{write:!0}})],qr.prototype,"format",null),u([et("format")],qr.prototype,"readFormat",null),u([p({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],qr.prototype,"isEditable",void 0),u([p({type:String,json:{write:!0}})],qr.prototype,"label",void 0),u([p({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],qr.prototype,"statisticType",void 0),u([ze(new ui({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],qr.prototype,"stringFieldOption",void 0),u([p({type:String,json:{write:!0}})],qr.prototype,"tooltip",void 0),u([p({type:Boolean,json:{write:!0}})],qr.prototype,"visible",void 0),qr=u([R("esri.popup.FieldInfo")],qr);const OF=qr;var US;let $a=US=class extends Ko{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new US(X({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([p({type:Object,json:{write:!0}})],$a.prototype,"attributes",void 0),u([p({type:String,json:{write:!0}})],$a.prototype,"description",void 0),u([p({type:[OF],json:{write:!0}})],$a.prototype,"fieldInfos",void 0),u([p({type:String,json:{write:!0}})],$a.prototype,"title",void 0),u([p({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],$a.prototype,"type",void 0),$a=US=u([R("esri.popup.content.FieldsContent")],$a);const jm=$a;let Hl=class extends be{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};u([p({type:String,json:{write:!0}})],Hl.prototype,"altText",void 0),u([p({type:String,json:{write:!0}})],Hl.prototype,"caption",void 0),u([p({type:String,json:{write:!0}})],Hl.prototype,"title",void 0),u([p({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Hl.prototype,"type",void 0),Hl=u([R("esri.popup.content.mixins.MediaInfo")],Hl);const HE=Hl;var VS;let Gl=VS=class extends Te{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new VS({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([p()],Gl.prototype,"color",void 0),u([p()],Gl.prototype,"fieldName",void 0),u([p()],Gl.prototype,"tooltip",void 0),u([p()],Gl.prototype,"value",void 0),Gl=VS=u([R("esri.popup.content.support.ChartMediaInfoValueSeries")],Gl);const Fle=Gl;var BS;let Sa=BS=class extends be{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new BS({colors:X(this.colors),fields:X(this.fields),normalizeField:this.normalizeField,series:X(this.series),tooltipField:this.tooltipField})}};u([p({type:[Ke],json:{type:[[ht]],write:!0}})],Sa.prototype,"colors",void 0),u([p({type:[String],json:{write:{isRequired:!0}}})],Sa.prototype,"fields",void 0),u([p({type:String,json:{write:!0}})],Sa.prototype,"normalizeField",void 0),u([p({type:[Fle],json:{read:!1}})],Sa.prototype,"series",void 0),u([p({type:String,json:{write:!0}})],Sa.prototype,"tooltipField",void 0),Sa=BS=u([R("esri.popup.content.support.ChartMediaInfoValue")],Sa);const jle=Sa;let sf=class extends HE{constructor(e){super(e),this.type=null,this.value=void 0}};u([p({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],sf.prototype,"type",void 0),u([p({type:jle,json:{write:{isRequired:!0}}})],sf.prototype,"value",void 0),sf=u([R("esri.popup.content.mixins.ChartMediaInfo")],sf);const fw=sf,mw=hr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var qS;let Nv=qS=class extends fw{constructor(t){super(t),this.type="bar-chart"}clone(){return new qS({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:mw.write,isRequired:!0}}})],Nv.prototype,"type",void 0),Nv=qS=u([R("esri.popup.content.BarChartMediaInfo")],Nv);const RF=Nv;var HS;let Lv=HS=class extends fw{constructor(t){super(t),this.type="column-chart"}clone(){return new HS({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:mw.write,isRequired:!0}}})],Lv.prototype,"type",void 0),Lv=HS=u([R("esri.popup.content.ColumnChartMediaInfo")],Lv);const DF=Lv;var GS;let of=GS=class extends be{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new GS({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([p({type:String,json:{write:!0}})],of.prototype,"linkURL",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],of.prototype,"sourceURL",void 0),of=GS=u([R("esri.popup.content.support.ImageMediaInfoValue")],of);const Ule=of;var WS;let qu=WS=class extends HE{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new WS({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};u([p({type:Number,json:{write:!0}})],qu.prototype,"refreshInterval",void 0),u([p({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],qu.prototype,"type",void 0),u([p({type:Ule,json:{write:{isRequired:!0}}})],qu.prototype,"value",void 0),qu=WS=u([R("esri.popup.content.ImageMediaInfo")],qu);const zF=qu;var ZS;let Fv=ZS=class extends fw{constructor(t){super(t),this.type="line-chart"}clone(){return new ZS({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:mw.write,isRequired:!0}}})],Fv.prototype,"type",void 0),Fv=ZS=u([R("esri.popup.content.LineChartMediaInfo")],Fv);const NF=Fv;var YS;let jv=YS=class extends fw{constructor(t){super(t),this.type="pie-chart"}clone(){return new YS({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:mw.write,isRequired:!0}}})],jv.prototype,"type",void 0),jv=YS=u([R("esri.popup.content.PieChartMediaInfo")],jv);const LF=jv,JS={base:HE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":RF,"column-chart":DF,"line-chart":NF,"pie-chart":LF,image:zF}};var KS;let is=KS=class extends Ko{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?zF.fromJSON(e):e.type==="barchart"?RF.fromJSON(e):e.type==="columnchart"?DF.fromJSON(e):e.type==="linechart"?NF.fromJSON(e):e.type==="piechart"?LF.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(i=>i.toJSON())}clone(){return new KS(X({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([p()],is.prototype,"activeMediaInfoIndex",void 0),u([p({type:Object,json:{write:!0}})],is.prototype,"attributes",void 0),u([p({type:String,json:{write:!0}})],is.prototype,"description",void 0),u([p({types:[JS]})],is.prototype,"mediaInfos",void 0),u([et("mediaInfos")],is.prototype,"readMediaInfos",null),u([Ye("mediaInfos")],is.prototype,"writeMediaInfos",null),u([p({type:String,json:{write:!0}})],is.prototype,"title",void 0),u([p({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],is.prototype,"type",void 0),is=KS=u([R("esri.popup.content.MediaContent")],is);const Um=is;var XS;let af=XS=class extends be{constructor(t){super(t),this.field=null,this.order=null}clone(){return new XS({field:this.field,order:this.order})}};u([p({type:String,json:{write:!0}})],af.prototype,"field",void 0),u([p({type:["asc","desc"],json:{write:!0}})],af.prototype,"order",void 0),af=XS=u([R("esri.popup.support.RelatedRecordsInfoFieldOrder")],af);const FF=af;let Es=class extends bi(Ko){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([p({type:String,json:{write:!0}})],Es.prototype,"description",void 0),u([p({type:Number,json:{type:ht,write:!0}})],Es.prototype,"displayCount",void 0),u([p({type:["list"],json:{write:{isRequired:!0}}})],Es.prototype,"displayType",void 0),u([p({type:[FF],json:{write:!0}})],Es.prototype,"orderByFields",void 0),u([p({type:Number,json:{type:ht,write:{isRequired:!0}}})],Es.prototype,"relationshipId",void 0),u([p({type:String,json:{write:!0}})],Es.prototype,"title",void 0),u([p({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Es.prototype,"type",void 0),Es=u([R("esri.popup.content.RelationshipContent")],Es);const Vm=Es;var QS;let lf=QS=class extends Ko{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new QS({text:this.text})}};u([p({type:String,json:{write:!0}})],lf.prototype,"text",void 0),u([p({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],lf.prototype,"type",void 0),lf=QS=u([R("esri.popup.content.TextContent")],lf);const Bm=lf;let bo=class extends bi(be){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};u([p({type:String,json:{write:!0}})],bo.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],bo.prototype,"description",void 0),u([p({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],bo.prototype,"type",void 0),u([p({type:Number,json:{type:ht,write:!0}})],bo.prototype,"associatedNetworkSourceId",void 0),u([p({type:Number,json:{type:ht,write:!0}})],bo.prototype,"associatedAssetGroup",void 0),u([p({type:Number,json:{type:ht,write:!0}})],bo.prototype,"associatedAssetType",void 0),bo=u([R("esri.popup.support.UtilityNetworkAssociationType")],bo);const Vle=bo;let ka=class extends bi(Ko){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};u([p({type:String,json:{write:!0}})],ka.prototype,"description",void 0),u([p({type:Number,json:{type:ht,write:!0}})],ka.prototype,"displayCount",void 0),u([p({type:String,json:{write:!0}})],ka.prototype,"title",void 0),u([p({type:[Vle],json:{write:!0}})],ka.prototype,"associationTypes",void 0),u([ze({utilityNetworkAssociations:"utility-network-associations"})],ka.prototype,"type",void 0),ka=u([R("esri.popup.content.UtilityNetworkAssociationsContent")],ka);const GE=ka,Ble={base:null,key:"type",typeMap:{attachment:Fm,media:Um,text:Bm,expression:hw,field:jm,relationship:Vm,utilityNetworkAssociations:GE}},qle={base:null,key:"type",typeMap:{attachment:Fm,media:Um,text:Bm,expression:hw,field:jm,relationship:Vm}};var ek;let Wl=ek=class extends be{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new ek({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([p({type:String,json:{write:!0}})],Wl.prototype,"name",void 0),u([p({type:String,json:{write:!0}})],Wl.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],Wl.prototype,"expression",void 0),u([p({type:["string","number"],json:{write:!0}})],Wl.prototype,"returnType",void 0),Wl=ek=u([R("esri.popup.ExpressionInfo")],Wl);const Hle=Wl;var tk;let cf=tk=class extends be{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new tk({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([p({type:Boolean,json:{write:!0}})],cf.prototype,"returnTopmostRaster",void 0),u([p({type:Boolean,json:{write:!0}})],cf.prototype,"showNoDataRecords",void 0),cf=tk=u([R("esri.popup.LayerOptions")],cf);const Gle=cf;var ik;let uf=ik=class extends be{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new ik({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?X(this.orderByFields):null})}};u([p({type:Boolean,json:{write:!0}})],uf.prototype,"showRelatedRecords",void 0),u([p({type:[FF],json:{write:!0}})],uf.prototype,"orderByFields",void 0),uf=ik=u([R("esri.popup.RelatedRecordsInfo")],uf);const yP=uf;var rk;let mn=rk=class extends bE(Te){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new rk({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([p()],mn.prototype,"active",void 0),u([p()],mn.prototype,"className",void 0),u([p()],mn.prototype,"disabled",void 0),u([p()],mn.prototype,"icon",void 0),u([p()],mn.prototype,"id",void 0),u([p()],mn.prototype,"indicator",void 0),u([p()],mn.prototype,"title",void 0),u([p()],mn.prototype,"type",void 0),u([p()],mn.prototype,"visible",void 0),mn=rk=u([R("esri.support.actions.ActionBase")],mn);const WE=mn;var nk;let Uv=nk=class extends WE{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new nk({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([p()],Uv.prototype,"image",void 0),Uv=nk=u([R("esri.support.actions.ActionButton")],Uv);const Wle=Uv;var sk;let df=sk=class extends WE{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new sk({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([p()],df.prototype,"image",void 0),u([p()],df.prototype,"value",void 0),df=sk=u([R("esri.support.actions.ActionToggle")],df);const Zle=df,Op="relationships/",vP="expression/",Yle=pe.ofType({key:"type",defaultKeyValue:"button",base:WE,typeMap:{button:Wle,toggle:Zle}}),Jle={base:Ko,key:"type",typeMap:{media:Um,custom:Ale,text:Bm,attachments:Fm,fields:jm,expression:hw,relationship:Vm,utilityNetworkAssociations:GE}},jF=new Set(["attachments","fields","media","text","expression","relationship"]),Kle=new Set([...jF,"utility-network-associations"]);let si=class extends bi(be){constructor(e){super(e),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(i=>sl(Jle,i)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Yi(e)?e:(ue.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(e,i,r,n){this._writePopupTemplateContent(e,i,n)}writeWebMapContent(e,i,r,n){this._writePopupTemplateContent(e,i,n)}writeFieldInfos(e,i,r,n){const{content:s}=this,o=Array.isArray(s)?s:null,{writeFieldFormat:a,...l}=n||{};if(e){const d=o?o.filter(f=>f.type==="fields"):[],h=d.length&&d.every(f=>f.fieldInfos?.length);i.fieldInfos=e.filter(Boolean).map(f=>{const y=f.toJSON(l);return h&&(y.visible=!1),y})}if(o)for(const d of o)d.type==="fields"&&this._writeFieldsContent(d,i,l)}writeLayerOptions(e,i,r,n){i[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(n)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,r,[...n,...this._getContentExpressionInfos(this.content,n)]),Nm(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e,i){const r=new Set;return await this.collectRequiredFields(r,e,i),[...r].sort()}_writePopupTemplateContent(e,i,r){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter(n=>r?.origin==="web-scene"?jF.has(n.type):Kle.has(n.type)).map(n=>n?.toJSON(r)),i.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(i):n.type==="media"?this._writeMediaContent(n,i):n.type==="text"?this._writeTextContent(n,i):n.type==="relationship"&&this._writeRelationshipContent(n,i)})):i.description=e}_writeFieldsContent(e,i,r){const n=e.fieldInfos;if(!Array.isArray(n)||!n.length)return;const s=i.fieldInfos;if(Array.isArray(s))for(const o of n){const a=s.find(l=>l.fieldName?.toLowerCase()===o.fieldName?.toLowerCase());a?a.visible=!0:s.push(o.toJSON(r))}else i.fieldInfos=n.map(o=>o.toJSON(r))}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){const r=e.orderByFields?.map(s=>this._toFieldOrderJSON(s,e.relationshipId))||[],n=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...n?.length&&{orderByFields:n}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=X(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(e,i,r){const n={description:!1,mediaInfos:!1};return r.map(s=>s.type==="media"?(s.mediaInfos||!i||n.mediaInfos||(s.mediaInfos=i,n.mediaInfos=!0),Um.fromJSON(s)):s.type==="text"?(s.text||!e||n.description||(s.text=e,n.description=!0),Bm.fromJSON(s)):s.type==="attachments"?Fm.fromJSON(s):s.type==="fields"?jm.fromJSON(s):s.type==="expression"?hw.fromJSON(s):s.type==="relationship"?Vm.fromJSON(s):s.type==="utilityNetworkAssociations"?GE.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:r}=e;if(!i?.startsWith(Op))return null;const n=i.replace(Op,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),o=n[1];return!Number.isNaN(s)&&o?Vm.fromJSON({relationshipId:s,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(e,i){const{order:r,field:n}=e;return{field:`${Op}${i}/${n}`,order:r}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:r,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];e?s.push(new Bm({text:e})):s.push(new jm),Array.isArray(i)&&i.length&&s.push(Um.fromJSON({mediaInfos:i})),r&&s.push(Fm.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=n;return o&&a?.length&&a.forEach(l=>{const d=this._toRelationshipContent(l);d&&s.push(d)}),s.length?s:e}_getContentElementFields(e){const i=e?.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return i==="text"?this._extractFieldNames(e.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:i,title:r,value:n}=e,s=n||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:d,linkURL:h}=s,f=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(d),...this._extractFieldNames(h),...o??[]];return a&&f.push(a),l&&f.push(l),f}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,i,r,n){n&&await Promise.all(n.map(s=>hl(e,i,r,s.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(Op)||i.startsWith(vP))).map(i=>i.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:i,title:r,type:n}=e,s=n==="button"||n==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(s)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return Cle(e).filter(i=>!(i.startsWith(Op)||i.startsWith(vP)))}};u([p({type:Yle})],si.prototype,"actions",void 0),u([p()],si.prototype,"content",void 0),u([vi("content")],si.prototype,"castContent",null),u([et("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],si.prototype,"readContent",null),u([Ye("web-scene","content",{popupElements:{type:pe.ofType(qle)},showAttachments:{type:Boolean},mediaInfos:{type:pe.ofType(JS)},description:{type:String},relatedRecordsInfo:{type:yP}})],si.prototype,"writeWebSceneContent",null),u([Ye("content",{popupElements:{type:pe.ofType(Ble)},showAttachments:{type:Boolean},mediaInfos:{type:pe.ofType(JS)},description:{type:String},relatedRecordsInfo:{type:yP}})],si.prototype,"writeWebMapContent",null),u([p({type:[Hle],json:{write:!0}})],si.prototype,"expressionInfos",void 0),u([p({type:[OF]})],si.prototype,"fieldInfos",void 0),u([Ye("fieldInfos")],si.prototype,"writeFieldInfos",null),u([p({type:Gle})],si.prototype,"layerOptions",void 0),u([Ye("layerOptions")],si.prototype,"writeLayerOptions",null),u([p({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],si.prototype,"lastEditInfoEnabled",void 0),u([p()],si.prototype,"outFields",void 0),u([p()],si.prototype,"overwriteActions",void 0),u([p()],si.prototype,"returnGeometry",void 0),u([p({json:{type:String}})],si.prototype,"title",void 0),u([Ye("title")],si.prototype,"writeTitle",null),si=u([R("esri.PopupTemplate")],si);const Xle=si,UF=Symbol("idFieldsProviderSymbol");function Qle(t){return!!t&&UF in t}function bP(t){return Qle(t)?t[UF]:void 0}const VF=Symbol("popupProvider");function H_e(t){return typeof t=="object"&&t!==null&&"popupEnabled"in t&&"popupTemplate"in t}function ece(t){return!!t&&VF in t}function tce(t){return ece(t)?t[VF]:null}function G_e(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const i=[];for(const r of e.fieldNames)i.push(t.attributes[r]??null);return JSON.stringify(i)}}}function wP(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const i=e.uniqueIdFields.map(r=>t.attributes?.[r]);return JSON.stringify(i)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const _P=new ui({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let ice=0,ti=class extends be{constructor(e){super(e),this.id="sym"+ice++,this.type=null,this.color=new Ke([0,0,0,1])}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([p({type:_P.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:_P.write,isRequired:!0}}})],ti.prototype,"type",void 0),u([p({type:Ke,json:{write:{allowNull:!0}}})],ti.prototype,"color",void 0),u([et("color")],ti.prototype,"readColor",null),ti=u([R("esri.symbols.Symbol")],ti);var ok;let Ir=ok=class extends ti{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(n=>{const s=n.valueExpressionInfo;return s?hl(t,e,null,s.expression):null});await Promise.all(r)}}}clone(){return new ok({data:X(this.data)})}hash(){return t5(JSON.stringify(this.data)).toString()}};u([p({json:{write:!1}})],Ir.prototype,"color",void 0),u([p({json:{write:!0}})],Ir.prototype,"data",void 0),u([et("data",["symbol"])],Ir.prototype,"readData",null),u([Ye("data",{})],Ir.prototype,"writeData",null),u([ze({CIMSymbolReference:"cim"},{readOnly:!0})],Ir.prototype,"type",void 0),Ir=ok=u([R("esri.symbols.CIMSymbol")],Ir);let ar=class extends be{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,r){e||(i[r]=e)}};u([p({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ar.prototype,"enabled",void 0),u([Ye("enabled")],ar.prototype,"writeEnabled",null),u([p({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],ar.prototype,"type",void 0),ar=u([R("esri.symbols.Symbol3DLayer")],ar);function rce(t,e){const i=e.transparency!=null?fL(e.transparency):1,r=e.color;return r&&Array.isArray(r)?new Ke([r[0]||0,r[1]||0,r[2]||0,i]):null}function nce(t,e){e.color=t.toJSON().slice(0,3);const i=pL(t.a);i!==0&&(e.transparency=i)}function vl(t){return{type:Ke,nonNullable:t?.nonNullable,json:{type:[ht],default:null,read:{source:["color","transparency"],reader:rce},write:{target:{color:{type:[ht],isRequired:t?.colorRequiredOnWrite},transparency:{type:ht}},writer:nce}}}}const Xs={type:Number,cast:zt,json:{write:!0}};function Y_e(t){return t==="emissive"?0:1}let Zl=class extends be{constructor(e){super(e),this.color=new Ke([0,0,0,1]),this.extensionLength=0,this.size=dl(1)}clone(){}cloneProperties(){return{color:X(this.color),size:this.size,extensionLength:this.extensionLength}}};u([p({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Zl.prototype,"type",void 0),u([p(vl({colorRequiredOnWrite:!0}))],Zl.prototype,"color",void 0),u([p({...Xs,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],Zl.prototype,"extensionLength",void 0),u([p(Xs)],Zl.prototype,"size",void 0),Zl=u([R("esri.symbols.edges.Edges3D")],Zl);const ZE=Zl;var ak;let Vv=ak=class extends ZE{constructor(t){super(t),this.type="sketch"}clone(){return new ak(this.cloneProperties())}};u([ze({sketch:"sketch"},{readOnly:!0})],Vv.prototype,"type",void 0),Vv=ak=u([R("esri.symbols.edges.SketchEdges3D")],Vv);const sce=Vv;var lk;let Bv=lk=class extends ZE{constructor(t){super(t),this.type="solid"}clone(){return new lk(this.cloneProperties())}};u([ze({solid:"solid"},{readOnly:!0})],Bv.prototype,"type",void 0),Bv=lk=u([R("esri.symbols.edges.SolidEdges3D")],Bv);const oce=Bv,BF={types:{key:"type",base:ZE,typeMap:{solid:oce,sketch:sce}},json:{write:!0}};var ck;let hd=ck=class extends be{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new ck(t)}};u([p({json:{write:!1}})],hd.prototype,"strength",void 0),u([p({json:{write:!1}})],hd.prototype,"source",void 0),hd=ck=u([R("esri.symbols.support.Symbol3DEmissive")],hd);var uk;let Qr=uk=class extends be{constructor(t){super(t),this.color=null,this.emissive=new hd({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new uk(t)}};u([p(vl())],Qr.prototype,"color",void 0),u([p({type:hd,json:{write:!1}})],Qr.prototype,"emissive",void 0),Qr=uk=u([R("esri.symbols.support.Symbol3DMaterial")],Qr);var dk,Ud;let Co=(Ud=class extends ar{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new dk({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}},dk=Ud,Ud);u([ze({Extrude:"extrude"},{readOnly:!0})],Co.prototype,"type",void 0),u([p({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Co.prototype,"size",void 0),u([p({type:Qr,json:{write:!0}})],Co.prototype,"material",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Co.prototype,"castShadows",void 0),u([p(BF)],Co.prototype,"edges",void 0),Co=dk=u([R("esri.symbols.ExtrudeSymbol3DLayer")],Co);let Wf=class extends be{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};u([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Wf.prototype,"type",void 0),Wf=u([R("esri.symbols.patterns.LinePattern3D")],Wf);const ace=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var hk;const lce=hr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let fc=hk=class extends Wf{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new hk(t)}};u([p({type:["style"],json:{write:{isRequired:!0}}})],fc.prototype,"type",void 0),u([ze(lce),p({type:ace,json:{write:{isRequired:!0}}})],fc.prototype,"style",void 0),fc=hk=u([R("esri.symbols.patterns.LineStylePattern3D")],fc);let Zf=class extends be{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};u([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Zf.prototype,"type",void 0),Zf=u([R("esri.symbols.patterns.Pattern3D")],Zf);const cce=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var pk;let pd=pk=class extends Zf{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new pk({style:this.style})}};u([p({type:["style"],json:{write:{isRequired:!0}}})],pd.prototype,"type",void 0),u([p({type:cce,json:{read:!0,write:{isRequired:!0}}})],pd.prototype,"style",void 0),pd=pk=u([R("esri.symbols.patterns.StylePattern3D")],pd);const uce={types:{key:"type",base:Zf,typeMap:{style:pd}},json:{write:!0}},qF={types:{key:"type",base:Wf,typeMap:{style:fc}},json:{write:!0}},Yf=new Ke("white"),dce=new Ke([255,255,255,0]);function hce(t){return t.r===0&&t.g===0&&t.b===0}var fk;let Jf=fk=class extends Qr{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new fk(t)}};u([ze({multiply:"multiply",replace:"replace",tint:"tint"})],Jf.prototype,"colorMixMode",void 0),Jf=fk=u([R("esri.symbols.support.Symbol3DFillMaterial")],Jf);function YE(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function pce(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function fce(t,e,i,r,n,s,o,a,l,d,h,f,y,b,x,$){return[t,e,i,r,n,s,o,a,l,d,h,f,y,b,x,$]}const mce=YE();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:mce,clone:pce,create:YE,fromValues:fce},Symbol.toStringTag,{value:"Module"}));function gce(t){return t<=WD?new Array(t).fill(0):new Float64Array(t)}function Q_e(t){return(RG(t)?t.byteLength/8:t.length)<=WD?Array.from(t):new Float64Array(t)}function exe(t,e,i){return Array.isArray(t)?t.slice(e,e+i):t.subarray(e,e+i)}function txe(t){return[...t]}function ixe(t){const e=YE();for(let i=0;i<16;++i)e[i]=t[i];return e}function vg(t=wce){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function JE(t,e,i,r,n,s,o=vg()){return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=n,o[5]=s,o}function rxe(t,e=vg()){return yce(t,0,t.length/3,e)}function yce(t,e,i,r=vg()){return HF(r,mk),vce(r,t,e,i),r}function nxe(t,e=gce(24)){const[i,r,n,s,o,a]=t;return e[0]=i,e[1]=r,e[2]=n,e[3]=i,e[4]=r,e[5]=a,e[6]=i,e[7]=o,e[8]=n,e[9]=i,e[10]=o,e[11]=a,e[12]=s,e[13]=r,e[14]=n,e[15]=s,e[16]=r,e[17]=a,e[18]=s,e[19]=o,e[20]=n,e[21]=s,e[22]=o,e[23]=a,e}function sxe(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new We(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function oxe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function axe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function lxe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function vce(t,e,i=0,r=e.length/3){let n=t[0],s=t[1],o=t[2],a=t[3],l=t[4],d=t[5];for(let h=0;h<r;h++)n=Math.min(n,e[i+3*h]),s=Math.min(s,e[i+3*h+1]),o=Math.min(o,e[i+3*h+2]),a=Math.max(a,e[i+3*h]),l=Math.max(l,e[i+3*h+1]),d=Math.max(d,e[i+3*h+2]);t[0]=n,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=d}function cxe(t,e,i){const r=e.length;let n=t[0],s=t[1],o=t[2],a=t[3],l=t[4],d=t[5];if(i)for(let h=0;h<r;h++){const f=e[h];n=Math.min(n,f[0]),s=Math.min(s,f[1]),o=Math.min(o,f[2]),a=Math.max(a,f[0]),l=Math.max(l,f[1]),d=Math.max(d,f[2])}else for(let h=0;h<r;h++){const f=e[h];n=Math.min(n,f[0]),s=Math.min(s,f[1]),a=Math.max(a,f[0]),l=Math.max(l,f[1])}t[0]=n,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=d}function uxe(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function bg(t){return t[0]>=t[3]?0:t[3]-t[0]}function wg(t){return t[1]>=t[4]?0:t[4]-t[1]}function _g(t){return t[2]>=t[5]?0:t[5]-t[2]}function dxe(t){const e=bg(t),i=_g(t),r=wg(t);return Math.sqrt(e*e+i*i+r*r)}function hxe(t,e=[0,0,0]){return e[0]=t[0]+bg(t)/2,e[1]=t[1]+wg(t)/2,e[2]=t[2]+_g(t)/2,e}function pxe(t,e=[0,0,0]){return e[0]=bg(t),e[1]=wg(t),e[2]=_g(t),e}function fxe(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function bce(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function mxe(t,e){return e==null||bce(t,e)}function gxe(t,e,i,r,n=t){return n[0]=t[0]+e,n[1]=t[1]+i,n[2]=t[2]+r,n[3]=t[3]+e,n[4]=t[4]+i,n[5]=t[5]+r,n}function yxe(t,e,i=t){const r=t[0]+bg(t)/2,n=t[1]+wg(t)/2,s=t[2]+_g(t)/2;return i[0]=r+(t[0]-r)*e,i[1]=n+(t[1]-n)*e,i[2]=s+(t[2]-s)*e,i[3]=r+(t[3]-r)*e,i[4]=n+(t[4]-n)*e,i[5]=s+(t[5]-s)*e,i}function vxe(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function bxe(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function wxe(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function HF(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function _xe(t){return t?HF(t,mk):vg(mk)}function xxe(t,e=Ar()){return e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function $xe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function Sxe(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=n,t[5]=Number.POSITIVE_INFINITY,t}function xP(t){return t.length===6}function kxe(t){return bg(t)===0&&wg(t)===0&&_g(t)===0}function Txe(t,e,i){if(t==null||e==null)return t===e;if(!xP(t)||!xP(e))return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const mk=[1/0,1/0,1/0,-1/0,-1/0,-1/0],wce=[0,0,0,0,0,0];vg();function Exe(t,{isPrimitive:e,width:i,depth:r,height:n}){const s=e?10:1;if(i==null&&n==null&&r==null)return[s*t[0],s*t[1],s*t[2]];const o=Gh(i,r,n);let a;for(let l=0;l<3;l++){const d=o[l];if(d!=null){a=d/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const _ce=JE(-.5,-.5,-.5,.5,.5,.5),xce=JE(-.5,-.5,0,.5,.5,1),$ce=JE(-.5,-.5,0,.5,.5,.5);function Mxe(t){switch(t){case"sphere":case"cube":case"diamond":return _ce;case"cylinder":case"cone":case"inverted-cone":return xce;case"tetrahedron":return $ce;default:return}}const KE=["butt","square","round"],Sce=[...KE,"none"],GF=["miter","bevel","round"];var gk;let Yl=gk=class extends be{constructor(t){super(t),this.color=new Ke([0,0,0,1]),this.size=dl(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new gk(t)}};u([p(vl({colorRequiredOnWrite:!0}))],Yl.prototype,"color",void 0),u([p({...Xs,json:{write:{isRequired:!0}}})],Yl.prototype,"size",void 0),u([p(qF)],Yl.prototype,"pattern",void 0),u([p({type:KE,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Yl.prototype,"patternCap",void 0),Yl=gk=u([R("esri.symbols.support.Symbol3DOutline")],Yl);var qv,Vd;let Zr=(Vd=class extends ar{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new qv(e)}static fromSimpleFillSymbol(e){const i=e.outline&&e.outline.style&&e.outline.style!=="solid"?new fc({style:e.outline.style}):null,r={size:e.outline?.width??0,color:(e.outline?.color??Yf).clone(),pattern:i};return i&&e.outline?.cap&&(r.patternCap=e.outline.cap),new qv({material:new Jf({color:(e.color??dce).clone()}),pattern:e.style&&e.style!=="solid"?new pd({style:e.style}):null,outline:r})}},qv=Vd,Vd);u([ze({Fill:"fill"},{readOnly:!0})],Zr.prototype,"type",void 0),u([p({type:Jf,json:{write:!0}})],Zr.prototype,"material",void 0),u([p(uce)],Zr.prototype,"pattern",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Zr.prototype,"castShadows",void 0),u([p({type:Yl,json:{write:!0}})],Zr.prototype,"outline",void 0),u([p(BF)],Zr.prototype,"edges",void 0),Zr=qv=u([R("esri.symbols.FillSymbol3DLayer")],Zr);var yk;const kce=hr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Jl=yk=class extends be{constructor(t){super(t)}readHref(t,e,i){return t?Vh(t,i):e.dataURI}writeHref(t,e,i,r){t&&(tu(t)?e.dataURI=t:(e.href=hh(t,r),Pr(e.href)&&(e.href=Ya(e.href))))}clone(){return new yk({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};u([p({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Jl.prototype,"href",void 0),u([et("href")],Jl.prototype,"readHref",null),u([Ye("href",{href:{type:String},dataURI:{type:String}})],Jl.prototype,"writeHref",null),u([ze(kce)],Jl.prototype,"primitive",void 0),Jl=yk=u([R("esri.symbols.support.IconSymbol3DLayerResource")],Jl);const Cxe="circle";let Hv=class extends bi(be){constructor(e){super(e),this.mode="hidden"}equals(e){return this.mode===e.mode}};u([p({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],Hv.prototype,"mode",void 0),Hv=u([R("esri.symbols.support.OccludedVisibility")],Hv);const WF=Hv;var vk;let fd=vk=class extends Te{constructor(t){super(t),this.x=0,this.y=0}clone(){return new vk({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};u([p({type:Number})],fd.prototype,"x",void 0),u([p({type:Number})],fd.prototype,"y",void 0),fd=vk=u([R("esri.symbols.support.Symbol3DAnchorPosition2D")],fd);var bk;let hf=bk=class extends be{constructor(t){super(t),this.color=new Ke([0,0,0,1]),this.size=dl(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new bk(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};u([p(vl({colorRequiredOnWrite:!0}))],hf.prototype,"color",void 0),u([p({...Xs,json:{write:{isRequired:!0}}})],hf.prototype,"size",void 0),hf=bk=u([R("esri.symbols.support.Symbol3DIconOutline")],hf);var Hu,Bd;let Si=(Bd=class extends ar{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new Hu({anchor:this.anchor,anchorPosition:X(this.anchorPosition),enabled:this.enabled,material:X(this.material),outline:X(this.outline),resource:X(this.resource),angle:this.angle,size:this.size,occludedVisibility:X(this.occludedVisibility)})}static fromSimpleMarkerSymbol(e){const i=e.color||Yf,r=$P(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Yf).clone()}:null;return new Hu({size:e.size,angle:e.angle,resource:{primitive:Ece(()=>ue.getLogger(this.prototype),e.style)},material:{color:i},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const i=!e.color||hce(e.color)?Yf:e.color,r=$P(e);return new Hu({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:i.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Hu({resource:{href:h4({mediaType:"application/json",data:JSON.stringify(e.data)})}})}},Hu=Bd,Bd);function $P(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,r=SP(t.xoffset),n=SP(t.yoffset);return(r||n)&&e&&i?{x:-r/e,y:n/i}:null}function SP(t){return isFinite(t)?t:0}u([p({type:Qr,json:{write:!0}})],Si.prototype,"material",void 0),u([p({type:Jl,json:{write:!0}})],Si.prototype,"resource",void 0),u([ze({Icon:"icon"},{readOnly:!0})],Si.prototype,"type",void 0),u([p({...Xs,json:{write:{isRequired:!0}}})],Si.prototype,"size",void 0),u([ze({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],Si.prototype,"anchor",void 0),u([p({type:fd,json:{type:[Number],read:{reader:t=>new fd({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Si.prototype,"anchorPosition",void 0),u([p({type:hf,json:{write:!0}})],Si.prototype,"outline",void 0),u([p({type:Number,json:{write:!0,default:0}})],Si.prototype,"angle",void 0),u([p({type:WF})],Si.prototype,"occludedVisibility",void 0),Si=Hu=u([R("esri.symbols.IconSymbol3DLayer")],Si);const Tce={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Ece(t,e){return Tce[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Mce=["begin","end","begin-end"],ZF=["arrow","circle","square","diamond","cross","x"];let No=class extends bi(be){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};u([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],No.prototype,"type",void 0),u([p({type:Mce,json:{default:"begin-end",write:!0}})],No.prototype,"placement",void 0),u([p({type:ZF,json:{default:"arrow",write:!0}})],No.prototype,"style",void 0),u([p({type:Ke,json:{type:[ht],default:null,write:!0}})],No.prototype,"color",void 0),No=u([R("esri.symbols.LineStyleMarker3D")],No);var Gv,qd;let Sr=(qd=class extends ar{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=dl(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Gv(e)}static fromSimpleLineSymbol(e){const i={enabled:!0,size:e.width??dl(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new fc({style:e.style}):null,material:new Qr({color:(e.color||Yf).clone()}),marker:e.marker?new No({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new Gv(i)}},Gv=qd,qd);u([p({type:Qr,json:{write:!0}})],Sr.prototype,"material",void 0),u([ze({Line:"line"},{readOnly:!0})],Sr.prototype,"type",void 0),u([p({type:GF,json:{write:!0,default:"miter"}})],Sr.prototype,"join",void 0),u([p({type:KE,json:{write:!0,default:"butt"}})],Sr.prototype,"cap",void 0),u([p({...Xs,json:{write:{isRequired:!0}}})],Sr.prototype,"size",void 0),u([p(qF)],Sr.prototype,"pattern",void 0),u([p({types:{key:"type",base:No,typeMap:{style:No}},json:{write:!0}})],Sr.prototype,"marker",void 0),Sr=Gv=u([R("esri.symbols.LineSymbol3DLayer")],Sr);var wk;const Cce=hr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let pf=wk=class extends be{clone(){return new wk({href:this.href,primitive:this.primitive})}};u([p({type:String,json:{read:q1,write:ph}})],pf.prototype,"href",void 0),u([ze(Cce)],pf.prototype,"primitive",void 0),pf=wk=u([R("esri.symbols.support.ObjectSymbol3DLayerResource")],pf);const Pxe="sphere";var _k;let oc=_k=class extends Te{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new _k({x:this.x,y:this.y,z:this.z})}};u([p({type:Number})],oc.prototype,"x",void 0),u([p({type:Number})],oc.prototype,"y",void 0),u([p({type:Number})],oc.prototype,"z",void 0),oc=_k=u([R("esri.symbols.support.Symbol3DAnchorPosition3D")],oc);var xk,Hd;let $i=(Hd=class extends ar{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new xk({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},xk=Hd,Hd);u([p({type:Qr,json:{write:!0}})],$i.prototype,"material",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],$i.prototype,"castShadows",void 0),u([p({type:pf,json:{write:!0}})],$i.prototype,"resource",void 0),u([ze({Object:"object"},{readOnly:!0})],$i.prototype,"type",void 0),u([p({type:Number,json:{write:!0}})],$i.prototype,"width",void 0),u([p({type:Number,json:{write:!0}})],$i.prototype,"height",void 0),u([p({type:Number,json:{write:!0}})],$i.prototype,"depth",void 0),u([ze({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],$i.prototype,"anchor",void 0),u([p({type:oc,json:{type:[Number],read:{reader:t=>new oc({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],$i.prototype,"anchorPosition",void 0),u([p({type:Number,json:{write:!0}})],$i.prototype,"heading",void 0),u([p({type:Number,json:{write:!0}})],$i.prototype,"tilt",void 0),u([p({type:Number,json:{write:!0}})],$i.prototype,"roll",void 0),u([p({readOnly:!0})],$i.prototype,"isPrimitive",null),$i=xk=u([R("esri.symbols.ObjectSymbol3DLayer")],$i);var $k,Gd;let Ci=(Gd=class extends ar{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,i){return e??(i.height==null&&i.size!=null?i.size:void 0)}readHeight(e,i){return e??(i.width==null&&i.size!=null?i.size:void 0)}clone(){return new $k({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},$k=Gd,Gd);u([p({type:Qr,json:{write:!0}})],Ci.prototype,"material",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ci.prototype,"castShadows",void 0),u([ze({Path:"path"},{readOnly:!0})],Ci.prototype,"type",void 0),u([p({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],Ci.prototype,"profile",void 0),u([p({type:GF,nonNullable:!0,json:{write:!0,default:"miter"}})],Ci.prototype,"join",void 0),u([p({type:Sce,nonNullable:!0,json:{write:!0,default:"butt"}})],Ci.prototype,"cap",void 0),u([p({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Ci.prototype,"width",void 0),u([et("width",["width","size","height"])],Ci.prototype,"readWidth",null),u([p({type:Number,json:{write:!0}})],Ci.prototype,"height",void 0),u([et("height",["height","size","width"])],Ci.prototype,"readHeight",null),u([p({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],Ci.prototype,"anchor",void 0),u([p({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],Ci.prototype,"profileRotation",void 0),Ci=$k=u([R("esri.symbols.PathSymbol3DLayer")],Ci);const Ice=["none","underline","line-through"],Ace=["normal","italic","oblique"],Pce=["normal","lighter","bold","bolder"],YF={type:Number,cast:t=>{const e=Kr(t);return e===0?1:An(e,.1,4)},nonNullable:!0},Oce=["left","right","center"],Rce=["baseline","top","middle","bottom"],JF={type:Oce,nonNullable:!0},KF={type:Rce,nonNullable:!0},Oxe=8;var Sk;let vn=Sk=class extends be{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return zt(t)}clone(){return new Sk({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([p({type:Ice,json:{default:"none",write:!0}})],vn.prototype,"decoration",void 0),u([p({type:String,json:{write:!0}})],vn.prototype,"family",void 0),u([p({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],vn.prototype,"size",void 0),u([vi("size")],vn.prototype,"castSize",null),u([p({type:Ace,json:{default:"normal",write:!0}})],vn.prototype,"style",void 0),u([p({type:Pce,json:{default:"normal",write:!0}})],vn.prototype,"weight",void 0),vn=Sk=u([R("esri.symbols.Font")],vn);var kk;let md=kk=class extends be{constructor(){super(...arguments),this.color=new Ke([0,0,0,1]),this.size=0}clone(){const t={color:X(this.color),size:this.size};return new kk(t)}};u([p(vl())],md.prototype,"color",void 0),u([p(Xs)],md.prototype,"size",void 0),md=kk=u([R("esri.symbols.support.Symbol3DHalo")],md);let Kf=class extends bi(be){constructor(e){super(e),this.color=null}};u([p(vl())],Kf.prototype,"color",void 0),Kf=u([R("esri.symbols.support.Symbol3DTextBackground")],Kf);var Wv,Wd;let ai=(Wd=class extends ar{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,i,r,n){const s={...n,textSymbol3D:!0};i.font=e.write({},s),delete i.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Wv({enabled:this.enabled,font:X(this.font),halo:X(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:X(this.background),occludedVisibility:X(this.occludedVisibility)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Wv({font:e.font!=null?e.font.clone():new vn,halo:Dce(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Qr({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Kf({color:e.backgroundColor.clone()}):null})}},Wv=Wd,Wd);function Dce(t,e){return t&&e!=null&&e>0?new md({color:X(t),size:e}):null}u([p({type:vn,json:{write:!0}})],ai.prototype,"font",null),u([Ye("font")],ai.prototype,"writeFont",null),u([p({type:md,json:{write:!0}})],ai.prototype,"halo",void 0),u([p({...JF,json:{default:"center",write:!0}})],ai.prototype,"horizontalAlignment",void 0),u([p({...YF,json:{default:1,write:!0}})],ai.prototype,"lineHeight",void 0),u([p({type:Qr,json:{write:!0}})],ai.prototype,"material",void 0),u([p({type:Kf,json:{write:!0}})],ai.prototype,"background",void 0),u([p(Xs)],ai.prototype,"size",null),u([p({type:String,json:{write:!0}})],ai.prototype,"text",void 0),u([ze({Text:"text"},{readOnly:!0})],ai.prototype,"type",void 0),u([p({...KF,json:{default:"baseline",write:!0}})],ai.prototype,"verticalAlignment",void 0),u([p({type:WF})],ai.prototype,"occludedVisibility",void 0),ai=Wv=u([R("esri.symbols.TextSymbol3DLayer")],ai);var Tk,Zd;let Io=(Zd=class extends ar{constructor(e){super(e),this.color=Ek.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Tk({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},Tk=Zd,Zd);u([p({type:Ke,nonNullable:!0,json:{type:[ht],write:(t,e,i)=>e[i]=t.toArray(1),default:()=>Ek.clone(),defaultEquals:t=>t.toCss(!0)===Ek.toCss(!0)}})],Io.prototype,"color",void 0),u([ze({Water:"water"},{readOnly:!0})],Io.prototype,"type",void 0),u([p({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Io.prototype,"waterbodySize",void 0),u([p({type:Number,json:{write:!0,default:null}})],Io.prototype,"waveDirection",void 0),u([p({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Io.prototype,"waveStrength",void 0),Io=Tk=u([R("esri.symbols.WaterSymbol3DLayer")],Io);const Ek=new Ke([0,119,190]);var Mk;let Lo=Mk=class extends Te{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Mk({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([p({type:String})],Lo.prototype,"name",void 0),u([p({type:String})],Lo.prototype,"styleUrl",void 0),u([p({type:String})],Lo.prototype,"styleName",void 0),u([p({type:Q})],Lo.prototype,"portal",void 0),Lo=Mk=u([R("esri.symbols.support.StyleOrigin")],Lo);var Ck;let Xf=Ck=class extends Te{constructor(){super(...arguments),this.url=""}clone(){return new Ck({url:this.url})}};u([p({type:String})],Xf.prototype,"url",void 0),Xf=Ck=u([R("esri.symbols.support.Thumbnail")],Xf);const XF={icon:Si,object:$i,line:Sr,path:Ci,fill:Zr,extrude:Co,text:ai,water:Io},zce=pe.ofType({base:ar,key:"type",typeMap:XF,errorContext:"symbol-layer"});let kr=class extends ti{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,n=r||pe;this._set("symbolLayers",new n)}get color(){return null}set color(e){this.constructed&&ue.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Vs(e,this._get("symbolLayers"))}readStyleOrigin(e,i,r){if(e.styleUrl&&e.name){const n=Vh(e.styleUrl,r);return new Lo({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new Lo({portal:r?.portal||Q.getDefault(),styleName:e.styleName,name:e.name});r?.messages&&r.messages.push(new Zs("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,i,r,n){if(e.styleUrl&&e.name){let s=hh(e.styleUrl,n);Pr(s)&&(s=Ya(s)),i.styleOrigin={styleUrl:s,name:e.name}}else e.styleName&&e.name&&(e.portal&&n?.portal&&!cK(e.portal.restUrl,n.portal.restUrl)?n?.messages&&n.messages.push(new Zs("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof ar||e&&XF[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};u([p({json:{read:!1,write:!1}})],kr.prototype,"color",null),u([p({type:zce,nonNullable:!0,json:{write:!0}}),vi(gN)],kr.prototype,"symbolLayers",null),u([p({type:Lo})],kr.prototype,"styleOrigin",void 0),u([et("styleOrigin")],kr.prototype,"readStyleOrigin",null),u([Ye("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],kr.prototype,"writeStyleOrigin",null),u([p({type:Xf,json:{read:!1}})],kr.prototype,"thumbnail",void 0),u([p({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],kr.prototype,"type",void 0),kr=u([R("esri.symbols.Symbol3D")],kr);let gd=class extends be{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};u([p({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],gd.prototype,"type",void 0),u([p({readOnly:!0})],gd.prototype,"visible",void 0),gd=u([R("esri.symbols.callouts.Callout3D")],gd);var Ik;let Zv=Ik=class extends be{constructor(t){super(t),this.color=new Ke("white")}clone(){return new Ik({color:X(this.color)})}};u([p(vl({colorRequiredOnWrite:!0}))],Zv.prototype,"color",void 0),Zv=Ik=u([R("esri.symbols.callouts.LineCallout3DBorder")],Zv);const Nce=Zv;var Ak;let Ao=Ak=class extends gd{constructor(t){super(t),this.type="line",this.color=new Ke([0,0,0,1]),this.size=dl(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Ak({color:X(this.color),size:this.size,border:X(this.border)})}};u([ze({line:"line"})],Ao.prototype,"type",void 0),u([p(vl({colorRequiredOnWrite:!0}))],Ao.prototype,"color",void 0),u([p({...Xs,json:{write:{isRequired:!0}}})],Ao.prototype,"size",void 0),u([p({type:Nce,json:{write:!0}})],Ao.prototype,"border",void 0),u([p({readOnly:!0})],Ao.prototype,"visible",null),Ao=Ak=u([R("esri.symbols.callouts.LineCallout3D")],Ao);function XE(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function QF(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!XE(t)}function Nxe(t){return t.type==="point-3d"||t.type==="label-3d"}function Lxe(t){return t.horizontalAlignment==="center"}const e8={types:{key:"type",base:gd,typeMap:{line:Ao}},json:{write:!0}};var Pk;let Na=Pk=class extends be{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Pk({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([p({...Xs,json:{write:{isRequired:!0}}})],Na.prototype,"screenLength",void 0),u([p({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Na.prototype,"minWorldLength",void 0),u([p({type:Number,json:{write:!0}})],Na.prototype,"maxWorldLength",void 0),Na=Pk=u([R("esri.symbols.support.Symbol3DVerticalOffset")],Na);var Yv;const t8=pe.ofType({base:null,key:"type",typeMap:{text:ai}});let Ps=Yv=class extends kr{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new t8,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return QF(this)}hasVisibleVerticalOffset(){return XE(this)}clone(){return new Yv({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail),callout:X(this.callout),verticalOffset:X(this.verticalOffset)})}static fromTextSymbol(t){return new Yv({symbolLayers:new pe([ai.fromTextSymbol(t)])})}};u([p({type:Na,json:{write:!0}})],Ps.prototype,"verticalOffset",void 0),u([p(e8)],Ps.prototype,"callout",void 0),u([p({json:{read:!1,write:!1}})],Ps.prototype,"styleOrigin",void 0),u([p({type:t8})],Ps.prototype,"symbolLayers",void 0),u([ze({LabelSymbol3D:"label-3d"},{readOnly:!0})],Ps.prototype,"type",void 0),Ps=Yv=u([R("esri.symbols.LabelSymbol3D")],Ps);var Jv;const i8=pe.ofType({base:null,key:"type",typeMap:{line:Sr,path:Ci}}),Lce=pe.ofType({base:null,key:"type",typeMap:{line:Sr,path:Ci}});let Ha=Jv=class extends kr{constructor(t){super(t),this.symbolLayers=new i8,this.type="line-3d"}clone(){return new Jv({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}static fromSimpleLineSymbol(t){return new Jv({symbolLayers:new pe([Sr.fromSimpleLineSymbol(t)])})}};u([p({type:i8,json:{type:Lce}})],Ha.prototype,"symbolLayers",void 0),u([ze({LineSymbol3D:"line-3d"},{readOnly:!0})],Ha.prototype,"type",void 0),Ha=Jv=u([R("esri.symbols.LineSymbol3D")],Ha);var Kv;const r8=pe.ofType({base:null,key:"type",typeMap:{fill:Zr}});let mc=Kv=class extends kr{constructor(t){super(t),this.symbolLayers=new r8,this.type="mesh-3d"}clone(){return new Kv({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}static fromSimpleFillSymbol(t){return new Kv({symbolLayers:new pe([Zr.fromSimpleFillSymbol(t)])})}};u([p({type:r8})],mc.prototype,"symbolLayers",void 0),u([ze({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],mc.prototype,"type",void 0),mc=Kv=u([R("esri.symbols.MeshSymbol3D")],mc);let ff=class extends ti{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([ze({esriSLS:"simple-line"},{readOnly:!0})],ff.prototype,"type",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],ff.prototype,"width",void 0),ff=u([R("esri.symbols.LineSymbol")],ff);var Ok;let Ms=Ok=class extends be{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,r){e[i]=r?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,r){r?.origin==="web-map"||(e[i]=t)}clone(){return new Ok({color:X(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};u([p({type:["begin","end","begin-end"],json:{write:!0}})],Ms.prototype,"placement",void 0),u([ze({"line-marker":"line-marker"},{readOnly:!0}),p({json:{origins:{"web-map":{write:!1}}}})],Ms.prototype,"type",void 0),u([p({type:ZF})],Ms.prototype,"style",void 0),u([Ye("style")],Ms.prototype,"writeStyle",null),u([p({type:Ke,value:null,json:{write:{allowNull:!0}}})],Ms.prototype,"color",null),u([et("color")],Ms.prototype,"readColor",null),u([Ye("color")],Ms.prototype,"writeColor",null),Ms=Ok=u([R("esri.symbols.LineSymbolMarker")],Ms);const Fce=Ms;var Rk;const Y_=new ui({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let sr=Rk=class extends ff{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,r,n,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),i!=null&&(o.width=zt(i)),r!=null&&(o.cap=r),n!=null&&(o.join=n),s!=null&&(o.miterLimit=zt(s)),o}clone(){return new Rk({color:X(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};u([ze({esriSLS:"simple-line"},{readOnly:!0})],sr.prototype,"type",void 0),u([p({type:Y_.apiValues,json:{read:Y_.read,write:Y_.write}})],sr.prototype,"style",void 0),u([p({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&i?.origin==null})}}})],sr.prototype,"cap",void 0),u([p({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&i?.origin==null})}}})],sr.prototype,"join",void 0),u([p({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Fce}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],sr.prototype,"marker",void 0),u([p({type:Number,json:{read:!1,write:!1}})],sr.prototype,"miterLimit",void 0),sr=Rk=u([R("esri.symbols.SimpleLineSymbol")],sr);let yd=class extends ti{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};u([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":sr}},json:{default:null,write:!0}})],yd.prototype,"outline",void 0),u([p({type:["simple-fill","picture-fill"],readOnly:!0})],yd.prototype,"type",void 0),yd=u([R("esri.symbols.FillSymbol")],yd);function jce(t,e,i){return e.imageData?h4({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):n8(e.url,i)}function n8(t,e){if(!Pr(t)){const i=Vce(e);if(i)return sg(i,"images",t)}return Vh(t,e)}function Uce(t,e,i,r){if(tu(t)){const n=dh(t);if(!n)return;e.contentType=n.mediaType,e.imageData=n.data,i&&i.imageData===e.imageData&&i.url&&ph(i.url,e,"url",r)}else ph(t,e,"url",r)}const s8={json:{read:{source:["imageData","url"],reader:jce},write:{writer(t,e,i,r){Uce(t,e,this.source,r)}}}},o8={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const r={};return e.imageData&&(r.imageData=e.imageData),e.contentType&&(r.contentType=e.contentType),e.url&&(r.url=n8(e.url,i)),r}}}};function Vce(t){if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?t.url?.path:null}var Dk;let br=Dk=class extends yd{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const n={};return t&&(n.url=t),e&&(n.outline=e),i!=null&&(n.width=zt(i)),r!=null&&(n.height=zt(r)),n}clone(){const t=new Dk({color:X(this.color),height:this.height,outline:X(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",X(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([ze({esriPFS:"picture-fill"},{readOnly:!0})],br.prototype,"type",void 0),u([p(s8)],br.prototype,"url",void 0),u([p({type:Number,json:{write:!0}})],br.prototype,"xscale",void 0),u([p({type:Number,json:{write:!0}})],br.prototype,"yscale",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],br.prototype,"width",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],br.prototype,"height",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],br.prototype,"xoffset",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],br.prototype,"yoffset",void 0),u([p(o8)],br.prototype,"source",void 0),br=Dk=u([R("esri.symbols.PictureFillSymbol")],br);let Po=class extends ti{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([p({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Po.prototype,"angle",void 0),u([p({type:["simple-marker","picture-marker"],readOnly:!0})],Po.prototype,"type",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],Po.prototype,"xoffset",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],Po.prototype,"yoffset",void 0),u([p({cast:t=>t==="auto"?t:Kr(zt(t)),json:{write:!0}})],Po.prototype,"size",void 0),Po=u([R("esri.symbols.MarkerSymbol")],Po);var zk;let xr=zk=class extends Po{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e!=null&&(r.width=zt(e)),i!=null&&(r.height=zt(i)),r}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new zk({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",X(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([p({json:{write:!1}})],xr.prototype,"color",void 0),u([ze({esriPMS:"picture-marker"},{readOnly:!0})],xr.prototype,"type",void 0),u([p(s8)],xr.prototype,"url",void 0),u([p(o8)],xr.prototype,"source",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],xr.prototype,"height",void 0),u([et("height",["height","size"])],xr.prototype,"readHeight",null),u([p({type:Number,cast:zt,json:{write:!0}})],xr.prototype,"width",void 0),u([p({json:{write:!1}})],xr.prototype,"size",void 0),xr=zk=u([R("esri.symbols.PictureMarkerSymbol")],xr);var Kl;const a8=pe.ofType({base:null,key:"type",typeMap:{icon:Si,object:$i,text:ai}});let zs=Kl=class extends kr{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new a8,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return QF(this)}hasVisibleVerticalOffset(){return XE(this)}clone(){return new Kl({verticalOffset:X(this.verticalOffset),callout:X(this.callout),styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new Kl({symbolLayers:new pe([Si.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new Kl({symbolLayers:new pe([Si.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const i=t.data.symbol;return new Kl(i?.callout?{symbolLayers:new pe([Si.fromCIMSymbol(t)]),callout:new Ao({size:.5,color:new Ke([0,0,0])}),verticalOffset:new Na({screenLength:40})}:{symbolLayers:new pe([Si.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new Kl({symbolLayers:new pe([ai.fromTextSymbol(t)])})}};u([p({type:Na,json:{write:!0}})],zs.prototype,"verticalOffset",void 0),u([p(e8)],zs.prototype,"callout",void 0),u([p({type:a8,json:{origins:{"web-scene":{write:!0}}}})],zs.prototype,"symbolLayers",void 0),u([ze({PointSymbol3D:"point-3d"},{readOnly:!0})],zs.prototype,"type",void 0),zs=Kl=u([R("esri.symbols.PointSymbol3D")],zs);var mf;const l8=pe.ofType({base:null,key:"type",typeMap:{extrude:Co,fill:Zr,icon:Si,line:Sr,object:$i,text:ai,water:Io}});let Ga=mf=class extends kr{constructor(t){super(t),this.symbolLayers=new l8,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&ol(ue.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&ol(ue.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(Bc(()=>this.symbolLayers,"after-add",({item:e})=>t(e),nl))}clone(){return new mf({styleOrigin:X(this.styleOrigin),symbolLayers:X(this.symbolLayers),thumbnail:X(this.thumbnail)})}static fromJSON(t){const e=new mf;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const i=e.symbolLayers.at(0),r=e.symbolLayers.at(1);!r.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new mf({symbolLayers:new pe([Zr.fromSimpleFillSymbol(t)])})}};u([p({type:l8,json:{write:!0}})],Ga.prototype,"symbolLayers",void 0),u([ze({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Ga.prototype,"type",void 0),Ga=mf=u([R("esri.symbols.PolygonSymbol3D")],Ga);var Nk;const J_=new ui({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Fo=Nk=class extends yd{constructor(...t){super(...t),this.color=new Ke([0,0,0,.25]),this.outline=new sr,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e&&(r.outline=e),i&&(r.color=i),r}clone(){return new Nk({color:X(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([p()],Fo.prototype,"color",void 0),u([p()],Fo.prototype,"outline",void 0),u([ze({esriSFS:"simple-fill"},{readOnly:!0})],Fo.prototype,"type",void 0),u([p({type:J_.apiValues,json:{read:J_.read,write:J_.write}})],Fo.prototype,"style",void 0),Fo=Nk=u([R("esri.symbols.SimpleFillSymbol")],Fo);var Lk;const K_=new ui({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Tr=Lk=class extends Po{constructor(...t){super(...t),this.color=new Ke([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new sr}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string")return t;const n={};return t&&(n.style=t),e!=null&&(n.size=zt(e)),i&&(n.outline=i),r&&(n.color=r),n}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new Lk({angle:this.angle,color:X(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};u([p()],Tr.prototype,"color",void 0),u([Ye("color")],Tr.prototype,"writeColor",null),u([ze({esriSMS:"simple-marker"},{readOnly:!0})],Tr.prototype,"type",void 0),u([p()],Tr.prototype,"size",void 0),u([p({type:K_.apiValues,json:{read:K_.read,write:K_.write}})],Tr.prototype,"style",void 0),u([p({type:String,json:{write:!0}})],Tr.prototype,"path",null),u([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":sr}},json:{default:null,write:!0}})],Tr.prototype,"outline",void 0),Tr=Lk=u([R("esri.symbols.SimpleMarkerSymbol")],Tr);var Fk;let ut=Fk=class extends ti{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new vn,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.text=t),e&&(r.font=e),i&&(r.color=i),r}writeLineWidth(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}castLineWidth(t){return zt(t)}writeLineHeight(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}clone(){return new Fk({angle:this.angle,backgroundColor:X(this.backgroundColor),borderLineColor:X(this.borderLineColor),borderLineSize:this.borderLineSize,color:X(this.color),font:this.font&&this.font.clone(),haloColor:X(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([p({type:Ke,json:{write:!0}})],ut.prototype,"backgroundColor",void 0),u([p({type:Ke,json:{write:!0}})],ut.prototype,"borderLineColor",void 0),u([p({type:Number,json:{write:!0},cast:zt})],ut.prototype,"borderLineSize",void 0),u([p({type:vn,json:{write:!0}})],ut.prototype,"font",void 0),u([p({...JF,json:{write:!0}})],ut.prototype,"horizontalAlignment",void 0),u([p({type:Boolean,json:{write:!0}})],ut.prototype,"kerning",void 0),u([p({type:Ke,json:{write:!0}})],ut.prototype,"haloColor",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],ut.prototype,"haloSize",void 0),u([p({type:Boolean,json:{write:!0}})],ut.prototype,"rightToLeft",void 0),u([p({type:Boolean,json:{write:!0}})],ut.prototype,"rotated",void 0),u([p({type:String,json:{write:!0}})],ut.prototype,"text",void 0),u([ze({esriTS:"text"},{readOnly:!0})],ut.prototype,"type",void 0),u([p({...KF,json:{write:!0}})],ut.prototype,"verticalAlignment",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],ut.prototype,"xoffset",void 0),u([p({type:Number,cast:zt,json:{write:!0}})],ut.prototype,"yoffset",void 0),u([p({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],ut.prototype,"angle",void 0),u([p({type:Number,json:{write:!0}})],ut.prototype,"width",void 0),u([p({type:Number})],ut.prototype,"lineWidth",void 0),u([Ye("lineWidth")],ut.prototype,"writeLineWidth",null),u([vi("lineWidth")],ut.prototype,"castLineWidth",null),u([p(YF)],ut.prototype,"lineHeight",void 0),u([Ye("lineHeight")],ut.prototype,"writeLineHeight",null),ut=Fk=u([R("esri.symbols.TextSymbol")],ut);var jk;let $r=jk=class extends ti{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:Q.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new jk({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){A4(ue.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new K("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,i=e?this._fetchCacheKey:null;if(e!=null){const o=i&&e.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await ae(()=>import("./c-webStyleSymbolUtils-BPNxmVpT.js"),__vite__mapDeps([269,270,182,183,122,67,186]));Pt(t);const n=r(this,{portal:this.portal},t);n.catch(o=>{ue.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await n;return e?.set(i,s.clone()),s}};u([p({json:{write:!1}})],$r.prototype,"color",void 0),u([p({type:String,json:{write:!0}})],$r.prototype,"styleName",void 0),u([p({type:Q,json:{write:!1}})],$r.prototype,"portal",void 0),u([p({type:String,json:{read:q1,write:ph}})],$r.prototype,"styleUrl",void 0),u([p({type:Xf,json:{read:!1}})],$r.prototype,"thumbnail",void 0),u([p({type:String,json:{write:!0}})],$r.prototype,"name",void 0),u([ze({styleSymbolReference:"web-style"},{readOnly:!0})],$r.prototype,"type",void 0),u([p()],$r.prototype,"_fetchCacheKey",null),$r=jk=u([R("esri.symbols.WebStyleSymbol")],$r);function Vxe(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Bxe(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const QE={base:ti,key:"type",typeMap:{"simple-fill":Fo,"picture-fill":br,"picture-marker":xr,"simple-line":sr,"simple-marker":Tr,text:ut,"label-3d":Ps,"line-3d":Ha,"mesh-3d":mc,"point-3d":zs,"polygon-3d":Ga,"web-style":$r,cim:Ir},errorContext:"symbol"},qxe={base:ti,key:"type",typeMap:{"picture-marker":xr,"simple-marker":Tr,"point-3d":zs,cim:Ir},errorContext:"symbol"},Hxe={base:ti,key:"type",typeMap:{"simple-line":sr,"line-3d":Ha,cim:Ir},errorContext:"symbol"},Gxe={base:ti,key:"type",typeMap:{"simple-fill":Fo,"picture-fill":br,"polygon-3d":Ga,cim:Ir},errorContext:"symbol"},Wxe={base:ti,key:"type",typeMap:{"picture-marker":xr,"simple-marker":Tr,text:ut,"web-style":$r,cim:Ir},errorContext:"symbol"},Zxe=E2({types:QE}),Yxe={base:ti,key:"type",typeMap:{"simple-fill":Fo,"picture-fill":br,"picture-marker":xr,"simple-line":sr,"simple-marker":Tr,text:ut,"line-3d":Ha,"mesh-3d":mc,"point-3d":zs,"polygon-3d":Ga,"web-style":$r,cim:Ir},errorContext:"symbol"},Jxe={base:ti,key:"type",typeMap:{text:ut,"label-3d":Ps},errorContext:"symbol"},Kxe={base:ti,key:"type",typeMap:{"line-3d":Ha,"mesh-3d":mc,"point-3d":zs,"polygon-3d":Ga,"web-style":$r,cim:Ir},errorContext:"symbol"},Xxe={base:ti,key:"type",typeMap:{"label-3d":Ps},errorContext:"symbol"},Qxe=sl(QE);var Uk;function Bce(t){if(!t)return null;const e={};for(const i in t){const r=$h(t[i]);r&&(e[i]=r)}return Object.keys(e).length!==0?e:null}function qce(t){if(t==null)return null;const e={};for(const i in t){const r=t[i];r&&(e[i]=r.toJSON())}return Object.keys(e).length!==0?e:null}var Yd;let pi=(Yd=class extends bi(be){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:ov(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&nX(ue.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const i=this._get("attributes");i!==e&&(this._set("attributes",e),this._notifyLayer("attributes",i,e))}set geometry(e){const i=this._get("geometry");i!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",i,e))}set popupTemplate(e){const i=this._get("popupTemplate");i!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",i,e))}set symbol(e){const i=this._get("symbol");i!==e&&(this._set("symbol",e),this._notifyLayer("symbol",i,e))}get version(){return this._version}set visible(e){const i=this._get("visible");i!==e&&(this._set("visible",e),this._notifyLayer("visible",i,e))}cloneShallow(){return new Uk({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const i=tce(this.origin);if(i)return i.popupTemplate??(e?i.defaultPopupTemplate:null)??null;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[r,this.sourceLayer,this.layer])if(n&&typeof n=="object"){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,i){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=i,this._notifyLayer("attributes",r,i,e)}else this.attributes={[e]:i}}getObjectId(){const e=bP(this.origin);if(e)return wP(this,e);const i=this.sourceLayer??this.layer;return i?wP(this,i):null}getGlobalId(){const e=bP(this.origin);if(e?.globalIdField)return this.getAttribute(e.globalIdField);const i=this.sourceLayer??this.layer;return i&&"globalIdField"in i&&i.globalIdField?this.getAttribute(i.globalIdField):null}toJSON(){return{aggregateGeometries:qce(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Q0(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:i}=this;if(i?.type==="mesh"){const r={origin:i.origin,transform:i.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,i,r,n){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:i,newValue:r};e==="origin-transform"&&(s.action=n),e==="attributes"&&(s.attributeName=n),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([sn(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:i})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())}),sn(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,i)=>e===i,sync:!0})])}},Uk=Yd,Yd);u([p({value:null,json:{read:Bce}})],pi.prototype,"aggregateGeometries",null),u([p({value:null})],pi.prototype,"attributes",null),u([p({value:null,types:UE,json:{read:$h}})],pi.prototype,"geometry",null),u([p({type:Boolean})],pi.prototype,"isAggregate",void 0),u([p({clonable:!1})],pi.prototype,"layer",void 0),u([p({clonable:"reference"})],pi.prototype,"origin",void 0),u([p({type:Xle,value:null})],pi.prototype,"popupTemplate",null),u([p({clonable:"reference"})],pi.prototype,"sourceLayer",void 0),u([p({value:null,types:QE})],pi.prototype,"symbol",null),u([p({clonable:!1,json:{read:!1,write:!1}})],pi.prototype,"_version",void 0),u([p({type:Boolean,value:!0})],pi.prototype,"visible",null),pi=Uk=u([R("esri.Graphic")],pi);let Mc=class extends Hf{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};u([O5({Type:pi,ensureType:ur(pi)})],Mc.prototype,"itemType",void 0),Mc=u([R("esri.support.GraphicsCollection")],Mc);let wo=class extends Te{constructor(e){super(e),this.view=null,this.baseLayerViews=new pe,this.groundLayerViews=new pe,this.referenceLayerViews=new pe,this._loadingHandle=De(()=>this.view?.map?.basemap,i=>{i&&i.load().catch(()=>{})},Ji)}destroy(){this._set("view",null),this._loadingHandle=_t(this._loadingHandle),this.baseLayerViews.destroyAll(),this.groundLayerViews.destroyAll(),this.referenceLayerViews.destroyAll()}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended?!1:!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.groundLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};u([p({constructOnly:!0})],wo.prototype,"view",void 0),u([p({readOnly:!0})],wo.prototype,"baseLayerViews",void 0),u([p({readOnly:!0})],wo.prototype,"groundLayerViews",void 0),u([p({readOnly:!0})],wo.prototype,"referenceLayerViews",void 0),u([p({readOnly:!0})],wo.prototype,"suspended",null),u([p({type:Boolean,readOnly:!0})],wo.prototype,"updating",null),wo=u([R("esri.views.BasemapView")],wo);const Hce=wo;let Hr=class extends Te{constructor(e){super(e),this.factor=1.5,this.offset=yi(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};u([p({type:Number})],Hr.prototype,"factor",void 0),u([p({nonNullable:!0})],Hr.prototype,"offset",void 0),u([p()],Hr.prototype,"position",void 0),u([p({type:Number,range:{min:0}})],Hr.prototype,"size",void 0),u([p()],Hr.prototype,"maskUrl",void 0),u([p()],Hr.prototype,"maskEnabled",void 0),u([p()],Hr.prototype,"overlayUrl",void 0),u([p()],Hr.prototype,"overlayEnabled",void 0),u([p({readOnly:!0})],Hr.prototype,"version",null),u([p({type:Boolean})],Hr.prototype,"visible",void 0),Hr=u([R("esri.views.Magnifier")],Hr);const c8=Hr;let zd=class{constructor(e){this._observable=new ug,this._map=new Map(e)}get size(){return Ce(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return Ce(this._observable),this._map.entries()}forEach(e,i){Ce(this._observable),this._map.forEach((r,n)=>e.call(i,r,n,this),i)}get(e){return Ce(this._observable),this._map.get(e)}has(e){return Ce(this._observable),this._map.has(e)}keys(){return Ce(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return Ce(this._observable),this._map.values()}[Symbol.iterator](){return Ce(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var Vk;let gf=Vk=class extends be{constructor(t){super(t),this.name=null,this.code=null}clone(){return new Vk({name:this.name,code:this.code})}};u([p({type:String,json:{write:{isRequired:!0}}})],gf.prototype,"name",void 0),u([p({type:[String,Number],json:{write:{isRequired:!0}}})],gf.prototype,"code",void 0),gf=Vk=u([R("esri.layers.support.CodedValue")],gf);const Gce=new ui({inherited:"inherited",codedValue:"coded-value",range:"range"});let Wa=class extends be{constructor(e){super(e),this.name=null,this.type=null}};u([p({type:String,json:{write:!0}})],Wa.prototype,"name",void 0),u([ze(Gce),p({json:{write:{isRequired:!0}}})],Wa.prototype,"type",void 0),Wa=u([R("esri.layers.support.Domain")],Wa);var Bk,Jd;let vd=(Jd=class extends Wa{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let i=null;if(this.codedValues){const r=String(e);this.codedValues.some(n=>(String(n.code)===r&&(i=n.name),!!i))}return i}clone(){return new Bk({codedValues:X(this.codedValues),name:this.name})}},Bk=Jd,Jd);u([p({type:[gf],json:{write:{isRequired:!0}}})],vd.prototype,"codedValues",void 0),u([ze({codedValue:"coded-value"})],vd.prototype,"type",void 0),vd=Bk=u([R("esri.layers.support.CodedValueDomain")],vd);var qk,Kd;let Qf=(Kd=class extends Wa{constructor(e){super(e),this.type="inherited"}clone(){return new qk}},qk=Kd,Kd);u([ze({inherited:"inherited"})],Qf.prototype,"type",void 0),Qf=qk=u([R("esri.layers.support.InheritedDomain")],Qf);var Hk,Xd;let ac=(Xd=class extends Wa{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new Hk({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},Hk=Xd,Xd);u([p({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]},isRequired:!0}}})],ac.prototype,"maxValue",void 0),u([p({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[0]},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]},isRequired:!0}}})],ac.prototype,"minValue",void 0),u([ze({range:"range"})],ac.prototype,"type",void 0),ac=Hk=u([R("esri.layers.support.RangeDomain")],ac);const Wce={key:"type",base:Wa,typeMap:{range:ac,"coded-value":vd,inherited:Qf}};function Zce(t){if(!t?.type)return null;switch(t.type){case"range":return ac.fromJSON(t);case"codedValue":return vd.fromJSON(t);case"inherited":return Qf.fromJSON(t)}return null}const Yce=new ui({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var Gk;const Jce=new ui({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",currency:"currency",dateAndTime:"date-and-time",description:"description",emailAddress:"email-address",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",phoneNumber:"phone-number",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var Qd;let Ni=(Qd=class extends be{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?.value??null}readValueType(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?Jce.fromJSON(r.fieldValueType):null}clone(){return new Gk({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},Gk=Qd,Qd);u([p({type:String,json:{write:!0}})],Ni.prototype,"alias",void 0),u([p({type:[String,Number],json:{write:{allowNull:!0}}})],Ni.prototype,"defaultValue",void 0),u([p()],Ni.prototype,"description",void 0),u([et("description")],Ni.prototype,"readDescription",null),u([p({types:Wce,json:{read:{reader:Zce},write:!0}})],Ni.prototype,"domain",void 0),u([p({type:Boolean,json:{write:!0}})],Ni.prototype,"editable",void 0),u([p({type:ht,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],Ni.prototype,"length",void 0),u([p({type:String,json:{write:!0}})],Ni.prototype,"name",void 0),u([p({type:Boolean,json:{write:!0}})],Ni.prototype,"nullable",void 0),u([ze(Yce)],Ni.prototype,"type",void 0),u([p()],Ni.prototype,"valueType",void 0),u([et("valueType",["description"])],Ni.prototype,"readValueType",null),u([p({type:Boolean,json:{read:!1}})],Ni.prototype,"visible",void 0),Ni=Gk=u([R("esri.layers.support.Field")],Ni);var Wk;let Gu=Wk=class extends be{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new Wk({mapLayerId:t,gdbVersion:e})}};u([ze({mapLayer:"map-layer"}),p({json:{write:{isRequired:!0}}})],Gu.prototype,"type",void 0),u([p({type:ht,json:{write:{isRequired:!0}}})],Gu.prototype,"mapLayerId",void 0),u([p({type:String,json:{write:!0}})],Gu.prototype,"gdbVersion",void 0),Gu=Wk=u([R("esri.layers.support.source.MapLayerSource")],Gu);var Zk;let _o=Zk=class extends be{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:r,geometryType:n}=this,s={workspaceId:t,query:e,oidFields:i,spatialReference:r?.clone()??void 0,geometryType:n};return new Zk(s)}};u([ze({queryTable:"query-table"}),p({json:{write:{isRequired:!0}}})],_o.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],_o.prototype,"workspaceId",void 0),u([p({type:String,json:{write:!0}})],_o.prototype,"query",void 0),u([p({type:String,json:{write:!0}})],_o.prototype,"oidFields",void 0),u([p({type:Se,json:{write:!0}})],_o.prototype,"spatialReference",void 0),u([ze(Roe)],_o.prototype,"geometryType",void 0),_o=Zk=u([R("esri.layers.support.source.QueryTableDataSource")],_o);var Yk;let Wu=Yk=class extends be{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new Yk({workspaceId:t,dataSourceName:e})}};u([ze({raster:"raster"}),p({json:{write:{isRequired:!0}}})],Wu.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],Wu.prototype,"dataSourceName",void 0),u([p({type:String,json:{write:!0}})],Wu.prototype,"workspaceId",void 0),Wu=Yk=u([R("esri.layers.support.source.RasterDataSource")],Wu);var Jk;let Xl=Jk=class extends be{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new Jk({workspaceId:t,gdbVersion:e,dataSourceName:i})}};u([ze({table:"table"}),p({json:{write:{isRequired:!0}}})],Xl.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],Xl.prototype,"workspaceId",void 0),u([p({type:String,json:{write:!0}})],Xl.prototype,"gdbVersion",void 0),u([p({type:String,json:{write:!0}})],Xl.prototype,"dataSourceName",void 0),Xl=Jk=u([R("esri.layers.support.source.TableDataSource")],Xl);var Kk,Xk;const Kce=hr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Gr=Kk=class extends be{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return kP()(t,e,i)}castLeftTableSource(t){return sl(Qk(),t)}readRightTableSource(t,e,i){return kP()(t,e,i)}castRightTableSource(t){return sl(Qk(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:r,joinType:n}=this,s={leftTableKey:t,rightTableKey:e,leftTableSource:i?.clone()??void 0,rightTableSource:r?.clone()??void 0,joinType:n};return new Kk(s)}};u([ze({joinTable:"join-table"}),p({json:{write:{isRequired:!0}}})],Gr.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],Gr.prototype,"leftTableKey",void 0),u([p({type:String,json:{write:!0}})],Gr.prototype,"rightTableKey",void 0),u([p({json:{write:!0}})],Gr.prototype,"leftTableSource",void 0),u([et("leftTableSource")],Gr.prototype,"readLeftTableSource",null),u([vi("leftTableSource")],Gr.prototype,"castLeftTableSource",null),u([p({json:{write:!0}})],Gr.prototype,"rightTableSource",void 0),u([et("rightTableSource")],Gr.prototype,"readRightTableSource",null),u([vi("rightTableSource")],Gr.prototype,"castRightTableSource",null),u([ze(Kce)],Gr.prototype,"joinType",void 0),Gr=Kk=u([R("esri.layers.support.source.JoinTableDataSource")],Gr);let X_=null;function kP(){return X_||(X_=E2({types:Qk()})),X_}let Q_=null;function Qk(){return Q_||(Q_={key:"type",base:null,typeMap:{"data-layer":Oo,"map-layer":Gu}}),Q_}const Xce={key:"type",base:null,typeMap:{"join-table":Gr,"query-table":_o,raster:Wu,table:Xl}};var eh;let Oo=(eh=class extends be{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:i}=this;return new Xk({fields:e,dataSource:i})}},Xk=eh,eh);u([ze({dataLayer:"data-layer"}),p({json:{write:{isRequired:!0}}})],Oo.prototype,"type",void 0),u([p({type:[Ni],json:{write:!0}})],Oo.prototype,"fields",void 0),u([p({types:Xce,json:{write:!0}})],Oo.prototype,"dataSource",void 0),Oo=Xk=u([R("esri.layers.support.source.DataLayerSource")],Oo),Oo.from=ur(Oo);let Ql=class extends bi(be){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};u([p({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Ql.prototype,"onFields",void 0),u([p({type:String,json:{write:!0}})],Ql.prototype,"operator",void 0),u([p({type:String,json:{write:!0}})],Ql.prototype,"searchTerm",void 0),u([p({type:String,json:{write:!0}})],Ql.prototype,"searchType",void 0),Ql=u([R("esri.rest.support.FullTextSearch")],Ql);const Qce=Ql;var eT;const TP=new ui({upperLeft:"upper-left",lowerLeft:"lower-left"});let Ra=eT=class extends be{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new eT(X({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([p({type:We,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ra.prototype,"extent",void 0),u([p({type:["view","edit"],json:{write:!0}})],Ra.prototype,"mode",void 0),u([p({type:String,json:{read:TP.read,write:TP.write}})],Ra.prototype,"originPosition",void 0),u([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Ra.prototype,"tolerance",void 0),Ra=eT=u([R("esri.rest.support.QuantizationParameters")],Ra);const eue=t=>{const e=t;let i=class extends e{};return i=u([R("esri.rest.support.QueryMixin")],i),i},tue=new ui({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var tT;const EP=new ui({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let rs=tT=class extends be{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(e.statisticParameters=X(t))}clone(){return new tT({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:X(this.statisticParameters)})}};u([p({type:Number,json:{write:!0}})],rs.prototype,"maxPointCount",void 0),u([p({type:Number,json:{write:!0}})],rs.prototype,"maxRecordCount",void 0),u([p({type:Number,json:{write:!0}})],rs.prototype,"maxVertexCount",void 0),u([p({type:String,json:{write:!0}})],rs.prototype,"onStatisticField",void 0),u([p({type:String,json:{write:!0}})],rs.prototype,"outStatisticFieldName",void 0),u([p({type:String,json:{read:{source:"statisticType",reader:EP.read},write:{target:"statisticType",writer:EP.write}}})],rs.prototype,"statisticType",void 0),u([p({type:Object})],rs.prototype,"statisticParameters",void 0),u([Ye("statisticParameters")],rs.prototype,"writeStatisticParameters",null),rs=tT=u([R("esri.rest.support.StatisticDefinition")],rs);var Xv;const iue=new ui({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var Rc;let Me=(Rc=class extends eue(be){static from(e){return D1(Xv,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeParameterValues(e,i){if(e){const r={};for(const n in e){const s=e[n];Array.isArray(s)?r[n]=s.map(o=>o instanceof Date?o.getTime():o):s instanceof Date?r[n]=s.getTime():r[n]=s}i.parameterValues=r}}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,i.where="1=1"}writeWhere(e,i){i.where=e||"1=1"}clone(){return new Xv(X({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},Xv=Rc,Rc.MAX_MAX_RECORD_COUNT_FACTOR=5,Rc);u([p({json:{write:!0}})],Me.prototype,"aggregateIds",void 0),u([p({type:Boolean,json:{write:!0}})],Me.prototype,"cacheHint",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],Me.prototype,"compactGeometryEnabled",void 0),u([p({json:{write:!0}})],Me.prototype,"datumTransformation",void 0),u([vi("datumTransformation")],Me.prototype,"castDatumTransformation",null),u([p({type:Boolean,json:{default:!1,write:!0}})],Me.prototype,"defaultSpatialReferenceEnabled",void 0),u([p({type:Number,json:{write:!0}})],Me.prototype,"distance",void 0),u([p({type:Oo,json:{write:!0}})],Me.prototype,"dynamicDataSource",void 0),u([p({type:String,json:{write:!0}})],Me.prototype,"formatOf3DObjects",void 0),u([p({type:[Qce],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Me.prototype,"fullText",void 0),u([p({type:String,json:{write:!0}})],Me.prototype,"gdbVersion",void 0),u([p({types:UE,json:{read:$h,write:!0}})],Me.prototype,"geometry",void 0),u([p({type:Number,json:{write:!0}})],Me.prototype,"geometryPrecision",void 0),u([p({type:[String],json:{write:!0}})],Me.prototype,"groupByFieldsForStatistics",void 0),u([p({type:String,json:{write:!0}})],Me.prototype,"having",void 0),u([p({type:Date})],Me.prototype,"historicMoment",void 0),u([Ye("historicMoment")],Me.prototype,"writeHistoricMoment",null),u([p({type:Number,json:{write:!0}})],Me.prototype,"maxAllowableOffset",void 0),u([p({type:Number,cast:t=>t<1?1:t>Me.MAX_MAX_RECORD_COUNT_FACTOR?Me.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],Me.prototype,"maxRecordCountFactor",void 0),u([p({type:["xyFootprint"],json:{write:!0}})],Me.prototype,"multipatchOption",void 0),u([p({type:Number,json:{read:{source:"resultRecordCount"}}})],Me.prototype,"num",void 0),u([p({json:{write:!0}})],Me.prototype,"objectIds",void 0),u([p({type:[String],json:{write:!0}})],Me.prototype,"orderByFields",void 0),u([p({type:[String],json:{write:!0}})],Me.prototype,"outFields",void 0),u([p({type:Se,json:{name:"outSR",write:!0}})],Me.prototype,"outSpatialReference",void 0),u([p({type:[rs],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Me.prototype,"outStatistics",void 0),u([p({json:{write:!0}})],Me.prototype,"parameterValues",void 0),u([Ye("parameterValues")],Me.prototype,"writeParameterValues",null),u([p({type:Ee,json:{write:!0}})],Me.prototype,"pixelSize",void 0),u([p({type:Ra,json:{write:!0}})],Me.prototype,"quantizationParameters",void 0),u([p({type:[Object],json:{write:!0}})],Me.prototype,"rangeValues",void 0),u([p({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Me.prototype,"relationParameter",void 0),u([p({type:String,json:{write:!0}})],Me.prototype,"resultType",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],Me.prototype,"returnCentroid",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],Me.prototype,"returnDistinctValues",void 0),u([p({type:Boolean,json:{default:!0,write:!0}})],Me.prototype,"returnExceededLimitFeatures",void 0),u([p({type:Boolean,json:{write:!0}})],Me.prototype,"returnGeometry",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],Me.prototype,"returnQueryGeometry",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],Me.prototype,"returnM",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Me.prototype,"returnZ",void 0),u([p({type:Boolean,json:{write:!0}})],Me.prototype,"returnTrueCurves",void 0),u([p({type:Se,json:{write:!0}})],Me.prototype,"sourceSpatialReference",void 0),u([ze(tue,{ignoreUnknown:!1,name:"spatialRel"})],Me.prototype,"spatialRelationship",void 0),u([p({type:Number,json:{read:{source:"resultOffset"}}})],Me.prototype,"start",void 0),u([Ye("start"),Ye("num")],Me.prototype,"writeStart",null),u([p({type:String,json:{write:!0}})],Me.prototype,"sqlFormat",void 0),u([p({type:String,json:{write:!0}})],Me.prototype,"text",void 0),u([p({type:nr,json:{write:!0}})],Me.prototype,"timeExtent",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],Me.prototype,"timeReferenceUnknownClient",void 0),u([ze(iue,{ignoreUnknown:!1}),p({json:{write:{overridePolicy(t){return{enabled:!!t&&this.distance!=null}}}}})],Me.prototype,"units",void 0),u([p({type:String,json:{write:{overridePolicy(t){return{enabled:t!=null||this.start!=null&&this.start>0}}}}})],Me.prototype,"where",void 0),u([Ye("where")],Me.prototype,"writeWhere",null),Me=Xv=u([R("esri.rest.support.Query")],Me);function va(t){return!(t==null||typeof t!="object"||!("createQuery"in t)||!t.createQuery)}let gn=class extends lg{constructor(e){super(e),this._selectionMap=new zd,this._sources=new pe,this._trashCan=[],this._layerEditHandles=new pe,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([De(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),De(()=>this.view,e=>{e?.when().then(()=>this.syncSources())},Ji),Bc(()=>this.sources,"change",e=>{const i=this._selectionMap,r=[];for(const n of e.removed){const s=i.get(n);s&&(i.delete(n),s.highlightHandle?.remove(),r.push({layer:n,selection:[],added:[],removed:[...s.selection]}))}this._refreshListeners(),r.length&&this._onSelectionChange(r)},{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(_t)}get selections(){return Array.from(this._selectionMap.entries()).map(e=>{const[i,r]=e;return{layer:i,selection:[...r.selection]}})}get count(){let e=0;for(const i of this._selectionMap.values())e+=i.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){Vs(e,this._sources)}syncSources(){const e=new Set,i=this.view?.map;if(!i)return;const r=n=>{Gte(n)?(n.layers?.forEach(r),n.tables?.forEach(r)):Hte(n)?(n.sublayers?.forEach(r),n.subtables?.forEach(r)):_A(n)?n.sublayers?.forEach(r):va(n)&&e.add(n)};i.allLayers.forEach(r),i.allTables.forEach(r),this.sources=[...e]}async getSelectedFeatures(e,i={},r="layerView"){const{view:n,selections:s}=this;if(!n&&r==="layerView")return ue.getLogger(this).warn("Cannot query layer views without a view."),[];const o=(e?.length?s.filter(a=>e.includes(a.layer)):s).map(async a=>{const{layer:l,selection:d}=a;if(!d.length)return;const h=Nu(l)?l.parent:l;if(h!=null){if(n&&r==="layerView"&&!MP(h)&&CP(h)){const f=await n.whenLayerView(h).catch(()=>null);if(f)return IP(f,d,i)}return IP(h,d,i)}}).filter(lh);return(await Promise.all(o)).filter(lh)}updateSelection(e){const i=new Map;for(const[s,o]of this._selectionMap)i.set(s,[...o.selection]);let r=!1;const n=e.current.concat(e.added);for(const s of n){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(va(o)||Nu(o))&&a!==null){const l=Qm(i,o,()=>[]);l.includes(a)||(l.push(a),r=!0)}}for(const s of e.removed){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(va(o)||Nu(o))&&a!==null){const l=i.get(o),d=l?.indexOf(a);d!==void 0&&d>=0&&(l?.splice(d,1),r=!0)}}if(r){const{_selectionMap:s,_trashCan:o}=this,a=[];for(const[l,d]of i){const h=s.get(l);h!==void 0&&o.push(h),s.set(l,{selection:d}),a.push({layer:l,selection:d,...gI(h!==void 0?h.selection:[],d)})}this._onSelectionChange(a)}}setSelection(e,i){this._setSelection(e,i)}getSelection(e){return this._selectionMap.get(e)?.selection}appendToSelection(e,i){const r=this._selectionMap.get(e),n=r!==void 0?[...r.selection]:[];for(const s of i)n.includes(s)||n.push(s);this._setSelection(e,n)}removeFromSelection(e,i){const r=this._selectionMap.get(e);if(!r)return;const n=[];for(const s of r.selection)i.includes(s)||n.push(s);this._setSelection(e,n)}toggleInSelection(e,i){const r=this._selectionMap.get(e);if(!r||r.selection.length===0)return void this._setSelection(e,i);const n=new Set(r.selection),s=new Set(i),o=mW(n,s);this._setSelection(e,Array.from(o))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const i=[];for(const[r,n]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();if(this.view==null)return;const{sources:e,view:i,_selectionMap:r,showHighlight:n}=this,s=this._vizTaskId;for(const o of e){const a=r.get(o),l=Nu(o)?o.parent:o;if(l!=null&&CP(l)){if(MP(l))continue;i.whenLayerView(l).then(d=>{a?.highlightHandle?.remove(),a!=null&&n&&s===this._vizTaskId&&"highlight"in d&&typeof d.highlight=="function"&&a.selection.length>0&&(a.highlightHandle=d.highlight(a.selection,this.highlightName))}).catch(()=>{a?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(_t);const e=new Set(this.sources.map(i=>Nu(i)?i.parent:i));for(const i of e)va(i)&&"on"in i&&i.on&&this._layerEditHandles.push(i.on("edits",r=>this._onLayerEdit(r,i)))}_onLayerEdit(e,i){if(_A(i))this._onParentLayerEdit(e,i);else if(e.deletedFeatures.length&&this._selectionMap.has(i)){const r=[];e.deletedFeatures.forEach(({error:n,objectId:s})=>{s!=null&&n==null&&r.push(s)}),this.removeFromSelection(i,r)}}_onParentLayerEdit(e,i){const{deletedFeatures:r,edits:n,updatedFeatures:s}=e;if(n?.updateFeatures?.forEach(o=>{const a=o.getObjectId()??o.attributes[i.objectIdField];if(a==null||s.find(h=>h.objectId===a)?.error)return;const l=i.findSublayerForFeature(o);if(!va(l))return;const d=i.sublayers.find(h=>!(!va(h)||!this.getSelection(h)?.includes(a)));va(d)&&d!==l&&(this.removeFromSelection(d,[a]),this.appendToSelection(l,[a]))}),r.length){const o=[];r.forEach(({error:a,objectId:l})=>{l!=null&&a==null&&o.push(l)}),i.sublayers.forEach(a=>{va(a)&&this._selectionMap.has(a)&&this.removeFromSelection(a,o)})}}_setSelection(e,i){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const r=this._selectionMap.get(e);if(r===void 0||!nue(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(e,{selection:[...i]});const n={layer:e,selection:[...i],...gI(r!==void 0?r.selection:[],i)};this._onSelectionChange([n])}}};u([p()],gn.prototype,"_selectionMap",void 0),u([p()],gn.prototype,"_sources",void 0),u([p({readOnly:!0,nonNullable:!0})],gn.prototype,"selections",null),u([p({readOnly:!0,nonNullable:!0})],gn.prototype,"count",null),u([p()],gn.prototype,"view",void 0),u([p({readOnly:!0,nonNullable:!0})],gn.prototype,"hasSelection",null),u([p()],gn.prototype,"showHighlight",void 0),u([p()],gn.prototype,"sources",null),u([p()],gn.prototype,"highlightName",void 0),gn=u([R("esri.views.SelectionManager")],gn);const MP=t=>Nu(t)?t.parent?.isTable===!0:t.isTable,rue=t=>t.layer!==void 0,CP=t=>t?.when!==void 0,nue=(t,e)=>{if(t==null&&e==null)return!0;if(t!=null&&e==null||t==null&&e!=null)return!1;if(t!=null&&e!=null&&t.selection!=null&&e.selection!=null){const i=[...t.selection],r=[...e.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let n=0;n<i.length;n++)if(i[n]!==r[n])return!1}return!0},IP=async(t,e,i={})=>{let r;if(rue(t)){const n=t;r=n===void 0?null:await n.queryFeatures(new Me({...i,objectIds:e})).then(s=>({data:s,layer:t.layer}))}else{const n=t;r=n===void 0?null:await n.queryFeatures(new Me({...i,objectIds:e})).then(s=>({data:s,layer:n}))}return r},sue=gn;let yf=class extends bi(Te){constructor(e){super(e),this.accentColor=new Ke([255,127,0]),this.textColor=new Ke([255,255,255])}};u([p({type:Ke,nonNullable:!0})],yf.prototype,"accentColor",void 0),u([p({type:Ke,nonNullable:!0})],yf.prototype,"textColor",void 0),yf=u([R("esri.views.Theme")],yf);const iT=yf,u8=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],d8={};function h8(t){return!!d8[t]}function oue(t){for(const e of t)if(!h8(e))return!1;return!0}u8.forEach(t=>{d8[t]=!0});let p8=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:i,priority:r},n)=>this.inputManager?.installHandlers(n,[i],r))}disconnect(){this.inputManager&&this._handlers.forEach((e,i)=>this.inputManager?.uninstallHandlers(i)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,i,r,n){const s=Array.isArray(e)?e:e.split(",");if(!oue(s))return s.some(h8)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(i)?a=i:(o=i,a=[]),typeof r=="function"?o=r:n=r,n=n??Go.DEFAULT;const l=this._createUniqueGroupName(),d=new aue(this.view,s,a,o);this._handlers.set(l,{handler:d,priority:n});for(const h of s){const f=this._handlerCounts.get(h)||0;this._handlerCounts.set(h,f+1)}return this.inputManager&&this.inputManager.installHandlers(l,[d],n),Je(()=>this._removeHandler(l,s))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,i){if(this._handlers.has(e)){this._handlers.delete(e);for(const r of i){const n=this._handlerCounts.get(r);n===void 0||(n===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,n-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},aue=class extends wi{constructor(e,i,r,n){super(!0),this._latestDragStart=void 0,this.view=e;for(const s of i)switch(s){case"click":this.registerIncoming("click",r,o=>n(uue(e,o)));break;case"double-click":this.registerIncoming("double-click",r,o=>n(due(e,o)));break;case"immediate-click":this.registerIncoming("immediate-click",r,o=>n(hue(e,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,o=>n(pue(e,o)));break;case"hold":this.registerIncoming("hold",r,o=>n(fue(e,o)));break;case"drag":this.registerIncoming("drag",r,o=>{const a=this._wrapDrag(o);a&&n(a)});break;case"key-down":this.registerIncoming("key-down",r,o=>n(mue(o)));break;case"key-up":this.registerIncoming("key-up",r,o=>n(gue(o)));break;case"pointer-down":this.registerIncoming("pointer-down",r,o=>n(Rp(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,o=>n(Rp(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,o=>n(Rp(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,o=>n(yue(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,o=>n(vue(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,o=>n(Rp(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,o=>n(Rp(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,o=>{n(bue(o))});break;case"focus":this.registerIncoming("focus",r,o=>{n(lue(o))});break;case"blur":this.registerIncoming("blur",r,o=>{n(cue(o))})}}_wrapDrag(e){const i=e.data,{x:r,y:n}=i.center,{action:s,pointerType:o,button:a}=i;if(s==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const l=i.pointer.native,d=i.buttons,{cancelable:h,timestamp:f}=e,y={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:r,y:n,origin:y,pointerType:o,button:a,buttons:d,radius:i.radius,angle:lL(i.angle),native:l,timestamp:f,cancelable:h,stopPropagation:()=>e.stopPropagation(),defer:b=>e.defer(b),preventDefault:()=>e.preventDefault()}}};function lue(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function cue(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function uue(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,{cancelable:d,timestamp:h}=e;return{type:"click",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:h,screenPoint:yi(s,o),mapPoint:xg(t,s,o),eventId:l,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:f=>e.defer(f),preventDefault:()=>e.preventDefault()}}function due(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,{cancelable:d,timestamp:h}=e;return{type:"double-click",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:h,mapPoint:xg(t,s,o),eventId:l,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:f=>e.defer(f),preventDefault:()=>e.preventDefault()}}function hue(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,d=a.pointerId,{cancelable:h,timestamp:f}=e;return{type:"immediate-click",pointerId:d,pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:f,mapPoint:xg(t,s,o),eventId:l,cancelable:h,stopPropagation:()=>e.stopPropagation(),defer:y=>e.defer(y),preventDefault:()=>e.preventDefault()}}function pue(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,d=a.pointerId,{cancelable:h,timestamp:f}=e;return{type:"immediate-double-click",pointerId:d,pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:f,mapPoint:xg(t,s,o),eventId:l,cancelable:h,stopPropagation:()=>e.stopPropagation(),defer:y=>e.defer(y),preventDefault:()=>e.preventDefault()}}function fue(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a}=e.data,{cancelable:l,timestamp:d}=e;return{type:"hold",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:d,mapPoint:xg(t,s,o),cancelable:l,stopPropagation:()=>e.stopPropagation(),defer:h=>e.defer(h),preventDefault:()=>e.preventDefault()}}function xg(t,e,i){return t.toMap(yi(e,i),{exclude:[]})}function mue(t){const{key:e,repeat:i,native:r}=t.data,{cancelable:n,timestamp:s}=t;return{type:"key-down",key:e,repeat:i,native:r,timestamp:s,cancelable:n,stopPropagation:()=>t.stopPropagation(),defer:o=>t.defer(o),preventDefault:()=>t.preventDefault()}}function gue(t){const{key:e,native:i}=t.data,{cancelable:r,timestamp:n}=t;return{type:"key-up",key:e,native:i,timestamp:n,cancelable:r,stopPropagation:()=>t.stopPropagation(),defer:s=>t.defer(s),preventDefault:()=>t.preventDefault()}}function Rp(t,e){const{x:i,y:r,button:n,buttons:s,native:o,eventId:a}=t.data,l=o.pointerId,d=o.pointerType,{cancelable:h,timestamp:f}=t;return{type:e,x:i,y:r,pointerId:l,pointerType:d,button:n,buttons:s,native:o,timestamp:f,eventId:a,cancelable:h,stopPropagation:()=>t.stopPropagation(),defer:y=>t.defer(y),preventDefault:()=>t.preventDefault()}}function yue(t){const{x:e,y:i,buttons:r,native:n,eventId:s}=t.data.currentEvent,{button:o}=t.data.startEvent,a=t.data.startEvent.native.pointerId,l=t.data.startEvent.native.pointerType,d=t.data.action,h={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:f,timestamp:y}=t;return{type:"pointer-drag",x:e,y:i,pointerId:a,pointerType:l,button:o,buttons:r,action:d,origin:h,native:n,timestamp:y,eventId:s,cancelable:f,stopPropagation:()=>t.stopPropagation(),defer:b=>t.defer(b),preventDefault:()=>t.preventDefault()}}function vue(t){const{cancelable:e,data:i,timestamp:r}=t,{x:n,y:s,deltaY:o,native:a}=i;return{type:"mouse-wheel",x:n,y:s,deltaY:o,native:a,timestamp:r,cancelable:e,stopPropagation:()=>t.stopPropagation(),defer:l=>t.defer(l),preventDefault:()=>t.preventDefault()}}function bue(t){const{action:e,state:i,device:r}=t.data,{cancelable:n,timestamp:s}=t,{buttons:o,axes:a}=i;return{type:"gamepad",device:r,timestamp:s,action:e,buttons:o,axes:a,cancelable:n,stopPropagation:()=>t.stopPropagation(),defer:l=>t.defer(l),preventDefault:()=>t.preventDefault()}}const wue="z",_ue="r",f8={cancel:"Escape",complete:"Enter"},u$e={...f8,redo:_ue,undo:wue,center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},d$e={toggle:"Control"},h$e={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},p$e={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:iF,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let f$e=class{constructor(){this._bindings=new Map}add(e,i){return this.addToggle(e,r=>{r.type==="key-down"&&i(r)})}addToggle(e,i){const r=xue.fromDefinition(e,i),n=Qm(this._bindings,r.key,()=>[]);return n.push(r),Je(()=>u2(n,r))}register(e,i=Go.WIDGET){return Xc([e.on("key-down",r=>this.dispatch(e.inputManager,r),i),e.on("key-up",r=>this.dispatch(e.inputManager,r),i)])}dispatch(e,i){const r=i.key,n=this._bindings.get(r);if(n)for(const s of n)s.process(e,i)}},xue=class rT{constructor(e,i,r,n,s){this.key=e,this.modifiers=i,this.repeats=r,this.continuePropagation=n,this.callback=s}process(e,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const r of this.modifiers)if(!e.isModifierKeyDown(r))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(e,i){if(typeof e=="string")return new rT(e,[],!1,!1,i);const{key:r,modifier:n,repeats:s,continuePropagation:o}=e;return new rT(r,n?Array.isArray(n)?n:[n]:[],!!s,!!o,i)}};function $ue(t){return[t.on("before-add",e=>{const i=e.item;if(i==null||t.includes(i))return ue.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void e.preventDefault();i.onAdd()}),t.on("after-remove",e=>{const i=e.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function nT(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(0)&&t.getEditableFlag(1)}function Sue(t){return t.type==="key-down"&&t.key===f8.cancel}function Cs(t){return yi(t.x,t.y)}function m8(t,e){const i=(t instanceof HTMLElement?t:t.surface)?.getBoundingClientRect();return i?yi(e.clientX-i.left,e.clientY-i.top):yi(0,0)}function g8(t,e){return e instanceof Event?m8(t,e):Cs(e)}function y8(t){if(t instanceof Event)return!0;if(typeof t=="object"&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let Qv=class extends Te{constructor(){super(...arguments),this._pointerLocations=new Map,this._hoveredManipulators=new zd,this._grabbedManipulators=new zd,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1}get cursor(){return this._cursorFromMap(this._grabbedManipulators,"grabbing")??this._cursorFromMap(this._hoveredManipulators,"pointer")}get hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,i){const r=()=>e.stopPropagation();switch(e.type){case"pointer-move":AP(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:e.action==="start"?this._externallyDragging=!0:e.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),e.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!PP(e))break;const n=Cs(e),s=Tu(n,e.pointerType,i.tools);if(s==null)break;const o=s.manipulator,a=s.tool;o==null||a==null||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,e,i),o!=null&&a!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:a,start:n,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:n}),r());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,i);break;case"pointer-drag":{if(!PP(e))break;const n=this._grabbedManipulators.get(e.pointerId),s=n?.manipulator,o=n?.tool;if(s==null||o==null)break;const a=Cs(e);a.x=An(a.x,0,i.view.width),a.y=An(a.y,0,i.view.height);const l=n.start,d=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":e.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,d?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,d&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,i)}r();break}case"immediate-click":{const n=Cs(e),s=Tu(n,e.pointerType,i.tools);if(!kue(e)){for(const d of i.tools)if((s==null||s.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let h=!1;d.manipulators.forEach(({manipulator:f})=>{f.selected&&(f.selected=!1,h=!0)}),h&&d.onManipulatorSelectionChanged&&d.onManipulatorSelectionChanged()}}if(s==null)break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:r}),ex(o,r);break}case"click":{const n=Cs(e),s=Tu(n,e.pointerType,i.tools),o=s?.manipulator;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit(e.type,{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:a}),r();break}case"double-click":{const n=Cs(e),s=Tu(n,e.pointerType,i.tools),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit("double-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:r}),ex(o,r);break}case"immediate-double-click":{const n=Cs(e),s=Tu(n,e.pointerType,i.tools),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:r}),e.pointerType==="mouse"&&ex(o,r);break}}this._onFocusChange(i.tools)}_releaseManipulatorBeforeDragging(e,i,r){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Cs(i)}),this._grabbedManipulators.forEach(({manipulator:n},s)=>{n===e&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(e,i){const r=this._grabbedManipulators.get(e.pointerId)?.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:Cs(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(e){this._updateFocusedManipulatorTools(e)}_updateFocusedManipulatorTools(e){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:n})=>i.add(n)),this._hoveredManipulators.forEach(({tool:n})=>r.add(n));for(const n of e){n.hasGrabbedManipulators=i.has(n),n.hasHoveredManipulators=r.has(n);const s=this._grabbedManipulators.values(),o=sX(s,({tool:a})=>a===n);n.firstGrabbedManipulator=o!=null?o.manipulator:null}}clearPointers(e,{tools:i,setActiveTool:r},n=!0,s){const o=(a,l)=>a===e&&(s==null||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:d},h)=>{o(a,l)&&(this._grabbedManipulators.delete(h),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:d}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},d)=>{o(a,l)&&(this._draggedManipulators.delete(d),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),n&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},d)=>{o(a,l)&&(this._hoveredManipulators.delete(d),l.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(yi(i.x,i.y),r,i.pointerType,e)})}handleHoverEvent(e,i){const r=e.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!AP(e.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(Cs(e),e.pointerId,e.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(e,i,r,n){let s=Tu(e,r,n);const o=this._hoveredManipulators.get(i)?.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(i,s)):this._hoveredManipulators.delete(i),this._onFocusChange(n))}_afterManipulatorRelease(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach(({manipulator:i},r)=>{e===r&&(this._hoveredManipulators.delete(e),i.hovering=!1)})}_cursorFromMap(e,i){if(!e?.size)return null;for(const{manipulator:r}of e.values())if(r?.interactive){if(r.grabbing&&r.grabCursor)return r.grabCursor;if(r.cursor)return r.cursor}return i}};function Tu(t,e,i){for(const r of i){if(r.manipulators==null||!nT(r))continue;const n=r.manipulators.intersect(t,e);if(n!=null)return{tool:r,manipulator:n}}return null}function AP(t){return t==="mouse"}function PP(t){return t.pointerType!=="mouse"||t.button===0}function kue(t){return!!t.native.shiftKey}function ex(t,e){t?.consumesClicks&&e()}u([p()],Qv.prototype,"cursor",null),Qv=u([R("esri.views.interactive.ToolViewManagerManipulatorState")],Qv);const OP="attached",tx="tools",Tue=1e3;let Is=class extends Te{constructor(e){super(e),this._updatingHandles=new Tc,this._clock=Oh,this._manipulatorState=new Qv,this.tools=new pe,this._interacting=!1,this._interactingTimeout=Tue,this._interactingTimeoutHandle=null}initialize(){this.addHandles([this.view.on(u8,e=>{this._handleInputEvent(e)},Go.TOOL),...$ue(this.tools),this.tools.on("before-add",({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(e=>e.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy(),this._manipulatorState.destroy()}get _manipulatorStateEventArgs(){return{tools:this.tools,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void ue.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const i=this.activeTool;this._set("activeTool",e),i?.deactivate(),e?.activate(),this._removeIncompleteTools(e);for(const r of this.tools){this._updateToolEditableFlag(r);const n=nT(r);this.activeTool!=null&&n||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!n)}}get cursor(){const e=this._manipulatorState.cursor;if(e!=null)return e;for(const i of this.tools)if(i.visible&&i.cursor!=null)return i.cursor;return null}get updating(){return this._updatingHandles.updating||this.tools.some(e=>e.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=_t(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([De(()=>{const{state:e}=this.view;return"camera"in e&&e.camera},()=>this._forEachManipulator(e=>e.onViewChange())),this.view.elevationProvider.on("elevation-change",e=>this._forEachManipulator(i=>i.onElevationChange(e)))],OP):this.addHandles(De(()=>this.view.extent,()=>this._forEachManipulator(e=>e.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(OP),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){for(const i of this.tools)i.manipulators&&i.manipulators.forEach(({manipulator:r})=>e(r,i))}_handleInputEvent(e){let i=!1;const r={...e,stopPropagation:()=>{i=!0,e.stopPropagation()}};if(this.activeTool!=null)this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r);else for(const n of this.tools)!i&&n.visible&&n.handleInputEvent(r);!i&&Sue(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this.tools),e.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(tx);for(const e of this.tools){if(e instanceof Te){const i=De(()=>[e.cursor,e.visible,e.editable],()=>{nT(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)});this.addHandles(i,tx)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),e.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)})],tx)}this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)}_updateToolEditableFlag(e){e.setEditableFlag?.(1,this.activeTool==null||e===this.activeTool)}_removeIncompleteTools(e){this.tools.filter(i=>(e==null||i!==e)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};u([p({constructOnly:!0,nonNullable:!0})],Is.prototype,"view",void 0),u([p({value:null})],Is.prototype,"activeTool",null),u([p({readOnly:!0,type:pe})],Is.prototype,"tools",void 0),u([p()],Is.prototype,"cursor",null),u([p({readOnly:!0})],Is.prototype,"updating",null),u([p()],Is.prototype,"_interacting",void 0),u([p({readOnly:!0})],Is.prototype,"interacting",null),Is=u([R("esri.views.ToolViewManager")],Is);const Eue=new Ke("cyan"),Mue=1,Cue=.25,Iue=new Ke("black"),Aue=.4,Pue=.2,v$e=.25,v8="default",Oue="temporary",Rue=new Ke("yellow");var sT;let Wr=sT=class extends Te{constructor(t){super(t),this.name=v8,this.color=Eue.clone(),this.haloColor=null,this.haloOpacity=Mue,this.fillOpacity=Cue,this.shadowColor=Iue.clone(),this.shadowOpacity=Aue,this.shadowDifference=Pue,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.haloWidth===t.haloWidth&&this.haloBlur===t.haloBlur&&this.shadowColor.equals(t.shadowColor)&&this.shadowOpacity===t.shadowOpacity&&this.shadowDifference===t.shadowDifference}clone(){return new sT({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(t){this.color=t.color.clone(),this.haloColor=t.haloColor?.clone(),this.haloOpacity=t.haloOpacity,this.fillOpacity=t.fillOpacity,this.shadowColor=t.shadowColor.clone(),this.shadowDifference=t.shadowDifference,this.shadowOpacity=t.shadowOpacity,this.haloBlur=t.haloBlur,this.haloWidth=t.haloWidth}};u([p({type:String,constructOnly:!0,nonNullable:!0})],Wr.prototype,"name",void 0),u([p({type:Ke,nonNullable:!0})],Wr.prototype,"color",void 0),u([p({type:Ke})],Wr.prototype,"haloColor",void 0),u([p({nonNullable:!0})],Wr.prototype,"haloOpacity",void 0),u([p({nonNullable:!0})],Wr.prototype,"fillOpacity",void 0),u([p({type:Ke,nonNullable:!0})],Wr.prototype,"shadowColor",void 0),u([p({nonNullable:!0})],Wr.prototype,"shadowOpacity",void 0),u([p({nonNullable:!0})],Wr.prototype,"shadowDifference",void 0),u([p({nonNullable:!0})],Wr.prototype,"haloWidth",void 0),u([p({nonNullable:!0})],Wr.prototype,"haloBlur",void 0),Wr=sT=u([R("esri.views.support.HighlightOptions")],Wr);const Ka=Wr;function Due(){return new(pe.ofType(Ka))([new Ka({name:v8}),new Ka({name:Oue,color:Rue})])}let Zu=class extends Te{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":zue.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return Nue[this.deviceType]}};u([p({nonNullable:!0,readOnly:!0})],Zu.prototype,"nativeIndex",void 0),u([p({type:String,readOnly:!0})],Zu.prototype,"deviceType",null),u([p({type:Number,readOnly:!0})],Zu.prototype,"axisThreshold",null),Zu=u([R("esri.views.input.gamepad.GamepadInputDevice")],Zu);const eM=Zu,zue=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),Nue={standard:.15,spacemouse:.025,unknown:0};let vf=class extends Te{constructor(e){super(e),this.devices=new pe,this.enabledFocusMode="document"}};u([p({type:pe.ofType(eM),readOnly:!0})],vf.prototype,"devices",void 0),u([p({type:["document","view","none"]})],vf.prototype,"enabledFocusMode",void 0),vf=u([R("esri.views.input.gamepad.GamepadSettings")],vf);const Lue=vf;let e0=class extends Te{constructor(){super(...arguments),this.gamepad=new Lue}};u([p({readOnly:!0})],e0.prototype,"gamepad",void 0),e0=u([R("esri.views.input.Input")],e0);const Fue=e0,ix=()=>p({type:["pan","rotate","zoom","none"],nonNullable:!0});let ec=class extends Te{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};u([ix()],ec.prototype,"dragPrimary",void 0),u([ix()],ec.prototype,"dragSecondary",void 0),u([ix()],ec.prototype,"dragTertiary",void 0),u([p({type:["zoom","none"],nonNullable:!0})],ec.prototype,"mouseWheel",void 0),ec=u([R("esri.views.navigation.NavigationActionMap")],ec);const tM=ec;let Ta=class extends Te{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};u([p({type:Boolean,nonNullable:!0})],Ta.prototype,"enabled",void 0),u([p({type:eM})],Ta.prototype,"device",void 0),u([p({type:["pan","zoom"],nonNullable:!0})],Ta.prototype,"mode",void 0),u([p({type:["forward-down","forward-up"],nonNullable:!0})],Ta.prototype,"tiltDirection",void 0),u([p({type:Number,nonNullable:!0})],Ta.prototype,"velocityFactor",void 0),Ta=u([R("esri.views.navigation.gamepad.GamepadSettings")],Ta);const b8=Ta;let Ea=class extends Te{constructor(e){super(e),this.actionMap=new tM,this.browserTouchPanEnabled=!0,this.gamepad=new b8,this.momentumEnabled=!0}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(e){Y$(ue.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};u([p({type:tM,nonNullable:!0})],Ea.prototype,"actionMap",void 0),u([p({type:Boolean})],Ea.prototype,"browserTouchPanEnabled",void 0),u([p({type:b8,nonNullable:!0})],Ea.prototype,"gamepad",void 0),u([p({type:Boolean})],Ea.prototype,"momentumEnabled",void 0),u([p({type:Boolean})],Ea.prototype,"mouseWheelZoomEnabled",null),Ea=u([R("esri.views.navigation.Navigation")],Ea);const gw=Ea;function k$e(t,e,i){const r=w8(t),n=e,s=jue(r,n,i);if(r){const o=_r.deriveUnitFromSR(r,t.spatialReference).heightUnit;if(!i&&o!==r.heightUnit){const a=new K("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${o})`,{horizontalUnit:o});return new K("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:a})}}if(!Uue(t)||s===4)return new K("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(s){case 1:{const o=r?.heightUnit||"unknown",a=n?.heightUnit||"unknown",l=new K("layerview:incompatible-height-unit",`The vertical units of the layer (${o}) must match the vertical units of the scene (${a})`,{layerUnit:o,sceneUnit:a});return new K("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l})}case 2:{const o=r?.heightModel||"unknown",a=n?.heightModel||"unknown",l=new K("layerview:incompatible-height-model",`The height model of the layer (${o}) must match the height model of the scene (${a})`,{layerHeightModel:o,sceneHeightModel:a});return new K("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l})}case 3:{const o=r?.vertCRS||"unknown",a=n?.vertCRS||"unknown",l=new K("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${o}) must match the vertical datum of the scene (${a})`,{layerDatum:o,sceneDatum:a});return new K("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l})}}return null}function jue(t,e,i){if(!RP(t)||!RP(e))return 4;if(t==null||e==null)return 0;if(!i&&t.heightUnit!==e.heightUnit)return 1;if(t.heightModel!==e.heightModel)return 2;switch(t.heightModel){case"gravity-related-height":return 0;case"ellipsoidal":return t.vertCRS===e.vertCRS?0:3;default:return 4}}function RP(t){return t==null||t.heightModel!=null&&t.heightUnit!=null}function Uue(t){return"heightModelInfo"in t&&t.heightModelInfo!=null||t.spatialReference!=null||!$8(t)}function w8(t){if(t.type==="integrated-mesh-3dtiles"||t.type==="gaussian-splat")return null;const e=t.url?ag(t.url):void 0;return!(t.spatialReference?.vcsWkid==null&&e!=null&&e.serverType==="ImageServer")&&_8(t)&&t.heightModelInfo?t.heightModelInfo:$8(t)?_r.deriveUnitFromSR(Bue,t.spatialReference):null}function _8(t){return"heightModelInfo"in t}function x8(t){if(t.type==="unknown"||!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function $8(t){return x8(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):S8(t)}function Vue(t){return t.layers!=null||S8(t)||x8(t)||_8(t)}function S8(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"gaussian-splat":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const Bue=new _r({heightModel:"gravity-related-height"});let oT,rx=null;async function que(t){rx||(rx=ae(()=>import("./c-geometryServiceUtils-DmuTq8cQ.js"),__vite__mapDeps([271,272])).then(e=>oT=e)),await rx,Pt(t)}async function k8(t,e,i,r){if(!t)return null;const n=t.spatialReference;return Jo()||ys(n,e)?su(t,e):oT?oT.projectGeometry(t,e,i,r):(await Promise.race([que(r),ul(r)]),k8(t,e,i,r))}async function T$e(t,e){try{return t?.spatialReference?await m6(t,e):null}catch{return null}}let vt=class extends Te{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=Uc(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const e=this.map?.(),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{parent:e?.basemap,layers:e?.basemap?.groundLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,r=>{const n=this._getSupportedSpatialReferences(r);if(n.length>0){const s=this._narrowDownSpatialReferenceCandidates(e,n);s!=null&&(e=s)}return e?.length===1})&&e?.length!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(e);return{spatialReference:i?.spatialReference??null,viewingMode:i?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=this.map?.(),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const n=this._collectLayers([{parent:e?.basemap,layers:e?.basemap?.baseLayers},{parent:e?.basemap,layers:e?.basemap?.groundLayers},{layers:e?.layers}],s=>!(!("tileInfo"in s)||!s.tileInfo?.spatialReference.equals(i))&&(r=s,!0),s=>"tileInfo"in s);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:n}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let e={};const i=this._collectLayers(this.mapCollections,r=>{const n=w8(r);return!!n&&(e={heightModelInfo:n,vcsWkid:r.spatialReference?.vcsWkid,latestVcsWkid:r.spatialReference?.latestVcsWkid},!0)},r=>Vue(r));return{...e,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],i=this._collectLayers(this.mapCollections,r=>{const n="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:n[0],o=n.find(a=>a.spatialReference.equals(this.spatialReference))??s;if(o)return e.push({extent:o,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const a of n)e.push({extent:a,layer:r});return!1});return{candidates:e,updating:i}}get _extentTask(){const{candidates:e,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),n=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=Uc(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:n.clone(),task:K1(async s=>{try{const o=await k8(r.extent,n,"portalItem"in r.layer?r.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Zi(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,i){if(e==null)return i;const r=new Array;for(const n of e)for(const s of i){if(!n.spatialReference.equals(s.spatialReference))continue;const o=Gue(n.viewingMode,s.viewingMode);if(o!==!1){r.push({spatialReference:n.spatialReference,viewingMode:o});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const i=this.defaultSpatialReference;return e==null||e.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&e.length>1&&e.some(({spatialReference:r})=>r.equals(i))&&(e=e.filter(({spatialReference:r})=>r.equals(i))),e.length>1&&e.some(({viewingMode:r})=>r!==2)&&(e=e.filter(({viewingMode:r})=>r!==2)),e[0])}_getSupportedSpatialReferences(e){const i="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const n of i){const s=this.getSpatialReferenceSupport(n,e);if(s!=null){const o=s.constraints??[{spatialReference:n,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||r.push({spatialReference:a,viewingMode:l})}}return r}_pickExtentCandidate(e){const i=this.spatialReference;return e.find(({extent:r})=>i.equals(r.spatialReference))||e[0]}_collectLayers(e,i,r=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const n=new Hue(r,i);for(const s of e)if(this._collectCollection(s,n),n.done||n.preloading===this.sourcePreloadCount)break;return n.updating}_collectCollection(e,i){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of e.layers)if((r.type!=="graphics"||!r.internal)&&i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&e.loadStatus!=null?e.loadStatus==="not-loaded"?(e.load().catch(i=>{Ki(i)}),"loading"):e.loadStatus:"loaded"}};u([p()],vt.prototype,"required",void 0),u([p({constructOnly:!0})],vt.prototype,"map",void 0),u([p({constructOnly:!0})],vt.prototype,"getSpatialReferenceSupport",void 0),u([p()],vt.prototype,"defaultSpatialReference",void 0),u([p()],vt.prototype,"userSpatialReference",void 0),u([p()],vt.prototype,"sourcePreloadCount",void 0),u([p()],vt.prototype,"priorityCollection",void 0),u([p()],vt.prototype,"requiresExtentInSpatialReference",void 0),u([p()],vt.prototype,"suspended",void 0),u([p({readOnly:!0})],vt.prototype,"ready",null),u([p({readOnly:!0})],vt.prototype,"heightModelInfoReady",null),u([p({readOnly:!0})],vt.prototype,"spatialReference",null),u([p({readOnly:!0})],vt.prototype,"extent",null),u([p({readOnly:!0})],vt.prototype,"heightModelInfo",null),u([p({readOnly:!0})],vt.prototype,"vcsWkid",null),u([p({readOnly:!0})],vt.prototype,"latestVcsWkid",null),u([p({readOnly:!0})],vt.prototype,"viewingMode",null),u([p({readOnly:!0})],vt.prototype,"tileInfo",null),u([p({readOnly:!0})],vt.prototype,"mapCollections",null),u([p({readOnly:!0})],vt.prototype,"_spatialReferenceTask",null),u([p({readOnly:!0})],vt.prototype,"_tileInfoTask",null),u([p({readOnly:!0})],vt.prototype,"_heightModelInfoTask",null),u([p({readOnly:!0})],vt.prototype,"_extentCandidatesTask",null),u([p()],vt.prototype,"_extentTask",null),u([p()],vt.prototype,"_projectExtentTask",void 0),vt=u([R("esri.views.support.DefaultsFromMap")],vt);let Hue=class{constructor(e,i){this.layerFilter=e,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function Gue(t,e){return t!=null?e!=null?t===e&&t:t:e}function Wue(t){return"tryRecycleWith"in t}let Zue=class{constructor(e,i,r){this.layer=e,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._started=!1,this.done=!1,this._deferred=nn(),this.promise=this._deferred.promise,In(this._controller.signal,()=>{this._recycleController?.abort();const n=new K("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred?.reject(n)})}tryRecycle(e){if(!this.done||!this.layerView||!Wue(this.layerView))return null;this._recycleController?.abort(),this._recycleController=new AbortController;const i=this.layer.type,r=this._recycleController.signal;for(let n=0;n<e.length;n++){const s=e[n];if(s.type!==i)continue;const o=this.layerView.tryRecycleWith(s,{signal:r});if(o){e.splice(n,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=o.then(()=>(Pt(r),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:e}),r.emit("layerview-destroy",{layer:i,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null,this.promise=null,this._deferred=null}async start(){const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:i},layer:r}=this;this._map=e.map;try{let n,s;if(await r.load({signal:i}),r.prefetchResources&&await r.prefetchResources({signal:i}),Yue(r))n=await r.createLayerView(e,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new K("layer:view-not-supported","No layerview implementation was found");const l=await this.layerViewImporter.importLayerView(r);Pt(i),n="default"in l?new l.default({layer:r,view:e}):new l({layer:r,view:e})}const o=()=>{s=_t(s),n.destroyed||n.destroy(),this.done=!0};s=In(i,o),Pt(i);try{await n.when()}catch(l){throw o(),l}if(!this._map?.allLayers?.includes(r))return o(),void this._deferred?.reject(new K("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=n,r.emit("layerview-create",{view:e,layerView:n}),e.emit("layerview-create",{layer:r,layerView:n}),this.done=!0,this._deferred?.resolve(n)}catch(n){r.emit("layerview-create-error",{view:e,error:n}),e.emit("layerview-create-error",{layer:r,error:n}),this.done=!0,this._deferred?.reject(new K("layerview:create-error","layerview creation failed",{layer:r,error:n}))}}};function Yue(t){return t.createLayerView!==Mt.prototype.createLayerView}function Jue(t){return t!=null&&typeof t=="object"&&"layerViews"in t}let yr=class extends Te{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Tc,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const i=this.view.map?.allLayers;if(i)for(const r of i)this.layerViewFilter?.(r)!==!1&&this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=nn(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Dh(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const{map:i}=this.view;if(!i)return void this.clear();if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,n=[],s=this.view.ready,o=h=>{if(h!=null){for(const f of h)if(f){if(this.layerViewFilter?.(f)===!1)continue;r.add(f);const y=this._layerLayerViewInfoMap.get(f);y&&s?y.start():y||this._recyclingInfoMap.has(f)||n.push(f),"layers"in f&&f.layers&&o(f.layers)}}};for(const h of this._rootCollectionNames)o(Fs(this,h));const a=new Array,l=h=>{const f=h.tryRecycle(n);f?(this._recyclingInfoMap.set(h.layer,h),this.notifyChange("updating"),f.then(()=>{this._recyclingInfoMap.delete(h.layer),this._layerLayerViewInfoMap.set(h.layer,h),this._reschedule(),this.notifyChange("updating")}).catch(y=>{Ki(y)||(this._recyclingInfoMap.delete(h.layer),h.destroy(),this._reschedule(),this.notifyChange("updating"))})):a.push(h)};for(const h of this._layerLayerViewInfoMap.values())r.has(h.layer)||(this._layerLayerViewInfoMap.delete(h.layer),l(h));for(const h of this._recyclingInfoMap.values())r.has(h.layer)||(this._recyclingInfoMap.delete(h.layer),l(h));for(const h of n)this._createLayerView(h);this._refreshCollections(),a.forEach(h=>h.destroy());const d=[i?.ground?.layers,i?.basemap?.baseLayers,i?.basemap?.groundLayers,i?.basemap?.referenceLayers,i?.layers].filter(h=>!!h);r.forEach(h=>"layers"in h&&d.push(h.layers)),this.addHandles(d.map(h=>this._watchUpdatingTracking.addOnCollectionChange(()=>h,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null},this._layersToLayerViews=new Map(e.layerviewMapping)}initialize(){this.addHandles([Bc(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),De(()=>{const e=this.view,i=e?.map;return[i?.basemap,i?.ground,i?.layers,e?.ready]},()=>this._reschedule(),Ui)]),this._preloadLayerViewModules(),this._reschedule()}clearHandles(){this._watchUpdatingTracking.removeAll()}destroy(){this.clear(),Oy(this._recyclingInfoMap),Oy(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(at()),this._workPromise=null)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||zW(this._layerLayerViewInfoMap,e=>!e.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),Oy(this._layerLayerViewInfoMap),Oy(this._recyclingInfoMap))}async whenLayerView(e){await this._reschedule();const i=this._layerLayerViewInfoMap.get(e)?.promise;if(!i){const r=this._recyclingInfoMap.get(e)?.promise;if(!r)throw new K("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return r}return i}isCreatingLayerViewsForLayer(e,i){this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(e);if(!r?.done)return!0;const n=r.layerView;return!(!n||!i||n.parent===i)||!!(r.done&&n&&"layers"in e&&e.layers?.length)&&e.layers.some(s=>this.isCreatingLayerViewsForLayer(s,n))}_refreshCollections(){for(const[e,i]of this._layersToLayerViews)this._populateLayerViewsOwners(Fs(this,e),Fs(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){for(const e of this._layersToLayerViews.values())Fs(this,e)?.removeAll()}_populateLayerViewsOwners(e,i,r){if(!e||!i)return void i?.removeAll();let n=0;for(const s of e){const o=this._layerLayerViewInfoMap.get(s);if(!o?.layerView)continue;const{layerView:a}=o;a.layer=s,a.parent=r,i.at(n)!==a&&i.splice(n,0,a),"layers"in s&&Jue(a)&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),++n}n<i.length&&i.splice(n)}_createLayerView(e){e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const i=new Zue(e,this.view,this.layerViewImporter);i.promise?.then(()=>this._refreshCollections(),r=>{r&&(Ki(r)||r.name==="cancelled:layerview-create")||ue.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:r}),this.destroyed||this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};u([p()],yr.prototype,"_workPromise",void 0),u([p({readOnly:!0})],yr.prototype,"_watchUpdatingTracking",void 0),u([p({readOnly:!0})],yr.prototype,"_layersToLayerViews",void 0),u([p({constructOnly:!0})],yr.prototype,"layerviewMapping",void 0),u([p({readOnly:!0})],yr.prototype,"_rootCollectionNames",null),u([p({constructOnly:!0})],yr.prototype,"layerViewFilter",void 0),u([p()],yr.prototype,"layerViewImporter",void 0),u([p()],yr.prototype,"supportsGround",void 0),u([p({readOnly:!0})],yr.prototype,"updating",null),u([p({readOnly:!0})],yr.prototype,"updatingRemaining",null),u([p({constructOnly:!0})],yr.prototype,"view",void 0),yr=u([R("esri.views.support.LayerViewManager")],yr);const Kue=yr;let Yu=class extends Te{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};u([p()],Yu.prototype,"featureTitleFields",void 0),u([p()],Yu.prototype,"utilityNetworkFields",void 0),u([p()],Yu.prototype,"globalIdField",void 0),Yu=u([R("esri.views.support.RequiredFieldsOptions")],Yu);const Xue=Yu;var Ju,el;let ve=(el=class extends G1(rE){constructor(e){super(e),this._userSpatialReference=null,this.handles=new Bh,this.updatingHandles=new Tc,this.allLayerViews=new ls({getCollections:()=>this.layerviewCollections,getChildrenFunction:ede}),this.analyses=new kh,this.basemapView=null,this.dependencies={popup:void 0},this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new Mc,this.typeSpecificPreconditionsReady=!0,this.layerViews=new pe,this.magnifier=new c8,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this._lowPriorityCursorHandles=new pe,this._highPriorityCursorHandles=new pe,this.input=new Fue,this.navigation=new gw,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new p8(this),this.persistableViewModels=new pe,this.requiredFieldsOptions=new Xue,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(De(()=>this.preconditionsReady,i=>{const r=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,Ju.views.add(this)):(this._lockedSpatialReference=null,Ju.views.remove(this)),this.notifyChange("spatialReference"),!i&&r)this.toolViewManager?.detach(),this.analysisViewManager?.detach(),this.layerViewManager?.clear(),this._teardown();else if(i&&!r){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new K("view:startup-error","View._startup failed",n)})}this.analysisViewManager?.attach(),this.toolViewManager.attach()}},nl))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this._validateWithErrorDisplay()]).then(()=>(this._isValid=!0,x2(()=>this.ready)))),this.basemapView=new Hce({view:this}),this.layerViewManager=new Kue({view:this,layerViewFilter:e=>this.layerViewFilter?.(e)??!0,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},layerviewMapping:this._layerToLayerviewMapping}),this.toolViewManager=new Is({view:this}),this.selectionManager=new sue({view:this}),this.addHandles([sn(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{ue.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),De(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},Ui),De(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},nl),De(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},Ui)])}get _layerToLayerviewMapping(){return Ju._layerToLayerview}destroy(){this.destroyed||(Ju.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Ut(this.graphics),this.analyses=Ut(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.analysisViewManager=Ut(this.analysisViewManager),this.toolViewManager=Ut(this.toolViewManager),this.layerViewManager=Ut(this.layerViewManager),this.selectionManager=Ut(this.selectionManager),this.basemapView=Ut(this.basemapView),this.layerViews?.forEach(e=>e.destroy()),this.layerViews.length=0,this.invalidate(),this.handles.destroy(),this.map=Ut(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ue.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get layerviewCollections(){return[this.basemapView?.baseLayerViews,this.basemapView?.groundLayerViews,this.layerViews,this.basemapView?.referenceLayerViews]}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new vt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,i)=>this.getSpatialReferenceSupport(e,i),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??Due()}set highlights(e){this._set("highlights",Vs(e,this._get("highlights"),pe.ofType(Ka)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||rS(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(ue.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),rS(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){const e=!("loaded"in this.map)||this.map.loaded,i=this.map.ground.loaded,r=this.map.basemap?.loaded??!0;return e&&r&&i&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=K1(n=>s5(B("view-readyState-waiting-delay"),null,n)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=Uc(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const i=e.clone();return i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,i}return e}set spatialReference(e){const i=!Ti(e,this._get("spatialReference"));this._set("_userSpatialReference",e),i&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Ys}set timeZone(e){this._userTimeZone=e,zJ(e)||ue.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._highPriorityCursorHandles.at(-1)?.cursor??this._lowPriorityCursorHandles.at(-1)?.cursor??"default"}acquireCursor(e,i="low"){const r=i==="high"?this._highPriorityCursorHandles:this._lowPriorityCursorHandles,n={cursor:e},s=Je(()=>r.remove(n));return r.add(n),this.addHandles(s),s}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new iT}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}getSurface(){return null}importLayerView(e){throw new K("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,i){return this.isResolved()&&!this.ready&&ue.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,i)}forceReadyCycle(){this.ready&&(sn(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}on(e,i){return super.on(e,i)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}async _validateWithErrorDisplay(){try{await this.validate()}catch(e){const i=document.createElement("div");i.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const r=document.createElement("div");r.innerHTML="Unable to display map. WebGL2 support is required.",r.setAttribute("style","font-size: 24px; font-weight: bold;");const n=document.createElement("div");n.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",n.setAttribute("style","font-size: 18px;");const s=document.createElement("a");s.innerHTML="https://esriurl.com/webgl-faq",s.target="_blank",s.setAttribute("style","font-size: 18px;"),s.href="https://esriurl.com/webgl-faq",i.appendChild(r),i.appendChild(n),i.appendChild(s);const o=this.getSurface();throw o&&o.appendChild(i),e}}},Ju=el,el._layerToLayerview=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.basemap.groundLayers","view.basemapView.groundLayerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"],["view.map.layers","view.layerViews"]],el.views=new pe,el);u([p()],ve.prototype,"_userSpatialReference",void 0),u([p()],ve.prototype,"activeTool",null),u([p({readOnly:!0})],ve.prototype,"allLayerViews",void 0),u([p({readOnly:!0})],ve.prototype,"layerviewCollections",null),u([p(bb(kh,"analyses"))],ve.prototype,"analyses",void 0),u([p()],ve.prototype,"animation",null),u([p()],ve.prototype,"basemapView",void 0),u([p()],ve.prototype,"center",null),u([p()],ve.prototype,"defaultsFromMapSettings",null),u([p()],ve.prototype,"defaultsFromMap",null),u([p()],ve.prototype,"dependencies",void 0),u([p()],ve.prototype,"displayFilterEnabled",void 0),u([p({type:We})],ve.prototype,"extent",null),u([p()],ve.prototype,"fatalError",void 0),u([p(bb(Mc,"graphics"))],ve.prototype,"graphics",void 0),u([p({readOnly:!0,type:_r})],ve.prototype,"heightModelInfo",null),u([p({type:pe.ofType(Ka)})],ve.prototype,"highlights",null),u([p({readOnly:!0})],ve.prototype,"interacting",null),u([p({constructOnly:!0})],ve.prototype,"layerViewFilter",void 0),u([p({readOnly:!0})],ve.prototype,"navigating",null),u([p({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ve.prototype,"preconditionsReady",null),u([p({readOnly:!0})],ve.prototype,"typeSpecificPreconditionsReady",void 0),u([p({type:pe,readOnly:!0})],ve.prototype,"layerViews",void 0),u([p()],ve.prototype,"resolution",null),u([p({type:c8})],ve.prototype,"magnifier",void 0),u([p({value:null,type:V6})],ve.prototype,"map",null),u([p()],ve.prototype,"padding",void 0),u([p({readOnly:!0})],ve.prototype,"ready",void 0),u([p()],ve.prototype,"_readyStateWaitingTask",void 0),u([p({readOnly:!0})],ve.prototype,"readyState",null),u([p({type:Se})],ve.prototype,"spatialReference",null),u([p()],ve.prototype,"stationary",null),u([p({type:nr})],ve.prototype,"timeExtent",null),u([p({type:String,nonNullable:!0})],ve.prototype,"timeZone",null),u([p()],ve.prototype,"tools",null),u([p()],ve.prototype,"toolViewManager",void 0),u([p({readOnly:!0})],ve.prototype,"type",void 0),u([p({type:Number})],ve.prototype,"scale",void 0),u([p({readOnly:!0})],ve.prototype,"updating",void 0),u([p({readOnly:!0})],ve.prototype,"initialExtentRequired",void 0),u([p({readOnly:!0})],ve.prototype,"initialExtent",null),u([p()],ve.prototype,"cursor",null),u([p({readOnly:!0})],ve.prototype,"input",void 0),u([p({type:gw,nonNullable:!0})],ve.prototype,"navigation",void 0),u([p()],ve.prototype,"layerViewManager",void 0),u([p()],ve.prototype,"analysisViewManager",void 0),u([p()],ve.prototype,"selectionManager",void 0),u([p()],ve.prototype,"width",void 0),u([p()],ve.prototype,"height",void 0),u([p({readOnly:!0})],ve.prototype,"resizing",void 0),u([p({value:null,readOnly:!0})],ve.prototype,"size",null),u([p({readOnly:!0})],ve.prototype,"suspended",void 0),u([p({readOnly:!0})],ve.prototype,"viewEvents",void 0),u([p({readOnly:!0})],ve.prototype,"persistableViewModels",void 0),u([p()],ve.prototype,"_isValid",void 0),u([p()],ve.prototype,"_readyCycleForced",void 0),u([p()],ve.prototype,"_lockedSpatialReference",void 0),u([p()],ve.prototype,"_userTimeZone",void 0),u([p()],ve.prototype,"_lockedTimeZone",void 0),u([p()],ve.prototype,"_userTimeExtent",void 0),u([p()],ve.prototype,"_lockedTimeExtent",void 0),u([p({type:iT})],ve.prototype,"theme",void 0),u([p({readOnly:!0,type:iT})],ve.prototype,"effectiveTheme",null),ve=Ju=u([R("esri.views.View")],ve);const nx=globalThis.$arcgis;nx&&!nx.views&&Object.defineProperty(nx,"views",{configurable:!1,enumerable:!0,writable:!1,value:ve.views});const Que=ve;function ede(t){return t.layerViews}function Bt(){return[0,0]}function tde(t){return[t[0],t[1]]}function $g(t,e){return[t,e]}function ide(t,e){return[t,e]}function rde(t,e=Bt()){const i=Math.min(2,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function T8(){return Bt()}function E8(){return $g(1,1)}function M8(){return $g(1,0)}function C8(){return $g(0,1)}const nde=T8(),sde=E8(),ode=M8(),ade=C8();Object.freeze(Object.defineProperty({__proto__:null,ONES:sde,UNIT_X:ode,UNIT_Y:ade,ZEROS:nde,clone:tde,create:Bt,freeze:ide,fromArray:rde,fromValues:$g,ones:E8,unitX:M8,unitY:C8,zeros:T8},Symbol.toStringTag,{value:"Module"}));function lde(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function I8(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function cde(t,e,i,r,n,s,o){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=o,t}function iM(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5];let l=i*s-r*n;return l?(l=1/l,t[0]=s*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*a-s*o)*l,t[5]=(r*o-i*a)*l,t):null}function ude(t){return t[0]*t[3]-t[1]*t[2]}function A8(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=i[0],h=i[1],f=i[2],y=i[3],b=i[4],x=i[5];return t[0]=r*d+s*h,t[1]=n*d+o*h,t[2]=r*f+s*y,t[3]=n*f+o*y,t[4]=r*b+s*x+a,t[5]=n*b+o*x+l,t}function Sg(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=Math.sin(i),h=Math.cos(i);return t[0]=r*h+s*d,t[1]=n*h+o*d,t[2]=r*-d+s*h,t[3]=n*-d+o*h,t[4]=a,t[5]=l,t}function yw(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=i[0],h=i[1];return t[0]=r*d,t[1]=n*d,t[2]=s*h,t[3]=o*h,t[4]=a,t[5]=l,t}function Eh(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],d=i[0],h=i[1];return t[0]=r,t[1]=n,t[2]=s,t[3]=o,t[4]=r*d+s*h+a,t[5]=n*d+o*h+l,t}function P8(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=0,t[5]=0,t}function O8(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function rM(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function dde(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function hde(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function pde(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function R8(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function fde(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function mde(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t}function gde(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function yde(t,e){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=e[0],d=e[1],h=e[2],f=e[3],y=e[4],b=e[5],x=Or();return Math.abs(i-l)<=x*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-d)<=x*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-h)<=x*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(s-f)<=x*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-y)<=x*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(a-b)<=x*Math.max(1,Math.abs(a),Math.abs(b))}const vde=A8,bde=R8;Object.freeze(Object.defineProperty({__proto__:null,add:pde,copy:lde,determinant:ude,equals:yde,exactEquals:gde,frob:hde,fromRotation:P8,fromScaling:O8,fromTranslation:rM,identity:I8,invert:iM,mul:vde,multiply:A8,multiplyScalar:fde,multiplyScalarAndAdd:mde,rotate:Sg,scale:yw,set:cde,str:dde,sub:bde,subtract:R8,translate:Eh},Symbol.toStringTag,{value:"Module"}));function Hs(){return[1,0,0,1,0,0]}function wde(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function _de(t,e,i,r,n,s){return[t,e,i,r,n,s]}const xde=Hs();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:xde,clone:wde,create:Hs,fromValues:_de},Symbol.toStringTag,{value:"Module"}));const qy={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new ci({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Se.WebMercator}),minus180Line:new ci({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Se.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new ci({paths:[[[180,-180],[180,180]]],spatialReference:Se.WGS84}),minus180Line:new ci({paths:[[[-180,-180],[-180,180]]],spatialReference:Se.WGS84})}};function gc(t,e){return Math.ceil((t-e)/(2*e))}function D8(t,e){const i=em(t);for(const r of i)for(const n of r)n[0]+=e;return t}function em(t){return FE(t)?t.rings:t.paths}function P$e(t,e){return e?{...e,query:{...t,...e.query}}:{query:t}}function $de(t){return typeof t=="string"?dr(t):X(t)}function Sde(t,e,i){const r={};for(const n in t){if(n==="declaredClass")continue;const s=t[n];if(s!=null&&typeof s!="function")if(Array.isArray(s))r[n]=s.map(o=>Sde(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(i?.[n]);r[n]=e?o:JSON.stringify(o)}else r[n]=e?s:JSON.stringify(s);else r[n]=s}return r}function kde(t,e){return t?e&&eE(t)?e:Q2(t)??bt?.findCredential(t)?.token:null}async function O$e(t,e,i){const r=kde(t,e);return r||(!bt&&Qe.request.useIdentity&&await ae(()=>import("./c-IdentityManager-B2C9u8xm.js"),__vite__mapDeps([0,1])),(await bt.getCredential(t,i))?.token)}async function Tde(t,e,i,r){const n=$de(t),s=e[0].spatialReference,o={...r,responseType:"json",query:{...n.query,f:"json",sr:AN(s),target:JSON.stringify({geometryType:jE(e[0]),geometries:e}),cutter:JSON.stringify(i)}},a=await Xt(n.path+"/cut",o),{cutIndexes:l,geometries:d=[]}=a.data;return{cutIndexes:l,geometries:d.map(h=>{const f=$h(h);return f.spatialReference=s,f})}}function Ede(t){return{geometryType:jE(t[0]),geometries:t.map(e=>e.toJSON())}}function Mde(t,e,i){const r=Ooe(e);return t.map(n=>{const s=r.fromJSON(n);return s.spatialReference=i,s})}async function Cde(t,e,i){const r=typeof t=="string"?dr(t):t,n=e[0].spatialReference,s=jE(e[0]),o={...i,query:{...r.query,f:"json",sr:AN(n),geometries:JSON.stringify(Ede(e))}},{data:a}=await Xt(r.path+"/simplify",o);return Mde(a.geometries,s,n)}const z8=()=>ue.getLogger("esri.geometry.support.normalizeUtils");function Ide(t){return t.type==="polygon"}function Ade(t){return t[0].type==="polygon"}function Pde(t){return t[0].type==="polyline"}function DP(t){const e=[];let i=0,r=0;for(let n=0;n<t.length;n++){const s=t[n];let o=null;for(let a=0;a<s.length;a++)o=s[a],e.push(o),a===0?(i=o[0],r=i):(i=Math.min(i,o[0]),r=Math.max(r,o[0]));o&&e.push([(i+r)/2,0])}return e}function Ode(t,e){if(!(t instanceof ci||t instanceof Dt)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw z8().error(n),new K("internal:geometry",n)}const i=em(t),r=[];for(const n of i){const s=[];r.push(s),s.push([n[0][0],n[0][1]]);for(let o=0;o<n.length-1;o++){const a=n[o][0],l=n[o][1],d=n[o+1][0],h=n[o+1][1],f=Math.sqrt((d-a)*(d-a)+(h-l)*(h-l)),y=(h-l)/f,b=(d-a)/f,x=f/e;if(x>1){for(let O=1;O<=x-1;O++){const j=O*e,D=b*j+a,F=y*j+l;s.push([D,F])}const $=(f+Math.floor(x-1)*e)/2,E=b*$+a,C=y*$+l;s.push([E,C])}s.push([d,h])}}return Ide(t)?new Dt({rings:r,spatialReference:t.spatialReference}):new ci({paths:r,spatialReference:t.spatialReference})}function zP(t,e,i){if(e){const r=Ode(t,1e6);t=Xp(r,!0)}return i&&(t=D8(t,i)),t}function NP(t,e,i){if(Array.isArray(t)){const r=t[0];if(r>e){const n=gc(r,e);t[0]=r+n*(-2*e)}else if(r<i){const n=gc(r,i);t[0]=r+n*(-2*i)}}else{const r=t.x;if(r>e){const n=gc(r,e);t=t.clone().offset(n*(-2*e),0)}else if(r<i){const n=gc(r,i);t=t.clone().offset(n*(-2*i),0)}}return t}function Rde(t,e){let i=-1;for(let r=0;r<e.cutIndexes.length;r++){const n=e.cutIndexes[r],s=e.geometries[r],o=em(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(d=>{if(d[0]<180)return!0;{let h=0;for(let y=0;y<l.length;y++){const b=l[y][0];h=b>h?b:h}h=Number(h.toFixed(9));const f=-360*gc(h,180);for(let y=0;y<l.length;y++){const b=s.getPoint(a,y);s.setPoint(a,y,b.clone().offset(f,0))}return!0}})}if(n===i){if(Ade(t))for(const a of em(s))t[n]=t[n].addRing(a);else if(Pde(t))for(const a of em(s))t[n]=t[n].addPath(a)}else i=n,t[n]=s}return t}async function Dde(t,e,i){if(!Array.isArray(t))return Dde([t],e);e&&typeof e!="string"&&z8().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof e=="string"?e:e?.url??Qe.geometryServiceUrl;let n,s,o,a,l,d,h,f,y=0;const b=[],x=[];for(const D of t)if(D!=null)if(n||(n=D.spatialReference,s=cr(n),o=n.isWebMercator,d=o?102100:4326,a=qy[d].maxX,l=qy[d].minX,h=qy[d].plus180Line,f=qy[d].minus180Line),s)if(D.type==="mesh")x.push(D);else if(D.type==="point")x.push(NP(D.clone(),a,l));else if(D.type==="multipoint"){const F=D.clone();F.points=F.points.map(G=>NP(G,a,l)),x.push(F)}else if(D.type==="extent"){const F=D.clone()._normalize(!1,!1,s);x.push(F.rings?new Dt(F):F)}else if(D.extent){const F=D.extent,G=gc(F.xmin,l)*(2*a);let z=G===0?D.clone():D8(D.clone(),G);F.offset(G,0);let{xmin:se,xmax:oe}=F;se=Number(se.toFixed(9)),oe=Number(oe.toFixed(9)),F.intersects(h)&&oe!==a?(y=oe>y?oe:y,z=zP(z,o),b.push(z),x.push("cut")):F.intersects(f)&&se!==l?(y=oe*(2*a)>y?oe*(2*a):y,z=zP(z,o,360),b.push(z),x.push("cut")):x.push(z)}else x.push(D.clone());else x.push(D);else x.push(D);let $=gc(y,a),E=-90;const C=$,O=new ci;for(;$>0;){const D=360*$-180;O.addPath([[D,E],[D,-1*E]]),E*=-1,$--}if(b.length>0&&C>0){const D=Rde(b,await Tde(r,b,O,i)),F=[],G=[];for(let oe=0;oe<x.length;oe++){const ee=x[oe];if(ee!=="cut")G.push(ee);else{const ge=D.shift(),te=t[oe];te!=null&&te.type==="polygon"&&te.rings&&te.rings.length>1&&ge.rings.length>=te.rings.length?(F.push(ge),G.push("simplify")):G.push(o?$c(ge):ge)}}if(!F.length)return G;const z=await Cde(r,F,i),se=[];for(let oe=0;oe<G.length;oe++){const ee=G[oe];ee!=="simplify"?se.push(ee):se.push(o?$c(z.shift()):z.shift())}return se}const j=[];for(let D=0;D<x.length;D++){const F=x[D];if(F!=="cut")j.push(F);else{const G=b.shift();j.push(o===!0?$c(G):G)}}return j}function zde(t){if(!t)return null;const e=t.extent;if(!e)return null;const i=t.spatialReference&&cr(t.spatialReference);if(!i)return e;const[r,n]=i.valid,s=2*n,{width:o}=e;let a,{xmin:l,xmax:d}=e;if([l,d]=[d,l],t.type==="extent"||o===0||o<=n||o>s||l<r||d>n)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;a=DP(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;a=DP(t.paths);break;case"multipoint":a=t.points}const h=e.clone();for(let f=0;f<a.length;f++){let y=a[f][0];y<0?(y+=n,d=Math.max(y,d)):(y-=n,l=Math.min(y,l))}return h.xmin=l,h.xmax=d,h.width<o?(h.xmin-=n,h.xmax-=n,h):e}function nM(t,e,i){const r=cr(i);if(r==null)return t;const[n,s]=r.valid,o=2*s;let a=0,l=0;e>s?a=Math.ceil(Math.abs(e-s)/o):e<n&&(a=-Math.ceil(Math.abs(e-n)/o)),t>s?l=Math.ceil(Math.abs(t-s)/o):t<n&&(l=-Math.ceil(Math.abs(t-n)/o));let d=t+(a-l)*o;const h=d-e;return h>s?d-=o:h<n&&(d+=o),d}function R$e(t,e){return sM(e)?.normalize(t)??t}function sM(t){const e=cr(t);if(e==null)return null;const[i,r]=e.valid;return new dw(i,r)}const D$e=sM(Se.WGS84);sM(Se.WebMercator);const N8=96,L8=39.37,Nde=180/Math.PI;function F8(t){return t.wkid?t:t.spatialReference||Se.WGS84}function oM(t,e){return e.type?ki(t,e.x,e.y):Md(t,e)}function j8(t){return eo(t)}function vw(t,e,i=0){let r=t.width,n=t.height;if(i!==0){const a=pg(i),l=Math.abs(Math.cos(a)),d=Math.abs(Math.sin(a));r=t.width*l+t.height*d,n=t.width*d+t.height*l}const s=Math.max(1,e[0]),o=Math.max(1,e[1]);return Math.max(r/s,n/o)*Hde(t.spatialReference)}async function bf(t,e,i,r){let n,s;if(!t||Array.isArray(t)&&!t.length)return null;if(pe.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&typeof t[0]=="object"){const a=t.every(h=>"attributes"in h),l=t.some(h=>!h.geometry);let d=t;if(a&&l&&e&&e.allLayerViews){const h=new Map;for(const x of t){const $=x.layer,E=h.get($)||[],C=x.attributes[$.objectIdField];C!=null&&E.push(C),h.set($,E)}const f=[];h.forEach((x,$)=>{const E=e.allLayerViews?.find(C=>C.layer.id===$.id);if(E&&"queryFeatures"in E){const C=$.createQuery();C.objectIds=x,C.returnGeometry=!0,f.push(E.queryFeatures(C))}});const y=await Promise.all(f),b=[];for(const x of y)if(x&&x.features&&x.features.length)for(const $ of x.features)$.geometry!=null&&b.push($.geometry);d=b}for(const h of d)r=await bf(h,e,i,r);return r}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number")n=new Ee(t);else if(t instanceof mi)n=t;else if("geometry"in t){if(t.geometry)n=t.geometry;else if(t.layer){const a=t.layer,l=e.allLayerViews?.find(d=>d.layer.id===a.id);if(l&&"queryFeatures"in l){const d=a.createQuery();d.objectIds=[t.attributes[a.objectIdField]],d.returnGeometry=!0,n=(await l.queryFeatures(d))?.features?.[0]?.geometry}}}if(n==null)return null;switch(n.type){case"point":s=new We({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=zde(n);break;default:s=n.extent}if(!s)return null;Jo()||ys(s.spatialReference,i)||await ul();const o=su(s,i);if(!o)return null;if(r){const a=o.center,l=a.clone();l.x=nM(a.x,r.center.x,i),l.x!==a.x&&o.centerAt(l),r=r.union(o)}else r=o;return r}function Lde(t){if(t&&(!Array.isArray(t)||typeof t[0]!="number")&&(typeof t=="object"||Array.isArray(t)&&typeof t[0]=="object")){if("layer"in t&&t.layer?.minScale!=null&&t.layer.maxScale!=null){const e=t.layer;return{min:e.minScale,max:e.maxScale}}if(Array.isArray(t)&&t.length&&t.every(e=>"layer"in e)){let e=0,i=0;for(const r of t){const n=r.layer;n?.minScale&&n.maxScale&&(e=n.minScale<e?n.minScale:e,i=n.maxScale>i?n.maxScale:i)}return e&&i?{min:e,max:i}:null}}}function LP(t,e){const i=F8(t);return Ti(i,e)||i.imageCoordinateSystem||e.imageCoordinateSystem?t:su(t,e)}async function Fde(t,e){if(!t||!e)return new Cn({targetGeometry:new Ee,scale:0,rotation:0});let i=e.spatialReference;const{constraints:r,padding:n,viewpoint:s,size:o}=e,a=[n?o[0]-n.left-n.right:o[0],n?o[1]-n.top-n.bottom:o[1]];let l=null;t instanceof Cn?l=t:t.viewpoint?l=t.viewpoint:t.target&&t.target.declaredClass==="esri.Viewpoint"&&(l=t.target);let d=null;l?.targetGeometry?d=l.targetGeometry:t instanceof We?d=t:t instanceof mi?d=await bf(t,e,i):t&&(d=await bf(t.center,e,i)||await bf(t.target,e,i)||await bf(t,e,i)),!d&&s?.targetGeometry?d=s.targetGeometry:!d&&e.extent&&(d=e.extent),i||(i=F8(e.spatialReference||e.extent||d)),Jo()||Ti(d.spatialReference,i)||ys(d.spatialReference,i)||await ul();const h=LP(d,i),f="center"in h?h.center:h;e.pickClosestTarget!==!1&&f.type==="point"&&s.targetGeometry?.type==="point"&&(f.x=nM(f.x,s.targetGeometry.x,f.spatialReference));let y=0;l?y=l.rotation:t.hasOwnProperty("rotation")?y=t.rotation:s&&(y=s.rotation);let b=0;b=l?.targetGeometry!=null&&l.targetGeometry.type==="point"?l.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&t.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(t.zoom):Array.isArray(d)||d.type==="point"||d.type==="extent"&&d.width===0&&d.height===0?s.scale:vw(LP(d.extent,i),a,y);const x=Lde(t.target??t);x&&(x.min&&x.min<b?b=x.min:x.max&&x.max>b&&(b=x.max));let $=new Cn({targetGeometry:f,scale:b,rotation:y});return r&&($=r.fit($),r.constrainByGeometry($),r.rotationEnabled||($.rotation=s.rotation)),$}function Wi(t,e){const i=t.targetGeometry,r=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function jde(t,e,i){return i?ki(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):fg(t,e,.5)}const Ude=(function(){const t=Bt();return function(e,i,r){const n=i.targetGeometry;oM(t,n);const s=.5*Zh(i);return e.xmin=t[0]-s*r[0],e.ymin=t[1]-s*r[1],e.xmax=t[0]+s*r[0],e.ymax=t[1]+s*r[1],e.spatialReference=n.spatialReference,e}})();function Vde(t,e,i,r,n){return aT(t,e,i.center),t.scale=vw(i,r),n?.constraints?.constrain(t),t}function Bde(t,e,i,r){return cM(t,e,i,r),iM(t,t)}const U8=(function(){const t=Bt();return function(e,i,r){return CE(e,Gde(e,i),jde(t,i,r))}})(),qde=(function(){const t=Hs(),e=Bt();return function(i,r,n,s){const o=Zh(r),a=aM(r);return ki(e,o,o),O8(t,e),Sg(t,t,a),Eh(t,t,U8(e,n,s)),Eh(t,t,[0,s.top-s.bottom]),ki(i,t[4],t[5])}})();function Zh(t){return t.scale*V8(t.targetGeometry?.spatialReference)}function V8(t){return Xr(t)?1/(j8(t)*L8*N8):1}function aM(t){return ME(t.rotation)||0}function Hde(t){return Xr(t)?j8(t)*L8*N8:1}function Gde(t,e){return fg(t,e,.5)}const lM=(function(){const t=Bt(),e=Bt(),i=Bt();return function(r,n,s,o,a,l){return CL(t,n),fg(e,s,.5*l),ki(i,1/o*l,-1/o*l),rM(r,e),a&&Sg(r,r,a),yw(r,r,i),Eh(r,r,t),r}})(),cM=(function(){const t=Bt();return function(e,i,r,n){const s=Zh(i),o=aM(i);return oM(t,i.targetGeometry),lM(e,t,r,s,o,n)}})(),Wde=(function(){const t=Bt();return function(e,i,r,n){const s=Zh(i);return oM(t,i.targetGeometry),lM(e,t,r,s,0,n)}})();function B8(t){const e=cr(t);return e?e.valid[1]-e.valid[0]:0}function Zde(t,e){return Math.round(B8(t)/e)}const Yde=(function(){const t=Bt(),e=Bt(),i=[0,0,0];return function(r,n,s){Mm(t,r,n),wS(t,t),Mm(e,r,s),wS(e,e),AL(i,t,e);let o=Math.acos(IL(t,e)/(gb(t)*gb(e)))*Nde;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}})(),Jde=(function(){const t=Bt();return function(e,i,r,n){const s=e.targetGeometry;return Wi(e,i),qde(t,i,r,n),s.x+=t[0],s.y+=t[1],e}})(),aT=function(t,e,i){Wi(t,e);const r=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,t},Kde=(function(){const t=Bt();return function(e,i,r,n,s){s||(s="center"),CE(t,r,n),fg(t,t,.5);const o=t[0],a=t[1];switch(s){case"center":ki(t,0,0);break;case"left":ki(t,-o,0);break;case"top":ki(t,0,a);break;case"right":ki(t,o,0);break;case"bottom":ki(t,0,-a);break;case"top-left":ki(t,-o,a);break;case"bottom-left":ki(t,-o,-a);break;case"top-right":ki(t,o,a);break;case"bottom-right":ki(t,o,-a)}return bw(e,i,t),e}})();function z$e(t,e,i){return Wi(t,e),t.rotation+=i,t}function Xde(t,e,i){return Wi(t,e),t.rotation=i,t}const Qde=(function(){const t=Bt();return function(e,i,r,n,s){return Wi(e,i),isNaN(r)||r===0||(H8(t,n,i,s),e.scale=i.scale*r,G8(t,t,e,s),bw(e,e,ki(t,t[0]-n[0],n[1]-t[1]))),e}})();function FP(t,e,i){return Wi(t,e),t.scale=i,t}const q8=(function(){const t=Bt();return function(e,i,r,n,s,o){return Wi(e,i),isNaN(r)||r===0||(H8(t,s,i,o),e.scale=i.scale*r,e.rotation+=n,G8(t,t,e,o),bw(e,e,ki(t,t[0]-s[0],s[1]-t[1]))),e}})(),N$e=(function(){const t=Bt(),e=Bt();return function(i,r,n,s,o,a,l){return U8(e,a,l),kL(t,o,e),s?q8(i,r,n,s,t,a):Qde(i,r,n,t,a)}})(),H8=(function(){const t=Hs();return function(e,i,r,n){return Ds(e,i,Bde(t,r,n,1))}})(),G8=(function(){const t=Hs();return function(e,i,r,n){return Ds(e,i,cM(t,r,n,1))}})(),bw=(function(){const t=Bt(),e=Hs();return function(i,r,n){Wi(i,r);const s=Zh(r),o=i.targetGeometry;return P8(e,aM(r)),yw(e,e,$g(s,s)),Ds(t,n,e),o.x+=t[0],o.y+=t[1],i}})();function W8(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function ehe(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function the(t,e,i,r,n,s){const o=new Float32Array(6);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=n,o[5]=s,o}function Z8(t,e,i,r){const n=e[r],s=e[r+1];t[r]=i[0]*n+i[2]*s+i[4],t[r+1]=i[1]*n+i[3]*s+i[5]}function ihe(t,e,i,r=0,n=0,s=2){const o=n||e.length/s;for(let a=r;a<o;a++)Z8(t,e,i,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:ehe,create:W8,fromValues:the,transform:Z8,transformMany:ihe},Symbol.toStringTag,{value:"Module"}));function t0(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function rhe(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function nhe(t,e,i,r,n,s,o,a,l){const d=new Float32Array(9);return d[0]=t,d[1]=e,d[2]=i,d[3]=r,d[4]=n,d[5]=s,d[6]=o,d[7]=a,d[8]=l,d}Object.freeze(Object.defineProperty({__proto__:null,clone:rhe,create:t0,fromValues:nhe},Symbol.toStringTag,{value:"Module"}));function Y8(){return new Float32Array(2)}function she(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function Mh(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function J8(){return Y8()}function K8(){return Mh(1,1)}function X8(){return Mh(1,0)}function Q8(){return Mh(0,1)}const ohe=J8(),ahe=K8(),lhe=X8(),che=Q8();Object.freeze(Object.defineProperty({__proto__:null,ONES:ahe,UNIT_X:lhe,UNIT_Y:che,ZEROS:ohe,clone:she,create:Y8,fromValues:Mh,ones:K8,unitX:X8,unitY:Q8,zeros:J8},Symbol.toStringTag,{value:"Module"}));function uhe(t){return t instanceof Float32Array&&t.length>=2}function dhe(t){return Array.isArray(t)&&t.length>=2}function sx(t){return uhe(t)||dhe(t)}var lT;const ao=[0,0];let xo=lT=class extends be{constructor(t){super(t),this._viewpoint2D={center:Bt(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new We,this.id=0,this.inverseTransform=Hs(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Hs(),this.transformNoRotation=Hs(),this.displayMat3=t0(),this.displayViewMat3=t0(),this.viewMat3=t0(),this.viewMat2d=W8(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[t,e]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,e),this.toMap([0,0],t,e),this.toMap([0,0],t,0)]}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=Wi(i,t.viewpoint),this._set("size",Md(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new lT({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return sx(e)?Ds(t,e,this.inverseTransform):(ao[0]=e,ao[1]=i,Ds(t,ao,this.inverseTransform))}toScreen(t,e,i){return sx(e)?Ds(t,e,this.transform):(ao[0]=e,ao[1]=i,Ds(t,ao,this.transform))}toScreenNoRotation(t,e,i){return sx(e)?Ds(t,e,this.transformNoRotation):(ao[0]=e,ao[1]=i,Ds(t,ao,this.transformNoRotation))}wrapMapCoordinate(t,e){Md(t,e);const[i]=e,[r]=this.center,{extent:n,spatialReference:s}=this;let{xmin:o,xmax:a}=n;if(s.isWrappable){const l=B8(s)/2;o=Math.max(o,r-l),a=Math.min(a,r+l)}return(i<o||i>a)&&(t[0]=nM(i,r,s)),t}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,n=this._get("size");return lM(t,i,n,e,0,r),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,s=this._get("size"),o=new Cn({targetGeometry:new Ee(t[0],t[1],e),scale:i,rotation:r});if(this._set("viewpoint",o),!s||!e||!i)return;this.resolution=Zh(o),this.rotation=r,this.scale=i,this.spatialReference=e,Md(this.center,t);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;Cd(this.displayMat3,a,0,0,0,l,0,-1,1,1);const d=NL(this.viewMat3),h=Mh(s[0]/2,s[1]/2),f=Mh(-s[0]/2,-s[1]/2),y=ME(r);xS(d,d,h),jL(d,d,y),xS(d,d,f),Im(this.displayViewMat3,this.displayMat3,d);const b=rM(this.viewMat2d,h);return Sg(b,b,y),Eh(b,b,f),Ude(this.extent,o,s),cM(this.transform,o,s,n),iM(this.inverseTransform,this.transform),Wde(this.transformNoRotation,o,s,n),this.worldScreenWidth=Zde(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};u([p({readOnly:!0})],xo.prototype,"id",void 0),u([p({value:1,json:{write:!0}})],xo.prototype,"pixelRatio",null),u([p({json:{write:!0}})],xo.prototype,"size",null),u([p()],xo.prototype,"spatialReference",void 0),u([p({type:Cn,json:{write:!0}})],xo.prototype,"viewpoint",null),u([p({readOnly:!0})],xo.prototype,"visibleArea",null),xo=lT=u([R("esri.views.2d.ViewState")],xo);const jP=xo;var cT,uT;let jo=cT=class extends Te{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new cT({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};u([p()],jo.prototype,"left",void 0),u([p()],jo.prototype,"top",void 0),u([p()],jo.prototype,"right",void 0),u([p()],jo.prototype,"bottom",void 0),jo=cT=u([R("esri.views.2d.PaddedViewState.Padding")],jo);let Ku=uT=class extends jP{constructor(...t){super(...t),this.paddedViewState=new jP,this._updateContent=(()=>{const e=Bt();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const n=this.paddedViewState;ki(e,r.left+r.right,r.top+r.bottom),Mm(e,i,e),Md(n.size,e);const s=n.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(De(()=>[this.size,this.padding],()=>this._updateContent(),nl)),this.padding=new jo,this.size=[0,0]}set padding(t){this._set("padding",t||new jo)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let e=t;const i=this._get("padding");i&&(e=Jde(t.clone(),t,this._get("size"),i));const{targetGeometry:r,rotation:n,scale:s}=e,{x:o,y:a,spatialReference:l}=r,d=this._viewpoint2D;d.center[0]=o,d.center[1]=a,d.rotation=n,d.scale=s,d.spatialReference=l,this._update()}}clone(){return new uT({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};u([p()],Ku.prototype,"paddedViewState",void 0),u([p({type:jo})],Ku.prototype,"padding",null),u([p()],Ku.prototype,"viewpoint",null),Ku=uT=u([R("esri.views.2d.PaddedViewState")],Ku);const uM=Ku;let wf=class extends Te{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};u([p()],wf.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),u([p()],wf.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),wf=u([R("esri.views.support.debugFlags")],wf);const hhe=new wf,e9=Symbol("Yield");let phe=class{constructor(){this._tasks=new Array,this._numPendingTasks=Th(0),this._readyToRun=Th(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get readyToRun(){return this._readyToRun.value}_updateReadyToRun(){this._readyToRun.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(this.length===0)return e9;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,i,r){return this._addTask((n,s)=>new VP(n,s,e,i,r),Array.prototype.push)}unshift(e,i,r){return this._addTask((n,s)=>new VP(n,s,e,i,r),Array.prototype.unshift)}pushGenerator(e,i,r){return this._addTask((n,s)=>new fhe(n,s,e,i,r),Array.prototype.push)}_process(e){if(this._tasks.length===0)return!1;const i=this._tasks.shift();this._updateReadyToRun();try{if(Zi(i.signal))this._cancelTask(i,at());else switch(i.type){case 0:this._processSimple(i,e);break;case 1:this._processGenerator(i,e);break;case 2:this._processIterator(i,e);break;default:}}catch(r){i.reject(r)}return!0}cancelAll(){const e=at();for(const i of this._tasks)this._cancelTask(i,e);this._tasks.length=0,this._updateReadyToRun()}_cancelTask(e,i){if(e.abortCallback){const r=e.abortCallback(i);e.type===2&&e.iterator.return&&UP(e.iterator.return()),Yi(r)?r.then(e.resolve,e.reject):e.resolve(r)}else e.type===2&&e.iterator.throw&&UP(e.iterator.throw(i)),e.reject(i)}_onIteratorResult(e,i){i.done?e.resolve(i.value):(this._tasks.unshift(e),this._updateReadyToRun())}_processSimple(e,i){const r=e.callback(i);Yi(r)?r.then(e.resolve,e.reject):e.resolve(r)}_processGenerator(e,i){const r=e.generatorFunction(i),n=new mhe(e.resolve,e.reject,r,e.signal,e.abortCallback);this._processIterator(n,i)}_processIterator(e,i){const r=e.iterator.next(i);Yi(r)?r.then(n=>this._onIteratorResult(e,n),e.reject):this._onIteratorResult(e,r)}_addTask(e,i){return new Promise((r,n)=>{const s=e(r,n);i.call(this._tasks,s),++this._numPendingTasks.value,this._updateReadyToRun()}).finally(()=>--this._numPendingTasks.value)}};function UP(t){Yi(t)?t.then(ox,ox):ox(t)}function ox(t){Ki(t)||t instanceof Error||t instanceof K||t!=null&&typeof t=="object"&&"done"in t&&t.done||ue.getLogger("esri.layers.support.PromiseQueue").warn("Generator iterator was aborted, but it is not done.")}let dM=class{constructor(e,i,r=void 0,n=void 0){this.resolve=e,this.reject=i,this.signal=r,this.abortCallback=n}},VP=class extends dM{constructor(e,i,r,n,s){super(e,i,n,s),this.callback=r,this.type=0}},fhe=class extends dM{constructor(e,i,r,n,s){super(e,i,n,s),this.generatorFunction=r,this.type=1}},mhe=class extends dM{constructor(e,i,r,n,s){super(e,i,n,s),this.iterator=r,this.type=2}};function ghe(){return new _he}const qe={RESOURCE_CONTROLLER_IMMEDIATE:"immediate",RESOURCE_CONTROLLER:"schedule",SLIDE:"slide",STREAM_DATA_LOADER:"stream loader",ELEVATION_QUERY:"elevation query",TERRAIN_SURFACE:"terrain",SURFACE_GEOMETRY_UPDATES:"surface geometry updates",LOD_RENDERER:"LoD renderer",GRAPHICS_CORE:"Graphics3D",I3S_CONTROLLER:"I3S",POINT_CLOUD_LAYER:"point cloud",FEATURE_TILE_FETCHER:"feature fetcher",STREAM_CONTROLLER:"stream controller",OVERLAY:"overlay",OVERLAY_RENDERER:"overlay renderer",STAGE:"stage",GRAPHICS_DECONFLICTOR:"graphics deconflictor",FILTER_VISIBILITY:"Graphics3D filter visibility",SCALE_VISIBILITY:"Graphics3D scale visibility",FRUSTUM_VISIBILITY:"Graphics3D frustum visibility",POINT_OF_INTEREST_FREQUENT:"POI frequent",POINT_OF_INTEREST_INFREQUENT:"POI infrequent",LABELER:"labeler",FEATURE_QUERY_ENGINE:"feature query",FEATURE_TILE_TREE:"feature tile tree",FEATURE_TILE_TREE_ACTIVE:"fast feature tile tree",ELEVATION_ALIGNMENT:"elevation alignment",ELEVATION_ALIGNMENT_SCENE:"elevation alignment scene",TEXT_TEXTURE_ATLAS:"text texture atlas",TEXTURE_UNLOAD:"texture unload",LINE_OF_SIGHT_TOOL:"line of sight tool",LINE_OF_SIGHT_TOOL_INTERACTIVE:"interactive line of sight tool",ELEVATION_PROFILE:"elevation profile",SNAPPING:"snapping",SHADOW_ACCUMULATOR:"shadow accumulator",CLOUDS_GENERATOR:"clouds generator",FLOW_GENERATOR:"flow generator",MAPVIEW_FETCH_QUEUE:"mapview fetch queue",MAPVIEW_LAYERVIEW_UPDATE:"mapview layerview update",MAPVIEW_VECTOR_TILE_PARSING_QUEUE:"mapview vector tile parsing queue",NONE:0,TEST_PRIO:1},yn=0,BP=new Map([[qe.RESOURCE_CONTROLLER_IMMEDIATE,yn],[qe.RESOURCE_CONTROLLER,4],[qe.SLIDE,yn],[qe.STREAM_DATA_LOADER,yn],[qe.ELEVATION_QUERY,yn],[qe.TERRAIN_SURFACE,1],[qe.SURFACE_GEOMETRY_UPDATES,1],[qe.LOD_RENDERER,2],[qe.GRAPHICS_CORE,2],[qe.I3S_CONTROLLER,2],[qe.POINT_CLOUD_LAYER,2],[qe.FEATURE_TILE_FETCHER,2],[qe.STREAM_CONTROLLER,2],[qe.CLOUDS_GENERATOR,2],[qe.OVERLAY,4],[qe.OVERLAY_RENDERER,4],[qe.STAGE,4],[qe.GRAPHICS_DECONFLICTOR,4],[qe.FILTER_VISIBILITY,4],[qe.SCALE_VISIBILITY,4],[qe.FRUSTUM_VISIBILITY,4],[qe.POINT_OF_INTEREST_FREQUENT,6],[qe.POINT_OF_INTEREST_INFREQUENT,30],[qe.LABELER,8],[qe.FEATURE_QUERY_ENGINE,8],[qe.FEATURE_TILE_TREE,16],[qe.FEATURE_TILE_TREE_ACTIVE,yn],[qe.ELEVATION_ALIGNMENT,12],[qe.ELEVATION_ALIGNMENT_SCENE,14],[qe.TEXT_TEXTURE_ATLAS,12],[qe.TEXTURE_UNLOAD,12],[qe.LINE_OF_SIGHT_TOOL,16],[qe.LINE_OF_SIGHT_TOOL_INTERACTIVE,yn],[qe.SNAPPING,yn],[qe.SHADOW_ACCUMULATOR,30],[qe.FLOW_GENERATOR,12],[qe.MAPVIEW_FETCH_QUEUE,yn],[qe.MAPVIEW_LAYERVIEW_UPDATE,2],[qe.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,yn]]);function qP(t){return BP.has(t)?BP.get(t):typeof t=="number"?t:1}const yhe=6.5,HP=1,vhe=30,bhe=1e3/30,whe=100,GP=.9;let _he=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(e=>e.needsUpdate)}constructor(){this._updating=Th(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Of("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new t9,this.state=1,this._tasks=new Array,this._runQueue=new Array,this._load=0,this._forceTask=!1,this._debug=!1,this._debugHandle=De(()=>hhe.SCHEDULER_LOG_SLOW_TASKS,e=>this._debug=e,Ji);for(const e of Object.keys(qe))this.performanceInfo.tasks.set(qe[e],new Of(String(qe[e])))}destroy(){this._tasks.forEach(e=>e.remove()),this._tasks.length=0,this._runQueue.length=0,_t(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(e,i){const r=new xhe(this,e,i);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new Of(e)),r}get load(){return this._load}frame(e){if(this._startFrameTaskTimes(),this._updateBudget(e)){const i=this._budget.now();return this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-i),!0}return this._recordFrameTaskTimes(0),!1}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let i=yhe,r=e.frameDuration,n=HP;switch(this.state){case 2:i=0,r=Math.max(whe,e.frameDuration),n=vhe;break;case 1:r=Math.max(bhe,e.frameDuration)}return r=r-e.elapsedFrameTime-i,this.state!==2&&r<HP&&!this._forceTask?(this._forceTask=!0,!1):(r=Math.max(r,n),this._budget.reset(r),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0),this._budget.madeProgress()}removeTask(e){p$(this._tasks,e),p$(this._runQueue,e),this._updatingChanged()}_updateTask(e){this._tasks.forEach(i=>{i.name===e&&i.setPriority(e)})}_getState(e){if(this._runQueue.some(r=>r.name===e))return"s";let i="i";return this._tasks.forEach(r=>{r.name===e&&r.needsUpdate&&(r.schedulePriority<=1?i="r":i!=="r"&&(i="w"))}),i}_getRuntime(e){let i=0;return this._tasks.forEach(r=>{r.name===e&&(i+=r.runtime)}),i}_resetRuntimes(){this._tasks.forEach(e=>e.runtime=0)}_getRunning(){const e=new Map;if(this._tasks.forEach(r=>{r.needsUpdate&&e.set(r.name,(e.get(r.name)||0)+1)}),e.size===0)return null;let i="";return e.forEach((r,n)=>{i+=r>1?` ${r}x ${n}`:` ${n}`}),i}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce((i,r)=>r.needsUpdate?++i:i,0);this._load=this._load*GP+e*(1-GP)}_schedule(){for(PG(this._runQueue,e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)),this._tasks.forEach(e=>{e.basePriority===yn&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)});this._runQueue.length===0;){let e=!1,i=0;if(this._tasks.forEach(r=>{r.needsUpdate&&r.schedulePriority!==0&&r.basePriority!==yn&&r.blockFrame!==this._frameNumber&&(e=!0,i=Math.max(i,r.basePriority),r.schedulePriority===1?(r.schedulePriority=0,this._runQueue.push(r)):--r.schedulePriority)}),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const e=this._budget.now(),i=this._runQueue.pop();this._budget.resetProgress();try{i.task.runTask(this._budget)===e9&&(i.blockFrame=this._frameNumber)}catch(n){ue.getLogger("esri.views.support.Scheduler").error(`Exception in task "${i.name}"`,n),i.blockFrame=this._frameNumber}!this._budget.hasProgressed&&i.blockFrame!==this._frameNumber&&i.needsUpdate&&(i.name,i.blockFrame=this._frameNumber),i.schedulePriority=i.basePriority;const r=this._budget.now()-e;if(i.runtime+=r,this._frameTaskTimes.set(i.priority,this._frameTaskTimes.get(i.priority)+r),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(qe))this._frameTaskTimes.set(qe[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach((i,r)=>this.performanceInfo.tasks.get(r).push(i)),this.performanceInfo.total.push(e)}get test(){return this._test}},xhe=class{get task(){return this._task.value}get readyToRun(){return this._queue.readyToRun}get updating(){return this._queue.updating}constructor(e,i,r){this._scheduler=e,this.name=i,this.blockFrame=0,this.runtime=0,this._queue=new phe,this._handles=new Bh,this._basePriority=qP(i),this.schedulePriority=this._basePriority,this._task=Th(r??this._queue),this._handles.add(sn(()=>this.task.readyToRun,n=>e.taskRunningChanged(n)))}remove(){this.processQueue(tm),this._scheduler.removeTask(this),this.schedule=ax.schedule,this.reschedule=ax.reschedule,this.scheduleGenerator=ax.scheduleGenerator,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const i=qP(e);this._basePriority!==yn&&this.schedulePriority===0||(this.schedulePriority=i),this._basePriority=i}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.readyToRun||!this.task.destroyed&&this.task.readyToRun}schedule(e,i,r){return this._queue.push(e,i,r)}reschedule(e,i,r){return this._queue.unshift(e,i,r)}scheduleGenerator(e,i,r){return this._queue.pushGenerator(e,i,r)}processQueue(e){return this._queue.runTask(e)}},t9=class{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(e()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}};const tm=new t9;tm.enabled=!1;let $he=class{remove(){}processQueue(){}schedule(e,i,r){try{if(Zi(i)){const n=at();return r?Promise.resolve(r(n)):Promise.reject(n)}return m$(e(tm))}catch(n){return Promise.reject(n)}}reschedule(e,i,r){return this.schedule(e,i,r)}async scheduleGenerator(e,i,r){if(Zi(i)){const s=at();if(r)return r(s);throw s}const n=e(tm);for(;;){const s=n.next(tm),o=Yi(s)?await s:s;if(Zi(i)){const a=at();if(r){const d=r(a),h=n.return(null);return Yi(h)&&await R0(h),d}const l=n.throw(a);throw Yi(l)&&await R0(l),a}if(o.done)return o.value}}};const ax=new $he;let She=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=ghe(),this._schedulerHandle=sn(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||Yi(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:r,graphicsView:n,labelManager:s,state:{id:o}}=this.view;r?.forEach(this._updateLayerView,this),s!=null&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=0:this.view.interacting?this._scheduler.state=1:this._scheduler.state=2,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==2||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new uM,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=De(()=>e.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=ch(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate();const i=this.view.state,r=e.lastUpdateId;r!=null&&(this.stationary||e.moving)||(e.moving=!0),r!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews?.forEach(this._updateLayerView,this)}};function khe(t,e){const{spatialReference:i}=e,r=[e.x,e.y];let n,s,o,a;const l=[0,0],d=The(t);for(let y=0;y<d.length;y++){const b=d[y];for(let x=0;x<b.length-1;x++){Nie(l,r,b,x);const $=ow(r,l);(n==null||$<n)&&(n=$,s=[...l],o=y,a=x)}}if(n==null||!s||o==null||a==null)throw new K("nearest-coordinate:failed","Failed to find the nearest coordinate");const[h,f]=s;return{coordinate:new Ee({x:h,y:f,spatialReference:i}),distance:n}}function The(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}var dT;let lc=dT=class extends wE(Te){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return su(this.geometry,this.spatialReference)}catch(t){return ue.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,e){if(this.normalizedGeometry==null)return t;const i=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?hg(this.normalizedGeometry,i):yE(this.normalizedGeometry,i))return t;const{coordinate:r}=khe(this.normalizedGeometry,i);return r&&(t.targetGeometry=r),t}clone(){return new dT({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};u([p({constructOnly:!0})],lc.prototype,"geometry",void 0),u([p({readOnly:!0})],lc.prototype,"normalizedGeometry",null),u([p({constructOnly:!0})],lc.prototype,"spatialReference",void 0),lc=dT=u([R("esri.views.2d.constraints.GeometryConstraint")],lc);var hT;let _f=hT=class extends wE(Te){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e&&(this.rotationEnabled||(t.rotation=e.rotation)),t}clone(){return new hT({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};u([p()],_f.prototype,"enabled",void 0),u([p()],_f.prototype,"rotationEnabled",void 0),_f=hT=u([R("esri.views.2d.constraints.RotationConstraint")],_f);const i9=_f;var pT;let vr=pT=class extends wE(Te){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:r,minZoom:n,maxZoom:s}=this,o=-1,a=-1,l=!1,d=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!e?.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);e=e.map(h=>h.clone()),e.sort((h,f)=>f.scale-h.scale),e.forEach((h,f)=>h.level=f);for(const h of e)!l&&i>0&&i>=h.scale&&(o=h.level,l=!0),!d&&r>0&&r>=h.scale&&(a=t?t.level:-1,d=!0),t=h;n===-1&&(n=i===0?0:o),s===-1&&(s=r===0?e.length-1:a),n=Math.max(n,0),n=Math.min(n,e.length-1),s=Math.max(s,0),s=Math.min(s,e.length-1),n>s&&([n,s]=[s,n]),i=e[n].scale,r=e[s].scale,e.splice(0,n),e.splice(s-n+1),e.forEach((h,f)=>{this._lodByScale[h.scale]=h,this._scales[f]=h.scale}),this._set("effectiveLODs",e),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,r=this.effectiveMaxScale,n=t.targetGeometry,s=e&&e.targetGeometry,o=r!==0&&t.scale<r,a=i!==0&&t.scale>i;if(o||a){const l=a?i:r;if(e&&s){const d=(l-e.scale)/(t.scale-e.scale);n.x=s.x+(n.x-s.x)*d,n.y=s.y+(n.y-s.y)*d}t.scale=l}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.floor(t),r=Math.ceil(t);return e[i]+(t-i)*(e[r]-e[i])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,r;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let n=0;n<e.length-1;n++){if(i=e[n],r=e[n+1],r===t)return n+this.effectiveMinZoom+1;if(i>t&&r<t)return n+this.effectiveMinZoom+1-(t-r)/(i-r)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new pT({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e,this._scales[0])),this._lodByScale[t].scale}};u([p({readOnly:!0})],vr.prototype,"effectiveLODs",void 0),u([p({readOnly:!0})],vr.prototype,"effectiveMinZoom",void 0),u([p({readOnly:!0})],vr.prototype,"effectiveMaxZoom",void 0),u([p({readOnly:!0})],vr.prototype,"effectiveMinScale",void 0),u([p({readOnly:!0})],vr.prototype,"effectiveMaxScale",void 0),u([p()],vr.prototype,"lods",void 0),u([p()],vr.prototype,"minZoom",void 0),u([p()],vr.prototype,"maxZoom",void 0),u([p()],vr.prototype,"minScale",void 0),u([p()],vr.prototype,"maxScale",void 0),u([p()],vr.prototype,"snapToZoom",void 0),vr=pT=u([R("esri.views.2d.constraints.ZoomConstraint")],vr);const r9=vr,Ehe={base:null,key:"type",typeMap:{extent:We,polygon:Dt}};let Gt=class extends Te{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new pe}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const e=this._get("_geometry");return e&&this.geometry===e.geometry&&this.view?.constraintsInfo.spatialReference===e.spatialReference?e:new lc({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new i9({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),i=this.lods||this.view?.constraintsInfo.lods,r=this.minZoom,n=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return e&&e.lods===i&&e.minZoom===r&&e.maxZoom===n&&e.minScale===s&&e.maxScale===o&&e.snapToZoom===a?e:new r9({lods:i,minZoom:r,maxZoom:n,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(e){const i=this.effectiveMaxScale;return i===0||e>=i}canZoomOutTo(e){const i=this.effectiveMinScale;return i===0||e<=i}constrain(e,i){return this._zoom.constrain(e,i),this._rotation.constrain(e,i),this._geometry.constrain(e,i),this.customConstraints.forEach(r=>r.constrain(e,i)),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach(i=>i.applyPanConstraint?.(e)),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};u([p({readOnly:!0})],Gt.prototype,"effectiveLODs",null),u([p({readOnly:!0})],Gt.prototype,"effectiveMinScale",null),u([p({readOnly:!0})],Gt.prototype,"effectiveMaxScale",null),u([p({readOnly:!0})],Gt.prototype,"effectiveMinZoom",null),u([p({readOnly:!0})],Gt.prototype,"effectiveMaxZoom",null),u([p({types:Ehe,value:null})],Gt.prototype,"geometry",null),u([p({type:[Ii]})],Gt.prototype,"lods",void 0),u([p()],Gt.prototype,"minScale",void 0),u([p()],Gt.prototype,"maxScale",void 0),u([p()],Gt.prototype,"minZoom",void 0),u([p()],Gt.prototype,"maxZoom",void 0),u([p()],Gt.prototype,"rotationEnabled",void 0),u([p()],Gt.prototype,"snapToZoom",void 0),u([p({type:pe})],Gt.prototype,"customConstraints",void 0),u([p()],Gt.prototype,"view",void 0),u([p({readOnly:!0})],Gt.prototype,"version",null),u([p({type:lc,readOnly:!0})],Gt.prototype,"_geometry",null),u([p({type:i9})],Gt.prototype,"_rotation",null),u([p({readOnly:!0,type:r9})],Gt.prototype,"_zoom",null),Gt=u([R("esri.views.2d.MapViewConstraints")],Gt);const WP=Gt;let Li=class extends Te{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([De(()=>this.constraints?.version,i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},nl)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new Ee({x:e[0],y:e[1],spatialReference:i})}set center(e){if(e==null)return;if(!this.ready)return void this._set("center",e);let i;try{i=this._project(e,this.state.spatialReference)}catch(n){return void ue.getLogger(this).error(new K("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:n}))}const r=this.viewpoint;aT(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void ue.getLogger(this).error(new K("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(e,this.state.spatialReference)}catch(n){return void ue.getLogger(this).error(new K("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const r=this.viewpoint;Vde(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const i=this.viewpoint;Xde(i,i,e),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;FP(i,i,e),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?r=new K("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):e.targetGeometry==null&&(r=new K("mapview:invalid-viewpoint","geometry not defined"))}catch(s){r=new K("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:s})}if(r)return void ue.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const n=new Cn({targetGeometry:new Ee,scale:0,rotation:0});Wi(n,i),this.constraints?.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(e){if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const i=this.constraints?.zoomToScale(e)??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;FP(r,r,i),this.viewpoint=r,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,n=this._get("center"),s=this._get("extent"),o=this._get("scale"),a=this._get("rotation"),l=this._get("viewpoint"),d=this._get("zoom"),h=d!=null&&r!=null&&r.zoomToScale(d)||void 0;let f,y,b;const x=l?.rotation,$=l?.targetGeometry;$?.type==="extent"?f=$:$?.type==="point"&&(y=$,b=l?.scale);const E=s??f;return{center:n??y??E?.center,rotation:a??x,scale:(o??h??b??(E&&vw(E,[e[0]-i.left-i.right,e[1]-i.top-i.bottom])))||void 0}}startup(e,i,r,n){const s=e.targetGeometry;try{this._project(e,r)}catch(o){ue.getLogger(this).warn(new Zs("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:r,error:o})),e.targetGeometry=n||new Ee({x:0,y:0,spatialReference:r})}this.constraints?.fit(e),this._set("state",new uM({padding:this.padding,size:i,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,i],spatialReference:r,rotation:n,scale:s}=this.state.paddedViewState,o=new Ee({x:e,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",n),this._set("scale",s),this._set("state",null)}changeSpatialReference(e){const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const l=i.viewpoint.clone();l.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=l}const r=i.clone(),[n,s]=i.center;let o=null;try{o=this._project(new Ee({x:n,y:s,spatialReference:i.spatialReference}),e)}catch(l){xN()||ue.getLogger(this).warn(new Zs("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o?.toJSON(),spatialReference:e,error:l}))}o||(o=new Ee({x:0,y:0,spatialReference:e}));const a=aT(new Cn({targetGeometry:new Ee,scale:0,rotation:0}),i.viewpoint,o);r.viewpoint=a;try{const d=[i.size[0]/2,i.size[1]/2],h=[d[0]+20,d[1]],f=i.toMap([0,0],h),{x:y,y:b}=this._project(new Ee({x:f[0],y:f[1],spatialReference:i.spatialReference}),e);f[0]=y,f[1]=b,r.toScreen(f,f);const x=Yde(d,f,h),$=Math.hypot(f[0]-d[0],f[1]-d[1])/20;!Number.isFinite($)||Math.abs($)>4?(a.rotation=0,a.targetGeometry=new Ee({x:0,y:0,spatialReference:e})):(a.scale*=$,a.scale>B("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(x)?x:0)}catch{}this._get("constraints")?.constrain(a,void 0),this._get("state").viewpoint=a}resize(e,i){if(!this.ready)return;const r=this.state;let n=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.slice();r.size=[e,i],Kde(n,n,s,this.state.paddedViewState.size,this.resizeAlign),n=this.constraints?.constrain(n,void 0)??n,this.state.viewpoint=n}toMap(e){if(!this.ready)return null;const i=[0,0],[r,n]=this.state.toMap(i,[e.x,e.y]),s=this.state.spatialReference;return new Ee({x:r,y:n,spatialReference:s})}toScreen(e,i){if(!this.ready)return null;const r=this._project(e,this.state.spatialReference),n=[r.x,r.y];return i?.pickClosestTarget===!1||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),yi(n[0],n[1])}_project(e,i){const r=e?.targetGeometry||e;if(!i)return e;if(!r)return null;if(i.imageCoordinateSystem||r.spatialReference?.imageCoordinateSystem||Ti(i,r.spatialReference))return e;const n=su(r,i);if(!n)throw new K("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return Mhe(e)?(e.targetGeometry=n,e):n}};function Mhe(t){return t?.declaredClass==="esri.Viewpoint"}u([p({type:Ee})],Li.prototype,"center",null),u([p()],Li.prototype,"constraints",void 0),u([p({type:We})],Li.prototype,"extent",null),u([p({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],Li.prototype,"padding",null),u([p()],Li.prototype,"ready",void 0),u([p()],Li.prototype,"resizeAlign",void 0),u([p({readOnly:!0})],Li.prototype,"resolution",null),u([p({type:Number})],Li.prototype,"rotation",null),u([p({type:Number})],Li.prototype,"scale",null),u([p({readOnly:!0})],Li.prototype,"state",void 0),u([p({type:Cn})],Li.prototype,"viewpoint",null),u([p({readOnly:!0})],Li.prototype,"visibleArea",null),u([p()],Li.prototype,"zoom",null),Li=u([R("esri.views.2d.ViewStateManager")],Li);const ZP=160;let xf=class extends Te{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=ZP&&this.clear()},ZP))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};u([p()],xf.prototype,"_timer",void 0),u([p()],xf.prototype,"stationary",null),xf=u([R("esri.views.2d.support.StationaryManager")],xf);const Che=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.fullOpacity=1,this.stateManager=new Li({constraints:new WP({view:this})}),this.stationaryManager=new xf,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new She(this),this.viewEvents=new p8(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([De(()=>this.viewpoint,()=>this.stationaryManager.flip(),nl)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(r){this.stateManager.extent=r}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(r){const n=this._get("animation");if(r===n)return;if(n&&n.stop(),r!==this.animationManager.animation&&this.animationManager.stop(),!r||r.isFulfilled())return void this._set("animation",null);this._set("animation",r);const s=()=>{this.destroyed||r===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};r.when(s,s)}get constraints(){return this.stateManager?.constraints}set constraints(r){r.view=this;const n=this.stateManager.constraints;this.stateManager.constraints=r,n?.destroy()}get padding(){return this.stateManager?.padding}set padding(r){this.stateManager&&(this.stateManager.padding=r)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(r){this.stateManager.resizeAlign=r}get rotation(){return this.stateManager.rotation??0}set rotation(r){const{rotationEnabled:n}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=r,this.constraints.rotationEnabled=n}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(r){this.stateManager.viewpoint=r,this.frameTask.requestFrame()}};return u([p({readOnly:!0})],i.prototype,"animationManager",void 0),u([p({readOnly:!0})],i.prototype,"fullOpacity",void 0),u([p()],i.prototype,"stateManager",void 0),u([p()],i.prototype,"constraintsInfo",null),u([p()],i.prototype,"extent",null),u([p({readOnly:!0})],i.prototype,"state",null),u([p({readOnly:!0})],i.prototype,"mapViewNavigation",void 0),u([p()],i.prototype,"renderingOptions",void 0),u([p({readOnly:!0})],i.prototype,"interacting",null),u([p()],i.prototype,"stationary",null),u([p()],i.prototype,"animation",null),u([p({type:WP})],i.prototype,"constraints",null),u([p()],i.prototype,"padding",null),u([p()],i.prototype,"resizeAlign",null),u([p()],i.prototype,"rotation",null),u([p({readOnly:!0})],i.prototype,"viewEvents",void 0),u([p({type:Cn})],i.prototype,"viewpoint",null),i=u([R("esri.views.Viewport2DBaseMixin")],i),i},Ihe=()=>Qe.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;var th;let Xu=(th=class extends rE{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=nn(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._resolver?.reject(new K("view:animation-stopped","ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._resolver?.resolve())}update(e,i){i||(i=Yi(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",i)}},th.state={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"},th);u([p({readOnly:!0})],Xu.prototype,"done",null),u([p({readOnly:!0,type:String})],Xu.prototype,"state",void 0),u([p()],Xu.prototype,"target",void 0),Xu=u([R("esri.views.ViewAnimation")],Xu);const fT=Xu;let i0=class extends Te{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,i){if(!e)return void ue.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new fT;this.view.animation=r,await x2(()=>this.view.ready,i);const n={...i,animate:i?.animate??(!Ihe()&&this.view.animationsEnabled),animationMode:i?.animationMode??"auto"},{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:d,padding:h,allLayerViews:f}=this.view,y=Fde(e,{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:d,padding:h,allLayerViews:f,pickClosestTarget:i?.pickClosestTarget??!0});return r?.update(y),this._gotoTask={},n.animate?this._gotoAnimated(y,n):this._gotoImmediate(y,n)}_gotoImmediate(e,i){const r=this._gotoTask,n=this.view.animation,s=e.then(o=>{if(Pt(i),r!==this._gotoTask)throw new K("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=o,n.finish()});return this._cancellableGoTo(r,n,s,i)}_gotoAnimated(e,i){const r=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();const s=e.then(o=>{if(Pt(i),r!==this._gotoTask)throw new K("view:goto-interrupted","Goto was interrupted");return n.update(o),this.view.animationManager.animate(n,this.view.viewpoint,i),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,n,s,i)}_cancellableGoTo(e,i,r,n){const s=()=>e===this._gotoTask;return qG(r,n).finally(()=>{s()&&(i.done||i.stop())})}};u([p({constructOnly:!0})],i0.prototype,"view",void 0),i0=u([R("esri.views.2d.GoToManager")],i0);function n9(t,e){switch(e){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}function s9(t,e){return e.some(i=>n9(t,i))}function YP(t,{dragPrimary:e,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:e},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(n=>n.value===t).map(n=>n.key)}let JP=class extends wi{constructor(e,i){super(!0),this._view=e,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(e,i){n9(e.data,"primary")&&(e.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},Ahe=class extends wi{constructor(e,i,r){super(!0),this.view=e,this.pointerType=i,this.registerIncoming("double-tap-drag",r,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(e){const{data:i}=e,{pointerType:r}=i;if(r!==this.pointerType)return;e.stopPropagation();const{action:n,delta:s}=i,{view:o}=this,{mapViewNavigation:a}=o;switch(n){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,d=this._startScale*l,h=d/this._currentScale;a.setViewpointImmediate(h),this._currentScale=d;break}case"end":{const{constraints:l}=o,{effectiveLODs:d,snapToZoom:h}=l;if(!h||!d)return void a.end();const f=l.snapScale(this._currentScale),y=(s.y>0?Math.max(f,l.snapToPreviousScale(this._startScale)):Math.min(f,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(y).then(()=>{a.end()});break}}}},ww=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const i=e.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){this._startEvent=e,this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},Phe=class extends wi{constructor(e,i,r){super(!0),this.view=e,this.pointerActions=i,this.registerIncoming("drag",r,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new ww({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&s9(r.data,this.pointerActions)})}_handleDrag(e){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},Ohe=class extends wi{constructor(e,i,r){super(!0),this._view=e,this.pointerActions=i;const n=this._view.mapViewNavigation;this._dragEventSeparator=new ww({start:(s,o)=>{n.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{n.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{n.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&s9(o.data,this.pointerActions)}),this.registerIncoming("drag",r,s=>this._dragEventSeparator.handle(s))}};function o9(t){const e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)}function Rhe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Dhe(t,e,i,r){return t[0]=e,t[1]=i,t[2]=r,t}function zhe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function a9(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function l9(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function c9(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function Nhe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Lhe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function Fhe(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function jhe(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function Uhe(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function Vhe(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function Bhe(t,e=0,i=1){return t[0]=Math.min(Math.max(t[0],e),i),t[1]=Math.min(Math.max(t[1],e),i),t[2]=Math.min(Math.max(t[2],e),i),t}function qhe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function u9(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Hhe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t}function d9(t,e){const i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}function h9(t,e){const i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return i*i+r*r+n*n}function p9(t){const e=t[0],i=t[1],r=t[2];return e*e+i*i+r*r}function Ghe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Whe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function mT(t,e){const i=e[0],r=e[1],n=e[2];let s=i*i+r*r+n*n;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}function f9(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zhe(t,e,i){const r=e[0],n=e[1],s=e[2],o=i[0],a=i[1],l=i[2];return t[0]=n*l-s*a,t[1]=s*o-r*l,t[2]=r*a-n*o,t}function Yhe(t,e,i){const r=e[0],n=e[1],s=e[2],o=i[0],a=i[1],l=i[2],d=n*l-s*a,h=s*o-r*l,f=r*a-n*o,y=Math.sqrt(d*d+h*h+f*f);return t[0]=d/y,t[1]=h/y,t[2]=f/y,t}function Jhe(t,e,i,r){const n=e[0],s=e[1],o=e[2];return t[0]=n+r*(i[0]-n),t[1]=s+r*(i[1]-s),t[2]=o+r*(i[2]-o),t}function Khe(t,e,i,r,n,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,d=o*(s-1),h=o*(3-2*s);return t[0]=e[0]*a+i[0]*l+r[0]*d+n[0]*h,t[1]=e[1]*a+i[1]*l+r[1]*d+n[1]*h,t[2]=e[2]*a+i[2]*l+r[2]*d+n[2]*h,t}function Xhe(t,e,i,r,n,s){const o=1-s,a=o*o,l=s*s,d=a*o,h=3*s*a,f=3*l*o,y=l*s;return t[0]=e[0]*d+i[0]*h+r[0]*f+n[0]*y,t[1]=e[1]*d+i[1]*h+r[1]*f+n[1]*y,t[2]=e[2]*d+i[2]*h+r[2]*f+n[2]*y,t}function Qhe(t,e=1){const i=EE,r=2*i()*Math.PI,n=2*i()-1,s=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*s,t[1]=Math.sin(r)*s,t[2]=n*e,t}function epe(t,e,i){const r=e[0],n=e[1],s=e[2];return t[0]=i[0]*r+i[4]*n+i[8]*s+i[12],t[1]=i[1]*r+i[5]*n+i[9]*s+i[13],t[2]=i[2]*r+i[6]*n+i[10]*s+i[14],t}function tpe(t,e,i){const r=e[0],n=e[1],s=e[2];return t[0]=r*i[0]+n*i[3]+s*i[6],t[1]=r*i[1]+n*i[4]+s*i[7],t[2]=r*i[2]+n*i[5]+s*i[8],t}function ipe(t,e,i){const r=i[0],n=i[1],s=i[2],o=i[3],a=e[0],l=e[1],d=e[2],h=n*d-s*l,f=s*a-r*d,y=r*l-n*a,b=n*y-s*f,x=s*h-r*y,$=r*f-n*h,E=2*o;return t[0]=a+h*E+2*b,t[1]=l+f*E+2*x,t[2]=d+y*E+2*$,t}function rpe(t,e,i,r){const n=[],s=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],s[0]=n[0],s[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),s[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function npe(t,e,i,r){const n=[],s=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],s[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),s[1]=n[1],s[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function spe(t,e,i,r){const n=[],s=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],s[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),s[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),s[2]=n[2],t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function ope(t,e){mT(KP,t),mT(XP,e);const i=f9(KP,XP);return i>1?0:i<-1?Math.PI:Math.acos(i)}const KP=ml(),XP=ml();function ape(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function lpe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function cpe(t,e){if(t===e)return!0;const i=t[0],r=t[1],n=t[2],s=e[0],o=e[1],a=e[2],l=Or();return Math.abs(i-s)<=l*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=l*Math.max(1,Math.abs(n),Math.abs(a))}function upe(t,e,i){const r=i[0]-e[0],n=i[1]-e[1],s=i[2]-e[2];let o=r*r+n*n+s*s;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=s*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const dpe=a9,hpe=l9,ppe=c9,fpe=d9,mpe=h9,gpe=o9,ype=p9;Object.freeze(Object.defineProperty({__proto__:null,abs:Fhe,add:zhe,angle:ope,bezier:Xhe,ceil:Nhe,clamp:Bhe,copy:Rhe,cross:Zhe,crossAndNormalize:Yhe,direction:upe,dist:fpe,distance:d9,div:ppe,divide:c9,dot:f9,equals:cpe,exactEquals:lpe,floor:Lhe,hermite:Khe,inverse:Whe,len:gpe,length:o9,lerp:Jhe,max:Vhe,min:Uhe,mul:hpe,multiply:l9,negate:Ghe,normalize:mT,random:Qhe,rotateX:rpe,rotateY:npe,rotateZ:spe,round:qhe,scale:u9,scaleAndAdd:Hhe,set:Dhe,sign:jhe,sqrDist:mpe,sqrLen:ype,squaredDistance:h9,squaredLength:p9,str:ape,sub:dpe,subtract:a9,transformMat3:tpe,transformMat4:epe,transformQuat:ipe},Symbol.toStringTag,{value:"Module"}));function Xn(t){let e=t*t;return t<0&&(e*=-1),e}function vpe(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function bpe(t,e,i){const r=i,n=t.state,s=t.device,o=e.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(r.translation[0]=Xn(n.axes[0]),r.translation[1]=Xn(n.axes[1]),r.translation[2]=Xn(n.buttons[7])-Xn(n.buttons[6]),r.heading=Xn(n.axes[2]),r.tilt=Xn(n.axes[3])):s.deviceType==="spacemouse"&&(r.translation[0]=1.2*Xn(n.axes[0]),r.translation[1]=1.2*Xn(n.axes[1]),r.translation[2]=2*-Xn(n.axes[2]),r.heading=1.2*Xn(n.axes[5]),r.tilt=1.2*Xn(n.axes[3])),r.tilt*=o,u9(r.translation,r.translation,a),r}function wpe(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}let _pe=class extends wi{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new Bh,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([De(()=>this._view.navigation.gamepad?.enabled,i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=ch({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Ji)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action==="end"?(this._currentDevice=null,vpe(this._transformation)):(this._currentDevice=e.data.device,bpe(e.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(e){const i=this._transformation;if(wpe(i))return void this._frameTask?.pause();const r=this._view.viewpoint.clone(),n=this._view.navigation.gamepad.velocityFactor,s=$pe*n*e;bw(r,r,[i.translation[0]*s,-i.translation[1]*s]);const o=1+i.translation[2]*Spe*e,a=this._view.constraints.rotationEnabled?-i.heading*xpe*e:0,l=this._view.size,d=[l[0]/2,l[1]];q8(r,r,o,a,d,l);const h=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=h}};const xpe=.06,$pe=.7,Spe=6e-4;function m9(t){const e=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",e),Je(()=>document.removeEventListener("visibilitychange",e))}let kpe=class extends wi{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=n=>{const s=this._keyMap[n.data.key];if(n.modifiers.has("Meta")||n.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;n.stopPropagation(),n.preventDefault();const o=n.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const a=this._timeout===void 0,l=this._pressedKeys.size>0;a||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=m9(n=>n?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(e){const i=this._currentDirection!=null;if(e!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout(()=>{this._timeout=void 0,e()},this._stickyKeyDuration)}},Tpe=class extends wi{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",r,n=>this._handleKeyUp(n)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=m9(n=>n?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,i){for(const r of e)this._keyToDirection.set(r,i)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const r=e.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection.get(e.data.key);if(this._pressed=n!=null,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}},Epe=class extends wi{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),i.zoomIn.forEach(n=>this._keysToZoomAction[n]=0),i.zoomOut.forEach(n=>this._keysToZoomAction[n]=1)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const i=e.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=e.data;if(!(r in this._keysToZoomAction))return;const n=this._keysToZoomAction[r],{mapViewNavigation:s}=this.view;let o=null;switch(n){case 0:o=s.zoomIn();break;case 1:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),e.stopPropagation()}};const Mpe=.6;let Cpe=class extends wi{constructor(e,i){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(e){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:n,deltaY:s}=e.data,o=1/Mpe**(1/60*s),a=i.zoom(o,[r,n]);this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()})}},Ipe=class extends wi{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new ww({start:(r,n)=>{i.pinch.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{i.pinch.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{i.pinch.end(this.view),n.stopPropagation()},condition:r=>r>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function QP(t){const e=t.native;return e?{buttons:e.buttons.map(i=>i.pressed?i.value||1:0),axes:e.axes.map(i=>Ope(i,t.axisThreshold))}:{buttons:[],axes:[]}}function Ape(t,e){if(t.axes.length!==e.axes.length||t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function Ppe(t){for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==0)return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==0)return!1;return!0}function Ope(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}let Rpe=class{constructor(e,i){this._element=e,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,QP(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=r&&n,this.supported&&(eO(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const i=new eM(e);i.deviceType!=="unknown"&&(this._inputDevices[e.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=ch({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!e||this._input.gamepad.enabledFocusMode==="view"&&!i;eO(n=>{const s=this._inputDevices[n.index];if(!s)return;const o=this._latestUpdate[n.index],a=QP(s),l=r||Ppe(a);o&&(o.timestamp===n.timestamp||!o.active&&l||Ape(o.state,a))||this._emitGamepadEvent(n,a,!l)})}_emitGamepadEvent(e,i,r){const n=this._latestUpdate[e.index],s=n&&n.active;if(!s&&!r)return;const o=!s&&r?"start":s&&r?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[e.index],state:i,action:o})}};function Dpe(t){if(!t||!t.connected)return!1;for(let e=0;e<t.axes.length;e++)if(isNaN(t.axes[e]))return!1;return!0}function eO(t){for(const e of navigator.getGamepads())Dpe(e)&&t(e)}const tO=B("edge"),zpe=B("chrome"),Npe=B("ff"),Lpe=B("safari"),iO="esri-view-surface",Eu={touchNone:`${iO}--touch-none`,touchPan:`${iO}--touch-pan`};var Dc;let Fpe=(Dc=class{constructor(e,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Rpe(e,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>this._releasePointerCaptureSafe(e)),this._activePointerCaptures.clear(),this._gamepadSource=Ut(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const i in this._active)if(!e||!e.has(i)){const r=this._active[i];this._element.removeEventListener(lx[i],r),delete this._active[i]}e&&e.forEach(i=>{if(!this._active[i]&&lx[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(lx[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1)}setPointerCapture(e,i){i?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Eu.touchNone:Eu.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Eu.touchPan:Eu.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Eu.touchNone),this._element.classList.remove(Eu.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,i){const r=m8(this._element,e);return Dc.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(e,i){const{key:r}=i;r&&e==="key-up"&&this._keyDownState.delete(r);const n={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&e==="key-down"&&this._keyDownState.add(n.key),this._callback(e,n)}_handlePointer(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(e,r)}_handlePointerPreventDefault(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(e,r)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&B("mac")&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:tO&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}tO?r*=.7:zpe||Lpe?r*=.6:Npe&&(r*=1.375);const n=100,s=Math.abs(r);s>n&&(r=r/s*200/(1+Math.exp(-.02*(s-n))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(e,o)}_handlePointerCaptureLost(e,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(e,i)}_handleDefault(e,i){const r={native:i};i.preventDefault(),this._callback(e,r)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}},Dc.test={disableSubpixelCoordinates:!1},Dc);const lx={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let jpe=class extends wi{constructor(){super(!0),this.registerIncoming("context-menu",e=>e.data.native.preventDefault())}};const g9=()=>({maximumClickDelay:300}),Upe=(t={})=>({...g9(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...t}),hM=(t={})=>({...g9(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...t});function xb(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function Vpe(t,e){const i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)}function Bpe(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:yi()},t.length===0)return e;if(t.length===1)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(t.length===2){const[j,D]=t,[F,G]=[D.x-j.x,D.y-j.y];return e.radius=Math.sqrt(F*F+G*G)/2,e.center.x=(j.x+D.x)/2,e.center.y=(j.y+D.y)/2,e}let i=0,r=0;for(let j=0;j<t.length;j++)i+=t[j].x,r+=t[j].y;i/=t.length,r/=t.length;const n=t.map(j=>j.x-i),s=t.map(j=>j.y-r);let o=0,a=0,l=0,d=0,h=0,f=0,y=0;for(let j=0;j<n.length;j++){const D=n[j],F=s[j],G=D*D,z=F*F;o+=G,a+=z,l+=D*F,d+=G*D,h+=z*F,f+=D*z,y+=F*G}const b=.5*(d+f),x=.5*(h+y),$=o*a-l*l,E=(b*a-x*l)/$,C=(o*x-l*b)/$,O=yi(E+i,C+r);return{radius:Math.sqrt(E*E+C*C+(o+a)/t.length),center:O}}function Cc(t){const{native:e}=t,{pointerId:i,button:r,pointerType:n}=e;return n==="mouse"?`${i}:${r}`:`${n}`}let qpe=class extends wi{constructor(e={},i=Oh){super(!1),this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=yi(0,0),this._pointerState=new Map,this._parameters=hM(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new ww({start:(r,n)=>this._dragStart(r,n),update:(r,n)=>this._dragUpdate(n),end:(r,n)=>this._dragEnd(n)}),this.registerIncoming("drag",r=>this._dragEventSeparator.handle(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=_t(e.doubleTapTimeout)})}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(e){const i=this._pointerState.get(e);i&&(i.doubleTapTimeout=_t(i.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,i){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:n}=i,{center:s}=r;this._dragStartCenter=s;const o=cx("begin",yi(0,0),r);this._doubleTapDrag.emit(o,void 0,n),i.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:n}=i,s=cx("update",yi(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:n}=i,s=cx("end",yi(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:i}=e,r=Cc(i),n=this._pointerState.get(r),{pointerType:s}=i.native;if(n){const o=s==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(r),xb(n.event.data,i)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:i}=e,{pointerType:r}=i.native,n=Cc(i),s=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(n),s);this._pointerState.set(n,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function cx(t,e,i){const{button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}=i;return{action:t,delta:e,button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}}let Hpe=class extends wi{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,i,r,n){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:n,pointers:Gpe(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(e){const i=e.native.pointerId,r=Hy(this._activePointerMap).angle,n={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,n);const s=r0(n,y9(this._activePointerMap));n.initialAngle=s,n.lastAngle=s,this._updatePointerAngles(r)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;const i=e.native.pointerId,r=this._activePointerMap.get(i);r?r.event=e:this._addPointer(e)}_removePointer(e){const i=Hy(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(i)}_updatePointerAngles(e){const i=Hy(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=r0(r,i)-e,r.lastAngle=r0(r,i)-e})}_emitEvent(e,i,r){const n=Hy(this._activePointerMap);this._drag.emit(this._createPayload(e,i,n,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const i=e.data.native.pointerId,r=e.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const i=e.data,r=i.currentEvent,n=e.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,n)):(this._addPointer(r),this._emitEvent("added",r,n),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,n))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function y9(t){const e=[];return t.forEach(i=>{e.push(yi(i.event.x,i.event.y))}),Bpe(e)}function Hy(t){const e=y9(t);let i=0;return t.forEach(r=>{let n=r0(r,e),s=n-r.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;n=r.lastAngle+s,r.lastAngle=n;const o=n-r.initialAngle;i+=o}),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function Gpe(t){const e=new Map;return t.forEach((i,r)=>e.set(r,i.event)),e}function r0(t,e){const i=t.event,r=i.x-e.center.x,n=i.y-e.center.y;return Math.atan2(n,r)}let Wpe=class extends wi{constructor(e={},i=Oh){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=hM(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=Cc(i);if(!this._pointerState.has(r)){const n={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,n),this.startCapturingPointer(i.native)}}_handlePointerUp(e){const i=e.data,r=Cc(i),n=this._pointerState.get(r);if(n&&n.downButton===i.native.button){const s=n.immediateDoubleClick,o=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),xb(s,e.data)>o?this._startImmediateDoubleClick(e,n):(this._immediateDoubleClick.emit(e.data,void 0,s.modifiers),this._removeState(i))):xb(n,e.data)>o?this._removeState(i):this._startImmediateDoubleClick(e,n)}}_startImmediateDoubleClick(e,i){const r=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;i.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),r)}}_removeState(e){const i=Cc(e);this._pointerState.delete(i),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},Zpe=class extends wi{constructor(e={},i=Oh){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=Upe(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",r=>this._handlePointerLoss(r,"pointer-up")),this.registerIncoming("pointer-capture-lost",r=>this._handlePointerLoss(r,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",r=>this._handlePointerLoss(r,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",r=>this._handlePointerMove(r)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=_t(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=i.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const o=this._pointerState.get(r);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,e.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._parameters.holdDelay));const s={startEvent:i,previousEvent:i,startTimestamp:e.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(r,s),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const i=e.data,r=i.native.pointerId,n=this._pointerState.get(r);n&&(n.isDragging?this._pointerDrag.emit(Gy("update",n,i),void 0,n.modifiers):Vpe(i,n.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(e),n.previousEvent=i)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const i=e.data,r=i.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=e.modifiers,n.isDragging=!0,r===n.startEvent.native.pointerId?this._pointerDrag.emit(Gy("start",n,i)):this._pointerDrag.emit(Gy("start",n,n.previousEvent),e.timestamp))})}_handlePointerLoss(e,i){const r=e.data,n=r.native.pointerId,s=this._pointerState.get(n);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(Gy("end",s,i==="pointer-up"?r:s.previousEvent),void 0,s.modifiers):i==="pointer-up"&&s.downButton===r.native.button&&e.timestamp-s.startTimestamp<=this._parameters.maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function Gy(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}let Ype=class extends wi{constructor(e={},i=Oh){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=hM(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",r=>this._handleImmediateClick(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=_t(e.doubleClickTimer))}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(e,i){const r=this._pointerState.get(e);r&&(r.doubleClickTimer=_t(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const i=this._pointerState.get(e);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const i=e.data,{pointerType:r}=i.native,n=Jpe(i);if(!this._pointerState.has(n))return void this._startClick(e);const s=this._pointerState.get(n),{data:o,modifiers:a}=s.event,l=r==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;xb(o,i)>l?(this._clearDoubleClickTimer(n,!0),this._startClick(e)):(this._clearDoubleClickTimer(n,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(e){const i=Cc(e.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(e){const{data:i}=e,{native:{pointerType:r}}=i,n=Cc(i),s=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(n),s);this._pointerState.set(n,{event:e,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function Jpe(t){const{pointerId:e,pointerType:i,button:r}=t.native;return i==="mouse"?`${e}:${r}`:`${i}`}const Wy={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},rO=Symbol("handles");let Qu=class extends Te{initialize(){const e=()=>this.view?.ready;this.addHandles([sn(()=>!e(),()=>this._disconnect()),sn(e,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerInfo(){return this._inputManager?.latestPointerInfo}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(e){return this._inputManager?.isModifierKeyDown(e)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(rO),this._inputManager=Ut(this._inputManager)}_connect(){const e=this.view.surface,i=new Fpe(e,this.view.input),r=[new Wpe,new Zpe,new Ype,new Hpe(this.view.navigation),new qpe],n=new ts({eventSource:i,recognizers:r}),s=new Phe(this.view,["primary"]),o=new Ohe(this.view,["secondary"]);n.installHandlers("prevent-context-menu",[new jpe],Go.INTERNAL),n.installHandlers("navigation",[new Ipe(this.view),new _pe(this.view),new Cpe(this.view),new JP(this.view),new JP(this.view,[Wy.counter]),s,new kpe(this.view,Wy.pan),new Epe(this.view,Wy.zoom),new Tpe(this.view,Wy.rotate),o,new Ahe(this.view,"touch")],Go.INTERNAL),this.view.viewEvents.connect(n),this._source=i,this._inputManager=n,this.addHandles([De(()=>this.view?.navigation?.browserTouchPanEnabled,a=>{this._source&&(this._source.browserTouchPanningEnabled=!a)},Ji),De(()=>{const{actionMap:a}=this.view.navigation;return{panActions:YP("pan",a),rotateActions:YP("rotate",a)}},({panActions:a,rotateActions:l})=>{s.pointerActions=a,o.pointerActions=l},Ui)],rO)}get test(){}};u([p()],Qu.prototype,"view",void 0),u([p()],Qu.prototype,"latestPointerInfo",null),u([p()],Qu.prototype,"multiTouchActive",null),Qu=u([R("esri.views.2d.input.MapViewInputManager")],Qu);const Kpe=Qu,Xpe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToManager=new i0({view:this}),this.animationsEnabled=!0,this.inputManager=new Kpe({view:this}),this.addHandles([this.on("resize",n=>this.stateManager.resize(n.width,n.height))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(r,n,s,o){return this.viewEvents.on(r,n,s,o)||super.on(r,n)}hasEventListener(r){return super.hasEventListener(r)||this.viewEvents.hasHandler(r)}goTo(r,n){return this.goToManager.goTo(r,n)}toMap(r){if(!this.ready)return null;const n=y8(r)?g8(this,r):r;return this.stateManager.toMap(n)}};return u([p()],i.prototype,"goToManager",void 0),u([p({readOnly:!0})],i.prototype,"interacting",null),u([p()],i.prototype,"stationary",null),u([p()],i.prototype,"animationsEnabled",void 0),u([p({readOnly:!0})],i.prototype,"inputManager",void 0),i=u([R("esri.views.Viewport2DMixin")],i),i};let nO=class{constructor(e){this._view=e,this.viewpoint=new Cn({targetGeometry:new Ee,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,i]=this._view.size;return Math.sqrt(e*e+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return V8(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,i){i.pan=BN(this.center,e.center);let r=Math.abs(e.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=pg(r),i.sourceZoom=this.scale,i.targetZoom=e.scale}interpolate(e,i,r){const{pan:n,rotate:s,zoom:o,zoomOffset:a}=r,{center:l}=this;l.spatialReference=e.center.spatialReference,l.x=Qp(e.center.x,i.center.x,n),l.y=Qp(e.center.y,i.center.y,n),this.viewpoint.scale=Qp(e.scale,i.scale+a,o);let d=e.rotation;const h=i.rotation;Math.abs(h-d)>=180&&(d+=360*(d<h?1:-1)),this.viewpoint.rotation=Qp(d,h,s)}copyFrom(e){Wi(this.viewpoint,e.viewpoint),this._view=e.view}};function Dp(t,e,i,r){const n=3*t,s=3*(i-t)-n,o=1-n-s,a=3*e,l=3*(r-e)-a,d=1-a-l;function h(x){return((o*x+s)*x+n)*x}function f(x){return((d*x+l)*x+a)*x}function y(x){return(3*o*x+2*s)*x+n}function b(x,$){let E,C,O,j,D,F;for(O=x,F=0;F<8;F++){if(j=h(O)-x,Math.abs(j)<$)return O;if(D=y(O),Math.abs(D)<1e-6)break;O-=j/D}if(E=0,C=1,O=x,O<E)return E;if(O>C)return C;for(;E<C;){if(j=h(O),Math.abs(j-x)<$)return O;x>j?E=O:C=O,O=.5*(C-E)+E}return O}return function(x,$=1e-6){return f(b(x,$))}}const bn={};bn.ease=Dp(.25,.1,.25,1),bn.linear=Dp(0,0,1,1),bn.easeIn=bn["ease-in"]=Dp(.42,0,1,1),bn.easeOut=bn["ease-out"]=Dp(0,0,.58,1),bn.easeInOut=bn["ease-in-out"]=Dp(.42,0,.58,1);const Qpe=t=>t,qm=t=>t*t,$b=t=>1-qm(1-t),sO=t=>t<.5?qm(2*t)/2:($b(2*(t-.5))+1)/2,Sb=t=>t*t*t,gT=t=>1-Sb(1-t),oO=t=>t<.5?Sb(2*t)/2:(gT(2*(t-.5))+1)/2,kb=t=>t*t*t*t,yT=t=>1-kb(1-t),aO=t=>t<.5?kb(2*t)/2:(yT(2*(t-.5))+1)/2,Tb=t=>t*t*t*t*t,vT=t=>1-Tb(1-t),lO=t=>t<.5?Tb(2*t)/2:(vT(2*(t-.5))+1)/2,Eb=t=>1-Math.cos(t*Math.PI/2),bT=t=>1-Eb(1-t),cO=t=>t<.5?Eb(2*t)/2:(bT(2*(t-.5))+1)/2,Mb=t=>2**(10*(t-1)),Cb=t=>1-Mb(1-t),uO=t=>t<.5?Mb(2*t)/2:(Cb(2*(t-.5))+1)/2,Ib=t=>-(Math.sqrt(1-t*t)-1),wT=t=>1-Ib(1-t),dO=t=>t<.5?Ib(2*t)/2:(wT(2*(t-.5))+1)/2;function Pn(t){const e=2*(t-Math.sqrt((t-1)*t)),i=e/2/t;return r=>r<i?t*r*r:e*r-e+1}function On(t,e){return(i,r)=>i<e?e*t(i/e,r):1-t((1-i)/(1-e),r)*(1-e)}const hO=On(Pn(1),1),pO=On(Pn(1),0),Ab=On(Pn(1),.5),fO=On(Pn(2),1),mO=On(Pn(2),0),gO=On(Pn(2),.5),yO=On(Pn(3),1),vO=On(Pn(3),0),bO=On(Pn(3),.5),wO=On(Pn(4),1),_O=On(Pn(4),0),xO=On(Pn(4),.5),$O={linear:Qpe,"in-quad":qm,"out-quad":$b,"in-out-quad":sO,"in-coast-quad":hO,"out-coast-quad":pO,"in-out-coast-quad":Ab,"in-cubic":Sb,"out-cubic":gT,"in-out-cubic":oO,"in-coast-cubic":fO,"out-coast-cubic":mO,"in-out-coast-cubic":gO,"in-quart":kb,"out-quart":yT,"in-out-quart":aO,"in-coast-quart":yO,"out-coast-quart":vO,"in-out-coast-quart":bO,"in-quint":Tb,"out-quint":vT,"in-out-quint":lO,"in-coast-quint":wO,"out-coast-quint":_O,"in-out-coast-quint":xO,"in-sine":Eb,"out-sine":bT,"in-out-sine":cO,"in-expo":Mb,"out-expo":Cb,"in-out-expo":uO,"in-circ":Ib,"out-circ":wT,"in-out-circ":dO,"quad-in":qm,"quad-out":$b,"quad-in-out":sO,"quad-in-coast":hO,"quad-out-coast":pO,"quad-in-out-coast":Ab,"cubic-in":Sb,"cubic-out":gT,"cubic-in-out":oO,"cubic-in-coast":fO,"cubic-out-coast":mO,"cubic-in-out-coast":gO,"quart-in":kb,"quart-out":yT,"quart-in-out":aO,"quart-in-coast":yO,"quart-out-coast":vO,"quart-in-out-coast":bO,"quint-in":Tb,"quint-out":vT,"quint-in-out":lO,"quint-in-coast":wO,"quint-out-coast":_O,"quint-in-out-coast":xO,"sine-in":Eb,"sine-out":bT,"sine-in-out":cO,"expo-in":Mb,"expo-out":Cb,"expo-in-out":uO,"circ-in":Ib,"circ-out":wT,"circ-in-out":dO,ease:t=>bn.ease(t),"ease-in":t=>bn.easeIn(t),"ease-out":t=>bn.easeOut(t),"ease-in-out":t=>bn.easeInOut(t)};let efe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const Pb={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},v9={maxDuration:4e3};let tfe=class b9{constructor(e){this._createCamera=e,this.compared=new efe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Pb.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new b9(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,i,r){this.source!==e&&this.source.copyFrom(e),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??Pb.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const i=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Or()}get hasFov(){return Math.abs(this.compared.fov)>Or()}get hasRotate(){return this.compared.rotate>Or()}},ife=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},rfe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((e,i)=>e+i.time,0)}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),e*=this.time;let r=0,n=0;const s=this.definition,o=this.segments.reduce((a,l)=>a||l.definition.hasZoom,!1);for(let a=0;a<this.segments.length;a++){const l=this.segments[a],d=l.definition;if(e<=l.time||a===this.segments.length-1){if(this.segmentInterpolateComponentsAt(l,l.time===0?0:e/l.time,i),s.hasPan&&!isNaN(i.pan)&&isFinite(s.compared.pan)?i.pan=(r+d.compared.pan*i.pan)/s.compared.pan:i.pan=1,s.hasRotate&&!isNaN(i.rotate)&&isFinite(s.compared.rotate)?i.rotate=(n+d.compared.rotate*i.rotate)/s.compared.rotate:i.rotate=1,o&&!isNaN(i.zoom)&&isFinite(d.compared.targetZoom)){const{sourceZoom:h,targetZoom:f}=d.compared,y=i.zoom*(f-h)+h,b=this.segments[0].definition.compared.sourceZoom,x=this.segments[this.segments.length-1].definition.compared.targetZoom,$=Math.abs(f-b)>Math.abs(h-b)?f:h;i.zoomOffset=$-x,i.zoom=(y-b)/($-b)}else i.zoom=1;return i}e-=l.time,r+=d.compared.pan,n+=d.compared.rotate}}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r)}},ux=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,i=e.compared,r=i.sourceZoom,n=i.targetZoom;this._zoomSign=r>n?1:-1,this._panPixelsAtSource=i.pan*e.source.pixelsPerPanAtZoom(r);const s=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*s}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:n,hasRotate:s}=this.definition;let o=0,a=0;r&&(n&&(o=(i/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(a=this._zoomSign*(Math.log(e/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(r&&n&&s){const d=o+a+o*a;this._zoomPixelFlow=o*a/d*l,this._panPixelFlow=a/d*l,this._rotatePixelFlow=o/d*l}else if(r&&n){const d=1+o;this._zoomPixelFlow=o/d*l,this._panPixelFlow=1/d*l}else if(r&&s){const d=1+a;this._zoomPixelFlow=a/d*l,this._rotatePixelFlow=1/d*l}else if(n&&s){const d=this._panPixelsAtSource/this._rotatePixels,h=1+d;this._panPixelFlow=d/h*l,this._rotatePixelFlow=1/h*l}else n?this._panPixelFlow=l:r?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const d=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=d,this._panPixelFlow/=d,this._rotatePixelFlow/=d}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/nfe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=e*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(e){if(e===0||e===1)return e;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-e-i)/(r-i)}return e}_interpolateComponentsFov(e){if(e===0)return this.definition.segmentStart;if(e===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+e*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(e===0||e===1)return e;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*e*this._time)-1))/(i*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),i.zoom=this._interpolateComponentsZoom(e),i.pan=this._interpolateComponentsPan(e),i.rotate=this._interpolateComponentsRotate(e),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(e)}};const nfe=pg(45);function sfe(t,e,i){const r=e-t.compared.sourceZoom,n=t.halfWindowPanAtZoom(r);return-t.halfWindowSize*(i.ascensionFactor*Math.LN2*t.compared.pan+n)*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2*n)}function ofe(t,e,i){const r=1/e,n=Math.log(t.compared.sourceZoom*r),s=1/t.desiredPixelFlow,o=1/Math.LN2,a=e-t.compared.sourceZoom,l=1/a,d=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(a))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*r*s*o*l*d-t.halfWindowSize*n*s*o*l+t.halfWindowSize*n*s*o*d/(a*a)}function afe(t,e,i){const r=e-t.compared.sourceZoom,n=1/r,s=1/e,o=Math.log(t.compared.sourceZoom*s),a=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(r))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*n*(-2*n*s*a+2*n*o+2*s-2*o*a/(r*r)-a/(e*e))/(t.desiredPixelFlow*Math.LN2)}function lfe(t,e){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2)}function cfe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function ufe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function dfe(t,e,i){return-t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e))}function hfe(t,e,i){return t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e))}function pfe(t,e,i){return-2*t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e*e))}function ffe(t,e,i){return t.halfWindowSize*(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-e+t.compared.targetZoom))}function mfe(t,e,i){const r=Math.log(e/t.compared.targetZoom),n=1/t.desiredPixelFlow,s=1/Math.LN2,o=-e+t.compared.targetZoom,a=1/o,l=(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*r*n*s*a+t.halfWindowSize*r*n*s*l/(o*o)+t.halfWindowSize*n*s*a*l/e}function gfe(t,e,i){const r=e-t.compared.targetZoom,n=1/r,s=1/e,o=Math.log(e/t.compared.targetZoom),a=(t.halfWindowPanAtZoom(e)+i.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*n*(-2*n*s*a-2*n*o+2*s+2*o*a/(r*r)-a/(e*e))/(t.desiredPixelFlow*Math.LN2)}function yfe(t,e){return t.halfWindowSize*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function vfe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function bfe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function wfe(t){const e=t.compared.sourceZoom-t.compared.targetZoom;if(e===0)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));const i=Math.LN2*t.compared.pan,r=e,n=t.halfWindowPanAtZoom(r),s=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*n);return t.compared.sourceZoom<=t.compared.targetZoom?s*(i-n):s*(i+n)}function _fe(t,e){let i=xfe(t,e);const r={ascensionFactor:e.ascensionFactor!=null?e.ascensionFactor:.5,descensionFactor:e.descensionFactor!=null?e.descensionFactor:.5},n=r.ascensionFactor===0,s=r.descensionFactor===0,o=n?lfe:sfe,a=n?cfe:ofe,l=n?ufe:afe,d=s?yfe:ffe,h=s?vfe:mfe,f=s?bfe:gfe,y=F=>o(t,F,r)+dfe(t,F,r)+d(t,F,r),b=F=>a(t,F,r)+hfe(t,F,r)+h(t,F,r),x=F=>l(t,F,r)+pfe(t,F,r)+f(t,F,r);let $=y(i);const E=wfe(t);let C;const O=e.maximumIterations||20,j=e.maximumDistance!=null?e.maximumDistance:1/0;for(C=0;C<O;C++){const F=e.desiredSlope??1e-6;let G=b(i);Math.abs(G)>F&&(G+=F);const z=G/x(i);if(isNaN(z)||i>=j&&z<0){if(!isFinite(j))return null;i=j,$=y(i);break}if(i-=z,i<=t.compared.sourceZoom||i<=t.compared.targetZoom)return null;const se=y(i);if(Math.abs(se-$)/$<=.005)break;$=se}return isNaN($)||$>E*(1-.3)||i<=t.compared.sourceZoom||i<=t.compared.targetZoom?null:i}function xfe(t,e){const i=Math.max(t.compared.sourceZoom,t.compared.targetZoom),r=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return r<i?e.maximumDistance!=null?i+(e.maximumDistance-i)/2:1.5*i:e.maximumDistance?Math.min(e.maximumDistance,r):r}let $fe=class extends rfe{constructor(e,i){super(),this._preallocSegments=[new ux,new ux,new ux],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,i)}update(e,i){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const r=i?.apex?_fe(e,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r),e===this._ascensionSegment?r.zoom=$b(r.zoom):e===this._descensionSegment&&(r.zoom=qm(r.zoom))}_updateWithApex(e,i){const[r,n,s]=this._preallocSegments,o=i?.ascensionFactor??.5,a=Math.min(1-o,i?.ascensionFactor!=null&&i.descensionFactor!=null?i.descensionFactor:.5),l=1-o-a;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*o,r.definition.compared.rotate=this.definition.compared.rotate*o,r.definition.segmentEnd=o,r.update(),this._ascensionSegment=r,this.segments.push(r),l>0&&(n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.copyFrom(this.definition),n.definition.compared.sourceZoom=e,n.definition.compared.targetZoom=e,n.definition.compared.pan=this.definition.compared.pan*l,n.definition.compared.rotate=this.definition.compared.rotate*l,n.definition.segmentStart=r.definition.segmentEnd,n.definition.segmentEnd=r.definition.segmentEnd+l,n.update(),this.segments.push(n)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=e,s.definition.compared.pan=this.definition.compared.pan*a,s.definition.compared.rotate=this.definition.compared.rotate*a,s.definition.segmentStart=o+l,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}};const Sfe=new ife;let kfe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(e){this._time=0,this._easing=Ab,this.definition=new tfe(e),this.path=new $fe}update(e,i,r){this.definition.update(e,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(tW(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?Ab:Cb)}cameraAt(e,i){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const r=this.path.interpolateComponentsAt(e,Sfe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(e){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(e,this._time)-i)/(r-i)}_applyTimeSettings(e,i){const r=i.speedFactor!=null?i.speedFactor:1,n=i.minDuration??Pb.minDuration/r,s=i.maxDuration??Pb.maxDuration/r;return e=i.duration!=null?i.duration:Math.min(Math.max(e/r,n),s)}};const Tfe=2e3,Efe=64;let Mfe=class{constructor(e){this._view=e,this._animation=new kfe(()=>new nO(this._view)),this._current=new nO(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,i,r={}){Wi(this._current.viewpoint,e),Wi(this._source.viewpoint,e),Wi(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(e,i){this._animation.cameraAt(i,this._current),Wi(e,this._current.viewpoint)}},ed=class extends Te{constructor(e){super(e),this._animation=null,this._destinationViewState=new uM,this.updateFunction=null,this.easing=$O.ease,this.viewpoint=new Cn({targetGeometry:new Ee,scale:0,rotation:0}),this._updateTask=ch({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new Mfe(e.view)}destroy(){this._updateTask=_t(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,i,r){this.stop();const n=this.viewpoint;Wi(n,i);const s=e.target;this._transition.update(this.viewpoint,s,{apex:{maximumDistance:Math.min(Math.min(i.scale,s.scale)*Efe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r?.duration,maxDuration:r?.animationMode==="auto"?1/0:r?.maxDuration??v9.maxDuration,speedFactor:r?.speedFactor,easing:(typeof r?.easing=="string"?$O[r.easing]:r?.easing)||this.easing}),r?.animationMode==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=s,Cfe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,s,{duration:0}));const o=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,i){this.stop(),this.updateFunction=i,this.viewpoint=e;const r=new fT({target:e.clone()}),n=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const i=this.animation;if(i&&i.state!==fT.state.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),this.animation?.update(this.viewpoint);else{const r=performance.now()-this._startTime,n=this._transition.duration,s=n>0?r/n:1,o=s>=1;this._transition.applyRatio(this.viewpoint,s),o&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function Cfe(t,e,i,r){if(e?.duration!=null)return!0;const{time:n,isLinear:s}=t,o=e?.speedFactor||1;if(n>(e?.maxDuration??v9.maxDuration/o))return!1;if(s){const l=Bt(),d=yi(...r.toScreen(l,...i.center)),h=yi(...i.toScreen(l,...r.center)),f=h!=null&&h.x>-1*i.size[0]&&h.x<(1.5+.5)*i.size[0]&&h.y>-1*i.size[1]&&h.y<(1.5+.5)*i.size[1],y=d!=null&&d.x>-1*r.size[0]&&d.x<(1.5+.5)*r.size[0]&&d.y>-1*r.size[1]&&d.y<(1.5+.5)*r.size[1];if(n>Tfe/o&&!f&&!y)return!1}return!0}u([p()],ed.prototype,"easing",void 0),u([p()],ed.prototype,"view",void 0),u([p()],ed.prototype,"viewpoint",void 0),ed=u([R("esri.views.2d.AnimationManager")],ed);const Ife=ed;function $t(){return Promise.all([ae(()=>import("./c-webglDeps-CE-Hzvb8.js"),__vite__mapDeps([273,202,274,275,276,9,74])),ae(()=>import("./c-mapViewDeps-410viBHN.js"),__vite__mapDeps([277,153,33,34,118,119,109,44,9,120,111,112,117,121,105,122,67,278,279,202,274,275,193,106,280,113,276,74,201,73,281,104,141,282,172,175,46,47,114,126,283,123,124,284,63,58,107,56,57,285,31,273,286,136,287,288,171,289,191,192,290,91,103,108,110,102,51,50,291,125,292,116,25,26,27,293,127,132,100,294,295,296,297,198,229,298,299]))])}const zp=()=>$t().then(()=>ae(()=>import("./c-TileLayerView2D-B9UywUDN.js"),__vite__mapDeps([300,117,112,118,119,109,44,9,120,111,121,105,122,67,284,153,33,34,63,58,107,56,57,285,31,282,281,104,73,275,276,74,201,202,141,172,175,46,47,286,279,274,193,280,113,136,287,288,171,91,278,106,114,126,123,124,191,192,293,103,108,110,102,51,50,127,132,100,301,302,303,297,304,257,305,295,296,306,307,308,229,309,310,311,312,313]))),Ol=()=>$t().then(()=>ae(()=>import("./c-FeatureLayerView2D-D1c-UgfF.js").then(t=>t.F),__vite__mapDeps([314,278,118,119,109,44,9,120,111,112,117,121,105,122,67,279,202,274,275,193,106,280,113,276,74,201,73,281,104,141,282,172,175,46,47,114,126,233,213,184,180,157,144,181,182,183,185,102,143,186,62,110,315,218,316,317,51,61,304,257,296,297,136,92,90,91,93,133,134,127,63,58,243,32,33,34,283,318,206,65,129,232,309,312,306,307,313]))),SO={"base-dynamic":()=>$t().then(()=>ae(()=>import("./c-BaseDynamicLayerView2D-CwTi7B0Z.js"),__vite__mapDeps([319,320,281,104,105,73,275,276,9,74,201,202,141,282,172,175,46,44,47,302,279,274,193,303,304,257,321,306,307]))),"base-tile":zp,"bing-maps":zp,catalog:()=>$t().then(()=>ae(()=>import("./c-CatalogLayerView2D-DB9KtILm.js"),__vite__mapDeps([322,304,282,257,306]))),"catalog-dynamic-group":()=>$t().then(()=>ae(()=>import("./c-CatalogDynamicGroupLayerView2D-zPTK1adF.js"),__vite__mapDeps([323,304,282,257,306]))),"catalog-footprint":()=>$t().then(()=>ae(()=>import("./c-CatalogFootprintLayerView2D-Di_tOqX2.js"),__vite__mapDeps([324,314,278,118,119,109,44,9,120,111,112,117,121,105,122,67,279,202,274,275,193,106,280,113,276,74,201,73,281,104,141,282,172,175,46,47,114,126,233,213,184,180,157,144,181,182,183,185,102,143,186,62,110,315,218,316,317,51,61,304,257,296,297,136,92,90,91,93,133,134,127,63,58,243,32,33,34,283,318,206,65,129,232,309,312,306,307,313]))),csv:Ol,"geo-rss":()=>$t().then(()=>ae(()=>import("./c-GeoRSSLayerView2D-GEpAlZHL.js"),__vite__mapDeps([325,224,184,180,157,144,181,182,183,122,67,177,178,179,143,7,8,115,63,58,107,56,57,111,112,32,33,34,185,102,186,218,304,282,257,294,295,296,9,106,104,105,73,274,202,297,281,275,276,74,201,141,172,175,46,44,47,278,118,119,109,120,117,121,279,193,280,113,114,126,293,284,153,285,31,103,108,110,51,50,127,132,100,306]))),feature:Ol,geojson:Ol,parquet:Ol,graphics:()=>$t().then(()=>ae(()=>import("./c-GraphicsLayerView2D-BMDS-tUV.js"),__vite__mapDeps([326,304,282,257,294,295,296,9,106,104,105,73,274,202,297,281,275,276,74,201,141,172,175,46,44,47,278,118,119,109,120,111,112,117,121,122,67,279,193,280,113,114,126,293,63,58,284,153,33,34,107,56,57,285,31,103,108,110,102,51,50,127,132,100,306,313]))),group:()=>$t().then(()=>ae(()=>import("./c-GroupLayerView2D-BZgb3FEh.js"),__vite__mapDeps([327,304,282,257,306]))),imagery:()=>$t().then(()=>ae(()=>import("./c-ImageryLayerView2D-CaNECO0w.js"),__vite__mapDeps([328,329,276,9,74,201,202,73,159,281,104,105,275,141,282,172,175,46,44,47,152,150,304,257,293,63,58,118,119,109,120,111,112,117,121,122,67,284,153,33,34,107,56,57,285,31,103,106,108,110,102,113,51,50,278,279,274,193,280,114,126,127,132,100,305,295,296,297,320,302,303,321,156,267,315,312,306,307,313]))),"imagery-tile":()=>$t().then(()=>ae(()=>import("./c-ImageryTileLayerView2D-C37FW6_r.js"),__vite__mapDeps([330,331,329,276,9,74,201,202,73,159,281,104,105,275,141,282,172,175,46,44,47,152,150,304,257,155,332,297,279,274,193,292,280,113,303,333,156,313,267,315,312,306,307]))),kml:()=>$t().then(()=>ae(()=>import("./c-KMLLayerView2D-CncF5m7v.js"),__vite__mapDeps([334,335,177,178,179,180,157,144,181,182,183,122,67,143,7,8,115,63,58,107,56,57,111,112,32,33,34,184,185,102,186,218,302,282,279,202,274,275,193,303,320,281,104,105,73,276,9,74,201,141,172,175,46,44,47,304,257,294,295,296,106,297,278,118,119,109,120,117,121,280,113,114,126,293,284,153,285,31,103,108,110,51,50,127,132,100,306,25,26,27,156,289,273,191,192,287,332]))),"knowledge-graph":()=>$t().then(()=>ae(()=>import("./c-KnowledgeGraphLayerView2D-D2aCShiT.js"),__vite__mapDeps([336,304,282,257,306]))),"link-chart":()=>$t().then(()=>ae(()=>import("./c-KnowledgeGraphLayerView2D-D2aCShiT.js"),__vite__mapDeps([336,304,282,257,306]))),"knowledge-graph-sublayer":Ol,"map-image":()=>$t().then(()=>ae(()=>import("./c-MapImageLayerView2D-C0zmc_IZ.js"),__vite__mapDeps([337,320,281,104,105,73,275,276,9,74,201,202,141,282,172,175,46,44,47,302,279,274,193,303,304,257,293,63,58,118,119,109,120,111,112,117,121,122,67,284,153,33,34,107,56,57,285,31,103,106,108,110,102,113,51,50,278,280,114,126,127,132,100,305,295,296,297,321,306,338,229,309,311,315,307,308,310,312,313]))),"map-notes":()=>$t().then(()=>ae(()=>import("./c-MapNotesLayerView2D-BThI1nuZ.js"),__vite__mapDeps([339,304,282,257,294,295,296,9,106,104,105,73,274,202,297,281,275,276,74,201,141,172,175,46,44,47,278,118,119,109,120,111,112,117,121,122,67,279,193,280,113,114,126,293,63,58,284,153,33,34,107,56,57,285,31,103,108,110,102,51,50,127,132,100,306,313]))),media:()=>$t().then(()=>ae(()=>import("./c-MediaLayerView2D-CXeGQddD.js"),__vite__mapDeps([340,341,132,184,180,157,144,181,182,183,122,67,117,112,118,119,109,44,9,120,111,121,105,284,153,33,34,63,58,107,56,57,285,31,282,281,104,73,275,276,74,201,202,141,172,175,46,47,286,279,274,193,280,113,136,287,288,171,91,278,106,114,126,123,124,191,192,293,103,108,110,102,51,50,127,100,291,125,342,292,304,257,306]))),"ogc-feature":()=>$t().then(()=>ae(()=>import("./c-OGCFeatureLayerView2D-BW_UikJD.js"),__vite__mapDeps([343,314,278,118,119,109,44,9,120,111,112,117,121,105,122,67,279,202,274,275,193,106,280,113,276,74,201,73,281,104,141,282,172,175,46,47,114,126,233,213,184,180,157,144,181,182,183,185,102,143,186,62,110,315,218,316,317,51,61,304,257,296,297,136,92,90,91,93,133,134,127,63,58,243,32,33,34,283,318,206,65,129,232,309,312,306,307,313]))),"open-street-map":zp,"oriented-imagery":Ol,route:()=>$t().then(()=>ae(()=>import("./c-RouteLayerView2D-CyIzoyiF.js"),__vite__mapDeps([344,345,346,304,282,257,294,295,296,9,106,104,105,73,274,202,297,281,275,276,74,201,141,172,175,46,44,47,278,118,119,109,120,111,112,117,121,122,67,279,193,280,113,114,126,293,63,58,284,153,33,34,107,56,57,285,31,103,108,110,102,51,50,127,132,100,306,313]))),stream:()=>$t().then(()=>ae(()=>import("./c-StreamLayerView2D-CBWka-ku.js"),__vite__mapDeps([347,218,314,278,118,119,109,44,9,120,111,112,117,121,105,122,67,279,202,274,275,193,106,280,113,276,74,201,73,281,104,141,282,172,175,46,47,114,126,233,213,184,180,157,144,181,182,183,185,102,143,186,62,110,315,316,317,51,61,304,257,296,297,136,92,90,91,93,133,134,127,63,58,243,32,33,34,283,318,206,65,129,232,309,312,306,307,313]))),"subtype-group":()=>$t().then(()=>ae(()=>import("./c-SubtypeGroupLayerView2D-BwsTWA7E.js"),__vite__mapDeps([348,314,278,118,119,109,44,9,120,111,112,117,121,105,122,67,279,202,274,275,193,106,280,113,276,74,201,73,281,104,141,282,172,175,46,47,114,126,233,213,184,180,157,144,181,182,183,185,102,143,186,62,110,315,218,316,317,51,61,304,257,296,297,136,92,90,91,93,133,134,127,63,58,243,32,33,34,283,318,206,65,129,232,309,312,306,307,313]))),tile:zp,"vector-tile":()=>$t().then(()=>ae(()=>import("./c-VectorTileLayerView2D-Cdtxe3le.js"),__vite__mapDeps([349,102,121,91,9,117,112,7,8,171,288,172,120,202,276,74,201,281,104,105,73,275,141,282,175,46,44,47,297,49,224,173,174,153,33,34,304,257,306,307]))),video:()=>$t().then(()=>ae(()=>import("./c-VideoLayerView2D-D7Oa7VgJ.js"),__vite__mapDeps([350,351,216,111,112,215,7,8,342,141,281,104,105,73,275,276,9,74,201,202,282,172,175,46,44,47,278,118,119,109,120,117,121,122,67,279,274,193,106,280,113,114,126,292,352,304,257,294,295,296,297,293,63,58,284,153,33,34,107,56,57,285,31,103,108,110,102,51,50,127,132,100,306]))),wcs:()=>$t().then(()=>ae(()=>import("./c-ImageryTileLayerView2D-C37FW6_r.js"),__vite__mapDeps([330,331,329,276,9,74,201,202,73,159,281,104,105,275,141,282,172,175,46,44,47,152,150,304,257,155,332,297,279,274,193,292,280,113,303,333,156,313,267,315,312,306,307]))),"web-tile":zp,wfs:Ol,wms:()=>$t().then(()=>ae(()=>import("./c-WMSLayerView2D-C3dyDa1f.js"),__vite__mapDeps([353,320,281,104,105,73,275,276,9,74,201,202,141,282,172,175,46,44,47,302,279,274,193,303,304,257,321,306,307,354,315]))),wmts:()=>$t().then(()=>ae(()=>import("./c-WMTSLayerView2D-BXeKUTY-.js"),__vite__mapDeps([355,301,302,282,279,202,274,275,193,303,281,104,105,73,276,9,74,201,141,172,175,46,44,47,297,304,257,306,307]))),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function Afe(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new K(`${i}:view-not-supported`,`${e} is not supported in 2D`)}const kO={hasLayerViewModule:t=>SO[t.type]!=null,importLayerView:t=>{const e=SO[t.type];if(e==null)throw Afe(t);return e(t)}};var Yr;let Yh=(Yr=class{static getId(e,i,r,n){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${i}/${r}/${n}`}constructor(e,i,r,n){this.set(e,i,r,n)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|e<<8|r}acquire(e,i,r,n){this.set(e,i,r,n)}contains(e){const i=e.level-this.level;return i>=0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}containsChild(e){const i=e.level-this.level;return i>0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new Yr(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,i,r,n){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[s,o,a,l]=e.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+e,this.row=+i,this.col=+r,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Yr(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,i,r){const n=this.clone();return n.col+=e,n.row+=i,r.normalizeKey(n),n}getChildKeys(){const e=this.level+1,i=this.row<<1,r=this.col<<1,n=this.world;return[new Yr(e,i,r,n),new Yr(e,i,r+1,n),new Yr(e,i+1,r,n),new Yr(e,i+1,r+1,n)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}},Yr.pool=new Rh(()=>new Yr(""),null,null,25,50),Yr);function Mu(t,e){return[t,e]}function Rl(t,e,i){return t[0]=e,t[1]=i,t}function Pfe(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}const Qn=new Yh("0/0/0/0");let Ofe=class w9{static create(e,i,r=null){const n=cr(e.spatialReference),s=i.origin||Mu(e.origin.x,e.origin.y),o=Mu(e.size[0]*i.resolution,e.size[1]*i.resolution),a=Mu(-1/0,-1/0),l=Mu(1/0,1/0),d=Mu(1/0,1/0);r!=null&&(Rl(a,Math.max(0,Math.floor((r.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-r.ymax)/o[1]))),Rl(l,Math.max(0,Math.floor((r.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-r.ymin)/o[1]))),Rl(d,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:h,rows:f}=i;let y,b,x,$;return!r&&h&&f&&(Rl(a,h[0],f[0]),Rl(l,h[1],f[1]),Rl(d,h[1]-h[0]+1,f[1]-f[0]+1)),e.isWrappable?(y=Mu(Math.ceil(Math.round((n.valid[1]-n.valid[0])/i.resolution)/e.size[0]),d[1]),b=!0,x=n.origin,$=n.valid):(y=d,b=!1),new w9(i.level,i.resolution,i.scale,s,a,l,d,o,y,b,x,$)}constructor(e,i,r,n,s,o,a,l,d,h,f,y){this.level=e,this.resolution=i,this.scale=r,this.origin=n,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldSize=d,this.wrap=h,this._spatialReferenceOrigin=f,this._spatialReferenceValid=y}normalizeCol(e){if(!this.wrap)return e;const i=this.worldSize[0];return e<0?i-1-Math.abs((e+1)%i):e%i}normalizeKey(e){if(!this.wrap)return;const i=this.worldSize[0],r=e.col;r<0?(e.col=r+i,e.world-=1):r>=i&&(e.col=r-i,e.world+=1)}denormalizeCol(e,i){return this.wrap?this.worldSize[0]*i+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const i=this.origin[0]+e*this.norm[0],r=this._spatialReferenceOrigin,n=this._spatialReferenceValid;return this.wrap&&r&&n?i===r[0]?n[0]:this.origin[0]===r[0]&&e===this.worldSize[0]?n[1]:i:i}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,i,r=!1){Qn.set(i);const n=r?Qn.col:this.denormalizeCol(Qn.col,Qn.world),s=Qn.row;return Pfe(e,this.getXForColumn(n),this.getYForRow(s+1),this.getXForColumn(n+1),this.getYForRow(s)),e}getTileCoords(e,i,r=!1){Qn.set(i);const n=r?Qn.col:this.denormalizeCol(Qn.col,Qn.world);return Array.isArray(e)?Rl(e,this.getXForColumn(n),this.getYForRow(Qn.row)):(e.x=this.getXForColumn(n),e.y=this.getYForRow(Qn.row)),e}};var zc;let pM=(zc=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:i,colFrom:r,colTo:n}of this.spans)for(let s=r;s<=n;s++){const o=e.getWorldForColumn(s);yield new Yh(e.level,i,e.normalizeCol(s),o)}}forEach(e,i){const{spans:r,lodInfo:n}=this,{level:s}=n;if(r.length!==0)for(const{row:o,colFrom:a,colTo:l}of r)for(let d=a;d<=l;d++)e.call(i,s,o,n.normalizeCol(d),n.getWorldForColumn(d))}},zc.pool=new Rh(()=>new zc),zc),dx=class{constructor(e,i,r){this.row=e,this.colFrom=i,this.colTo=r}};const Tt=new Yh("0/0/0/0");let Rfe=class _9{static create(e,i){e[1]>i[1]&&([e,i]=[i,e]);const[r,n]=e,[s,o]=i,a=s-r,l=o-n,d=l!==0?a/l:0,h=(Math.ceil(n)-n)*d,f=(Math.floor(n)-n)*d;return new _9(r,Math.floor(n),Math.ceil(o),d,a<0?h:f,a<0?f:h,a<0?s:r,a<0?r:s)}constructor(e,i,r,n,s,o,a,l){this.x=e,this.ymin=i,this.ymax=r,this.invM=n,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Ur=[[0,0],[0,0],[0,0],[0,0]],Dfe=1e-6;let zfe=class{constructor(e,i=null,r=e.lods[0].level,n=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=e.lods.filter(a=>a.level>=r&&a.level<=n);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(a=>Ofe.create(e,a,i));s.forEach((a,l)=>{this._infoByLevel[a.level]=o[l],this._infoByScale[a.scale]=o[l],this.scales[l]=a.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e=="number"?e:e.level]}getTileBounds(e,i,r=!1){Tt.set(i);const n=this._infoByLevel[Tt.level];return n?n.getTileBounds(e,Tt,r):e}getTileCoords(e,i,r=!1){Tt.set(i);const n=this._infoByLevel[Tt.level];return n?n.getTileCoords(e,Tt,r):e}getTileCoverage(e,i=192,r=!0,n="closest"){if(!r&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const s=n==="closest"?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),o=pM.pool.acquire(s),a=this._wrap;let l,d,h,f=1/0,y=-1/0;const b=o.spans;Ur[0][0]=Ur[0][1]=Ur[1][1]=Ur[3][0]=-i,Ur[1][0]=Ur[2][0]=e.size[0]+i,Ur[2][1]=Ur[3][1]=e.size[1]+i;for(const C of Ur)e.toMap(C,C),C[0]=s.getColumnForX(C[0]),C[1]=s.getRowForY(C[1]);const x=[];let $=3;for(let C=0;C<4;C++){if(Ur[C][1]===Ur[$][1]){$=C;continue}const O=Rfe.create(Ur[C],Ur[$]);f=Math.min(O.ymin,f),y=Math.max(O.ymax,y),x[O.ymin]===void 0&&(x[O.ymin]=[]),x[O.ymin].push(O),$=C}if(f==null||y==null||y-f>100)return null;let E=[];for(l=f;l<y;){x[l]!=null&&(E=E.concat(x[l])),d=1/0,h=-1/0;for(let C=E.length-1;C>=0;C--){const O=E[C];d=Math.min(d,O.getLeftCol()),h=Math.max(h,O.getRightCol())}if(d=Math.floor(d),h=Math.floor(h),l>=s.first[1]&&l<=s.last[1])if(a)if(s.size[0]<s.worldSize[0]){const C=Math.floor(h/s.worldSize[0]);for(let O=Math.floor(d/s.worldSize[0]);O<=C;O++)b.push(new dx(l,Math.max(s.getFirstColumnForWorld(O),d),Math.min(s.getLastColumnForWorld(O),h)))}else b.push(new dx(l,d,h));else d>s.last[0]||h<s.first[0]||(d=Math.max(d,s.first[0]),h=Math.min(h,s.last[0]),b.push(new dx(l,d,h)));l+=1;for(let C=E.length-1;C>=0;C--){const O=E[C];O.ymax>=l?O.incrRow():E.splice(C,1)}}return o}getTileParentId(e){Tt.set(e);const i=this._infoByLevel[Tt.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(Tt,this._lodInfos[r],Tt),Tt.id)}getTileResolution(e){const i=this._infoByLevel[typeof e=="object"?e.level:e];return i?i.resolution:-1}getTileScale(e){const i=this._infoByLevel[e.level];return i?i.scale:-1}intersects(e,i){Tt.set(i);const r=this._infoByLevel[Tt.level],n=e.lodInfo;if(n.resolution>r.resolution){this._getTileIdAtLOD(Tt,n,Tt);const o=n.denormalizeCol(Tt.col,Tt.world);for(const a of e.spans)if(a.row===Tt.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(n.resolution<r.resolution){const[o,a,l,d]=e.spans.reduce(($,E)=>($[0]=Math.min($[0],E.row),$[1]=Math.max($[1],E.row),$[2]=Math.min($[2],E.colFrom),$[3]=Math.max($[3],E.colTo),$),[1/0,-1/0,1/0,-1/0]),h=r.denormalizeCol(Tt.col,Tt.world),f=n.getColumnForX(r.getXForColumn(h)),y=n.getRowForY(r.getYForRow(Tt.row)),b=n.getColumnForX(r.getXForColumn(h+1))-1,x=n.getRowForY(r.getYForRow(Tt.row+1))-1;return!(f>d||b<l||y>a||x<o)}const s=n.denormalizeCol(Tt.col,Tt.world);return e.spans.some(o=>o.row===Tt.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(e,i,r){if(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],this._wrap){const n=cr(this.tileInfo.spatialReference),s=-r*(n.valid[1]-n.valid[0]);e[0]+=s,e[2]+=s}return e}getSmallestInfoForScale(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(e>i[r]+Dfe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(e){const i=this.scales;return this._infoByScale[e]||(e=i.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r,i[0])),this._infoByScale[e]}scaleToLevel(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let r=i.length-1;r>=0;r--)if(e<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-e)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,i,r){const n=this._infoByLevel[r.level];return e.set(r),i.resolution<n.resolution?null:(i.resolution===n.resolution||(e.level=i.level,e.col=Math.floor(r.col*n.resolution/i.resolution+.01),e.row=Math.floor(r.row*n.resolution/i.resolution+.01)),e)}},Nfe=class{constructor(e,i){this.item=e,this.controller=i,this.promise=null}},Lfe=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new zd,this._controllers=new zd,this._processingItems=new zd,this._pausedSignal=Th(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new Dm(e.peeker),this.process=e.process;const i=e.scheduler;e.priority&&i&&(this._task=i.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=_t(this._schedule),this._task=_t(this._task)}get updating(){return!!this._task?.updating||this.readyToRun}get length(){return this._processingItems.size+this._queue.length}abort(e){const i=this._controllers.get(e);i&&i.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(i=>e.push(i)),this._controllers.clear(),e.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((i,r)=>e(r))}get(e){const i=this._deferreds.get(e);return i?i.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const r=this.get(e);if(r)return r;const n=new AbortController;let s=null;i&&(s=In(i,()=>n.abort()));const o=()=>{const h=this._processingItems.get(e);h&&h.controller.abort(),a(),d.reject(at())},a=()=>{l.remove(),s?.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},l=m2(n.signal,o),d=nn();return this._deferreds.set(e,d),this._controllers.set(e,n),d.promise.then(a,a),this._queue.push(e),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(at()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of e)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get readyToRun(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=Dh(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(i))}_processError(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(i))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let i;const r=new AbortController,n=new Nfe(e,r);this._processingItems.set(e,n);try{i=this.process(e,r.signal)}catch(s){this._processError(n,s)}Yi(i)?(n.promise=i,i.then(s=>this._processResult(n,s),s=>this._processError(n,s))):this._processResult(n,i)}get test(){}};const TO=[0,0];let $o=class extends Te{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:i,scheduler:r,priority:n}=this;this._queue=new Lfe({concurrency:e,scheduler:r,priority:n,process:(s,o)=>{const a=this._keyToItem.get(s);return i(a,{signal:o})},peeker:s=>this._peek(s)})}destroy(){this.clear(),this._queue=Ut(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const i=typeof e=="string"?e:e.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const i=e.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),n=this.tileInfoView.getTileScale(e.key),s=Qm(this._tilesByScale,n,()=>new Set),o=()=>{s.delete(e.key),s.size===0&&this._tilesByScale.delete(n),this._keyToItem.delete(i)};return s.add(e.key),this._keyToItem.set(i,e),r.then(o,o),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const i=new Set;for(const o of e)i.add(this._keyToItem.get(o).key);const r=this.state.scale;let n,s=Number.POSITIVE_INFINITY;for(const[o,a]of this._tilesByScale)if(h5(a,l=>i.has(l))){const l=Math.abs(o-r);l<s&&(n=a,s=l)}return this._getClosestTileKey(n,e).id}_getClosestTileKey(e,i){const r=this.tileInfoView,n=this.state.center;let s,o=Number.POSITIVE_INFINITY;for(const a of e)if(i.has(a.id)){r.getTileCoords(TO,a);const l=ow(TO,n);l<o&&(o=l,s=a)}return s}};u([p({constructOnly:!0})],$o.prototype,"concurrency",void 0),u([p({constructOnly:!0})],$o.prototype,"priority",void 0),u([p({constructOnly:!0})],$o.prototype,"process",void 0),u([p({constructOnly:!0})],$o.prototype,"scheduler",void 0),u([p()],$o.prototype,"state",void 0),u([p({constructOnly:!0})],$o.prototype,"tileInfoView",void 0),$o=u([R("esri.views.2d.tiling.TileQueue")],$o);const PSe=$o;let Ffe=class{constructor(e,i,r){this.maxSize=e,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const i=this._tilePerId.get(e);if(!i)return;const r=i.key.level,n=this._tileKeysPerLevel[r];EO(this._tilePerId,e);for(let s=0;s<n.length;s++)if(n[s].id===e){n.splice(s,1);break}return i.visible=!0,i}add(e){e.visible=!1;const i=e.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,e);const n=i.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(i)}prune(e,i,r){let n=this._tilePerId.size;if(n<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&s>=0;)s!==e&&(n=this._pruneAroundCenterTile(n,i,r,s)),s--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,i,r,e))}_pruneAroundCenterTile(e,i,r,n){const s=this._tileKeysPerLevel[n];if(!s||s.length===0)return e;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=r*o[0],d=r*o[1],h=[0,0],f=[0,0];for(s.sort((y,b)=>(h[0]=a.x+l*(y.col+.5),h[1]=a.y-d*(y.row+.5),f[0]=a.x+l*(b.col+.5),f[1]=a.y-d*(b.row+.5),Cm(h,i)-Cm(f,i)));s.length>0;){const y=s.pop();if(this._removeTile(y.id),--e===this.maxSize)break}return e}_removeTile(e){const i=this._tilePerId.get(e);this._removedFunc&&i&&this._removedFunc(i),EO(this._tilePerId,e)}};function EO(t,e){t.delete(e)}const Dl=new Yh(0,0,0,0),lo=new Map,Np=[],hx=[];let RSe=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new Ffe(e.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(e){const{resampling:i,tileIndex:r}=this,{scale:n,center:s,resolution:o}=e.state,{minScale:a,maxScale:l}=this.tileInfoView,d=!e.stationary&&n>this._previousScale;if(this._previousScale=n,!i&&(n>a||n<l))return this.tiles.length=0,void this.clear();const h=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!h)return this.tiles.length=0,void this.clear();const{spans:f,lodInfo:y}=h,{level:b}=y;this.tiles.length=0,r.forEach(C=>C.visible=!0);let x=0,$=0;if(f.length>0)for(const{row:C,colFrom:O,colTo:j}of f)for(let D=O;D<=j;D++){x++;const F=Dl.set(b,C,y.normalizeCol(D),y.getWorldForColumn(D)).id;let G=r.get(F);if(G)G.isReady?(lo.set(F,G),$++):d||this._addParentTile(F,lo);else{if(this._tileCache?.has(F)){if(G=this._tileCache.pop(F),this.tileIndex.set(F,G),G.isReady){lo.set(F,G),$++;continue}}else G=this.acquireTile(Dl),this.tileIndex.set(F,G);d||this._addParentTile(F,lo)}}const E=$===x;for(const[C,O]of r){if(lo.has(C))continue;Dl.set(C);const j=this.tileInfoView.intersects(h,Dl),D=this.cachePolicy==="purge"?Dl.level!==b:Dl.level>b;!j||!d&&E?!D&&j||Np.push(O):O.isReady?D&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Dl,b)?Np.push(O):hx.push(O):D&&Np.push(O)}for(const C of hx)C.isReady&&lo.set(C.key.id,C);for(const C of Np)this._tileCache?this._tileCache.add(C):this.releaseTile(C),r.delete(C.key.id);for(const C of lo.values())this.tiles.push(C);for(const C of r.values())lo.has(C.key.id)||(C.visible=!1);this._tileCache?.prune(b,s,o),pM.pool.release(h),hx.length=0,Np.length=0,lo.clear()}clear(){const{tileIndex:e}=this;for(const i of e.values())this.releaseTile(i);e.clear()}refresh(e){for(const i of this.tileIndex.values())e(i);this._tileCache?.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,i){let r=e,n=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(n=this.tileIndex.get(r),n?.isReady){i.has(n.key.id)||i.set(n.key.id,n);break}}else if(this._tileCache?.has(r)&&(n=this._tileCache.pop(r),this.tileIndex.set(r,n),n?.isReady)){i.has(n.key.id)||i.set(n.key.id,n);break}}_hasReadyAncestor(e,i){const r=Ar();this.tileInfoView.getTileBounds(r,e,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=i&&n.key.level<e.level){const s=Ar();if(this.tileInfoView.getTileBounds(s,n.key,!0),ire(s,r))return!0}return!1}};const jfe={"area-measurement":null,dimension:null,"direct-line-measurement":null,"elevation-profile":()=>ae(()=>import("./c-ElevationProfileAnalysisView2D-BVFy0wmm.js"),__vite__mapDeps([356,153,33,34,209,357,299,358,359,360,361,362,363,27,364,365,366,367,368,139,140,7,8,369,370,371,24,372,373,166,84,147,148,162,211,82,374,131,175,190,161])),"line-of-sight":null,slice:null,viewshed:null,"volume-measurement":null};function Ufe(t){const e=jfe[t.type];if(!e)throw new K("analysis-view-module-import-utils:analysis-not-supported",`Analysis "${t.type}" is not supported`);return e()}let Vfe=class{constructor(e,i={}){this.events=new mX,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,e!=null?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):i.canvas!=null&&(this._canvas=i.canvas);const r={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let n=this._canvas.getContext("webgl2",r);n||(n=this._canvas.getContext("webgl2",{...r,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=n,this._handles=Xc([Ph(this._canvas,"webglcontextlost",s=>this.events.emit("webgl-context-lost",s))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,i){if(this._hasMajorPerformanceCaveat||B("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=B("esri-performance-mode-frames-between-render")&&(i(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[r,n,s,o,a,l]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${r}, ${n}, ${s}, ${o}, ${a}, ${l})`}}else i()}resize(e){const i=this._canvas,r=i.style,{state:{size:n},pixelRatio:s}=e,o=n[0],a=n[1],l=Math.round(o*s),d=Math.round(a*s);i.width===l&&i.height===d||(i.width=l,i.height=d),r.width=o+"px",r.height=a+"px"}_computeViewTransform(e,i){const[r,n]=e.center,[s,o]=i.center,[a,l]=e.toScreen([0,0],s,o),[d,h]=e.toScreen([0,0],r,n),f=d-a,y=h-l,b=e.scale/i.scale,x=i.rotation-e.rotation,$=Hs();return I8($),yw($,$,[b,b]),Sg($,$,pg(x)),Eh($,$,[f,y]),$}};function Bfe(t,e,i,r,n){x9(t,e,i||0,r||t.length-1,n||qfe)}function x9(t,e,i,r,n){for(;r>i;){if(r-i>600){var s=r-i+1,o=e-i+1,a=Math.log(s),l=.5*Math.exp(2*a/3),d=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1);x9(t,e,Math.max(i,Math.floor(e-o*l/s+d)),Math.min(r,Math.floor(e+(s-o)*l/s+d)),n)}var h=t[e],f=i,y=r;for(Lp(t,i,e),n(t[r],h)>0&&Lp(t,i,r);f<y;){for(Lp(t,f,y),f++,y--;n(t[f],h)<0;)f++;for(;n(t[y],h)>0;)y--}n(t[i],h)===0?Lp(t,i,y):Lp(t,++y,r),y<=e&&(i=y+1),e<=y&&(r=y-1)}}function Lp(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function qfe(t,e){return t<e?-1:t>e?1:0}function Ob(t,e){if(!(this instanceof Ob))return new Ob(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(typeof e=="function"?this.toBBox=e:this._initFormat(e)),this.clear()}function Hfe(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function Cu(t,e){$f(t,0,t.children.length,e,t)}function $f(t,e,i,r,n){n||(n=td(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,o=e;o<i;o++)s=t.children[o],Sf(n,t.leaf?r(s):s);return n}function Sf(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function MO(t,e){return t.minX-e.minX}function CO(t,e){return t.minY-e.minY}function px(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Zy(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Gfe(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Wfe(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),n=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,n-i)*Math.max(0,s-r)}function fx(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Yy(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function td(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function IO(t,e,i,r,n){for(var s,o=[e,i];o.length;)(i=o.pop())-(e=o.pop())<=r||(s=e+Math.ceil((i-e)/r/2)*r,Bfe(t,s,e,i,n),o.push(e,s,s,i))}Ob.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!Yy(t,e))return i;for(var n,s,o,a,l=[];e;){for(n=0,s=e.children.length;n<s;n++)o=e.children[n],Yy(t,a=e.leaf?r(o):o)&&(e.leaf?i.push(o):fx(t,a)?this._all(o,i):l.push(o));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!Yy(t,e))return!1;for(var r,n,s,o,a=[];e;){for(r=0,n=e.children.length;r<n;r++)if(s=e.children[r],Yy(t,o=e.leaf?i(s):s)){if(e.leaf||fx(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t!=null&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=td([]),this},remove:function(t,e){if(t==null)return this;for(var i,r,n,s,o=this.data,a=this.toBBox(t),l=[],d=[];o||l.length;){if(o||(o=l.pop(),r=l[l.length-1],i=d.pop(),s=!0),o.leaf&&(n=Hfe(t,o.children,e))!==-1)return o.children.splice(n,1),l.push(o),this._condense(l),this;s||o.leaf||!fx(o,a)?r?(i++,o=r.children[i],s=!1):o=null:(l.push(o),d.push(i),i=0,r=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:MO,compareMinY:CO,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var n,s=i-e+1,o=this._maxEntries;if(s<=o)return Cu(n=td(t.slice(e,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),(n=td([])).leaf=!1,n.height=r;var a,l,d,h,f=Math.ceil(s/o),y=f*Math.ceil(Math.sqrt(o));for(IO(t,e,i,y,this.compareMinX),a=e;a<=i;a+=y)for(IO(t,a,d=Math.min(a+y-1,i),f,this.compareMinY),l=a;l<=d;l+=f)h=Math.min(l+f-1,d),n.children.push(this._build(t,l,h,r-1));return Cu(n,this.toBBox),n},_chooseSubtree:function(t,e,i,r){for(var n,s,o,a,l,d,h,f;r.push(e),!e.leaf&&r.length-1!==i;){for(h=f=1/0,n=0,s=e.children.length;n<s;n++)l=px(o=e.children[n]),(d=Gfe(t,o)-l)<f?(f=d,h=l<h?l:h,a=o):d===f&&l<h&&(h=l,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,n=i?t:r(t),s=[],o=this._chooseSubtree(n,this.data,e,s);for(o.children.push(t),Sf(o,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)},_split:function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),o=td(i.children.splice(s,i.children.length-s));o.height=i.height,o.leaf=i.leaf,Cu(i,this.toBBox),Cu(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=td([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Cu(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,n,s,o,a,l,d,h;for(l=d=1/0,r=e;r<=i-e;r++)o=Wfe(n=$f(t,0,r,this.toBBox),s=$f(t,r,i,this.toBBox)),a=px(n)+px(s),o<l?(l=o,h=r,d=a<d?a:d):o===l&&a<d&&(d=a,h=r);return h},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:MO,n=t.leaf?this.compareMinY:CO;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,n)&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var n,s,o=this.toBBox,a=$f(t,0,e,o),l=$f(t,i-e,i,o),d=Zy(a)+Zy(l);for(n=e;n<i-e;n++)s=t.children[n],Sf(a,t.leaf?o(s):s),d+=Zy(a);for(n=i-e-1;n>=e;n--)s=t.children[n],Sf(l,t.leaf?o(s):s),d+=Zy(l);return d},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)Sf(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():Cu(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function Zfe(t,{timeZone:e,timeExtent:i}){return{$view:{scale:t,timeZone:e,timeProperties:{currentStart:i?.start,currentEnd:i?.end}}}}let AO=class $9{constructor(e,i){this.key=new Yh(0,0,0,0),this.bounds=Ar(),this.objectIds=new Set,this.key.set(i);const r=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=e.zoomToScale(r.level-1),this.maxScale=e.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return Qie(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return Zfe(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),i=or.acquire();for(let r=0;r<e.length;r++)i[r]=new $9(this.tileInfoView,e[r]);return i}getQuantizationParameters(){return Ra.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const zl={added:[],removed:[]},mx=new Set,Yfe=new Yh(0,0,0,0);function Jfe(t,e){const i=cr(e);if(!i)return null;const[r,n]=i.valid;return t[2]>n?[Ar([t[0],t[1],n,t[3]]),Ar([r,t[1],r+t[2]-n,t[3]])]:t[0]<r?[Ar([r,t[1],t[2],t[3]]),Ar([n-(r-t[0]),t[1],n,t[3]])]:null}let Kfe=class extends R4{constructor(e){super(),this._tiles=new Map,this._index=Ob(9,B("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||SE(e)===0||kE(e)===0)return[];const i=Jfe(e,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const i={added:[],removed:[]};for(const r of e.added)if(!this.has(r)){const n=new AO(this.tileScheme,r);this._tiles.set(r,n),this._index.insert(n),i.added.push(n)}for(const r of e.removed)if(this.has(r)){const n=this.get(r);this._tiles.delete(r),this._index.remove(n),i.removed.push(n)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(e){const i=this.tileScheme.getTileCoverage(e,0);if(!i)return;const{spans:r,lodInfo:n}=i,{level:s}=n;if(r.length>0)for(const{row:o,colFrom:a,colTo:l}of r)for(let d=a;d<=l;d++){const h=Yfe.set(s,o,n.normalizeCol(d),n.getWorldForColumn(d)).id;if(mx.add(h),!this.has(h)){const f=new AO(this.tileScheme,h);this._tiles.set(h,f),this._index.insert(f),this.tiles.push(f),zl.added.push(f)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];mx.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),zl.removed.push(a))}(zl.added.length||zl.removed.length)&&this.emit("update",zl),pM.pool.release(i),mx.clear(),zl.added.length=0,zl.removed.length=0}};const LSe=1e-30,PO=512,Jy=16777216,FSe=8,jSe=29,USe=24,VSe=4,BSe=0,qSe=0,HSe=0,GSe=1,WSe=2,ZSe=3,YSe=4,JSe=5,KSe=6,XSe=12,QSe=13,eke=5,Xfe=6,tke=5,ike=6,S9=6,Qfe=1<<S9,rke=Qfe<<1,nke=1.05,ske=3,oke=1,ake=3,lke=3,cke=5,uke=6,dke=1.15,eme=4,hke=128,tme=256,pke=tme-2*eme,fke=2,mke=128,gke=1,yke=10,vke=1024,bke=128,wke=4,_ke=1,xke=1<<20,$ke=.75,Ske=10,kke=.75,Tke=256,Eke=32,Mke=512,Cke=0,Ike=1,ime=1,Ake=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],Pke=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Fp=256,rme=()=>ue.getLogger("esri.views.webgl.checkWebGLError");function k9(t){switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const T9=!!B("enable-feature:webgl-debug");function E9(){return T9}function Oke(){return T9}function Nl(t,e=E9()){if(e){const i=k9(t);if(i){const r=new Error().stack;rme().error(new K("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}const Rke={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ll={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,HALF_FLOAT:5131},$e={RGBA4:32854,R16F:33325,RG16F:33327,RGB32F:34837,RGBA16F:34842,R32F:33326,RG32F:33328,RGBA32F:34836,R11F_G11F_B10F:35898,RGB8:32849,RGBA8:32856,RGB5_A1:32855,R8:33321,RG8:33323,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,RGB16F:34843,RGB9_E5:35901,SRGB8:35905,SRGB8_ALPHA8:35907,RGB565:36194,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2:32857,RGB10_A2UI:36975},nme=Object.values($e),Rb={DEPTH24_STENCIL8:35056,DEPTH32F_STENCIL8:36013},im={DEPTH_COMPONENT16:33189,DEPTH_COMPONENT24:33190,DEPTH_COMPONENT32F:36012},_T={FLOAT:Ll.FLOAT,UNSIGNED_BYTE:Ll.UNSIGNED_BYTE,UNSIGNED_INT_24_8:34042,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,BYTE:Ll.BYTE,UNSIGNED_SHORT:Ll.UNSIGNED_SHORT,SHORT:Ll.SHORT,UNSIGNED_INT:Ll.UNSIGNED_INT,INT:Ll.INT,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269},Dke=33984,OO={Texture:0,TileTexture:1,BufferObject:2,VertexArrayObject:3,Shader:4,Program:5,FramebufferObject:6,Renderbuffer:7,TransformFeedback:8,Sync:9,UNCOUNTED:10,LinesOfCode:10,Uniform:11,COUNT:12},zke=1029,Nke=0,Lke=36064,Fke=36065,jke=36066,Uke=36067,Vke=33306,Bke=36096,qke=36128,ji={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497};function Hke(t,e,i,r=0){const n=t.gl;t.bindBuffer(i);for(const s of i.layout){const o=e.get(s.name);if(o==null){console.warn(`There is no location for vertex attribute '${s.name}' defined.`);continue}const a=r*s.stride;if(s.count<=4)n.vertexAttribPointer(o,s.count,s.type,s.normalized,s.stride,s.offset+a),n.enableVertexAttribArray(o),s.divisor>0&&n.vertexAttribDivisor(o,s.divisor);else if(s.count===9)for(let l=0;l<3;l++)n.vertexAttribPointer(o+l,3,s.type,s.normalized,s.stride,s.offset+12*l+a),n.enableVertexAttribArray(o+l),s.divisor>0&&n.vertexAttribDivisor(o+l,s.divisor);else if(s.count===16)for(let l=0;l<4;l++)n.vertexAttribPointer(o+l,4,s.type,s.normalized,s.stride,s.offset+16*l+a),n.enableVertexAttribArray(o+l),s.divisor>0&&n.vertexAttribDivisor(o+l,s.divisor);else console.error("Unsupported vertex attribute element count: "+s.count);if(E9()){const l=k9(t.gl);l&&console.error(`Unable to bind vertex attribute "${s.name}" with baseInstanceOffset ${a}:`,l,s)}}}function Gke(t){switch(t){case 6406:case 6409:case 6403:case 36244:case 6402:case 34041:return 1;case 6410:case 33319:case 33320:return 2;case 6407:case 36248:return 3;case 6408:case 36249:return 4}return 0}function sme(t){switch(t){case 6406:case 6409:case 6403:case 36244:case $e.R8:case $e.R8I:case $e.R8UI:case $e.R8_SNORM:case 36168:return 1;case 6410:case 33319:case 33320:case $e.RGBA4:case $e.R16F:case $e.R16I:case $e.R16UI:case $e.RG8:case $e.RG8I:case $e.RG8UI:case $e.RG8_SNORM:case $e.RGB565:case $e.RGB5_A1:case im.DEPTH_COMPONENT16:return 2;case 6407:case 36248:case $e.RGB8:case $e.RGB8I:case $e.RGB8UI:case $e.RGB8_SNORM:case $e.SRGB8:case im.DEPTH_COMPONENT24:return 3;case 6408:case 36249:case $e.RGBA8:case $e.R32F:case $e.R11F_G11F_B10F:case $e.RG16F:case $e.R32I:case $e.R32UI:case $e.RG16I:case $e.RG16UI:case $e.RGBA8I:case $e.RGBA8UI:case $e.RGBA8_SNORM:case $e.SRGB8_ALPHA8:case $e.RGB9_E5:case $e.RGB10_A2UI:case $e.RGB10_A2:case im.DEPTH_COMPONENT32F:case Rb.DEPTH24_STENCIL8:return 4;case Rb.DEPTH32F_STENCIL8:return 5;case $e.RGB16F:case $e.RGB16I:case $e.RGB16UI:return 6;case $e.RG32F:case $e.RG32I:case $e.RG32UI:case $e.RGBA16F:case $e.RGBA16I:case $e.RGBA16UI:return 8;case $e.RGB32F:case $e.RGB32I:case $e.RGB32UI:return 12;case $e.RGBA32F:case $e.RGBA32I:case $e.RGBA32UI:return 16;case ji.COMPRESSED_RGB_S3TC_DXT1_EXT:case ji.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case ji.COMPRESSED_RGBA_S3TC_DXT3_EXT:case ji.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case ji.COMPRESSED_R11_EAC:case ji.COMPRESSED_SIGNED_R11_EAC:case ji.COMPRESSED_RGB8_ETC2:case ji.COMPRESSED_SRGB8_ETC2:case ji.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case ji.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case ji.COMPRESSED_RG11_EAC:case ji.COMPRESSED_SIGNED_RG11_EAC:case ji.COMPRESSED_RGBA8_ETC2_EAC:case ji.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let M9=class{constructor(e=0,i=e){this.width=e,this.height=i,this.type=0,this.target=3553,this.pixelFormat=6408,this.dataType=_T.UNSIGNED_BYTE,this.samplingMode=9729,this.wrapMode=10497,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function ome(t){return t.width<=0||t.height<=0||t.depth<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(t.internalFormat==null?4:sme(t.internalFormat))*(t.target===34067?6:1))}const jp=()=>ue.getLogger("esri/views/webgl/textureUtils");function Up(t){const{width:e,height:i,depth:r}=t;(e!=null&&e<0||i!=null&&i<0||r!=null&&r<0)&&jp().error("Negative dimension parameters are not allowed!");const{internalFormat:n}=t;if(n&&(C9(n)||I9(n))){const{linearFilterDepth:s,compareEnabled:o,samplingMode:a,hasMipmap:l}=t;l&&jp().error("Depth textures cannot have mipmaps"),s?a!==9729&&a!==9728&&jp().error("Depth textures cannot sample mipmaps"):(a!==9728&&jp().error("Depth textures without filtering must use NEAREST filtering"),o&&jp().error("Depth textures without filtering cannot use compare function"))}}function ame(t){return nme.includes(t)}function C9(t){return P1(im,t)}function I9(t){return P1(Rb,t)}function lme(t){return t!=null&&P1(ji,t)}function id(t){return t!=null&&"type"in t&&t.type==="compressed"}function cme(t){return t!=null&&"byteLength"in t}function RO(t){return t!=null&&!id(t)&&!cme(t)}function Iu(t){return t===32879||t===35866}function DO(t,e,i,r=1){let n=Math.max(e,i);return t===32879&&(n=Math.max(n,r)),Math.floor(Math.log2(n))+1}function Ky(t){if(t.internalFormat!=null)return t.internalFormat;switch(t.dataType){case _T.FLOAT:switch(t.pixelFormat){case 6408:return $e.RGBA32F;case 6407:return $e.RGB32F;default:throw new K("texture:unknown-format","Unable to derive format")}case _T.UNSIGNED_BYTE:switch(t.pixelFormat){case 6408:return $e.RGBA8;case 6407:return $e.RGB8}}const{pixelFormat:e}=t;return t.internalFormat=e===34041?Rb.DEPTH24_STENCIL8:e===6402?im.DEPTH_COMPONENT24:e,t.internalFormat}function ume(t){let e="width"in t?t.width:t.codedWidth,i="height"in t?t.height:t.codedHeight;return t instanceof HTMLVideoElement&&(e=t.videoWidth,i=t.videoHeight),{width:e,height:i,depth:1}}let dme=class A9 extends M9{constructor(e,i){switch(super(),this.context=e,Object.assign(this,i),this.internalFormat){case $e.R16F:case $e.R32F:case $e.R8_SNORM:case $e.R8:this.pixelFormat=6403;break;case $e.R8I:case $e.R8UI:case $e.R16I:case $e.R16UI:case $e.R32I:case $e.R32UI:this.pixelFormat=36244}}static validate(e,i){return new A9(e,i)}};const hme=!!B("esri-tests-disable-gpu-memory-measurements"),co=()=>ue.getLogger("esri/views/webgl/Texture");var oi;let pme=(oi=class{constructor(e,i=null,r=null){if(this.type=1,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,r=i;else{const n=dme.validate(e,i);if(!n)throw new K("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=n}this._descriptor.target===34067?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return hme?0:ome(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this.hasWebGLTextureObject&&this._descriptor.context?.gl&&(this._descriptor.context.instanceCounter.decrement(OO.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null,this._descriptor=null)}release(){this.dispose()}[Symbol.dispose](){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new K("texture:immutable-resize","Immutable textures can't be resized!");r.width=e,r.height=i,this._descriptor.target===34067?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!id(e)&&this._descriptor.internalFormat&&P1(ji,this._descriptor.internalFormat)&&(this._descriptor.internalFormat=void 0),this._setData(e),!id(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(e,i,r,n,s,o,a=0){o||co().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||co().error("An attempt to update uninitialized texture!");const l=this._descriptor;l.internalFormat=Ky(l);const{context:d,pixelFormat:h,dataType:f,target:y,isImmutable:b}=l;if(b&&!this._wasImmutablyAllocated)throw new K("texture:uninitialized","Cannot update immutable texture before allocation!");const x=d.bindTexture(this,oi.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+n>l.width||r+s>l.height)&&co().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:$}=d;a&&(n&&s||co().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),$.pixelStorei($.UNPACK_SKIP_ROWS,a)),RO(o)?$.texSubImage2D(y,e,i,r,n,s,h,f,o):id(o)?$.compressedTexSubImage2D(y,e,i,r,n,s,l.internalFormat,o.levels[e]):$.texSubImage2D(y,e,i,r,n,s,h,f,o),a&&$.pixelStorei($.UNPACK_SKIP_ROWS,0),d.bindTexture(x,oi.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(e,i,r,n,s,o,a,l){l||co().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||co().error("An attempt to update an uninitialized texture!");const d=this._descriptor;d.internalFormat=Ky(d);const{context:h,pixelFormat:f,dataType:y,isImmutable:b,target:x}=d;if(b&&!this._wasImmutablyAllocated)throw new K("texture:uninitialized","Cannot update immutable texture before allocation!");Iu(x)||co().warn("Attempting to set 3D texture data on a non-3D texture");const $=h.bindTexture(this,oi.TEXTURE_UNIT_FOR_UPDATES);h.setActiveTexture(oi.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||n<0||i+s>d.width||r+o>d.height||n+a>d.depth)&&co().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:E}=h;if(id(l))l=l.levels[e],E.compressedTexSubImage3D(x,e,i,r,n,s,o,a,d.internalFormat,l);else{const C=l;E.texSubImage3D(x,e,i,r,n,s,o,a,f,y,C)}h.bindTexture($,oi.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const e=this._descriptor;if(e.width===0||e.height===0)return;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new K("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,Up(e)}e.samplingMode===9729?(this._samplingModeDirty=!0,e.samplingMode=9985):e.samplingMode===9728&&(this._samplingModeDirty=!0,e.samplingMode=9984);const i=this._descriptor.context.bindTexture(this,oi.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(oi.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(e.target),this._descriptor.context.bindTexture(i,oi.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new K("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,Up(e)}e.samplingMode===9985?(this._samplingModeDirty=!0,e.samplingMode=9729):e.samplingMode===9984&&(this._samplingModeDirty=!0,e.samplingMode=9728)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,Up(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?9729:9728),Up(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=Uc(this._compressionAbortController)}_setData(e,i){const r=this._descriptor,n=r.context?.gl;if(!n)return;Nl(n),this.hasWebGLTextureObject||(this._glName=n.createTexture(),r.context.instanceCounter.increment(OO.Texture,this)),Up(r);const s=r.context.bindTexture(this,oi.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(oi.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Nl(n);const o=i??r.target,a=Iu(o);if(RO(e))this._setDataFromTexImageSource(e,o);else{const{width:l,height:d,depth:h}=r;if(l==null||d==null)throw new K("texture:missing-size","Width and height must be specified!");if(a&&h==null)throw new K("texture:missing-depth","Depth must be specified!");if(r.internalFormat=Ky(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,r.internalFormat,r.hasMipmap,l,d,h),id(e)){if(!lme(r.internalFormat))throw new K("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(e,r.internalFormat,o)}else this._texImage(o,0,r.internalFormat,l,d,h,e),Nl(n),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),Nl(n),r.context.bindTexture(s,oi.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let i=34069;i<=34074;i++)this._setData(e,i)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:n}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n?1:0)}_setDataFromTexImageSource(e,i){const{gl:r}=this._descriptor.context,n=this._descriptor;n.internalFormat=Ky(n);const s=Iu(i),{width:o,height:a,depth:l}=ume(e);n.width&&n.height,n.width||(n.width=o),n.height||(n.height=a),s&&n.depth,s&&(n.depth=l),n.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,n.internalFormat,n.hasMipmap,o,a,l),this._texImage(i,0,n.internalFormat,o,a,l,e),Nl(r),n.hasMipmap&&(this.generateMipmap(),Nl(r))}_setDataFromCompressedSource(e,i,r){const n=this._descriptor,{width:s,height:o,depth:a}=n,l=e.levels,d=DO(r,s,o,a),h=Math.min(d,l.length)-1;this._descriptor.context.gl.texParameteri(n.target,33085,h),this._forEachMipmapLevel((f,y,b,x)=>{const $=l[Math.min(f,l.length-1)];this._compressedTexImage(r,f,i,y,b,x,$)},h)}_texStorage(e,i,r,n,s,o){const{gl:a}=this._descriptor.context;if(!ame(i)&&!C9(i)&&!I9(i))throw new K("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=r?DO(e,n,s,o):1;if(Iu(e)){if(o==null)throw new K("texture:missing-depth","Missing depth dimension for 3D texture upload");a.texStorage3D(e,l,i,n,s,o)}else a.texStorage2D(e,l,i,n,s);this._wasImmutablyAllocated=!0}_texImage(e,i,r,n,s,o,a){const l=this._descriptor.context.gl,d=Iu(e),{isImmutable:h,pixelFormat:f,dataType:y}=this._descriptor;if(h){if(a!=null){const b=a;if(d){if(o==null)throw new K("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texSubImage3D(e,i,0,0,0,n,s,o,f,y,b)}else l.texSubImage2D(e,i,0,0,n,s,f,y,b)}}else{const b=a;if(d){if(o==null)throw new K("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texImage3D(e,i,r,n,s,o,0,f,y,b)}else l.texImage2D(e,i,r,n,s,0,f,y,b)}}_compressedTexImage(e,i,r,n,s,o,a){const l=this._descriptor.context.gl,d=Iu(e);if(this._descriptor.isImmutable){if(a!=null)if(d){if(o==null)throw new K("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(e,i,0,0,0,n,s,o,r,a)}else l.compressedTexSubImage2D(e,i,0,0,n,s,r,a)}else if(d){if(o==null)throw new K("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexImage3D(e,i,r,n,s,o,0,a)}else l.compressedTexImage2D(e,i,r,n,s,0,a)}async _compressOnWorker(e){const{width:i,height:r,context:n,flipped:s,preMultiplyAlpha:o,hasMipmap:a}=this._descriptor,l=this._descriptor.compress?.compressionTracker,d=this._descriptor.compress?.compressionCallback,{compressedTextureETC:h,compressedTextureS3TC:f}=n.capabilities;if(!oi.compressionWorkerHandle?.isCompressible(e,this._descriptor)||!h&&!f)return;this.abortCompression();const y=new AbortController;let b;this._compressionAbortController=y,l?.increment();try{e instanceof Uint8Array?b=e.buffer:(b=await createImageBitmap(e,{imageOrientation:s?"flipY":"none"}),Pt(y));const x={data:b,width:i,height:r,needsFlip:e instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===6408?4:3,preMultiplyAlpha:o,hasMipmap:a,hasETC:!!h,hasS3TC:!!f},$=await oi.compressionWorkerHandle.invoke(x,y.signal,"low");if(Pt(y),$.compressedTexture&&this.hasWebGLTextureObject){const E=this.usedMemory;this._descriptor.internalFormat=$.internalFormat,this._setData($.compressedTexture),d?.(E-this.usedMemory)}}catch(x){Ki(x)||co().error("Texture compression failed!")}finally{l?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null),b instanceof ImageBitmap&&b.close()}}_forEachMipmapLevel(e,i=1/0){let{width:r,height:n,depth:s,hasMipmap:o,target:a}=this._descriptor;const l=a===32879;if(r==null||n==null||l&&s==null)throw new K("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let d=0;e(d,r,n,s),o&&(r!==1||n!==1||l&&s!==1)&&!(d>=i);++d)r=Math.max(1,r>>1),n=Math.max(1,n>>1),l&&(s=Math.max(1,s>>1))}_applySamplingMode(){const e=this._descriptor,i=e.context?.gl;let r=e.samplingMode,n=e.samplingMode;r===9985||r===9987?(r=9729,e.hasMipmap||(n=9729)):r!==9984&&r!==9986||(r=9728,e.hasMipmap||(n=9728)),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,n)}_applyWrapMode(){const e=this._descriptor,i=e.context?.gl;typeof e.wrapMode=="number"?(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode)):(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode.s),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){const e=this._descriptor,i=e.context?.gl,r=e.compareEnabled?i.COMPARE_REF_TO_TEXTURE:i.NONE;i.texParameteri(e.target,i.TEXTURE_COMPARE_MODE,r),e.compareEnabled&&i.texParameteri(e.target,i.TEXTURE_COMPARE_FUNC,i.GREATER),Nl(i)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,i=e.context.capabilities.textureFilterAnisotropic;i&&e.context.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}},oi.TEXTURE_UNIT_FOR_UPDATES=0,oi.compressionWorkerHandle=null,oi);const gx=()=>ue.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function fme(t,e){e.fillColor[0]=t.color.r/255,e.fillColor[1]=t.color.g/255,e.fillColor[2]=t.color.b/255,e.fillColor[3]=t.color.a,t.haloColor?(e.outlineColor[0]=t.haloColor.r/255,e.outlineColor[1]=t.haloColor.g/255,e.outlineColor[2]=t.haloColor.b/255,e.outlineColor[3]=t.haloColor.a):(e.outlineColor[0]=e.fillColor[0],e.outlineColor[1]=e.fillColor[1],e.outlineColor[2]=e.fillColor[2],e.outlineColor[3]=e.fillColor[3]),e.fillColor[3]*=t.fillOpacity,e.outlineColor[3]*=t.haloOpacity,e.fillColor[0]*=e.fillColor[3],e.fillColor[1]*=e.fillColor[3],e.fillColor[2]*=e.fillColor[3],e.outlineColor[0]*=e.outlineColor[3],e.outlineColor[1]*=e.outlineColor[3],e.outlineColor[2]*=e.outlineColor[3],e.outlineWidth=(1-t.haloBlur)*t.haloWidth,e.outerHaloWidth=t.haloBlur*t.haloWidth/2,e.innerHaloWidth=t.haloBlur*t.haloWidth/2,e.outlinePosition=0}const mme=[0,0,0,0];let P9=class{constructor(){this.type="single",this._highlightOptions=new Ka,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*Fp),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,i){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,Xfe),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<S9)-1,activeGradient:this}]}_updateGradientTexture(e){const i=gme(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,fme(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,n=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,s=r.outlinePosition-r.outlineWidth/2,o=r.outlinePosition+r.outlineWidth/2,a=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,l=Math.sqrt(Math.PI/2)*ime,d=Math.abs(n)>l?Math.round(10*(Math.abs(n)-l))/10:0,h=Math.abs(a)>l?Math.round(10*(Math.abs(a)-l))/10:0;let f;d&&!h?gx().error("The outer rim of the highlight is "+d+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!d&&h?gx().error("The inner rim of the highlight is "+h+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):d&&h&&gx().error("The highlight is "+Math.max(d,h)+"px away from the edge of the feature; consider reducing some width values.");const y=[void 0,void 0,void 0,void 0];function b($,E,C){y[0]=(1-C)*$[0]+C*E[0],y[1]=(1-C)*$[1]+C*E[1],y[2]=(1-C)*$[2]+C*E[2],y[3]=(1-C)*$[3]+C*E[3]}const{_texelData:x}=this;for(let $=0;$<Fp;++$)f=n+$/(Fp-1)*(a-n),f<n?(y[0]=0,y[1]=0,y[2]=0,y[3]=0):f<s?b(mme,r.outlineColor,(f-n)/(s-n)):f<o?[y[0],y[1],y[2],y[3]]=r.outlineColor:f<a?b(r.outlineColor,r.fillColor,(f-o)/(a-o)):[y[0],y[1],y[2],y[3]]=r.fillColor,x[4*$]=255*y[0],x[4*$+1]=255*y[1],x[4*$+2]=255*y[2],x[4*$+3]=255*y[3];if(this._minMaxDistance[0]=n,this._minMaxDistance[1]=a,!this._shadeTex){const $=new M9(Fp,1);$.wrapMode=33071,this._shadeTex=new pme(e,$)}this._shadeTex.updateData(0,0,0,Fp,1,this._texelData)}};function gme(t){return`${t.color};${t.haloColor};${t.haloOpacity};${t.fillOpacity};${t.haloWidth};${t.haloBlur}`}let yme=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let i=0;i<e.length;i++)this.gradients[i]||(this.gradients[i]=new P9),this.gradients[i].setHighlightOptions(e[i]);for(let i=e.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const i=[];for(let r=0;r<this.gradients.length;r++){const n=this.gradients[r];i.push({activeReasons:e,activeGradient:n}),e<<=1}return i}};const O9={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7681}}}},vme={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},bme={...O9,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function wme({pixelRatio:t,state:e,displayLevel:i,requiredLevel:r},n){const s=1/2**(i-n.key.level),o=1/2**(r-n.key.level);return{displayMat3:e.displayMat3,displayViewMat3:e.displayViewMat3,displayViewScreenMat3:n.transforms.displayViewScreenMat3,viewMat3:e.viewMat3,tileMat3:n.transforms.tileMat3,displayZoomFactor:s,requiredZoomFactor:o,tileOffset:[n.x,n.y],currentScale:e.scale,currentZoom:i,metersPerSRUnit:eo(e.spatialReference),rotation:e.rotation,pixelRatio:t}}function R9(t){return t.passOptions?.type==="highlight"}function D9(t){return t.passOptions?.type==="hittest"}function _me(t){if(!D9(t))return null;const{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}=t.passOptions;return{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}}function xme(t){if(!R9(t))return null;const{activeReasons:e,highlightAll:i}=t.passOptions;return{activeReasons:e,highlightAll:i?1:0}}function Jke(t,e,i){const r={};for(const n in i)typeof i[n]!="function"?r[n]=i[n]:r[n]=i[n](t,e);return r}function Kke(t,e){const{attributeView:i,context:r}=t;return{storage:i.getUniforms(r),view:wme(t,e),hittestRequest:_me(t),highlight:xme(t)}}function Xke(t){return{inside:t.selection===2,outside:t.selection===3}}function $me(t){return D9(t)?vme:R9(t)&&t.passOptions.stepType==="clear"?bme:O9}function Qke(t){const{row:e,col:i}=t.key,r=i*PO,n=e*PO;return{tileOffsetFromLocalOrigin:[r%Jy,n%Jy],maxIntsToLocalOrigin:[Math.floor(r/Jy),Math.floor(n/Jy)]}}const Sme=new ui({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function eTe(t){return Sme.toJSON(t)}function tTe(t){const{bandCount:e,attributeTable:i,colormap:r,pixelType:n}=t.raster.rasterInfo;return e===1&&(i!=null||r!=null||n==="u8"||n==="s8")}function kme(t,e){return e==null?(t?.destroy(),null):(t?.type==="single"&&Array.isArray(e)&&(t.destroy(),t=null),t?.type!=="multi"||Array.isArray(e)||(t.destroy(),t=null),t||(t=Array.isArray(e)?new yme:new P9),Array.isArray(e)?t.type==="multi"&&t.setHighlightOptions(e):t.type==="single"&&t.setHighlightOptions(e),t)}function iTe(t,e,i,r){const{painter:n,highlightGradient:s}=t,{highlight:o}=n.effects;if(!s)return;const a=t.passOptions,l=s.getReasonsWithGradients();for(let d=0;d<l.length;d++){const h={...t,passOptions:{type:"highlight",activeGradient:l[d].activeGradient,activeReasons:l[d].activeReasons,stepType:"burn",highlightAll:e}};if(o.bind(h),i(h),d<l.length-1){let y=0;for(let b=d+1;b<l.length;b++)y|=l[b].activeReasons;i({...t,passOptions:{type:"highlight",activeGradient:l[d].activeGradient,activeReasons:y,stepType:"clear",highlightAll:e}})}const f={...t,passOptions:{type:"highlight",activeGradient:l[d].activeGradient,activeReasons:l[d].activeReasons,stepType:"draw",highlightAll:e}};n.setPipelineState($me(t)),n.updatePipelineState(t.context),o.draw(f),o.unbind()}t.passOptions=a}const Xy=t=>parseFloat(t)/100;function Tme(t,e,i){const r=typeof t.left=="string"?Xy(t.left)*e:t.left,n=typeof t.right=="string"?Xy(t.right)*e:t.right,s=typeof t.top=="string"?Xy(t.top)*i:t.top,o=typeof t.bottom=="string"?Xy(t.bottom)*i:t.bottom,a=s;return{xmin:r,xmax:Math.max(e-n,r),ymin:a,ymax:Math.max(i-o,s)}}function z9(t,e,i,r){switch(e.type){case"rect":{const{width:n,height:s}=t,{xmin:o,xmax:a,ymin:l,ymax:d}=Tme(e,n,s),{x:h,y:f}=i;return h>o&&h<a&&f>l&&f<d}case"path":return e.path.length===0||!Array.isArray(e.path[0][0])||vE(e.path,[i.x,i.y]);case"geometry":return e.geometry==null||(e.geometry.type==="polygon"?yE(e.geometry,r):hg(e.geometry,r))}}function Eme(t){if(!t.highlights)return null;const e=t.highlights.findIndex(i=>i.name==="default");return e===-1?null:t.highlights.items[e]}function Mme(t,e){if(!t.highlights){if(!e)return;t.highlights=new pe([new Ka])}const i=t.highlights.findIndex(r=>r.name==="default");e?t.highlights.items[i].assignFrom(e):(t.highlights.removeAt(i),t.highlights.length===0&&(t.highlights=null))}async function Cme(t,e,i){const r=y8(e)?g8(t,e):e;if(!t.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set;const s=new Set;let o=!1,a=null,l=null;i?.include?NO(i.include,zO(t,y=>{n.add(y),yx(y,b=>s.add(b))},(y,b)=>{s.add(y),n.add(b)},y=>{a||(a=new Set),a.add(y)},y=>n.add(y),()=>o=!0)):(o=!0,n=new Set(t.allLayerViews),n.forEach(y=>{yx(y,b=>s.add(b))})),i?.exclude&&NO(i.exclude,zO(t,y=>{n.delete(y),yx(y,b=>s.delete(b))},y=>s.delete(y),y=>{l||(l=new Set),l.add(y)}));const d=t.toMap(r),h=t.allLayerViews.filter(y=>!y.suspended&&n.has(y)&&y.clips.every(b=>z9(t,b,r,d))).reverse();let f=[...o?t.graphicsView.hitTest(d).map(y=>({type:"graphic",graphic:y,layer:null,mapPoint:d})):[],...await Promise.all(h.map(y=>y.hitTest(d,r)).toArray())].filter(lh).flat().filter(lh);return f=f.filter(y=>y.type!=="graphic"||y.layer?.type!=="subtype-group"||s.has(y.graphic.layer)),a&&(f=f.filter(y=>!("graphic"in y)||!y.graphic||a?.has(xT(y.graphic)))),l&&(f=f.filter(y=>!("graphic"in y)||!y.graphic||!l?.has(xT(y.graphic)))),{screenPoint:r,results:f}}function zO(t,e,i,r,n,s){return o=>{if(o instanceof pi){if(o.layer===t)s?.();else{const a=t.allLayerViews.find(l=>l.layer===o.layer);a&&n?.(a)}r(xT(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const a=t.allLayerViews.find(l=>l.layer===o.parent);a&&i(o,a)}else{const a=t.allLayerViews.find(l=>l.layer===o);a&&e(a)}}}function NO(t,e){if(t)if(sb(t))for(const i of t)if(sb(i))for(const r of i)e(r);else e(i);else e(t)}function xT(t){const e=t.getObjectId();return e?`${t.layer?.uid??t.sourceLayer?.uid??"MapView"}/${e}`:`"MapView/${t.uid}`}function yx(t,e){const i=t.layer;i?.type==="subtype-group"&&i.sublayers.forEach(r=>{e(r)})}let Vp=null,Db=!0;function Ime(t,e,i){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(Db)try{return new ImageData(t,e)}catch{Db=!1}return N9(t,e,i)}function rTe(t,e,i,r){if(!e||!i)throw new Error("Cannot construct image data without dimensions");if(Db)try{return new ImageData(t,e,i)}catch{Db=!1}const n=N9(e,i,r);return n.data.set(t,0),n}function Ame(){return Vp||(Vp=document.createElement("canvas"),Vp.width=1,Vp.height=1),Vp}function N9(t,e,i){return i||(i=Ame()),i.getContext("2d").createImageData(t,e)}async function Pme(t,e){const i=window.URL.createObjectURL(t);try{const{data:r}=await Xt(i,{...e,responseType:"image"});return r}catch(r){throw Ki(r)?r:new K("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function nTe(t,e){const{arrayBuffer:i,mediaType:r}=await Ome(t,e),n=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:s,parseGif:o}=await ae(()=>import("./c-gif-Cl0pj_bs.js"),[]);if(s(i))return o(i,e)}if(n){const{isAnimatedPNG:s,parseApng:o}=await ae(()=>import("./c-apng-DQyChFRD.js"),__vite__mapDeps([375,41]));if(s(i))return o(i,e)}return Pme(new Blob([i],{type:r}),e)}async function Ome(t,e){const i=dh(t);if(i?.isBase64)return{arrayBuffer:o4(i.data),mediaType:i.mediaType};const r=await Xt(t,{responseType:"array-buffer",...e});return{arrayBuffer:r.data,mediaType:r.getHeader?.("Content-Type")??""}}function L9(t,e,i){const{ctx:r,canvas:n}=j9(t,i),s=r.getImageData(0,0,t.width,t.height),o=V9(n,e);return U9(n),{dataUrl:o,data:s}}function F9(t,e){const{ctx:i,canvas:r}=j9(t,e),n=i.getImageData(0,0,t.width,t.height);return U9(r),n}function j9(t,e){const i=Rme();e.premultipliedAlpha&&Lme(t),i.width=t.width,i.height=t.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(t,0,0),e.flipY&&Nme(r),{ctx:r,canvas:i}}function U9(t){t.width=0,t.height=0}function Rme(){return vx==null&&(vx=document.createElement("canvas")),vx}let vx=null;function V9(t,e){const i=Fme[e.format],r=e.quality/100;return t.toDataURL(i,r)}function B9(t,e){const i=zme(t),r=Ume[i];return{format:i,quality:An(e??r,0,100)}}function q9(t,e){return e/Math.max(t[0],t[1])}function Dme(t,e,i,r=0,n=0,s=t.width-r,o=t.height-n,a=!1){const{data:l}=t,{width:d,height:h,data:f}=e,y=s/d,b=o/h,x=Math.ceil(y/2),$=Math.ceil(b/2),E=t.width;for(let C=0;C<h;C++)for(let O=0;O<d;O++){const j=4*(O+(a?h-C-1:C)*d);let D=0,F=0,G=0,z=0,se=0,oe=0;const ee=(C+.5)*b;for(let ge=Math.floor(C*b);ge<(C+1)*b;ge++){const te=Math.abs(ee-(ge+.5))/$,Y=(O+.5)*y,H=te*te;for(let ce=Math.floor(O*y);ce<(O+1)*y;ce++){const _e=Math.abs(Y-(ce+.5))/x,we=Math.sqrt(H+_e*_e);if(we>=1)continue;let me=2*we*we*we-3*we*we+1;const ke=4*(r+ce+(n+ge)*E);oe+=me*l[ke+3],F+=me,!i&&l[ke+3]<255&&(me=me*l[ke+3]/255),G+=me*l[ke],z+=me*l[ke+1],se+=me*l[ke+2],D+=me}}f[j]=G/D,f[j+1]=z/D,f[j+2]=se/D,f[j+3]=oe/F}return e}function zme(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return jme}}function Nme(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function Lme(t){const e=t.data,i=e.length;for(let r=0;r<i;r+=4){const n=e[r+3];if(n!==255&&n>0){const s=255/n;e[r]=e[r]*s,e[r+1]=e[r+1]*s,e[r+2]=e[r+2]*s}}}const Fme={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},LO=98,jme="png",Ume={png:100,jpg:LO,jpeg:LO},sTe=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:Ime,encode:L9,encodeData:F9,getFormatAndQuality:B9,getMaximumResolutionScale:q9,resampleHermite:Dme,toDataUrl:V9},Symbol.toStringTag,{value:"Module"})),H9={flipY:!0,premultipliedAlpha:!0};async function Vme(t,e){const i=await G9(t,e),{format:r,quality:n}=B9(e?.format,e?.quality);return L9(i,{format:r,quality:n},H9)}async function Bme(t,e){const i=await G9(t,e);return F9(i,H9)}function G9(t,e){const i=Gme(e||{},Hme(t.stage,t.size),t.size,t.padding),r=qme(e,t.allLayerViews);return t.stage.takeScreenshot(i,r,t.backgroundColor,e?.rotation)}function qme(t={},e){if(!t.layers)return;const i=[];return t.layers.forEach(r=>{const n=e.find(s=>s.layer.id===r.id);n?.container&&i.push(n.container)}),i}function Hme(t,e){return Math.min(4,q9(e,Math.min(4096,t.context.parameters.maxTextureSize)))}function Gme(t,e,i,r){t.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let n=null;t.width!=null&&t.height!=null?n=[t.width,t.height]:t.width==null&&t.height!=null?n=[t.height,t.height]:t.width!=null&&t.height==null?n=[t.width,t.width]:t.width==null&&t.height==null&&(n=null);const s=i[0]-(r.left+r.right),o=i[1]-(r.top+r.bottom);let a,l,d=t.area||{x:0,y:0,width:s,height:o};if(n){const h=s/o,f=n[0]/n[1];if(f>h){const y=d.width/f;d={x:d.x,y:Math.round(d.y+(d.height-y)/2),width:d.width,height:Math.round(y)}}else{const y=d.height*f;d={x:Math.round(d.x+(d.width-y)/2),y:d.y,width:Math.round(y),height:d.height}}}else n=[d.width,d.height];return n[0]>d.width?(a=Math.min(n[0]/d.width,e),l=n[0]/d.width/a):(a=1,l=n[0]/d.width),{cropArea:{x:Math.round((d.x+r.left)*a),y:Math.round((d.y+r.top)*a),width:Math.round(d.width*a),height:Math.round(d.height*a)},outputScale:l,resolutionScale:a}}const Wme=t=>t.includes("Brush");let W9=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),Wme(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}};const FO=Symbol("analyses-owner-handles");let Ma=class extends Te{constructor(t){super(t),this._allAnalysisViews=new pe,this._creatingViewCount=0,this._attachedToViewResolver=jO(),this._items=new Map,this._moduleMap=new Map,this._scheduledUpdateHandle=null,this._emitOnView=(e,i)=>this.view.emit(e,i)}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject(at("AnalysisViewManager was destroyed")),this._set("view",null)}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject(at()),this._attachedToViewResolver=jO()}get updating(){return!this.view.ready||this._creatingViewCount!==0||this._allAnalysisViews.some(t=>t.updating)}get testInfo(){}async whenAnalysisView(t){await this._attachedToViewResolver.promise;const e=this._items.get(t);if(e==null||e.state.list===1)throw new K("AnalysisViewManager:no-analysis-view-for-analysis","The analysis does not exist in view.analyses",{analysis:t});return e.createAnalysisViewTask.promise}_connectOwners(){this.addHandles(this._connectAnalysesCollection(this.view.analyses),FO)}_disconnectOwners(){this.removeHandles(FO),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(t){for(const r of t)this._addAnalysis(r);const e=t.on("after-add",r=>this._addAnalysis(r.item)),i=t.on("after-remove",r=>this._removeAnalysis(r.item));return Je(()=>{e.remove(),i.remove();for(const r of t)this._removeAnalysis(r)})}_addAnalysis(t){const e=this._items.get(t);if(e==null){const i={state:{view:0,list:0},analysis:t,view:null,createAnalysisViewTask:null};this._items.set(t,i),i.createAnalysisViewTask=K1(r=>this._createAnalysisViewPromise(i,r).then(n=>(this._emitOnView("analysis-view-create",{analysis:t,analysisView:n}),n),n=>{throw this._emitOnView("analysis-view-create-error",{analysis:t,error:n}),n}))}else e.state.list=0}_removeAnalysis(t){const e=this._items.get(t);e!=null?(e.state.list=1,this._scheduleUpdate()):ue.getLogger(this).error("Trying to remove analysis which was not added")}_scheduleUpdate(){this._scheduledUpdateHandle==null&&(this._scheduledUpdateHandle=Dh(()=>this._update()))}_update(){this._scheduledUpdateHandle=_t(this._scheduledUpdateHandle),this._items.forEach(t=>{if(t.state.list!==1)return;const{analysis:e,view:i}=t;switch(this._items.delete(e),t.state.view){case 0:t.createAnalysisViewTask=Uc(t.createAnalysisViewTask);break;case 1:i!=null&&(this._allAnalysisViews.remove(i),t.view=Ut(i),t.createAnalysisViewTask=null,this._emitOnView("analysis-view-destroy",{analysis:e,analysisView:i}))}})}async _createAnalysisViewPromise(t,e){const{analysis:i}=t;if(this._creatingViewCount+=1,!this._moduleMap.has(i.type))try{this._moduleMap.set(i.type,await this.importAnalysisViewModule(i))}catch{throw this._creatingViewCount-=1,new K("AnalysisViewManager:no-analysis-view-for-analysis",`Analysis of type "${i.type}" is not supported`)}if(Zi(e))throw this._creatingViewCount-=1,at("AnalysisView creation aborted");const r=new(this._moduleMap.get(i.type)).default({analysis:i,view:this.view});let n=!0;In(e,()=>{n&&this._destroyAnalysisView(i,r)});try{await r.when()}catch(s){throw n=!1,this._destroyAnalysisView(i,r),s}if(Zi(e))throw at();return n=!1,t.view=r,t.state.view=1,this._allAnalysisViews.add(r),this._creatingViewCount-=1,r}_destroyAnalysisView(t,e){e.destroyed||(this._creatingViewCount-=1,e.destroy(),this._emitOnView("analysis-view-destroy",{analysis:t,analysisView:e}))}};u([p()],Ma.prototype,"updating",null),u([p({constructOnly:!0})],Ma.prototype,"importAnalysisViewModule",void 0),u([p({constructOnly:!0})],Ma.prototype,"view",void 0),u([p()],Ma.prototype,"_allAnalysisViews",void 0),u([p()],Ma.prototype,"_creatingViewCount",void 0),Ma=u([R("esri.views.support.AnalysisViewManager")],Ma);const Zme=Ma;function jO(){const t=nn();return t.promise.catch(()=>{}),t}let Yme=class{constructor(e){this.getUnmaskedRenderer=e}};function Jme(t){const e=t.getExtension("WEBGL_debug_renderer_info");return e?new Yme(()=>t.getParameter(e.UNMASKED_RENDERER_WEBGL)):null}let UO;function Kme(){return UO??=ege(),UO}let Xme=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function Qme(t){if(typeof WebGL2RenderingContext>"u")return null;const e=document.createElement("canvas");if(!e)return null;let i=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=e.getContext("webgl2"),i!=null&&(t.majorPerformanceCaveat=!0,t.unmaskedRenderer=Jme(i)?.getUnmaskedRenderer()??"unknown")),i==null)return i;t.available=!0,t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),i}function ege(){const t=new Xme,e=Qme(t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}function tge(t){const e=Kme();return e.available?t==="3d"&&e.majorPerformanceCaveat?new K("webgl:major-performance-caveat-detected",`Your WebGL implementation (${e.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):e.supportsHighPrecisionFragment?e.supportsVertexShaderSamplers?null:new K("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new K("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new K("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function ige(t){return t&&"nodeType"in t}function rge(t){return t&&typeof t.render=="function"}const VO={component:"esri-component"};let tc=class extends Te{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(e){this._set("id",e)}set node(e){const i=this._get("node");e!==i&&(e&&e.classList.add(VO.component),i&&i.classList.remove(VO.component),this._set("node",e))}castNode(e){return this.widget?.destroy(),e?typeof e=="string"||ige(e)?(this._set("widget",null),tE(e)):(rge(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};u([p()],tc.prototype,"id",null),u([p()],tc.prototype,"node",null),u([vi("node")],tc.prototype,"castNode",null),u([p({readOnly:!0})],tc.prototype,"widget",void 0),tc=u([R("esri.views.ui.Component")],tc);const n0=tc,nge={left:0,top:0,bottom:0,right:0},Z9={bottom:30,top:15,right:15,left:15},uo="esri-ui",mr={ui:uo,corner:`${uo}-corner`,innerContainer:`${uo}-inner-container`,manualContainer:`${uo}-manual-container`,cornerContainer:`${uo}-corner-container`,topLeft:`${uo}-top-left`,topRight:`${uo}-top-right`,bottomLeft:`${uo}-bottom-left`,bottomRight:`${uo}-bottom-right`};function sge(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function Qy(t){return t===0?"0":`${t}px`}function bx(t){const e=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(e===null||e===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function wx(t,{top:e,bottom:i,left:r,right:n}){t.style.top=e,t.style.bottom=i,t.style.left=r,t.style.right=n}let As=class extends lg{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Mn(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&wx(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&wx(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([De(()=>[this.view?.padding,this.container],this._applyViewPadding,Ji),De(()=>this.padding,this._applyUIPadding,Ji),De(()=>[this.container,this._locale],([e,i])=>{e&&e.setAttribute("lang",i)},Ji),G5(e=>{this._locale=e})])}destroy(){this.removeAllHandles(),this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear(),this.view=null,this._set("view",null)}set container(e){const i=this._get("container");e!==i&&(e&&(e.classList.add(mr.ui),XQ(e),this._attachContainers(e)),i&&(i.classList.remove(mr.ui),wx(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",e))}get height(){const e=this.view?.height??0;if(e===0)return e;const i=this._getViewPadding(),{top:r,bottom:n}=i;return Math.max(e-r-n,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...Z9,...e}}get width(){const e=this.view?.width??0;if(e===0)return e;const i=this._getViewPadding(),{left:r,right:n}=i;return Math.max(e-r-n,0)}add(e,i){let r,n,s;if(Array.isArray(e))return void e.forEach(a=>this.add(a,i));const o=bx(e);o&&({index:r,position:i,component:e,key:n}=o),i&&typeof i=="object"&&({index:r,key:n,position:i,internal:s}=i),!e||i&&!this._isValidPosition(i)||this._add(e,i,r??this._getNumComponentsAtPosition(i),n,s)}remove(e,i){if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,i));const r=this._find(e);if(r){const n=this._componentMap.get(r);if(!n||n.key!==i)return;const s=this._components.indexOf(r);return r.node.parentNode?.removeChild(r.node),this._componentMap.delete(r),r.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach(a=>{const l=this._componentMap.get(a);l&&l.position===n.position&&l.index>n.index&&l.index--}),this._components.splice(s,1)[0]}}empty(e,i={removeInternal:!1}){if(Array.isArray(e)){for(const s of e)this.empty(s,i);return}const r=this._positionNameToContainerLookup[e??"manual"],n=Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(s=>s==null?!1:!(this._componentMap.get(s)?.internal??!1)||i.removeInternal);for(const s of n)this.remove(s)}move(e,i){if(Array.isArray(e)&&e.forEach(o=>this.move(o,i)),!e)return;let r;const n=bx(e)||bx(i);if(n&&(r=n.index,i=n.position,e=n.component||e),i&&!this._isValidPosition(i))return;const s=this.remove(e);s&&this.add(s,{position:i,index:r})}find(e){if(!e)return null;const i=this._findById(e);return i&&(i.widget||i.node)}getComponents(e,i={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(e,i):this._components.filter(r=>i.includeInternal||!this._componentMap.get(r)?.internal).map(({widget:r,node:n})=>r??n)}getPosition(e){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(e))return i;return null}_add(e,i,r,n,s){e instanceof n0||(e=new n0({node:e}));const{widget:o}=e;o!=null&&o instanceof Te&&o.addHandles(Je(()=>{queueMicrotask(()=>this.remove(e))}),this._removeWidgetHandleKey);const a=this._positionNameToContainerLookup[i];this._components.some(l=>{const d=this._componentMap.get(l)?.position,h=d?this._positionNameToContainerLookup[d]:null;return a===h&&this._componentMap.get(l)?.index===r})&&this._components.forEach(l=>{const d=this._componentMap.get(l),h=d?.position,f=h?this._positionNameToContainerLookup[h]:null;d&&f===a&&d.index>=r&&d.index++}),this._place({component:e,position:i,index:r}),this._components.push(e),this._componentMap.set(e,{key:n,position:i,internal:s,index:r})}_find(e){return e?e instanceof n0?this._findByComponent(e):typeof e=="string"?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){return this.view?.padding??nge}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(mr.innerContainer,mr.cornerContainer);const i=document.createElement("div");i.classList.add(mr.innerContainer,mr.manualContainer);const r=document.createElement("div");r.classList.add(mr.topLeft,mr.corner),e.appendChild(r);const n=document.createElement("div");n.classList.add(mr.topRight,mr.corner),e.appendChild(n);const s=document.createElement("div");s.classList.add(mr.bottomLeft,mr.corner),e.appendChild(s);const o=document.createElement("div");o.classList.add(mr.bottomRight,mr.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=i;const a=FQ();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":s,"bottom-right":o,"top-leading":a?n:r,"top-trailing":a?r:n,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const i=e.position??"manual",{component:r,index:n}=e,s=this._positionNameToContainerLookup[i],o=n!=null&&n>-1;if(sge(r.widget)&&r.widget.startup(),!o)return void s.appendChild(r.node);const a=Array.from(s.children);if(a.length!==0){for(const l of a){const d=this._findByNode(l);if(d&&n<(this._componentMap.get(d)?.index??0))return void l.parentNode?.insertBefore(r.node,l)}s.appendChild(r.node)}else s.appendChild(r.node)}_toPixelPosition(e){return{top:Qy(e.top),left:Qy(e.left),right:Qy(e.right),bottom:Qy(e.bottom)}}_findByComponent(e){return this._components.find(i=>i===e)??null}_findById(e){return this._components.find(({id:i})=>i===e)??null}_findByNode(e){return e?this._components.find(({node:i})=>i===e):null}_getComponentsAtPosition(e,i){const r=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(lh).filter(n=>i.includeInternal||!this._componentMap.get(n)?.internal).map(({widget:n,node:s})=>n??s)}_getNumComponentsAtPosition(e){return this._positionNameToContainerLookup[e]?.children.length??0}};u([p()],As.prototype,"_locale",void 0),u([p()],As.prototype,"container",null),u([p()],As.prototype,"height",null),u([p({value:Z9})],As.prototype,"padding",null),u([vi("padding")],As.prototype,"castPadding",null),u([p()],As.prototype,"view",void 0),u([p()],As.prototype,"width",null),As=u([R("esri.views.ui.UI")],As);const oge=As,age=new Map;function lge(t){return age.get(t)}function BO(t,e){return t&&"copyright"in t&&(!e||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function cge(t,e){return t.length!==e.length||t.some((i,r)=>i.text!==e[r].text)}function ev(t,e,i){!i||!e||t.find(r=>r.layerView===e&&r.text===i)||t.push({text:i,layerView:e})}function uge(t){return t.type==="bing-maps"}const $s=[];let rd=class extends Te{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new pe,this.view=null,this._allLayerViewsChange=e=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=this.view?.allLayerViews;i&&(this.addHandles(i.map(r=>De(()=>[r.suspended,r.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),i.forEach(r=>{r.declaredClass==="esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D"&&this.addHandles(r.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),e?.removed&&e.removed.forEach(r=>{this._pendingAttributions.delete(r),this._fetchedAttributionData.delete(r)}),this._updateAttributionItems()},this.addHandles([Bc(()=>this.view?.allLayerViews,"change",e=>this._allLayerViewsChange(e),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),sn(()=>this.view?.stationary===!0,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,e=t?.allLayerViews;$s.length=0;let i=!1,r=null;if(!t||!e)return void this._clear();e.forEach(s=>{if(s.suspended||!s.layer?.attributionVisible)return;const o=s.layer;if(BO(o,"user"))return void ev($s,s,o.copyright);if(o.type==="integrated-mesh-3dtiles"&&o.hasGoogleUrl&&(i=!0,r=s),o.hasAttributionData){if(this._fetchedAttributionData.has(s)){const l=this._fetchedAttributionData.get(s);return void(l?ev($s,s,this._getDynamicAttribution(l,t,o)):BO(o)&&ev($s,s,o.copyright))}return void this._fetchAttributionData(s)}const a="portalItem"in o?o.portalItem?.accessInformation:void 0;ev($s,s,a||o.copyright)});const n=e.find(s=>s.layer?.type==="integrated-mesh-3dtiles");if(this.view&&n){const s=lge(this.view);if(s){const o=s.getAttributionText();for(let a=o.length-1;a>-1;--a)$s.unshift({text:o[a],layerView:n})}}i&&r&&$s.unshift({text:"Google Maps",layerView:r}),cge(this.items,$s)&&(this.items.removeAll(),this.items.addMany($s)),$s.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const e=await wN(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=e.ok?this._createContributionIndex(e.value,uge(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,e){const i=t.contributors,r={};if(!i)return r;for(let n=0;n<i.length;n++){const s=i[n],o=s.coverageAreas;if(!o)return;for(const a of o){const l=a.bbox,d=a.zoomMin-(e&&a.zoomMin?1:0),h=a.zoomMax-(e&&a.zoomMax?1:0),f=new We({xmin:l[1],ymin:l[0],xmax:l[3],ymax:l[2],spatialReference:Se.WGS84}),y={extent:$c(f),attribution:s.attribution||"",score:a.score!=null?a.score:100,id:n};for(let b=d;b<=h;b++)r[b]??=[],r[b].push(y)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(t,e,i){const{extent:r,scale:n}=e;let s=i.tileInfo?.scaleToZoom(n)??0;if(s=Math.min(t.maxKey??0,Math.round(s)),!r||s==null||s<=-1)return"";const o=t[s],a=tw(r.center.clone().normalize(),Se.WebMercator),l=new Set;return o?o.filter(d=>{const h=d.id,f=!l.has(h)&&a&&d.extent&&hg(d.extent,a);return f&&l.add(h),f}).sort((d,h)=>h.score-d.score||d.objectId-h.objectId).map(d=>d.attribution).join(", "):""}};u([p({readOnly:!0,type:pe})],rd.prototype,"items",void 0),u([p({readOnly:!0})],rd.prototype,"state",null),u([p()],rd.prototype,"view",void 0),rd=u([R("esri.widgets.Attribution.AttributionViewModel")],rd);const Y9=rd,Gs={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"},Au="esri-attribution",Pu={base:Au,poweredBy:`${Au}__powered-by`,sources:`${Au}__sources`,open:`${Au}--open`,sourcesOpen:`${Au}__sources--open`,link:`${Au}__link`};let ir=class extends qh{constructor(e,i){super(e,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._sourcesNode=null,this._overflowRequestAnimationFrame=null,this._resizeObserver=new ResizeObserver(r=>{r.forEach(({target:n})=>{this._scheduleOverflowCheck(n)})}),this._mutationObserver=new MutationObserver(r=>{let n=!1;for(const s of r)if(s.type==="childList"||s.type==="characterData"||s.type==="attributes"){n=!0;break}n&&this._sourcesNode&&this._scheduleOverflowCheck(this._sourcesNode)}),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new Y9}initialize(){this.addHandles(Bc(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect(),this._mutationObserver?.disconnect(),this._overflowRequestAnimationFrame!=null&&(cancelAnimationFrame(this._overflowRequestAnimationFrame),this._overflowRequestAnimationFrame=null)}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}_scheduleOverflowCheck(e){this._overflowRequestAnimationFrame==null&&(this._overflowRequestAnimationFrame=requestAnimationFrame(()=>{this._overflowRequestAnimationFrame=null,this._checkSourceTextOverflow(e)}))}get attributionText(){return this.viewModel.items.reduce((e,i)=>(e.includes(i.text)||e.push(i.text),e),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[Pu.open]:this._isOpen};return st("div",{bind:this,class:this.classes(Pu.base,Gs.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return st("div",{class:Pu.poweredBy},"Powered by"," ",st("a",{class:Pu.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:n}=this,s={[Pu.sourcesOpen]:e,[Gs.interactive]:i};return st("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Pu.sources,s),innerHTML:n,tabIndex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._sourcesNode=e,this._resizeObserver.observe(e),this._mutationObserver.observe(e,{subtree:!0,childList:!0,characterData:!0,attributes:!0}),this._scheduleOverflowCheck(e)}_checkSourceTextOverflow(e){let i=!1;const{clientHeight:r,clientWidth:n,scrollWidth:s}=e,o=s>n,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(i=!0),this._isOpen){const l=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,l&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};u([p()],ir.prototype,"_isOpen",void 0),u([p()],ir.prototype,"_isInteractive",null),u([p()],ir.prototype,"_attributionTextOverflowed",void 0),u([p()],ir.prototype,"_prevSourceNodeHeight",void 0),u([p({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],ir.prototype,"attributionText",null),u([p()],ir.prototype,"icon",null),u([p()],ir.prototype,"itemDelimiter",void 0),u([p()],ir.prototype,"label",null),u([p(),J1("esri/widgets/Attribution/t9n/Attribution")],ir.prototype,"messages",void 0),u([p()],ir.prototype,"view",null),u([p({type:Y9})],ir.prototype,"viewModel",void 0),u([qQ()],ir.prototype,"_toggleState",null),ir=u([R("esri.widgets.Attribution")],ir);const dge=ir;function hge(){const t=B("mapview-essential-goto-duration");return t==null?t:t}function pge(t){return t?.spatialReference?.isWebMercator||t?.spatialReference?.isGeographic||!1}function fge(t,e,i){return t.goTo(e,i)}const mge=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return LD(n),this.goToOverride?this.goToOverride(n,r):fge(n,r.target,r.options)}};return u([p()],i.prototype,"goToOverride",void 0),u([p()],i.prototype,"view",void 0),i=u([R("esri.widgets.support.GoTo")],i),i};let ic=class extends mge(Te){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Ji)}destroy(){this.view=null}get canShowNorth(){return pge(this.view)}get state(){return!this.view?.ready||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&(this.view?.type==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:hge()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles(e.type==="2d"?De(()=>e?.rotation,this._updateForRotation,Ji):De(()=>e?.camera,this._updateForCamera,Ji))}_watchForView(e){this.addHandles(De(()=>this.view,this._updateRotationWatcher,e))}};u([p({readOnly:!0})],ic.prototype,"canShowNorth",null),u([p({readOnly:!0})],ic.prototype,"orientation",void 0),u([p({readOnly:!0})],ic.prototype,"state",null),u([p()],ic.prototype,"view",void 0),ic=u([R("esri.widgets.Compass.CompassViewModel")],ic);const J9=ic,qO="esri-compass",HO={base:qO,iconContainer:`${qO}__icon-container`};let So=class extends qh{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new J9,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return lE({button:()=>ae(()=>Promise.resolve().then(()=>c2),void 0),icon:()=>ae(()=>Promise.resolve().then(()=>uV),void 0)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:i}=this.viewModel,{messages:r}=this;return st("div",{class:this.classes(HO.base,Gs.widget)},st("calcite-button",{class:Gs.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},st("div",{"aria-hidden":"true",class:HO.iconContainer,title:r.reset},st("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};u([p()],So.prototype,"goToOverride",null),u([p()],So.prototype,"icon",null),u([p()],So.prototype,"label",null),u([p(),J1("esri/widgets/Compass/t9n/Compass")],So.prototype,"messages",void 0),u([p()],So.prototype,"view",null),u([p({type:J9})],So.prototype,"viewModel",void 0),So=u([R("esri.widgets.Compass")],So);const gge=So,GO="esri-navigation-toggle",WO={base:GO,isLayoutHorizontal:`${GO}--horizontal`};let nd=class extends Te{constructor(e){super(e),this._navigationMode="pan",this.view=null,e?.isDefaultViewModel||rX(ue.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(e={}){const{isDefaultViewModel:i,...r}=e;return r}initialize(){this.addHandles(sn(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){const e=this.view?.navigation?.actionMap;if(!e)return;const i=this._navigationMode==="pan";e.dragPrimary=i?"pan":"rotate",e.dragSecondary=i?"rotate":"pan"}};u([p({readOnly:!0})],nd.prototype,"state",null),u([p()],nd.prototype,"_navigationMode",void 0),u([p()],nd.prototype,"view",void 0),nd=u([R("esri.widgets.NavigationToggle.NavigationToggleViewModel")],nd);const K9=nd;let ko=class extends qh{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new K9({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const r=this.viewModel?.navigationMode==="pan"?this._rotateButton:this._panButton;UQ(r),this.toggle()},e?.isDefaultUI||iX(ue.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:i,...r}=e;return r}loadDependencies(){return lE({button:()=>ae(()=>Promise.resolve().then(()=>c2),void 0)})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=this.viewModel?.state==="disabled",i=this.viewModel?.navigationMode==="pan",r=this.messages.toggle;return st("div",{class:this.classes(WO.base,Gs.widget,{[WO.isLayoutHorizontal]:this.layout==="horizontal"})},st("calcite-button",{afterCreate:n=>{this._panButton=n},appearance:i?"outline-fill":"solid",class:Gs.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),st("calcite-button",{afterCreate:n=>{this._rotateButton=n},appearance:i?"solid":"outline-fill",class:Gs.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};u([p()],ko.prototype,"icon",null),u([p()],ko.prototype,"label",null),u([p({value:"vertical"})],ko.prototype,"layout",null),u([p(),J1("esri/widgets/NavigationToggle/t9n/NavigationToggle")],ko.prototype,"messages",void 0),u([p()],ko.prototype,"view",null),u([p({type:K9})],ko.prototype,"viewModel",void 0),ko=u([R("esri.widgets.NavigationToggle")],ko);const yge=ko;let rc=class extends Te{get canZoomIn(){if(!this.view?.ready)return!1;const i=this.view?.constraints?.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){const{view:e}=this;if(!e?.ready)return!1;const r=e.constraints?.effectiveMinScale;return r===0||this._scale<r}get _scale(){const e=this.view?.animation?.target;return(e&&"then"in e?void 0:e?.scale)??this.view?.scale??0}};u([p({readOnly:!0})],rc.prototype,"canZoomIn",null),u([p({readOnly:!0})],rc.prototype,"canZoomOut",null),u([p()],rc.prototype,"view",void 0),u([p()],rc.prototype,"_scale",null),rc=u([R("esri.widgets.Zoom.ZoomConditions2D")],rc);const vge=rc;let sd=class extends Te{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};u([p({readOnly:!0})],sd.prototype,"canZoomIn",null),u([p({readOnly:!0})],sd.prototype,"canZoomOut",null),u([p()],sd.prototype,"view",void 0),sd=u([R("esri.widgets.Zoom.ZoomConditions3D")],sd);const bge=sd;let Ca=class extends Te{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new vge({view:e}):e.type==="3d"&&(this._zoomConditions=new bge({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&(e.type==="2d"?e.mapViewNavigation.zoomIn():R0(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&(e.type==="2d"?e.mapViewNavigation.zoomOut():R0(e.goTo({zoomFactor:.5})))}};u([p()],Ca.prototype,"_zoomConditions",void 0),u([p()],Ca.prototype,"canZoomIn",null),u([p()],Ca.prototype,"canZoomOut",null),u([p({readOnly:!0})],Ca.prototype,"state",null),u([p()],Ca.prototype,"view",null),Ca=u([R("esri.widgets.Zoom.ZoomViewModel")],Ca);const X9=Ca,ZO={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let To=class extends qh{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new X9,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return lE({button:()=>ae(()=>Promise.resolve().then(()=>c2),void 0)})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[ZO.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:n,zoomOut:s}=this.messages;return st("div",{class:this.classes(ZO.base,Gs.widget,e)},st("calcite-button",{class:Gs.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),st("calcite-button",{class:Gs.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};u([p()],To.prototype,"icon",null),u([p()],To.prototype,"label",null),u([p({value:"vertical"})],To.prototype,"layout",null),u([p(),J1("esri/widgets/Zoom/t9n/Zoom")],To.prototype,"messages",void 0),u([p()],To.prototype,"view",null),u([p({type:X9})],To.prototype,"viewModel",void 0),To=u([R("esri.widgets.Zoom")],To);const wge=To;function _ge(t){return t?.view!==void 0}let s0=class extends oge{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(r=>{const n=this._find(r),s=n?.widget;_ge(s)&&(s.view=i)})},this._componentsWatcher=(i,r)=>{this._removeComponents(r),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([De(()=>this.components,this._componentsWatcher,Ji),De(()=>this.view,this._updateViewAwareWidgets,Ji)])}_add(e,i,r,n,s){let o=e;if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;o=this._createComponent(e)}super._add(o,i,r,n,s)}_removeComponents(e){e.forEach(i=>{const r=this._find(i);r&&(this.remove(r),r.destroy())})}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(e){this.constructed&&e.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(e){const i=this._createWidget(e);return new n0({id:e,node:i})}_createWidget(e){const i=this.view;switch(e){case"attribution":return new dge({view:i});case"compass":return new gge({view:i});case"navigation-toggle":return new yge({view:i,isDefaultUI:!0});case"zoom":return new wge({view:i})}}};u([p()],s0.prototype,"components",void 0),s0=u([R("esri.views.ui.DefaultUI")],s0);const Q9=s0;let o0=class extends Q9{constructor(e){super(e),this.components=["attribution","zoom"]}};u([p()],o0.prototype,"components",void 0),o0=u([R("esri.views.ui.2d.DefaultUI2D")],o0);const e7=o0;let xge=class{constructor(e={},i={},r=8,n=1/0){this.disabledExtensions=e,this.debugWebGLExtensions=i,this.maxAnisotropy=r,this.maxPreferredTexturePixels=n}},$ge=class $T{constructor(e,i,r=""){this.major=e,this.minor=i,this._context=r}lessThan(e,i){return this.major<e||e===this.major&&this.minor<i}greaterEqual(e,i){return!this.lessThan(e,i)}validate(e){if(this.major!==e.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new K(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new $T(this.major,this.minor,this._context)}static parse(e,i=""){const[r,n]=e.split("."),s=/^\s*\d+\s*$/;if(!r?.match||!s.test(r))throw new K((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!n?.match||!s.test(n))throw new K((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const o=parseInt(r,10),a=parseInt(n,10);return new $T(o,a,i)}},Sge=class extends $ge{constructor(e,i){super(e,i,"webmap")}};function _x(t){return t!=null&&typeof t=="object"&&"declaredClass"in t&&t.declaredClass==="esri.WebMap"}new Sge(2,35);var ST;let a0=ST=class extends be{constructor(t){super(t),this.color=new Ke([0,0,0,1])}clone(){return new ST(X({color:this.color}))}};u([p({type:Ke,json:{write:!0}})],a0.prototype,"color",void 0),a0=ST=u([R("esri.webmap.background.ColorBackground")],a0);const kge=a0;let t7,i7,r7,n7,s7,o7,a7;async function Tge(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:i,MapViewNavigation:r,MagnifierView2D:n,GridView2D:s,Stage:o}]=await Promise.all([ae(()=>import("./c-webglDeps-CE-Hzvb8.js"),__vite__mapDeps([273,202,274,275,276,9,74])),ae(()=>import("./c-mapViewDeps-410viBHN.js"),__vite__mapDeps([277,153,33,34,118,119,109,44,9,120,111,112,117,121,105,122,67,278,279,202,274,275,193,106,280,113,276,74,201,73,281,104,141,282,172,175,46,47,114,126,283,123,124,284,63,58,107,56,57,285,31,273,286,136,287,288,171,289,191,192,290,91,103,108,110,102,51,50,291,125,292,116,25,26,27,293,127,132,100,294,295,296,297,198,229,298,299]))]);i7=t,r7=e,n7=i,s7=r,o7=n,a7=s,t7=o}var ih;let Ze=(ih=class extends Xpe(Che(oae(Eae(dae(Que))))){get timeZone(){return super.timeZone}set timeZone(e){super.timeZone=e}constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new ls({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new gw({actionMap:new tM({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.analyses=new kh,this.analysisViewManager=new Zme({importAnalysisViewModule:i=>Ufe(i),view:this}),this.floors=new pe,this.grid=null,this.map=null,this.timeline=new W9,this.type="2d",this.view2dType=null,this.ui=new e7,this.animationsEnabled=!0,this.test={takeScreenshot:async i=>Bme(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},rae()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=Ut(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Kfe(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,i=this.spatialReference;return{lods:e?.spatialReference?.equals(i)?e.lods:null,spatialReference:i}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:i,center:r,viewpoint:n,extent:s}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!s&&(i?.effectiveLODs||(o=-1),(!r||e===0&&o===-1)&&(n?.targetGeometry==null||n.targetGeometry.type!=="extent"&&!n.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const i=e.targetGeometry,r=this.spatialReference;return h6(i.spatialReference,r)}get background(){return _x(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get constraints(){return super.constraints}set constraints(e){super.constraints=e}get highlightOptions(){return Eme(this)}set highlightOptions(e){Mme(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return super.resizeAlign}set resizeAlign(e){super.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return super.rotation}set rotation(e){super.rotation=e}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get spatialReference(){return super.spatialReference}set spatialReference(e){super.spatialReference=e}get spatialReferenceLocked(){return this._get("spatialReferenceLocked")}set spatialReferenceLocked(e){this.stage&&ue.getLogger(this).warn("spatialReferenceLocked cannot be changed after the view has become ready"),this._set("spatialReferenceLocked",e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),i=!this.destroyed&&(!this.analysisViewManager||!this.layerViewManager||!this.labelManager||!this.graphicsView||this.analysisViewManager.updating===!0||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(r=>!r.destroyed&&!("layerViews"in r)&&r.updating===!0)||e);if(B("esri-2d-log-updating")){const r=this.allLayerViews.reduce((n,s)=>({...n,[`${s.layer.id}(${s.layer.type})`]:!s.destroyed&&!("layerViews"in s)&&s.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(r)}
-> updatingMagnifier: ${e}
`)}return i}get viewpoint(){return super.viewpoint}set viewpoint(e){super.viewpoint=e}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new Dt({rings:[e.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(e,i){return Cme(this,e,i)}async takeScreenshot(e){return Vme(this._getScreenshotView(e),e)}toScreen(e,i){return this.stateManager.toScreen(e,i)}async whenAnalysisView(e){if(e.parent==null)throw new K("view:no-analysisview-for-analysis","The analysis does not exist in view.analyses",{analysis:e});return this.analysisViewManager.whenAnalysisView(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return _x(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return _x(this.map)?this.map.initialViewProperties.timeExtent:null}getSurface(){return this.surface}hasLayerViewModule(e){return kO.hasLayerViewModule(e)}importLayerView(e){return kO.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(ue.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const i=this.toMap(e),r=await this.hitTest(e),n=this.allLayerViews.toArray().filter(d=>d.clips.every(h=>z9(this,h,e,i))).reverse(),s=new globalThis.Map(n.map(d=>[d.layer.uid,d])),o=[];let a=0,l=0;for(;a<r.results.length||l<n.length;){const d=r.results.at(a);if(d&&d.type!=="graphic"){++a;continue}const h=s.get((d?.layer??d?.graphic.layer)?.uid);if((!d||h)&&l<n.length&&n.at(l)!==h){const f=n.at(l);"fetchPopupFeaturesAtLocation"in f&&o.push({mapPoint:i,layerView:f}),++l}else d&&(o.push({graphic:d.graphic,layerView:h}),++a)}return{hits:o,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=tge(this.type);if(B("safari")&&B("safari")<9&&(e=new K("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:B("safari")})),e!=null)throw ue.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return Tge()}_getDefaultViewpoint(){const{constraints:e,initialExtent:i,map:r,padding:n,size:s}=this;if(!e)return null;const o=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),l=o?.viewpoint,d=l?.targetGeometry?.extent??i,h=d?.center,f=l?.rotation??0,y=l?.scale||d&&vw(d,[s[0]-n.left-n.right,s[1]-n.top-n.bottom]),b=a.center??h,x=a.rotation??f,$=a.scale??y;return b&&$?new Cn({targetGeometry:b,scale:$,rotation:x}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const i=new Vfe(this.surface),r=new t7(this.surface,{canvas:this.renderCanvas,contextOptions:new xge(this.deactivatedWebGLExtensions,this.debugWebGLExtensions),renderingOptions:this.renderingOptions,timeline:this.timeline},i);this.stage=r,this._magnifierView=new o7,this._magnifierView.magnifier=this.magnifier,this._gridView=new a7;const n=new n7({view:this});this._set("labelManager",n);const s=new Ife({view:this});this._set("animationManager",s);const o=new s7({view:this,animationManager:s});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",l=>this.fatalError=l.error),De(()=>this.stationary,l=>r.stationary=l,Ui),De(()=>this.background,l=>{r.backgroundColor=l?.color,this._magnifierView.backgroundColor=l?.color},Ui),De(()=>this.magnifier,l=>this._magnifierView.magnifier=l,Ui),De(()=>this.grid,l=>this._gridView.grid=l,Ui),De(()=>this.renderingOptions,l=>r.renderingOptions=l,Ui),De(()=>this.highlights.items.map(l=>({name:l.name,options:{fillColor:l.color,haloColor:l.haloColor,fillOpacity:l.fillOpacity,haloOpacity:l.haloOpacity,haloWidth:l.haloWidth,haloBlur:l.haloBlur}})),()=>{r.highlightGradient=kme(r.highlightGradient,this.highlights.items)},Ui),De(()=>this.state.id,()=>r.state=this.state,Ui),De(()=>this.animationsEnabled,l=>{this.stage.animationsEnabled=l},Ui)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach(l=>l(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new zfe(tr.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const i=new i7({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new r7(e)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:i,padding:r,size:n,stage:s}=this;return{allLayerViews:i,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:r,size:n,stage:s}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}},ih.type="2d",ih);u([p({constructOnly:!0})],Ze.prototype,"deactivatedWebGLExtensions",void 0),u([p({constructOnly:!0})],Ze.prototype,"debugWebGLExtensions",void 0),u([p({readOnly:!0})],Ze.prototype,"featuresTilingScheme",void 0),u([p({readOnly:!0})],Ze.prototype,"graphicsTileStore",null),u([p()],Ze.prototype,"graphicsView",void 0),u([p()],Ze.prototype,"constraintsInfo",null),u([p()],Ze.prototype,"initialExtentRequired",null),u([p()],Ze.prototype,"labelManager",void 0),u([p({type:gw,nonNullable:!0})],Ze.prototype,"navigation",void 0),u([p({constructOnly:!0})],Ze.prototype,"renderCanvas",void 0),u([p()],Ze.prototype,"renderingOptions",void 0),u([p({constructOnly:!0})],Ze.prototype,"supersampleScreenshotsEnabled",void 0),u([p()],Ze.prototype,"defaultsFromMapSettings",null),u([p({readOnly:!0})],Ze.prototype,"typeSpecificPreconditionsReady",null),u([p(bb(kh,"analyses"))],Ze.prototype,"analyses",void 0),u([p()],Ze.prototype,"analysisViewManager",void 0),u([p({type:kge})],Ze.prototype,"background",null),u([p()],Ze.prototype,"center",null),u([p({type:pe})],Ze.prototype,"floors",void 0),u([p()],Ze.prototype,"grid",void 0),u([p({type:Ka})],Ze.prototype,"highlightOptions",null),u([p()],Ze.prototype,"map",void 0),u([p()],Ze.prototype,"padding",null),u([p({readOnly:!0})],Ze.prototype,"rendering",null),u([p({readOnly:!0})],Ze.prototype,"resolution",null),u([p()],Ze.prototype,"scale",null),u([p({type:Boolean,value:!1})],Ze.prototype,"spatialReferenceLocked",null),u([p({readOnly:!0})],Ze.prototype,"tileInfo",null),u([p({type:W9,readOnly:!0})],Ze.prototype,"timeline",void 0),u([p({readOnly:!0})],Ze.prototype,"type",void 0),u([p({readOnly:!0})],Ze.prototype,"updating",null),u([p({readOnly:!0})],Ze.prototype,"view2dType",void 0),u([p({readOnly:!0})],Ze.prototype,"visibleArea",null),u([p()],Ze.prototype,"zoom",null),u([p({readOnly:!0})],Ze.prototype,"navigating",null),u([p(),vi(t=>t instanceof Q9?t:D1(e7,t))],Ze.prototype,"ui",void 0),u([p()],Ze.prototype,"animationsEnabled",void 0),Ze=u([R("esri.views.View2D")],Ze);const Ege=Ze;let l0=class extends Ege{constructor(e){super(e),this.view2dType="map"}};u([p({readOnly:!0})],l0.prototype,"view2dType",void 0),l0=u([R("esri.views.MapView")],l0);const Mge=l0,kT=(t=>t)(["operational-layers","basemap-base-layers","basemap-ground-layers","ground"]);class YO extends SyntaxError{constructor(e,i,r,n){super(e),this.expected=i,this.found=r,this.location=n,this.name="SyntaxError"}format(e){let i="Error: "+this.message;if(this.location){let r=null;const n=e.find(l=>l.source===this.location.source);n&&(r=n.text.split(/\r\n|\n|\r/g));const s=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,a=this.location.source+":"+o.line+":"+o.column;if(r){const l=this.location.end,d="".padEnd(o.line.toString().length," "),h=r[s.line-1],f=(s.line===l.line?l.column:h.length+1)-s.column||1;i+=`
 --> `+a+`
`+d+` |
`+o.line+" | "+h+`
`+d+" | "+"".padEnd(s.column-1," ")+"".padEnd(f,"^")}else i+=`
 at `+a}return i}static buildMessage(e,i){function r(y){return y.codePointAt(0).toString(16).toUpperCase()}const n=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function s(y){return n?y.replace(n,b=>"\\u{"+r(b)+"}"):y}function o(y){return s(y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,b=>"\\x0"+r(b)).replace(/[\x10-\x1F\x7F-\x9F]/g,b=>"\\x"+r(b)))}function a(y){return s(y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,b=>"\\x0"+r(b)).replace(/[\x10-\x1F\x7F-\x9F]/g,b=>"\\x"+r(b)))}const l={literal:y=>'"'+o(y.text)+'"',class(y){const b=y.parts.map(x=>Array.isArray(x)?a(x[0])+"-"+a(x[1]):a(x));return"["+(y.inverted?"^":"")+b.join("")+"]"+(y.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:y=>y.description};function d(y){return l[y.type](y)}function h(y){const b=y.map(d);if(b.sort(),b.length>0){let x=1;for(let $=1;$<b.length;$++)b[$-1]!==b[$]&&(b[x]=b[$],x++);b.length=x}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}function f(y){return y?'"'+o(y)+'"':"end of input"}return"Expected "+h(e)+" but "+f(i)+" found."}}function Cge(t,e){const i={},r=(e=e!==void 0?e:{}).grammarSource,n={start:jg};let s=jg;const o="none",a=")",l=",",d="(",h="%",f="px",y="cm",b="mm",x="in",$="pt",E="pc",C="deg",O="rad",j="grad",D="turn",F="#",G=".",z="e",se=/^[ \t\n\r]/,oe=/^[a-z\-]/,ee=/^[0-9a-fA-F]/,ge=/^[+\-]/,te=/^[0-9]/,Y=zn("none"),H=yt("none",!1),ce=yt(")",!1),_e=yt(",",!1),we=Tl([" ","	",`
`,"\r"],!1,!1,!1),me=zn("function"),ke=yt("(",!1),rt=zn("identifier"),St=Tl([["a","z"],"-"],!1,!1,!1),on=zn("percentage"),Rn=yt("%",!1),Rr=zn("length"),Dn=yt("px",!1),Xo=yt("cm",!1),Qo=yt("mm",!1),ea=yt("in",!1),Oe=yt("pt",!1),Tg=yt("pc",!1),bl=zn("angle"),ou=yt("deg",!1),Kh=yt("rad",!1),au=yt("grad",!1),wl=yt("turn",!1),to=zn("number"),Eg=zn("color"),_l=yt("#",!1),Mg=Tl([["0","9"],["a","f"],["A","F"]],!1,!1,!1),xl=Tl(["+","-"],!1,!1,!1),Dr=Tl([["0","9"]],!1,!1,!1),Cg=yt(".",!1),Ig=yt("e",!1);function lu(){return[]}function Ag(P,W){return{type:"function",name:P,parameters:W||[]}}function $l(P,W){return W.length>0?ap(P,W,3):[P]}function xw(P){return{type:"quantity",value:P.value,unit:P.unit}}function Xh(P){return{type:"color",colorType:P.type,value:P.value}}function $w(P){return P}function Qh(){return pr()}function ep(P){return{value:P,unit:"%"}}function tp(P){return{value:P,unit:"px"}}function Pg(P){return{value:P,unit:"cm"}}function Og(P){return{value:P,unit:"mm"}}function cu(P){return{value:P,unit:"in"}}function Rg(P){return{value:P,unit:"pt"}}function Dg(P){return{value:P,unit:"pc"}}function Sl(P){return{value:P,unit:"deg"}}function kl(P){return{value:P,unit:"rad"}}function ta(P){return{value:P,unit:"grad"}}function zg(P){return{value:P,unit:"turn"}}function ip(P){return{value:P,unit:null}}function Ng(){return{type:"hex",value:pr()}}function rp(P){return{type:"function",value:P}}function np(){return{type:"named",value:pr()}}function Lg(){return parseFloat(pr())}let Z=0|e.peg$currPos,xt=Z;const ws=[{line:1,column:1}];let io,zr=Z,uu=e.peg$maxFailExpected||[],xe=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in n))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=n[e.startRule]}function pr(){return t.substring(xt,Z)}function ro(P=Z){const W=t.codePointAt(P);return W===void 0?"":String.fromCodePoint(W)}function yt(P,W){return{type:"literal",text:P,ignoreCase:W}}function Tl(P,W,re,Re){return{type:"class",parts:P,inverted:W,ignoreCase:re,unicode:Re}}function Sw(){return{type:"end"}}function zn(P){return{type:"other",description:P}}function Nn(P){let W,re=ws[P];if(re)return re;if(P>=ws.length)W=ws.length-1;else for(W=P;!ws[--W];);for(re=ws[W],re={line:re.line,column:re.column};W<P;)t.charCodeAt(W)===10?(re.line++,re.column=1):re.column++,W++;return ws[P]=re,re}function Ne(P,W,re){const Re=Nn(P),nt=Nn(W);return{source:r,start:{offset:P,line:Re.line,column:Re.column},end:{offset:W,line:nt.line,column:nt.column}}}function je(P){Z<zr||(Z>zr&&(zr=Z,uu=[]),uu.push(P))}function Fg(P,W,re){return new YO(YO.buildMessage(P,W),P,W,re)}function jg(){let P;return P=kw(),P===i&&(P=El()),P}function kw(){let P,W;return xe++,P=Z,ri(),t.substr(Z,4)===o?(W=o,Z+=4):(W=i,xe===0&&je(H)),W!==i?(ri(),xt=P,P=lu()):(Z=P,P=i),xe--,P===i&&xe===0&&je(Y),P}function El(){let P,W;if(P=[],W=Ml(),W!==i)for(;W!==i;)P.push(W),W=Ml();else P=i;return P}function Ml(){let P,W,re,Re;return P=Z,ri(),W=Ug(),W!==i?(ri(),re=Tw(),re===i&&(re=null),ri(),t.charCodeAt(Z)===41?(Re=a,Z++):(Re=i,xe===0&&je(ce)),Re!==i?(ri(),xt=P,P=Ag(W,re)):(Z=P,P=i)):(Z=P,P=i),P}function Tw(){let P,W,re,Re,nt,kt,Ot,Nt;if(P=Z,W=sp(),W!==i){for(re=[],Re=Z,nt=ri(),t.charCodeAt(Z)===44?(kt=l,Z++):(kt=i,xe===0&&je(_e)),kt===i&&(kt=null),Ot=ri(),Nt=sp(),Nt!==i?(nt=[nt,kt,Ot,Nt],Re=nt):(Z=Re,Re=i);Re!==i;)re.push(Re),Re=Z,nt=ri(),t.charCodeAt(Z)===44?(kt=l,Z++):(kt=i,xe===0&&je(_e)),kt===i&&(kt=null),Ot=ri(),Nt=sp(),Nt!==i?(nt=[nt,kt,Ot,Nt],Re=nt):(Z=Re,Re=i);xt=P,P=$l(W,re)}else Z=P,P=i;return P}function sp(){let P,W;return P=Z,W=Bg(),W===i&&(W=qg(),W===i&&(W=du(),W===i&&(W=Hg()))),W!==i&&(xt=P,W=xw(W)),P=W,P===i&&(P=Z,W=op(),W!==i&&(xt=P,W=Xh(W)),P=W),P}function ri(){let P,W;for(xe++,P=[],W=t.charAt(Z),se.test(W)?Z++:(W=i,xe===0&&je(we));W!==i;)P.push(W),W=t.charAt(Z),se.test(W)?Z++:(W=i,xe===0&&je(we));return xe--,P}function Ug(){let P,W,re;return xe++,P=Z,W=Vg(),W!==i?(t.charCodeAt(Z)===40?(re=d,Z++):(re=i,xe===0&&je(ke)),re!==i?(xt=P,P=W):(Z=P,P=i)):(Z=P,P=i),xe--,P===i&&(W=i,xe===0&&je(me)),P}function Vg(){let P,W,re;if(xe++,P=Z,W=[],re=t.charAt(Z),oe.test(re)?Z++:(re=i,xe===0&&je(St)),re!==i)for(;re!==i;)W.push(re),re=t.charAt(Z),oe.test(re)?Z++:(re=i,xe===0&&je(St));else W=i;return W!==i&&(xt=P,W=Qh()),P=W,xe--,P===i&&(W=i,xe===0&&je(rt)),P}function Bg(){let P,W,re;return xe++,P=Z,ri(),W=Xi(),W!==i?(t.charCodeAt(Z)===37?(re=h,Z++):(re=i,xe===0&&je(Rn)),re!==i?(xt=P,P=ep(W)):(Z=P,P=i)):(Z=P,P=i),xe--,P===i&&xe===0&&je(on),P}function qg(){let P,W,re;return xe++,P=Z,ri(),W=Xi(),W!==i?(t.substr(Z,2)===f?(re=f,Z+=2):(re=i,xe===0&&je(Dn)),re!==i?(xt=P,P=tp(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,ri(),W=Xi(),W!==i?(t.substr(Z,2)===y?(re=y,Z+=2):(re=i,xe===0&&je(Xo)),re!==i?(xt=P,P=Pg(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,ri(),W=Xi(),W!==i?(t.substr(Z,2)===b?(re=b,Z+=2):(re=i,xe===0&&je(Qo)),re!==i?(xt=P,P=Og(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,ri(),W=Xi(),W!==i?(t.substr(Z,2)===x?(re=x,Z+=2):(re=i,xe===0&&je(ea)),re!==i?(xt=P,P=cu(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,ri(),W=Xi(),W!==i?(t.substr(Z,2)===$?(re=$,Z+=2):(re=i,xe===0&&je(Oe)),re!==i?(xt=P,P=Rg(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,ri(),W=Xi(),W!==i?(t.substr(Z,2)===E?(re=E,Z+=2):(re=i,xe===0&&je(Tg)),re!==i?(xt=P,P=Dg(W)):(Z=P,P=i)):(Z=P,P=i)))))),xe--,P===i&&xe===0&&je(Rr),P}function du(){let P,W,re;return xe++,P=Z,W=Xi(),W!==i?(t.substr(Z,3)===C?(re=C,Z+=3):(re=i,xe===0&&je(ou)),re!==i?(xt=P,P=Sl(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,W=Xi(),W!==i?(t.substr(Z,3)===O?(re=O,Z+=3):(re=i,xe===0&&je(Kh)),re!==i?(xt=P,P=kl(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,W=Xi(),W!==i?(t.substr(Z,4)===j?(re=j,Z+=4):(re=i,xe===0&&je(au)),re!==i?(xt=P,P=ta(W)):(Z=P,P=i)):(Z=P,P=i),P===i&&(P=Z,W=Xi(),W!==i?(t.substr(Z,4)===D?(re=D,Z+=4):(re=i,xe===0&&je(wl)),re!==i?(xt=P,P=zg(W)):(Z=P,P=i)):(Z=P,P=i)))),xe--,P===i&&(W=i,xe===0&&je(bl)),P}function Hg(){let P,W;return xe++,P=Z,ri(),W=Xi(),W!==i?(xt=P,P=ip(W)):(Z=P,P=i),xe--,P===i&&xe===0&&je(to),P}function op(){let P,W,re,Re;if(xe++,P=Z,t.charCodeAt(Z)===35?(W=F,Z++):(W=i,xe===0&&je(_l)),W!==i){if(re=[],Re=t.charAt(Z),ee.test(Re)?Z++:(Re=i,xe===0&&je(Mg)),Re!==i)for(;Re!==i;)re.push(Re),Re=t.charAt(Z),ee.test(Re)?Z++:(Re=i,xe===0&&je(Mg));else re=i;re!==i?(xt=P,P=Ng()):(Z=P,P=i)}else Z=P,P=i;return P===i&&(P=Z,W=Ml(),W!==i&&(xt=P,W=rp(W)),P=W,P===i&&(P=Z,W=Vg(),W!==i&&(xt=P,W=np()),P=W)),xe--,P===i&&(W=i,xe===0&&je(Eg)),P}function Xi(){let P,W,re,Re,nt,kt,Ot,Nt;for(P=Z,W=t.charAt(Z),ge.test(W)?Z++:(W=i,xe===0&&je(xl)),W===i&&(W=null),re=Z,Re=[],nt=t.charAt(Z),te.test(nt)?Z++:(nt=i,xe===0&&je(Dr));nt!==i;)Re.push(nt),nt=t.charAt(Z),te.test(nt)?Z++:(nt=i,xe===0&&je(Dr));if(t.charCodeAt(Z)===46?(nt=G,Z++):(nt=i,xe===0&&je(Cg)),nt!==i){if(kt=[],Ot=t.charAt(Z),te.test(Ot)?Z++:(Ot=i,xe===0&&je(Dr)),Ot!==i)for(;Ot!==i;)kt.push(Ot),Ot=t.charAt(Z),te.test(Ot)?Z++:(Ot=i,xe===0&&je(Dr));else kt=i;kt!==i?(Re=[Re,nt,kt],re=Re):(Z=re,re=i)}else Z=re,re=i;if(re===i)if(re=[],Re=t.charAt(Z),te.test(Re)?Z++:(Re=i,xe===0&&je(Dr)),Re!==i)for(;Re!==i;)re.push(Re),Re=t.charAt(Z),te.test(Re)?Z++:(Re=i,xe===0&&je(Dr));else re=i;if(re!==i){if(Re=Z,t.charCodeAt(Z)===101?(nt=z,Z++):(nt=i,xe===0&&je(Ig)),nt!==i){if(kt=t.charAt(Z),ge.test(kt)?Z++:(kt=i,xe===0&&je(xl)),kt===i&&(kt=null),Ot=[],Nt=t.charAt(Z),te.test(Nt)?Z++:(Nt=i,xe===0&&je(Dr)),Nt!==i)for(;Nt!==i;)Ot.push(Nt),Nt=t.charAt(Z),te.test(Nt)?Z++:(Nt=i,xe===0&&je(Dr));else Ot=i;Ot!==i?(nt=[nt,kt,Ot],Re=nt):(Z=Re,Re=i)}else Z=Re,Re=i;Re===i&&(Re=null),xt=P,P=Lg()}else Z=P,P=i;return P}function Ew(P,W){return P.map(function(re){return re[W]})}function ap(P,W,re){return[P].concat(Ew(W,re))}io=s();const lp=io!==i&&Z===t.length;function hu(){throw io!==i&&Z<t.length&&je(Sw()),Fg(uu,zr<t.length?ro(zr):null,zr<t.length?Ne(zr,zr+1):Ne(zr,zr))}return e.peg$library?{peg$result:io,peg$currPos:Z,peg$FAILED:i,peg$maxFailExpected:uu,peg$maxFailPos:zr,peg$success:lp,peg$throw:lp?void 0:hu}:lp?io:void hu()}function l7(t){if(!t||t.length===0)return null;if(typeof t=="string"){const i=JO(t);return i&&i.length!==0?i:null}const e=t.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new K("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:JO(i.value)}});e.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<e.length-1;i++){if(!boe(e[i].effects,e[i+1].effects))throw new K("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});woe(e[i].effects,e[i+1].effects)}return e.sort((i,r)=>r.scale-i.scale),e}function JO(t){let e;if(!t)return[];try{e=Cge(t)}catch(i){throw new K("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map(i=>Ige(i))}function Ige(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return Age(t);case"opacity":return Pge(t);case"hue-rotate":return Oge(t);case"blur":return Rge(t);case"drop-shadow":return Dge(t);case"bloom":return zge(t)}}catch(e){throw e.details.filter=t,e}throw new K("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function Age(t){let e=1;return Jh(t.parameters,1),t.parameters.length===1&&(e=as(t.parameters[0])),new IS(t.name,e)}function Pge(t){let e=1;return Jh(t.parameters,1),t.parameters.length===1&&(e=as(t.parameters[0])),new j6(e)}function Oge(t){let e=0;return Jh(t.parameters,1),t.parameters.length===1&&(e=Vge(t.parameters[0])),new L6(e)}function Rge(t){let e=0;return Jh(t.parameters,1),t.parameters.length===1&&(e=gM(t.parameters[0]),kg(e,t.parameters[0])),new O6(e)}function Dge(t){const e=[];let i=null;for(const r of t.parameters)if(r.type==="color"){if(e.length&&Object.freeze(e),i)throw new K("effect:type-error","Accepts only one color",{});i=Bge(r)}else{const n=gM(r);if(Object.isFrozen(e))throw new K("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(n),e.length===3&&kg(n,r)}if(e.length<2||e.length>3)throw new K("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new z6(e[0],e[1],e[2]||0,i||c7("black"))}function zge(t){let e=1,i=0,r=0;return Jh(t.parameters,3),t.parameters[0]&&(e=as(t.parameters[0])),t.parameters[1]&&(i=gM(t.parameters[1]),kg(i,t.parameters[1])),t.parameters[2]&&(r=as(t.parameters[2])),new A6(e,i,r)}function Jh(t,e){if(t.length>e)throw new K("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function _w(t){if(t.type==="color")return"<color>";if(t.unit){if(t.unit in mM)return"<length>";if(t.unit in fM)return"<angle>";if(t.unit==="%")return"<percentage>"}return"<double>"}function kg(t,e){if(t<0)throw new K("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}function Nge(t){if(t.type!=="quantity"||t.unit!==null)throw new K("effect:type-error",`Expected <double>, Actual: ${_w(t)}`,{term:t})}function Lge(t){if(t.type!=="quantity"||t.unit!==null&&t.unit!=="%")throw new K("effect:type-error",`Expected <double> or <percentage>, Actual: ${_w(t)}`,{term:t})}const fM={deg:1,grad:.9,rad:180/Math.PI,turn:360};function Fge(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&fM[t.unit]!=null))throw new K("effect:type-error",`Expected <angle>, Actual: ${_w(t)}`,{term:t})}const mM={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function jge(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&mM[t.unit]!=null))throw new K("effect:type-error",`Expected <length>, Actual: ${_w(t)}`,{term:t})}function as(t){Lge(t);const e=t.value;return kg(e,t),t.unit==="%"?.01*e:e}function Uge(t){return Nge(t),kg(t.value,t),t.value}function Vge(t){return Fge(t),t.value*fM[t.unit]||0}function gM(t){return jge(t),t.value*mM[t.unit]||0}function Bge(t){switch(t.colorType){case"hex":return die(t.value);case"named":return c7(t.value);case"function":return Gge(t.value)}}function c7(t){if(!eL(t))throw new K("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return uie(t)}const qge=/^rgba?/i,Hge=/^hsla?/i;function Gge(t){if(Jh(t.parameters,4),qge.test(t.name))return[as(t.parameters[0]),as(t.parameters[1]),as(t.parameters[2]),t.parameters[3]?as(t.parameters[3]):1];if(Hge.test(t.name))return tL(Uge(t.parameters[0]),as(t.parameters[1]),as(t.parameters[2]),t.parameters[3]?as(t.parameters[3]):1);throw new K("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}function Wge(t,e,i){try{return Jge(t)}catch(r){i?.messages?.push(r)}return null}function Zge(t,e,i,r){try{const n=Yge(t);Qc(i,n,e)}catch(n){r.messages&&r.messages.push(n)}}function Yge(t){const e=l7(t);return e?_oe(e)?e.map(i=>i.toJSON()):e.map(({scale:i,effects:r})=>({scale:i,value:r.map(n=>n.toJSON())})):null}function Jge(t){if(!t||t.length===0)return null;if(Kge(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:KO(i.value)});return e}return KO(t)}function Kge(t){const e=t[0];return!!e&&"scale"in e}function KO(t){if(!t?.length)return"";const e=[];for(const i of t){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[ho(i,"amount")];break;case"blur":r=[ho(i,"radius","pt")];break;case"hue-rotate":r=[ho(i,"angle","deg")];break;case"drop-shadow":r=[ho(i,"xoffset","pt"),ho(i,"yoffset","pt"),ho(i,"blurRadius","pt"),Xge(i,"color")];break;case"bloom":r=[ho(i,"strength"),ho(i,"radius","pt"),ho(i,"threshold")]}const n=`${i.type}(${r.filter(Boolean).join(" ")})`;l7(n),e.push(n)}return e.join(" ")}function ho(t,e,i){if(t[e]==null)throw new K("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function Xge(t,e){if(t[e]==null)throw new K("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const Qge={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:kT}},"portal-item":{read:!0,write:{layerContainerTypes:kT}}}}},XO={read:{reader:Wge},write:{allowNull:!0,writer:Zge,layerContainerTypes:kT}},eye={json:{read:!1,write:!1,origins:{"web-map":XO,"portal-item":XO}}},tye=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([p(Qge)],i.prototype,"blendMode",void 0),u([p(eye)],i.prototype,"effect",void 0),i=u([R("esri.layers.mixins.BlendLayer")],i),i},iye=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n?.effectiveScaleRange!==void 0&&rye(r,n.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===r.minScale&&s.maxScale===r.maxScale?s:r}};return u([p({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"minScale",void 0),u([p({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"maxScale",void 0),u([p({readOnly:!0})],i.prototype,"effectiveScaleRange",null),i=u([R("esri.layers.mixins.ScaleRangeLayer")],i),i};function rye(t,e){return t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale,t}var TT;let kf=TT=class extends be{constructor(t){super(t),this.expression=void 0,this.title=void 0}async collectRequiredFields(t,e){return hl(t,e,null,this.expression)}clone(){return new TT({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};u([p({type:String,json:{write:{isRequired:!0}}})],kf.prototype,"expression",void 0),u([p({type:String,json:{write:!0}})],kf.prototype,"title",void 0),kf=TT=u([R("esri.symbols.support.FeatureExpressionInfo")],kf);const QO=kf,yM={unknown:1,inches:Jt(1,"meters","inches"),feet:Jt(1,"meters","feet"),"us-feet":Jt(1,"meters","us-feet"),yards:Jt(1,"meters","yards"),miles:Jt(1,"meters","miles"),"nautical-miles":Jt(1,"meters","nautical-miles"),millimeters:Jt(1,"meters","millimeters"),centimeters:Jt(1,"meters","centimeters"),decimeters:Jt(1,"meters","decimeters"),meters:Jt(1,"meters","meters"),kilometers:Jt(1,"meters","kilometers"),"decimal-degrees":1/ate(1,"meters",qt.radius)};function kTe(t){return!!t&&yM[t]!=null}function TTe(t){return 1/(yM[t]||1)}function nye(){const t=Object.keys(yM);return u2(t,"decimal-degrees"),t.sort(),t}const sye=nye(),tv=hr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),eR=new ui({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Eo=class extends bi(be){constructor(t){super(t),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(t,e){return t!=null?t.expression?t:void 0:e.featureExpression&&e.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(t,e,i,r){e[i]=t.write({},r),t.expression==="0"&&(e.featureExpression={value:0})}get mode(){const{offset:t,featureExpressionInfo:e}=this;return this._isOverridden("mode")?this._get("mode"):t!=null||e?"relative-to-ground":"on-the-ground"}set mode(t){this._override("mode",t)}set unit(t){this._set("unit",t)}write(t,e){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(t,e):null}equals(t){return this.mode===t.mode&&this.offset===t.offset&&this.unit===t.unit&&$G(this.featureExpressionInfo,t.featureExpressionInfo)}};u([p({type:QO,json:{write:!0}})],Eo.prototype,"featureExpressionInfo",void 0),u([et("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Eo.prototype,"readFeatureExpressionInfo",null),u([Ye("featureExpressionInfo",{featureExpressionInfo:{type:QO},"featureExpression.value":{type:[0]}})],Eo.prototype,"writeFeatureExpressionInfo",null),u([p({type:tv.apiValues,nonNullable:!0,json:{type:tv.jsonValues,read:tv.read,write:{writer:tv.write,isRequired:!0}}})],Eo.prototype,"mode",null),u([p({type:Number,json:{write:!0}})],Eo.prototype,"offset",void 0),u([p({type:sye,json:{type:String,read:eR.read,write:eR.write}})],Eo.prototype,"unit",null),Eo=u([R("esri.symbols.support.ElevationInfo")],Eo);let Mo=class extends tye(iye(Mt)){constructor(t){super(t),this.elevationInfo=null,this.graphics=new Mc,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}get loaded(){return super.loaded}add(t){return this.graphics.add(t),this}addMany(t){return this.graphics.addMany(t),this}removeAll(){return this.graphics.removeAll(),this}remove(t){this.graphics.remove(t)}removeMany(t){this.graphics.removeMany(t)}graphicChanged(t){this.emit("graphic-update",t)}};u([p({type:Eo})],Mo.prototype,"elevationInfo",void 0),u([p(bb(Mc,"graphics"))],Mo.prototype,"graphics",void 0),u([p({type:["show","hide"]})],Mo.prototype,"listMode",void 0),u([p()],Mo.prototype,"screenSizePerspectiveEnabled",void 0),u([p({readOnly:!0})],Mo.prototype,"type",void 0),u([p({constructOnly:!0})],Mo.prototype,"internal",void 0),Mo=u([R("esri.layers.GraphicsLayer")],Mo);var oye=Object.defineProperty,aye=Object.getOwnPropertyDescriptor,vM=(t,e,i,r)=>{for(var n=r>1?void 0:r?aye(e,i):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(r?o(e,i,n):o(n))||n);return r&&n&&oye(e,i,n),n};const ET={dialog:"application-dialog",header:"application-header",view:"application-view"},xx=t=>getComputedStyle(document.documentElement).getPropertyValue(t).trim(),$x={green:xx("--calcite-color-status-success"),orange:xx("--calcite-color-status-warning"),red:xx("--calcite-color-status-danger")},tR="graphics-handles";let lye=0;const u7=t=>t.toFormat("yyyyLLdd");let zb=class extends qh{constructor(t){super(t),this._container=document.createElement("calcite-shell"),this.alerts=new pe,this.date=Pe.now().setZone("America/Los_Angeles"),this.locations=new pe,this.graphics=new Mo,this.stations=[],this.container=this._container,document.body.appendChild(this.container)}get container(){return this._container}set container(t){this._container=t}addGraphics(t){const{view:e}=this,{station:i,name:r,latitude:n,longitude:s,predictions:o,money:a}=t,l=a===0?$x.red:a===1?$x.orange:$x.green,d=new Ee({latitude:n,longitude:s}),h={station:i},f=new pi({attributes:h,geometry:d,symbol:new ut({text:o.map(y=>{const{v:b,type:x,time:$}=y;return`${$} - ${x==="H"?"High":"Low"} ${Number(b).toFixed(2)} ft`}).join(`
`),color:l,font:{size:10},haloColor:"white",haloSize:2,horizontalAlignment:"left",xoffset:10,yoffset:-12}),visible:e.scale<24e4});this.addHandles(De(()=>e.scale,()=>{f.visible=e.scale<24e4}),tR),this.graphics.addMany([new pi({attributes:h,geometry:d,symbol:new Tr({style:a===0?"square":"circle",color:l,size:8,outline:{color:"white",width:2}})}),new pi({attributes:h,geometry:d,symbol:new ut({text:`${r}`,color:l,font:{size:10},haloColor:"white",haloSize:2,horizontalAlignment:"left",xoffset:10})}),f])}dateChange(t){this.dialog.close(),this.date=Pe.fromISO(t.target.value).setZone("America/Los_Angeles"),this.graphics.removeAll(),this.removeHandles(tR),this.locations.forEach(this.locationPredictions.bind(this))}datePickerAfterCreate(t){const e=this.date.toISODate();t.value=e,t.min=e,t.addEventListener("calciteInputDatePickerChange",this.dateChange.bind(this))}dialogAfterCreate(t){this.dialog=new MT({container:t})}async locationPredictions(t){try{const e=u7(this.date),i=await(await fetch(`https://api.tidesandcurrents.noaa.gov/api/prod/datagetter?product=predictions&format=json&interval=hilo&time_zone=LST_LDT&units=english&datum=MLLW&station=${t.station}&begin_date=${e}&end_date=${e}`)).json();t.predictions=i.predictions;let r={height:0,date:Pe.now()};t.predictions.forEach(n=>{const{t:s,v:o,type:a}=n,l=Pe.fromSQL(s).setZone("America/Los_Angeles"),d=Number(o);n.time=l.toFormat("h:mm a"),a==="H"&&d>r.height&&(r={height:d,date:l})}),t.money=this.isMoney(r.date),this.addGraphics(t)}catch(e){console.log(e),this.alerts.add(st("calcite-alert",{"auto-close":"",icon:"exclamation-mark-circle",key:lye++,kind:"danger",open:!0},st("div",{slot:"message"},"Failed to load tides for ",t.name)))}}isMoney(t){const e=t.toMillis(),i=t.set({hour:11,minute:0,second:0,millisecond:0}).toMillis(),r=t.set({hour:13,minute:0,second:0,millisecond:0}).toMillis(),n=t.set({hour:9,minute:0,second:0,millisecond:0}).toMillis(),s=t.set({hour:15,minute:0,second:0,millisecond:0}).toMillis();return e>=i&&e<=r?2:e>=n&&e<=s?1:0}async viewAfterCreate(t){const{graphics:e}=this,i=this.view=new Mge({container:t,extent:{spatialReference:{wkid:102100},xmin:-14063495960129377e-9,ymin:542831522728483e-8,xmax:-13322362533876345e-9,ymax:5954813478113098e-9},map:new V6({basemap:"topo-vector",layers:[e]})});this.locations.forEach(this.locationPredictions.bind(this)),this.graphicsView=await i.whenLayerView(e),this.addHandles(i.on("click",this.viewClick.bind(this)));const r=document.body.querySelector("calcite-loader");setTimeout(()=>{r.style.opacity="0"},2e3),setTimeout(()=>{document.body.removeChild(r)},3e3)}async viewClick(t){t.stopPropagation();const e=(await this.view.hitTest(t,{include:[this.graphics]})).results[0];if(!e||e.type!=="graphic"){this.dialog.close();return}const i=this.locations.find(r=>r.station===e.graphic.attributes.station);i&&this.dialog.show(i,this.date)}render(){const{alerts:t}=this;return st("calcite-shell",null,st("div",{class:ET.header,slot:"header"},st("div",null,"Money Tides"),st("calcite-input-date-picker",{"overlay-positioning":"fixed",afterCreate:this.datePickerAfterCreate.bind(this)})),st("div",{class:ET.view,afterCreate:this.viewAfterCreate.bind(this)}),st("div",{slot:"dialogs"},st("calcite-dialog",{afterCreate:this.dialogAfterCreate.bind(this)})),t.length?st("div",{slot:"alerts"},t.toArray()):null)}};vM([p({type:pe})],zb.prototype,"locations",2);zb=vM([R("Application")],zb);let MT=class extends qh{get container(){return this._container}set container(t){this._container=t}close(){this.container.open=!1}show(t,e){this.location=t,this.date=e,this.renderNow(),this.container.open=!0}render(){const{date:t,location:e}=this;if(!t||!e)return st("calcite-dialog",null);const{name:i,money:r,predictions:n,station:s}=e,o=`${i} - ${t.toLocaleString(Pe.DATE_FULL)}`,a=r===0?"danger":r===1?"warning":"success",l=u7(t);return st("calcite-dialog",{class:ET.dialog,heading:o,kind:a,placement:"bottom-start",scale:"s",width:"s"},st("calcite-table",{scale:"s",striped:!0},n.map(d=>{const{v:h,type:f,time:y}=d;return st("calcite-table-row",null,st("calcite-table-cell",null,y),st("calcite-table-cell",null,f==="H"?"High":"Low"),st("calcite-table-cell",null,Number(h).toFixed(2)," ft"))})),st("calcite-link",{href:`https://tidesandcurrents.noaa.gov/noaatidepredictions.html?id=${s}&units=standard&bdate=${l}&edate=${l}&timezone=LST/LDT&clock=12hour&datum=MLLW&interval=hilo&action=dailychart`,slot:"footer-end",target:"_blank"},"View ",i," (Station ",s,")"))}};MT=vM([R("Dialog")],MT);const cye=async()=>{new zb({stations:[9437908,9436101,9435385],locations:[{station:9437908,name:"Nehalem, OR",latitude:45.686923,longitude:-123.929533},{station:9436101,name:"Taft, Siletz Bay, OR",latitude:44.922025,longitude:-124.02262},{station:9435385,name:"Yaquina USCG Station, Newport, OR",latitude:44.62743,longitude:-124.04549},{station:9434132,name:"Siuslaw River Entrance, OR",latitude:43.97056,longitude:-124.1215},{station:9432845,name:"Coos Bay, OR",latitude:43.40168,longitude:-124.2795},{station:9432373,name:"Bandon, Coquille River, OR",latitude:43.1448,longitude:-124.40564},{station:9433501,name:"Reedsport, OR",latitude:43.7212,longitude:-124.15879},{station:9434939,name:"Waldport, Alsea Bay",latitude:43.7212,longitude:-124.15879}]})};cye();export{n5 as $,Ut as A,pi as B,pe as C,M9 as D,$e as E,K0e as F,_T as G,pme as H,dr as I,Vs as J,Xte as K,gN as L,iTe as M,lh as N,SI as O,De as P,Ji as Q,Bc as R,Fe as S,Ti as T,Nbe as U,wN as V,Lbe as W,Pt as X,Zs as Y,Q as Z,ae as _,e5 as a,LD as a$,Xt as a0,bt as a1,Xp as a2,Se as a3,su as a4,g6 as a5,os as a6,ci as a7,Ee as a8,OO as a9,Ke as aA,Tr as aB,sr as aC,Fo as aD,ut as aE,eo as aF,ebe as aG,Ja as aH,Xye as aI,VD as aJ,q6 as aK,hke as aL,eme as aM,tg as aN,Wae as aO,$h as aP,Ys as aQ,rl as aR,Te as aS,G6 as aT,FE as aU,W6 as aV,H6 as aW,xP as aX,Sxe as aY,Xie as aZ,G_e as a_,Nl as aa,Ll as ab,BD as ac,HD as ad,GD as ae,B as af,Zye as ag,Vye as ah,Fye as ai,Hke as aj,RG as ak,yle as al,mF as am,$_e as an,S_e as ao,w_e as ap,$m as aq,P2 as ar,Gi as as,Qm as at,gs as au,wle as av,Q0 as aw,PJ as ax,n_e as ay,X as az,ue as b,Xve as b$,zd as b0,Th as b1,Dm as b2,_t as b3,In as b4,m2 as b5,nn as b6,at as b7,Dh as b8,Yi as b9,y0e as bA,Ye as bB,Qe as bC,zbe as bD,s0e as bE,cK as bF,Ya as bG,pt as bH,Iwe as bI,u2 as bJ,sg as bK,m4 as bL,ug as bM,Ce as bN,Ga as bO,Ha as bP,zs as bQ,mc as bR,Zr as bS,dl as bT,Sr as bU,oce as bV,Gve as bW,Wve as bX,Dbe as bY,C_e as bZ,Qve as b_,Hh as ba,Jt as bb,Q1e as bc,K1e as bd,X1e as be,Ks as bf,D1 as bg,Dt as bh,Or as bi,EE as bj,nTe as bk,Mh as bl,Y8 as bm,t5 as bn,cr as bo,qy as bp,W1e as bq,D8 as br,Ar as bs,gc as bt,Fie as bu,Rh as bv,wve as bw,S9 as bx,et as by,tr as bz,Ff as c,Tc as c$,N_e as c0,Yte as c1,M_e as c2,Ni as c3,Pe as c4,Zve as c5,Kve as c6,Jve as c7,Yve as c8,vle as c9,E2 as cA,Xle as cB,OF as cC,v_e as cD,y_e as cE,c_e as cF,jm as cG,Fm as cH,Wh as cI,sS as cJ,cA as cK,tse as cL,Zge as cM,Wge as cN,b0e as cO,v0e as cP,ze as cQ,hr as cR,Zbe as cS,Ybe as cT,Zwe as cU,Jbe as cV,swe as cW,$ge as cX,bE as cY,D4 as cZ,lg as c_,ble as ca,$de as cb,Me as cc,be as cd,ui as ce,UE as cf,Ioe as cg,rte as ch,ste as ci,nte as cj,ote as ck,abe as cl,lbe as cm,An as cn,ht as co,Qc as cp,nr as cq,kT as cr,o_e as cs,bi as ct,Zce as cu,VE as cv,K1 as cw,z0e as cx,Cle as cy,T3 as cz,e0e as d,Mn as d$,v8 as d0,m_e as d1,eue as d2,zJ as d3,rs as d4,tue as d5,ur as d6,EG as d7,e1e as d8,We as d9,pbe as dA,a9 as dB,ml as dC,o9 as dD,Zhe as dE,Tne as dF,Bve as dG,qve as dH,f9 as dI,Gh as dJ,gpe as dK,mT as dL,nu as dM,ys as dN,gg as dO,Rm as dP,Rhe as dQ,p9 as dR,zhe as dS,u9 as dT,h9 as dU,Bee as dV,fE as dW,mE as dX,Vee as dY,Q1 as dZ,ew as d_,pg as da,Du as db,Vt as dc,EN as dd,Cv as de,vv as df,Cee as dg,b_ as dh,vg as di,mk as dj,Y1e as dk,oxe as dl,Txe as dm,Wwe as dn,ls as dp,Ui as dq,l5 as dr,h$ as ds,Bfe as dt,jD as du,xE as dv,Nye as dw,Zi as dx,R0 as dy,zye as dz,U2 as e,ope as e$,lve as e0,mve as e1,jee as e2,vA as e3,mX as e4,$xe as e5,E1e as e6,Vbe as e7,WD as e8,lpe as e9,epe as eA,zse as eB,Dhe as eC,d9 as eD,upe as eE,Wbe as eF,C1 as eG,I1 as eH,ND as eI,Sie as eJ,cg as eK,pve as eL,g2 as eM,M1 as eN,Mne as eO,Hse as eP,soe as eQ,Dde as eR,Kte as eS,O0e as eT,dh as eU,k_e as eV,lL as eW,qse as eX,Ane as eY,Pne as eZ,One as e_,aL as ea,RN as eb,Yce as ec,__e as ed,jE as ee,Gc as ef,_le as eg,E_e as eh,Xr as ei,T_e as ej,gle as ek,Xbe as el,$n as em,tw as en,Jhe as eo,Jwe as ep,sX as eq,S0e as er,fK as es,qc as et,J2 as eu,m0e as ev,Roe as ew,E6 as ex,YE as ey,yl as ez,Mc as f,Go as f$,iye as f0,Mt as f1,Uhe as f2,Vhe as f3,dpe as f4,_r as f5,tye as f6,ti as f7,xr as f8,Vh as f9,At as fA,Ei as fB,Ai as fC,tl as fD,hm as fE,eB as fF,v1 as fG,Ft as fH,Be as fI,ii as fJ,Qte as fK,VT as fL,hs as fM,Sye as fN,vs as fO,Vo as fP,Ve as fQ,he as fR,bs as fS,Ct as fT,pxe as fU,Mxe as fV,ol as fW,gI as fX,Rbe as fY,P$e as fZ,Sde as f_,kbe as fa,nl as fb,Mie as fc,J$ as fd,iE as fe,hh as ff,Pr as fg,Eo as fh,WG as fi,AN as fj,_N as fk,Hve as fl,Ii as fm,km as fn,vi as fo,ibe as fp,tbe as fq,lt as fr,Ie as fs,s2 as ft,Oye as fu,Zx as fv,U as fw,q as fx,mt as fy,gt as fz,zfe as g,ru as g$,bG as g0,Mo as g1,Mm as g2,Bt as g3,AL as g4,Ir as g5,o1e as g6,vh as g7,_1e as g8,F_ as g9,t2 as gA,e2 as gB,qp as gC,um as gD,Eq as gE,k0 as gF,f1 as gG,$ye as gH,qG as gI,HG as gJ,p$ as gK,Xc as gL,Ode as gM,a1e as gN,s1e as gO,Z1e as gP,yne as gQ,f1e as gR,Lie as gS,aS as gT,Yt as gU,nke as gV,wv as gW,MS as gX,dd as gY,iw as gZ,J1e as g_,L1e as ga,lw as gb,IE as gc,AE as gd,N1e as ge,G1e as gf,dw as gg,_re as gh,ade as gi,h6 as gj,nM as gk,spe as gl,e_e as gm,Xwe as gn,yg as go,mi as gp,Qwe as gq,Jo as gr,ul as gs,t_e as gt,$c as gu,n0e as gv,f0e as gw,nh as gx,DC as gy,yD as gz,AK as h,axe as h$,_xe as h0,cxe as h1,v1e as h2,Bxe as h3,Vxe as h4,Qr as h5,W0e as h6,Ine as h7,R0e as h8,$W as h9,Kr as hA,tpe as hB,vbe as hC,Yre as hD,Qbe as hE,Lre as hF,aA as hG,PN as hH,ON as hI,qt as hJ,Kbe as hK,Cse as hL,T6 as hM,mce as hN,Ghe as hO,M6 as hP,cbe as hQ,Lee as hR,jne as hS,Rse as hT,Fne as hU,uw as hV,ov as hW,eve as hX,ipe as hY,Hhe as hZ,HF as h_,Ps as ha,$r as hb,Zxe as hc,Pbe as hd,FW as he,Qxe as hf,hl as hg,Lm as hh,Uye as hi,yM as hj,l0e as hk,ei as hl,z_ as hm,Qie as hn,TA as ho,Bh as hp,Ph as hq,yi as hr,QE as hs,TTe as ht,dbe as hu,lte as hv,Zee as hw,VN as hx,Xf as hy,Lo as hz,ju as i,lW as i$,BE as i0,Mde as i1,nae as i2,$0e as i3,g0e as i4,T4 as i5,hse as i6,h0e as i7,dg as i8,s5 as i9,xge as iA,Uc as iB,H2 as iC,TK as iD,sme as iE,Lke as iF,E9 as iG,qke as iH,Rb as iI,Vke as iJ,im as iK,Bke as iL,t0 as iM,Rke as iN,R$e as iO,NL as iP,Im as iQ,xS as iR,Ure as iS,jL as iT,qbe as iU,gke as iV,C0e as iW,aee as iX,hee as iY,mee as iZ,Fs as i_,fl as ia,Coe as ib,Eoe as ic,koe as id,N_ as ie,w6 as ig,qie as ih,kd as ii,bK as ij,Js as ik,Bx as il,pq as im,dU as io,La as ip,exe as iq,Q_e as ir,gce as is,_L as it,wre as iu,_A as iv,qte as iw,Cm as ix,gh as iy,jye as iz,PSe as j,R4 as j$,K3 as j0,Ute as j1,og as j2,Lve as j3,g1e as j4,cse as j5,ki as j6,LL as j7,jre as j8,Cd as j9,kE as jA,vS as jB,SE as jC,y1e as jD,M1e as jE,CA as jF,$G as jG,p6 as jH,w0e as jI,K4 as jJ,G0e as jK,yq as jL,nV as jM,jU as jN,Ra as jO,sne as jP,hwe as jQ,awe as jR,Cs as jS,ive as jT,rve as jU,tve as jV,dK as jW,tu as jX,l7 as jY,boe as jZ,woe as j_,Uve as ja,B8 as jb,ME as jc,k as jd,ate as je,Gee as jf,Hs as jg,wde as jh,iM as ji,Uie as jj,d1e as jk,D0 as jl,lne as jm,Cne as jn,Ene as jo,Fhe as jp,mpe as jq,ype as jr,Wre as js,c6 as jt,Fee as ju,jhe as jv,l9 as jw,ixe as jx,txe as jy,ji as jz,qe as k,s4 as k$,KSe as k0,JSe as k1,YSe as k2,ZSe as k3,QSe as k4,XSe as k5,WSe as k6,GSe as k7,VF as k8,Vre as k9,tW as kA,_ve as kB,ohe as kC,ahe as kD,c9 as kE,Ube as kF,sde as kG,Oke as kH,Ste as kI,Ate as kJ,hg as kK,bbe as kL,fbe as kM,mbe as kN,u0e as kO,$K as kP,FG as kQ,Z0e as kR,v2 as kS,Mve as kT,Eve as kU,D0e as kV,fW as kW,pW as kX,S1e as kY,w1e as kZ,zW as k_,$I as ka,HSe as kb,vE as kc,Ete as kd,pie as ke,h2 as kf,nve as kg,p2 as kh,sve as ki,$g as kj,Md as kk,nde as kl,RK as km,Gke as kn,UF as ko,ph as kp,q1 as kq,Oo as kr,s_e as ks,G1 as kt,x2 as ku,cve as kv,JE as kw,lxe as kx,sxe as ky,bwe as kz,RSe as l,gwe as l$,zt as l0,Q0e as l1,qh as l2,lE as l3,st as l4,J1 as l5,F0e as l6,Gs as l7,Tve as l8,Nu as l9,KQ as lA,UQ as lB,DG as lC,o0e as lD,n4 as lE,B1 as lF,p0e as lG,Eue as lH,Nm as lI,PO as lJ,Hie as lK,Bie as lL,Ob as lM,SL as lN,ake as lO,ske as lP,oke as lQ,Qfe as lR,i6 as lS,p1e as lT,ax as lU,Km as lV,_0e as lW,Y$ as lX,eye as lY,ow as lZ,ywe as l_,Ibe as la,BL as lb,VL as lc,pne as ld,Tv as le,wL as lf,I1e as lg,PE as lh,Fu as li,_we as lj,xwe as lk,$we as ll,B1e as lm,U1e as ln,z1e as lo,Dre as lp,j1e as lq,dne as lr,Pve as ls,u1e as lt,wwe as lu,u$e as lv,Sc as lw,rTe as lx,Gye as ly,ire as lz,Je as m,iF as m$,IL as m0,ML as m1,fre as m2,gre as m3,gf as m4,vd as m5,Pae as m6,x_e as m7,Yxe as m8,Zte as m9,hhe as mA,ave as mB,Nse as mC,pce as mD,Mse as mE,Ise as mF,VSe as mG,Bf as mH,a_e as mI,m6 as mJ,fL as mK,qD as mL,r0e as mM,p4 as mN,DN as mO,$3 as mP,_4 as mQ,Kme as mR,t1e as mS,FL as mT,Hbe as mU,wE as mV,b4 as mW,a0e as mX,mS as mY,Hle as mZ,Vve as m_,Xxe as ma,Jxe as mb,Ka as mc,kme as md,Eme as me,Mme as mf,A4 as mg,Kwe as mh,$2 as mi,Gu as mj,rhe as mk,rke as ml,wee as mm,O5 as mn,Ole as mo,pw as mp,zv as mq,zle as mr,pL as ms,Wxe as mt,$ie as mu,Qp as mv,Ao as mw,Na as mx,ai as my,Nce as mz,Eee as n,_x as n$,wS as n0,f$e as n1,p$e as n2,ode as n3,nxe as n4,rxe as n5,Z2 as n6,Gse as n7,Bse as n8,Whe as n9,Kxe as nA,See as nB,BF as nC,Sh as nD,Qge as nE,qxe as nF,Hxe as nG,Gxe as nH,V2 as nI,fve as nJ,Kye as nK,V8 as nL,Mke as nM,Eke as nN,jSe as nO,USe as nP,Dve as nQ,P8 as nR,W8 as nS,Eh as nT,Ds as nU,CE as nV,kL as nW,fg as nX,I8 as nY,Sg as nZ,d$e as n_,Vse as na,wce as nb,S2 as nc,H0e as nd,I2 as ne,X0e as nf,p1 as ng,gi as nh,$u as ni,IG as nj,rS as nk,zke as nl,Jme as nm,Nke as nn,Dke as no,k9 as np,pM as nq,or as nr,Bre as ns,Dp as nt,Fbe as nu,Zfe as nv,i_e as nw,Tke as nx,yke as ny,r_e as nz,Ki as o,Wce as o$,Ebe as o0,gb as o1,cpe as o2,$re as o3,db as o4,ube as o5,are as o6,Tbe as o7,Si as o8,$i as o9,Cbe as oA,hbe as oB,Obe as oC,Rye as oD,Lfe as oE,Vie as oF,Yye as oG,Hye as oH,KD as oI,obe as oJ,sbe as oK,r1e as oL,DD as oM,Sue as oN,cde as oO,A8 as oP,D9 as oQ,ove as oR,xke as oS,$ke as oT,Ske as oU,kke as oV,cke as oW,dke as oX,uke as oY,Tme as oZ,sl as o_,Cxe as oa,Pxe as ob,Exe as oc,cW as od,Lye as oe,gl as of,qN as og,rde as oh,Sre as oi,kre as oj,kv as ok,h1e as ol,dre as om,hre as on,hge as oo,Cn as op,bw as oq,Ihe as or,xve as os,U8 as ot,q8 as ou,jde as ov,z$e as ow,Yde as ox,N$e as oy,bse as oz,ag as p,T1e as p$,FF as p0,Vle as p1,TI as p2,Pee as p3,t0e as p4,h$e as p5,nbe as p6,rbe as p7,ite as p8,LQ as p9,vn as pA,vke as pB,gbe as pC,UW as pD,mke as pE,fke as pF,dme as pG,pke as pH,BSe as pI,qSe as pJ,bke as pK,wke as pL,Cke as pM,Ike as pN,eke as pO,Ake as pP,Pke as pQ,Xfe as pR,ime as pS,W9 as pT,ch as pU,_ke as pV,Vfe as pW,d0e as pX,qre as pY,Bne as pZ,Cre as p_,uW as pa,FQ as pb,XQ as pc,owe as pd,FSe as pe,Ywe as pf,tce as pg,b_e as ph,u_e as pi,p_e as pj,d_e as pk,f_e as pl,h_e as pm,g_e as pn,eTe as po,bI as pp,l_e as pq,zie as pr,l1e as ps,Wie as pt,m1e as pu,Oxe as pv,ihe as pw,Sn as px,x1e as py,lke as pz,c0e as q,ooe as q$,v$e as q0,Xse as q1,CL as q2,s6 as q3,h5 as q4,tm as q5,Ove as q6,Kse as q7,kwe as q8,k1e as q9,Kke as qA,Jke as qB,$me as qC,R9 as qD,ike as qE,tke as qF,wme as qG,LSe as qH,F1e as qI,zo as qJ,_S as qK,C1e as qL,lr as qM,OG as qN,fpe as qO,Wye as qP,bxe as qQ,wxe as qR,Zre as qS,loe as qT,aoe as qU,n6 as qV,Dae as qW,Ose as qX,Ase as qY,Pse as qZ,Zse as q_,qoe as qa,AO as qb,MG as qc,qye as qd,Bye as qe,cne as qf,Ile as qg,N0e as qh,L0e as qi,Fle as qj,j0e as qk,Um as ql,Bm as qm,Ple as qn,uve as qo,Wle as qp,Zle as qq,WE as qr,mge as qs,jke as qt,Uke as qu,Bbe as qv,Fke as qw,tTe as qx,Xke as qy,Qke as qz,xN as r,xxe as r$,lwe as r0,tde as r1,Fse as r2,D$e as r3,O$e as r4,GR as r5,Ah as r6,GT as r7,zx as r8,BT as r9,pse as rA,c1e as rB,bg as rC,wg as rD,_g as rE,Qg as rF,gD as rG,OR as rH,Lc as rI,m1 as rJ,tV as rK,Gx as rL,uc as rM,g1 as rN,kTe as rO,Vue as rP,k$e as rQ,kxe as rR,hxe as rS,gxe as rT,fxe as rU,dve as rV,Lxe as rW,Nxe as rX,Qye as rY,uxe as rZ,b1e as r_,k1 as ra,ZT as rb,b1 as rc,fm as rd,Tye as re,pm as rf,KU as rg,CD as rh,Eye as ri,Mye as rj,T1 as rk,wR as rl,vm as rm,r2 as rn,o2 as ro,YT as rp,a2 as rq,Rs as rr,Nre as rs,A1e as rt,R1e as ru,q1e as rv,P1e as rw,D1e as rx,H1e as ry,hne as rz,K as s,Sae as s0,phe as s1,e9 as s2,Rve as s3,qA as s4,H_e as s5,T$e as s6,mxe as s7,kse as s8,fd as s9,c2 as sA,ewe as sB,iwe as sC,sTe as sD,vce as sa,jbe as sb,Y_e as sc,dxe as sd,Gbe as se,vre as sf,yce as sg,G5 as sh,t4 as si,dwe as sj,yxe as sk,uwe as sl,cwe as sm,$1e as sn,NE as so,Dye as sp,vxe as sq,Dse as sr,fce as ss,Wse as st,uV as su,kye as sv,Cye as sw,Iye as sx,Aye as sy,Pye as sz,A1 as t,Yh as u,u as v,Abe as w,p as x,R as y,sn as z};
