import{N as x}from"./money-tides-config-BVnrMf5g.js";import{e4 as f}from"./money-tides-app-config-bLoUqPNA.js";import{s as d,t as y}from"./money-tides-SimpleGeometryCursor-B92kdZ15.js";import{j as G}from"./money-tides-Point2D-DNac3_HM.js";import{g as b}from"./money-tides-ProjectionTransformation-DkT2aTMN.js";import{Envelope2D as g}from"./money-tides-Envelope2D-DhfWE2UB.js";import{J as v}from"./money-tides-Bufferer-Dw9Qi4T1-DpR6nfXl.js";import{fromGeometries as w,getSpatialReference as D,toGeometry as I}from"./money-tides-jsonConverter-XyO7ctoJ.js";import"./money-tides-jsxFactory-B9QQWpgY.js";import"./index-Bqzh3_vi.js";import"./money-tides-index-Bz5uSspo.js";import"./money-tides-runtime-BTGwkf2p.js";import"./money-tides-ReactiveMap-C247ptA2.js";import"./money-tides-messageBundle-BWfZ7ME-.js";import"./money-tides-index-BSQMl5Dg.js";import"./money-tides-Transformation2D-JN2DQ2oa.js";import"./money-tides-OperatorDefinitions-DP7_WWTp.js";import"./money-tides-GeometryCleaner-BEJM7I4l-BtGKgZSt.js";import"./money-tides-OperatorSimplifyOGC-CyjYlFgV.js";import"./money-tides-OperatorGeneralize-C_psb0gC.js";let j=class{getOperatorType(){return 10111}supportsCurves(){return!0}accelerateGeometry(e,t,m){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,m,s,n,r,o,a,i,l,c){if(i){const u=new h(e,t,m,s,n,r,o,a,c);return new b().executeMany(u,t,c,2)}return new h(e,t,m,s,n,r,o,a,c)}};class h extends y{constructor(e,t,m,s,n,r,o,a,i){super(),this.m_currentUnionEnvelope2D=new g,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=i,this.m_bufferer=new v(i),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=m,this.m_maxDeviation=o,this.m_maxVerticesInFullCircle=a,this.m_joins=s,this.m_caps=n,this.m_miterLimit=r}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return G(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}}const C=new j;function F(p,e,t,m,s,n,r,o,a){const i=C.executeMany(new d(p),e,t,m,s,n,r,o,a,0,null);return Array.from(i)}const M={round:0,miter:1,bevel:2},R={round:0,butt:1,square:2};function Y(p,e,t,m,s={}){let{miterLimit:n=10,maxDeviation:r=NaN,maxVerticesInFullCircle:o=96,union:a=!1,unit:i}=s;const[l,c]=w(p);if(i){const u=D(p);u&&(e=e.map(_=>f(_,i,u)),r&&(r=f(r,i,u)))}return F(l,c,e,M[t],R[m],n,r,o,a).map(u=>I(u,c)).filter(x)}export{Y as executeMany};
