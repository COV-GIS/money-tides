import{cp as u,cq as l,cr as p,cs as h,bW as m}from"./index-CHZYAsYy.js";const f=2.4;function M(r){return l(r*f)}function g(r){return u(r)/f}function y(r,e,t,a){let{color:i,ratio:c}=e,{color:s,ratio:o}=t;o===c&&(o===1?c-=1e-6:o+=1e-6);const n=m((a-c)/(o-c),0,1);h(r,i.toArray(),s.toArray(),n)}function q(r){const t=new Uint8ClampedArray(2048);if(r=r.filter(({ratio:o})=>o>=0&&o<=1).sort((o,n)=>o.ratio-n.ratio).map(({color:o,ratio:n})=>({color:o,ratio:Math.max(n,.001)})),r.length<1)return t;let a=r[0],i=r[0],c=1;const s=p();for(let o=0;o<512;o++){const n=(o+.5)/512;for(;n>i.ratio&&c<r.length;)a=i,i=r[c++];y(s,a,i,n),t.set(s,4*o)}return t}function x(r,e,t){const a=Math.sqrt(r**2+e**2)/t;return a>1?0:3/(Math.PI*t**2)*(1-a**2)**2}function b(r){return typeof r=="function"?r:r?e=>+e[r]:()=>1}export{g as a,f as c,M as e,q as f,x as l,b as u};
