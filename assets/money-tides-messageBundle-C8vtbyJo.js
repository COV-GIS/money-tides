import{bQ as c,bR as g,bS as $,bT as b,bU as d,bV as p,bW as f,bX as h,bY as _,s as N,i as S,S as P,a as E,c as J,aG as C}from"./money-tides-jsxFactory-uxllTQB8.js";import{b as j,h as z}from"./money-tides-config-BVnrMf5g.js";import{u as k}from"./money-tides-index-BSQMl5Dg.js";let D=class m{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const r=new m;return this._values.forEach((n,i)=>{e&&e.has(i)||r.set(i,j(n.value),n.origin)}),r}get(e,r){r=this._normalizeOrigin(r);const n=this._values.get(e);return r==null||n?.origin===r?n?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const r=[...this._values.keys()];return e==null?r:r.filter(n=>this._values.get(n)?.origin===e)}set(e,r,n){if((n=this._normalizeOrigin(n))===0){const i=this._values.get(e);if(i?.origin!=null&&i.origin>n)return}this._values.set(e,new T(r,n))}delete(e,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(e)?.origin!==r||this._values.delete(e)}has(e,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(e)?.origin===r:this._values.has(e)}isAtOrigin(e,r){return r=this._normalizeOrigin(r),this.has(e,r)&&this.originOf(e)===r}isBelowOrigin(e,r){return r=this._normalizeOrigin(r),!this.has(e)||this.originOf(e)<r}forEach(e){this._values.forEach(({value:r},n)=>e(r,n))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},T=class{constructor(e,r){this.value=e,this.origin=r}};function W(t,e,r){e.keys().forEach(i=>{r.set(i,e.get(i),0)});const n=t.metadata;Object.keys(n).forEach(i=>{t.internalGet(i)&&r.set(i,t.internalGet(i),0)})}function B(t,e,r){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const n=t.read.source;if(typeof n=="string"){if(n===e||n.includes(".")&&n.startsWith(e)&&d(n,r))return!0}else for(const i of n)if(i===e||i.includes(".")&&i.startsWith(e)&&d(i,r))return!0;return!1}function q(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function A(t,e,r,n,i){let s=g(e[r],i);q(s)&&(t[r]=!0);for(const o of Object.getOwnPropertyNames(e))s=g(e[o],i),B(s,r,n)&&(t[o]=!0)}function L(t,e,r,n){const i=r.metadata,s=b(i[e],n),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,n):o;a!==void 0&&r.set(e,a)}const O={origin:"service"};function G(t,e,r=O){if(!e||typeof e!="object")return;const n=c(t),i=n.metadata,s={};for(const o of Object.getOwnPropertyNames(e))A(s,i,o,e,r);n.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=g(i[o],r).read,u=a?.source;let l;l=u&&typeof u=="string"?$(e,u):e[o],a?.reader&&(l=a.reader.call(t,l,e,r)),l!==void 0&&n.set(o,l)}if(!r||!r.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||L(t,o,n,r)}n.setDefaultOrigin("user")}function ee(t,e,r,n=O){const i={...n,messages:[]};r(i),i.messages?.forEach(s=>{s.type!=="warning"||t.loaded?n?.messages&&n.messages.push(s):t.loadWarnings.push(s)})}function M(t,e,r,n,i){const s={};return e.write?.writer?.call(t,n,s,r,i),s}function y(t,e,r,n,i,s){if(!n?.write)return!1;const o=h(t,r);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(t,o,r,s??void 0);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&s?.layerContainerType&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new N("web-document-write:property-required",`Missing value for required property '${r}' on '${t.declaredClass}'`,{propertyName:r,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&S.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(r)===0)&&x(t,r,s,n,o)||!i.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(r)<P(s.origin))}function x(t,e,r,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(t,e,r??void 0);return z(o,i)}return!1}return s===i}function re(t,e,r,n){const i=c(t),s=i.metadata,o=p(s[e],n);return!!o&&y(t,i,e,o,r,n)}function R(t,e,r){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return f(e,t.toJSON(r));const n=c(t),i=n.metadata;for(const s in i){const o=p(i[s],r);if(!y(t,n,s,o,void 0,r))continue;const a=h(t,s),u=M(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,r);Object.keys(u).length>0&&(e=f(e,u),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>f(e,u,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:t,propName:s,oldOrigin:_(n.store.originOf(s)),newOrigin:r.origin}))}return e}const V=t=>{const e=t;let r=class extends e{constructor(...n){super(...n);const i=c(this),s=i.store,o=new D;i.store=o,W(i,s,o)}read(n,i){G(this,n,i)}write(n,i){return R(this,n??{},i)}toJSON(n){return this.write({},n)}static fromJSON(n,i){return Q.call(this,n,i)}};return r=E([J("esri.core.JSONSupport")],r),r.prototype.toJSON.isDefaultToJSON=!0,r};function Q(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(t,e),r}const te=V(C),U="--esri-calcite-mode-name";function X(){const t=getComputedStyle(document.body).getPropertyValue(U).replaceAll(/\W/g,"").toLowerCase();return t==="dark"||t==="light"?t:void 0}const w="calcite-mode-";function v(t){return X()??k(t??document.body)}function ne(t){return v(t)==="dark"}function Y(t){return`${w}${v(t)}`}function ie(t){const e=Y(t);F(t),t.classList.add(e)}function F(t){Array.from(t.classList).forEach(e=>{e.startsWith(w)&&t.classList.remove(e)})}function se(t){return(e,r)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:r})}}export{V as a,re as b,ne as c,ee as d,se as e,R as g,Y as i,te as n,ie as s,W as t,G as u};
