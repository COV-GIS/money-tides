import{aO as u,af as f,aP as l,m as _,f as h}from"./money-tides-jsxFactory-Citpbvhe.js";import{m as D}from"./money-tides-MoneyTides-BMx_5gL-.js";import{ds as a}from"./money-tides-app-config-DXx2__X3.js";import"./index-COoOQZh6.js";import"./money-tides-runtime-BAFbAsol.js";import"./money-tides-ReactiveMap-B6WeoYy4.js";import"./money-tides-messageBundle-DK3KoGCk.js";import"./money-tides-index-BSQMl5Dg.js";var g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,m=(e,n,c,i)=>{for(var t=i>1?void 0:i?y(n,c):n,o=e.length-1,r;o>=0;o--)(r=e[o])&&(t=(i?r(n,c,t):r(t))||t);return i&&t&&g(n,c,t),t};const v="declination-popover",P={content:`${v}_content`};let s=class extends u{constructor(e){super(e),this.declination="Set your compass to ???."}get container(){return this._container}set container(e){this._container=e}postInitialize(){this.updateDeclination(),this.addHandles(f(()=>a.date,this.updateDeclination.bind(this)))}async updateDeclination(){try{this.declination=`Set your compass to ${(await D(a.date,44.927,-124.013)).bearing}.`}catch(e){console.log("declination update",e),this.declination="An error occurred computing declination."}}render(){return l("calcite-popover",{"auto-close":"",class:v,closable:!0,heading:"Declination","overlay-positioning":"fixed",placement:"leading",scale:a.scale,"reference-element":this.referenceElementId},l("div",{class:P.content},this.declination))}};m([_()],s.prototype,"declination",2);s=m([h("DeclinationPopover")],s);var S=Object.getOwnPropertyDescriptor,b=(e,n,c,i)=>{for(var t=i>1?void 0:i?S(n,c):n,o=e.length-1,r;o>=0;o--)(r=e[o])&&(t=r(t)||t);return t};const p="money-tides-declination-MDKHhMeEQm";let d=class extends u{constructor(e){super(e),this.popover=new s({container:document.createElement("calcite-popover"),referenceElementId:p})}get container(){return this._container}set container(e){this._container=e}postInitialize(){this.onClick&&this.container.addEventListener("click",this.onClick);const e=document.querySelector("calcite-shell");e&&e.appendChild(this.popover.container)}render(){return l("calcite-action",{icon:"explore",id:p,scale:a.scale,text:"Declination"})}};d=b([h("AboutAction")],d);export{d as default};
