import{e as $,bm as c,cn as g,co as _,cp as N,cq as d,cr as p,cs as f,ct as h,cu as b,s as P,i as S,aW as E,h as J,_ as C,f as j,b0 as z}from"./money-tides-jsxFactory-Citpbvhe.js";import{u as k}from"./money-tides-index-BSQMl5Dg.js";let D=class m{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new m;return this._values.forEach((n,i)=>{e&&e.has(i)||t.set(i,$(n.value),n.origin)}),t}get(e,t){t=this._normalizeOrigin(t);const n=this._values.get(e);return t==null||n?.origin===t?n?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return e==null?t:t.filter(n=>this._values.get(n)?.origin===e)}set(e,t,n){if((n=this._normalizeOrigin(n))===0){const i=this._values.get(e);if(i?.origin!=null&&i.origin>n)return}this._values.set(e,new W(t,n))}delete(e,t){(t=this._normalizeOrigin(t))!=null&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return(t=this._normalizeOrigin(t))!=null?this._values.get(e)?.origin===t:this._values.has(e)}isAtOrigin(e,t){return t=this._normalizeOrigin(t),this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return t=this._normalizeOrigin(t),!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach(({value:t},n)=>e(t,n))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},W=class{constructor(e,t){this.value=e,this.origin=t}};function q(r,e,t){e.keys().forEach(i=>{t.set(i,e.get(i),0)});const n=r.metadata;Object.keys(n).forEach(i=>{r.internalGet(i)&&t.set(i,r.internalGet(i),0)})}function B(r,e,t){if(!r?.read||r.read.enabled===!1||!r.read.source)return!1;const n=r.read.source;if(typeof n=="string"){if(n===e||n.includes(".")&&n.startsWith(e)&&d(n,t))return!0}else for(const i of n)if(i===e||i.includes(".")&&i.startsWith(e)&&d(i,t))return!0;return!1}function T(r){return r&&(!r.read||r.read.enabled!==!1&&!r.read.source)}function A(r,e,t,n,i){let s=g(e[t],i);T(s)&&(r[t]=!0);for(const o of Object.getOwnPropertyNames(e))s=g(e[o],i),B(s,t,n)&&(r[o]=!0)}function L(r,e,t,n){const i=t.metadata,s=N(i[e],n),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(r,e,n):o;a!==void 0&&t.set(e,a)}const O={origin:"service"};function G(r,e,t=O){if(!e||typeof e!="object")return;const n=c(r),i=n.metadata,s={};for(const o of Object.getOwnPropertyNames(e))A(s,i,o,e,t);n.setDefaultOrigin(t.origin);for(const o of Object.getOwnPropertyNames(s)){const a=g(i[o],t).read,u=a?.source;let l;l=u&&typeof u=="string"?_(e,u):e[o],a?.reader&&(l=a.reader.call(r,l,e,t)),l!==void 0&&n.set(o,l)}if(!t||!t.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||L(r,o,n,t)}n.setDefaultOrigin("user")}function Z(r,e,t,n=O){const i={...n,messages:[]};t(i),i.messages?.forEach(s=>{s.type!=="warning"||r.loaded?n?.messages&&n.messages.push(s):r.loadWarnings.push(s)})}function M(r,e,t,n,i){const s={};return e.write?.writer?.call(r,n,s,t,i),s}function y(r,e,t,n,i,s){if(!n?.write)return!1;const o=h(r,t);if(!i&&n.write.overridePolicy){const a=n.write.overridePolicy.call(r,o,t,s??void 0);a!==void 0&&(i=a)}if(i||(i=n.write),!i||i.enabled===!1||i.layerContainerTypes&&s?.layerContainerType&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new P("web-document-write:property-required",`Missing value for required property '${t}' on '${r.declaredClass}'`,{propertyName:t,target:r});return a&&s?.messages?s.messages.push(a):a&&!s&&S.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(t)===0)&&x(r,t,s,n,o)||!i.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(t)<E(s.origin))}function x(r,e,t,n,i){const s=n.default;if(s===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(r,e,t??void 0);return J(o,i)}return!1}return s===i}function ee(r,e,t,n){const i=c(r),s=i.metadata,o=p(s[e],n);return!!o&&y(r,i,e,o,t,n)}function R(r,e,t){if(r&&typeof r.toJSON=="function"&&(!r.toJSON.isDefaultToJSON||!r.write))return f(e,r.toJSON(t));const n=c(r),i=n.metadata;for(const s in i){const o=p(i[s],t);if(!y(r,n,s,o,void 0,t))continue;const a=h(r,s),u=M(r,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,t);Object.keys(u).length>0&&(e=f(e,u),t?.resources?.pendingOperations?.length&&t.resources.pendingOperations.push(Promise.all(t.resources.pendingOperations).then(()=>f(e,u,()=>"replace-arrays"))),t?.writtenProperties&&t.writtenProperties.push({target:r,propName:s,oldOrigin:b(n.store.originOf(s)),newOrigin:t.origin}))}return e}const V=r=>{const e=r;let t=class extends e{constructor(...n){super(...n);const i=c(this),s=i.store,o=new D;i.store=o,q(i,s,o)}read(n,i){G(this,n,i)}write(n,i){return R(this,n??{},i)}toJSON(n){return this.write({},n)}static fromJSON(n,i){return F.call(this,n,i)}};return t=C([j("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function F(r,e){if(!r)return null;if(r.declaredClass)throw new Error("JSON object is already hydrated");const t=new this;return t.read(r,e),t}const te=V(z),H="--esri-calcite-mode-name";function I(){const r=getComputedStyle(document.body).getPropertyValue(H).replaceAll(/\W/g,"").toLowerCase();return r==="dark"||r==="light"?r:void 0}const w="calcite-mode-";function v(r){return I()??k(r??document.body)}function re(r){return v(r)==="dark"}function K(r){return`${w}${v(r)}`}function ne(r){const e=K(r);Q(r),r.classList.add(e)}function Q(r){Array.from(r.classList).forEach(e=>{e.startsWith(w)&&r.classList.remove(e)})}function ie(r){return(e,t)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:r,propertyName:t})}}export{V as a,ee as b,re as c,Z as d,ie as e,R as g,K as i,te as n,ne as s,q as t,G as u};
