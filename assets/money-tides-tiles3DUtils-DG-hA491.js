import{aQ as R,aX as g,aJ as y,Z as c,dX as $,e1 as m,f5 as A,aE as I,d_ as U,e4 as V,fv as z,fw as X,X as _,fx as x,fy as E}from"./index-D5zJlCC0.js";function S(n,M){if(!Array.isArray(n)||n.length<M)return!1;for(const u of n)if(typeof u!="number")return!1;return!0}const v=7645211,k={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new E({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new E({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new E({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new E({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new E({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new E({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function N(n){return!(!(n.extensions?.ESRI_crs?.wkid||n.extensions?.ESRI_crs?.latestWkid||n.extensions?.ESRI_crs?.wkt)||!n.root?.extensions?.ESRI_crs?.boundingVolume?.box&&!n.root?.extensions?.ESRI_crs?.boundingVolume?.sphere)}function W(n,M=!1){let u=new R({wkid:4326,vcsWkid:115700}),o=n.root?.boundingVolume,w=!1,f=n?.root?.transform;if(M&&(n.extensions?.ESRI_crs?.wkid||n.extensions?.ESRI_crs?.latestWkid||n.extensions?.ESRI_crs?.wkt)&&(n.root?.extensions?.ESRI_crs?.boundingVolume?.box||n.root?.extensions?.ESRI_crs?.boundingVolume?.sphere))u=new R(n.extensions?.ESRI_crs),o=n.root?.extensions?.ESRI_crs?.boundingVolume,f=n.root?.transform,w=!0;else if(!o)return new g(-180,-90,180,90,u);if(o.box){const t=o?.box;if(t[3]>v&&t[7]>v&&t[11]>v)return new g({...k,spatialReference:u})}const b=_();if(!w&&o.region&&S(o.region,6)){const t=o.region,a=y(t[0]),i=y(t[1]),r=t[4],s=y(t[2]),e=y(t[3]),h=t[5];return new g({xmin:a,ymin:i,zmin:r,xmax:s,ymax:e,zmax:h,spatialReference:u})}if(o.sphere&&S(o.sphere,4)){const t=o.sphere,a=c(t[0],t[1],t[2]),i=t[3]/Math.sqrt(3),r=_();$(r,a,c(i,i,i));const s=_();if(m(s,a,c(i,i,i)),f&&S(f,16)){const d=f;A(b,r,d),I(r,b),A(b,s,d),I(s,b)}w||(U(r,V,0,r,R.WGS84,0),U(s,V,0,s,R.WGS84,0));const e=_(),h=_();return z(e,r,s),X(h,r,s),new g({xmin:e[0],ymin:e[1],zmin:e[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:u})}if(o.box&&S(o.box,12)){const t=o.box,a=c(t[0],t[1],t[2]),i=c(t[3],t[4],t[5]),r=c(t[6],t[7],t[8]),s=c(t[9],t[10],t[11]),e=[];for(let l=0;l<8;++l)e.push(_());if(m(e[0],a,i),m(e[0],e[0],r),m(e[0],e[0],s),x(e[1],a,i),m(e[1],e[1],r),m(e[1],e[1],s),m(e[2],a,i),x(e[2],e[2],r),m(e[2],e[2],s),x(e[3],a,i),x(e[3],e[3],r),m(e[3],e[3],s),m(e[4],a,i),m(e[4],e[4],r),x(e[4],e[4],s),x(e[5],a,i),m(e[5],e[5],r),x(e[5],e[5],s),m(e[6],a,i),x(e[6],e[6],r),x(e[6],e[6],s),x(e[7],a,i),x(e[7],e[7],r),x(e[7],e[7],s),f&&S(f,16)){const l=f;for(let p=0;p<8;++p)A(e[p],e[p],l)}const h=c(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),d=c(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let l=0;l<8;++l)w||U(e[l],V,0,e[l],R.WGS84,0),z(d,d,e[l]),X(h,h,e[l]);return new g({xmin:d[0],ymin:d[1],zmin:d[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:u})}return new g(-180,-90,180,90,u)}export{W as E,N as R};
