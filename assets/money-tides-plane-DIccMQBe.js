import{e2 as q,av as W,ax as A,a5 as s,dF as _,at as f,bX as X,dH as y,dZ as G,bW as m,Z as I,dk as J}from"./money-tides-app-config-c6vRzV27.js";import{c as i,r as K,f as P}from"./money-tides-vectorStacks-DpPte8n_.js";function tt(n){const t=n[0]*n[0]+n[4]*n[4]+n[8]*n[8],r=n[1]*n[1]+n[5]*n[5]+n[9]*n[9],u=n[2]*n[2]+n[6]*n[6]+n[10]*n[10];return Math.sqrt(Math.max(t,r,u))}function nt(n,t){const r=Math.sqrt(t[0]*t[0]+t[4]*t[4]+t[8]*t[8]),u=Math.sqrt(t[1]*t[1]+t[5]*t[5]+t[9]*t[9]),e=Math.sqrt(t[2]*t[2]+t[6]*t[6]+t[10]*t[10]);return q(n,r,u,e),n}function L(n,t,r){Math.abs(n[0])>Math.abs(n[1])?q(t,0,1,0):q(t,1,0,0),W(r,n,t),W(t,r,n),A(r,r),A(t,t)}function rt(n,t,r,u=s()){const e=_(n),a=_(t),o=f(n,t)/(e*a);if(o<.9999999999999999){const c=Math.acos(o),h=((1-r)*e+r*a)/Math.sin(c),$=h/e*Math.sin((1-r)*c),M=h/a*Math.sin(r*c);return y(w,n,$),y(z,t,M),X(u,w,z)}return G(u,n,t,r)}const w=s(),z=s();function C(n=d){return[n[0],n[1],n[2],n[3]]}function ut(n=d[0],t=d[1],r=d[2],u=d[3]){return D(n,t,r,u,K.get())}function N(n,t){return D(t[0],t[1],t[2],t[3],n)}function et(n){return n}function D(n,t,r,u,e=C()){return e[0]=n,e[1]=t,e[2]=r,e[3]=u,e}function O(n,t,r){const u=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],e=Math.abs(u-1)>1e-5&&u>1e-12?1/Math.sqrt(u):1;return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r[3]=-(r[0]*n[0]+r[1]*n[1]+r[2]*n[2]),r}function Q(n,t,r,u=C()){const e=r[0]-t[0],a=r[1]-t[1],o=r[2]-t[2],c=n[0]-t[0],h=n[1]-t[1],$=n[2]-t[2],M=a*$-o*h,j=o*c-e*$,k=e*h-a*c,B=M*M+j*j+k*k,F=Math.abs(B-1)>1e-5&&B>1e-12?1/Math.sqrt(B):1;return u[0]=M*F,u[1]=j*F,u[2]=k*F,u[3]=-(u[0]*n[0]+u[1]*n[1]+u[2]*n[2]),u}function E(n,t,r,u=0,e=Math.floor(r*(1/3)),a=Math.floor(r*(2/3))){if(r<3)return!1;t(b,u);let o=e,c=!1;for(;o<r-1&&!c;)t(l,o),o++,c=!I(b,l);if(!c)return!1;for(o=Math.max(o,a),c=!1;o<r&&!c;)t(g,o),o++,m(p,b,l),A(p,p),m(v,l,g),A(v,v),c=!I(b,g)&&!I(l,g)&&Math.abs(f(p,v))<R;return c?(Q(b,l,g,n),!0):(u!==0||e!==1||a!==2)&&E(n,t,r,0,1,2)}function ct(n,t,r=!0){const u=t.length/3;return E(n,(e,a)=>q(e,t[3*a+0],t[3*a+1],t[3*a+2]),r?u-1:u)}const R=.99619469809,b=s(),l=s(),g=s(),p=s(),v=s();function ot(n,t,r){return t!==n&&N(n,t),n[3]=-f(n,r),n}function at(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function it(n,t,r,u){return W(g,t,n),O(r,g,u)}function st(n,t,r,u){return H(Z(n,t,m(i.get(),r,t),T,u))}function ft(n,t,r){return t!=null&&H(Z(n,t.origin,t.direction,U,r))}function ht(n,t,r){return H(Z(n,t.origin,t.vector,0,r))}function Mt(n,t,r){return H(Z(n,t.origin,t.vector,1,r))}function gt(n,t){return x(n,t)>=0}function $t(n,t){const r=f(n,t.ray.direction),u=-x(n,t.ray.origin);if(u<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return u>0;if((u<0||r<0)&&!(u<0&&r<0))return!0;const e=u/r;return r>0?e<t.c1&&(t.c1=e):e>t.c0&&(t.c0=e),t.c0<=t.c1}function lt(n,t){const r=f(n,t.ray.direction),u=-x(n,t.ray.origin);if(r>-1e-6&&r<1e-6)return u>0;const e=u/r;return r>0?e<t.c1&&(t.c1=e):e>t.c0&&(t.c0=e),t.c0<=t.c1}function mt(n,t,r){const u=y(i.get(),n,-n[3]),e=S(n,m(i.get(),t,u),i.get());return X(r,e,u),r}function bt(n,t,r,u){const e=n,a=i.get(),o=i.get();L(e,a,o);const c=m(i.get(),r,t),h=P(a,c),$=P(o,c),M=P(e,c);return q(u,h,$,M)}function S(n,t,r){const u=y(i.get(),n,f(n,t));return m(r,t,u),r}function dt(n,t){return Math.abs(x(n,t))}function x(n,t){return f(n,t)+n[3]}function H(n){return n===0||n===1}function Z(n,t,r,u,e){const a=f(n,r),o=x(n,t);if(a===0)return o>=0?2:3;let c=-o/a;return 1&u&&(c=J(c,0,1)),!(4&u)&&c<0||!(8&u)&&c>1?o>=0?2:3:(X(e,t,y(e,r,c)),o>=0?0:1)}const d=[0,0,1,0],T=12,U=8;export{ot as G,at as H,it as I,st as J,ft as K,ht as L,Mt as N,gt as O,$t as P,lt as Q,mt as R,E as S,bt as T,O as U,dt as W,x as X,Z,L as a,rt as b,ut as d,nt as g,C as j,et as k,tt as m,D as q,Q as w,N as y,ct as z};
