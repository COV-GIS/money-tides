import{u as a}from"./money-tides-workerHelper-DMrO4V1C.js";import{c as l,f as c,d as u,t as d,g as p,a as f}from"./money-tides-edgeProcessing-DM6xd9R8.js";import"./money-tides-InterleavedLayout-CpxgEpNg.js";import"./money-tides-BufferView-Chh41btL.js";import"./index-DE0-EYFs.js";import"./money-tides-types-BKo2foNY.js";import"./money-tides-VertexElementDescriptor-BLyltQyJ.js";import"./money-tides-VertexAttributeLocations-BfZbt_DV.js";import"./money-tides-deduplicate-BtVYBA6a.js";import"./money-tides-Indices-CVze8NdD.js";import"./money-tides-Normals-D5wd5wsX.js";class B{async extract(e){const t=o(e),s=l(t),n=[t.data.buffer];return{result:g(s,n),transferList:n}}async extractComponentsEdgeLocations(e){const t=o(e),s=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),n=u(s,D),r=[];return{result:a(n.regular.instancesData,r),transferList:r}}async extractEdgeLocations(e){const t=o(e),s=c(t.data,t.skipDeduplicate,t.indices,t.indicesLength),n=u(s,L),r=[];return{result:a(n.regular.instancesData,r),transferList:r}}}function o(i){return{data:d.createView(i.dataBuffer),indices:i.indicesType==="Uint32Array"?new Uint32Array(i.indices):i.indicesType==="Uint16Array"?new Uint16Array(i.indices):i.indices,indicesLength:i.indicesLength,writerSettings:i.writerSettings,skipDeduplicate:i.skipDeduplicate}}function g(i,e){return e.push(i.regular.lodInfo.lengths.buffer),e.push(i.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:a(i.regular.instancesData,e),lodInfo:{lengths:i.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:a(i.silhouette.instancesData,e),lodInfo:{lengths:i.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:i.averageEdgeLength}}class h{allocate(e){return f.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,s){e.position0.setVec(t,s.position0),e.position1.setVec(t,s.position1)}}class m{allocate(e){return p.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,s){e.position0.setVec(t,s.position0),e.position1.setVec(t,s.position1),e.componentIndex.set(t,s.componentIndex)}}const L=new h,D=new m;export{B as default};
