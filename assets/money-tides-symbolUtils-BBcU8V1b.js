const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/money-tides-app-config-bLoUqPNA.js","assets/money-tides-jsxFactory-B9QQWpgY.js","assets/money-tides-config-BVnrMf5g.js","assets/index-Bqzh3_vi.js","assets/index-CEPnQygF.css","assets/money-tides-index-Bz5uSspo.js","assets/money-tides-runtime-BTGwkf2p.js","assets/runtime-OCMtRbrJ.css","assets/money-tides-ReactiveMap-C247ptA2.js","assets/money-tides-messageBundle-BWfZ7ME-.js","assets/money-tides-index-BSQMl5Dg.js"])))=>i.map(i=>d[i]);
import{_ as F}from"./index-Bqzh3_vi.js";import{a as f}from"./money-tides-config-BVnrMf5g.js";import{b8 as L}from"./money-tides-jsxFactory-B9QQWpgY.js";import{cw as R,fx as k}from"./money-tides-app-config-bLoUqPNA.js";import{L as c,M as z,N as O}from"./money-tides-utils-DiFm0WVw.js";const m=f("android");f("chrome")||m&&m>=4;L();function g(e){return e&&e.opacity!==void 0?e.opacity*("parent"in e?g(e.parent):1):1}async function D(e,a){if(!e)return;const u=e.sourceLayer,y=(a!=null&&a.useSourceLayer?u:e.layer)??u,l=a?.ignoreOpacity?1:g(y);if(e.symbol!=null&&(a==null||a.ignoreGraphicSymbol!==!0)){const r=e.symbol.type==="web-style"?await e.symbol.fetchSymbol({...a,acceptedFormats:a?.webStyleAcceptedFormats,cache:a?.webStyleCache}):e.symbol.clone();return c(r,null,{add:l}),r}const i=a?.renderer??C(y);let o=i&&"getSymbolAsync"in i?await i.getSymbolAsync(e,a):null;if(!o)return;if(o=o.type==="web-style"?await o.fetchSymbol({...a,acceptedFormats:a?.webStyleAcceptedFormats,cache:a?.webStyleCache}):o.clone(),!(i&&"visualVariables"in i&&i.visualVariables?.length&&x(o)))return c(o,null,{add:l}),o;if("arcadeRequiredForVisualVariables"in i&&i.arcadeRequiredForVisualVariables&&a?.arcade==null){const r={...a};r.arcade=await R(),a=r}const{getColor:h,getOpacity:w,getAllSizes:S,getRotationAngle:V}=await F(()=>import("./money-tides-app-config-bLoUqPNA.js").then(r=>r.ru),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),t=[],n=[],s=[],b=[];for(const r of i.visualVariables)switch(r.type){case"color":t.push(r);break;case"opacity":n.push(r);break;case"rotation":b.push(r);break;case"size":r.target||s.push(r)}const p=!!t.length&&t[t.length-1],v=p?h(p,e,a):null,_=!!a?.ignoreOpacity,d=!!n.length&&n[n.length-1],A=d?w(d,e,a):null;if(c(o,v,_?void 0:{override:A,add:l}),s.length&&a?.ignoreSizeVariables!==!0){const r=S(s,e,a);await z(o,r)}if(a?.ignoreRotationVariables!==!0)for(const r of b)O(o,V(r,e,a),r.axis);return o}function x(e){return!k(e)||e.symbolLayers.at(0)?.type!=="water"}function C(e){if(e)return"renderer"in e?e.renderer:void 0}export{D as F};
