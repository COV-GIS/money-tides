import{B as u,dt as _,a,j4 as f,n as l,m as D,b as h}from"./index-DivaxSpa.js";var g=Object.defineProperty,b=Object.getOwnPropertyDescriptor,v=(e,n,r,i)=>{for(var t=i>1?void 0:i?b(n,r):n,o=e.length-1,c;o>=0;o--)(c=e[o])&&(t=(i?c(n,r,t):c(t))||t);return i&&t&&g(n,r,t),t};const m="declination-popover",y={content:`${m}_content`};let s=class extends u{constructor(e){super(e),this.declination="Set your compass to ???."}get container(){return this._container}set container(e){this._container=e}postInitialize(){this.updateDeclination(),this.addHandles(_(()=>a.date,this.updateDeclination.bind(this)))}async updateDeclination(){try{this.declination=`Set your compass to ${(await f(a.date,44.927,-124.013)).bearing}.`}catch(e){console.log("declination update",e),this.declination="An error occurred computing declination."}}render(){return l("calcite-popover",{"auto-close":"",class:m,closable:!0,heading:"Declination","overlay-positioning":"fixed",placement:"leading",scale:a.scale,"reference-element":this.referenceElementId},l("div",{class:y.content},this.declination))}};v([D()],s.prototype,"declination",2);s=v([h("DeclinationPopover")],s);var S=Object.getOwnPropertyDescriptor,P=(e,n,r,i)=>{for(var t=i>1?void 0:i?S(n,r):n,o=e.length-1,c;o>=0;o--)(c=e[o])&&(t=c(t)||t);return t};const p="money-tides-declination-MDKHhMeEQm";let d=class extends u{constructor(e){super(e),this.popover=new s({container:document.createElement("calcite-popover"),referenceElementId:p})}get container(){return this._container}set container(e){this._container=e}postInitialize(){this.onClick&&this.container.addEventListener("click",this.onClick);const e=document.querySelector("calcite-shell");e&&e.appendChild(this.popover.container)}render(){return l("calcite-action",{icon:"explore",id:p,scale:a.scale,text:"Declination"})}};d=P([h("AboutAction")],d);export{d as default};
