import{ed as c,kr as d,ks as y,kt as m,ku as p,kv as _,x as h,v as b,kw as w,s as A,aY as g,jm as i,b3 as B}from"./index-jWq_crmP.js";import{f as $,A as I}from"./money-tides-Indices-8ubQGCcP.js";function R(e,t){l(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function l(e,t,s=2,n=s){const a=t.length/2;let r=0,u=0;if(!c(t)||d(t)){for(let o=0;o<a;++o)e[r]=t[u],e[r+1]=t[u+1],r+=s,u+=n;return}const f=y(t);if(m(t))for(let o=0;o<a;++o)e[r]=Math.max(t[u]/f,-1),e[r+1]=Math.max(t[u+1]/f,-1),r+=s,u+=n;else for(let o=0;o<a;++o)e[r]=t[u]/f,e[r+1]=t[u+1]/f,r+=s,u+=n}function S(e,t,s,n){const a=e.typedBuffer,r=e.typedBufferStride,u=n?.count??e.count;let f=(n?.dstIndex??0)*r;for(let o=0;o<u;++o)a[f]=t,a[f+1]=s,f+=r}Object.freeze(Object.defineProperty({__proto__:null,fill:S,normalizeIntegerBuffer:l,normalizeIntegerBufferView:R},Symbol.toStringTag,{value:"Module"}));class U{constructor(t){this._streamDataRequester=t}async loadJSON(t,s){return this._load(0,t,s)}async loadBinary(t,s){return _(t)?(h(s),p(t)):this._load(1,t,s)}async loadImage(t,s){return this._load(2,t,s)}async _load(t,s,n){if(this._streamDataRequester==null)return(await b(s,{responseType:k[t]})).data;const a=await w(this._streamDataRequester.request(s,t,n));if(a.ok===!0)return a.value;throw g(a.error),new A("glt-loader-request-error",`Request for resource failed: ${a.error}`)}}const k={2:"image",1:"array-buffer",0:"json",3:void 0};function j(e,t){switch(t){case i.TRIANGLES:return q(e);case i.TRIANGLE_STRIP:return T(e);case i.TRIANGLE_FAN:return v(e)}}function q(e){return typeof e=="number"?I(e):B(e)?new Uint16Array(e):e}function T(e){const t=typeof e=="number"?e:e.length;if(t<3)return[];const s=t-2,n=$(3*s);if(typeof e=="number"){let a=0;for(let r=0;r<s;r+=1)r%2==0?(n[a++]=r,n[a++]=r+1,n[a++]=r+2):(n[a++]=r+1,n[a++]=r,n[a++]=r+2)}else{let a=0;for(let r=0;r<s;r+=1)r%2==0?(n[a++]=e[r],n[a++]=e[r+1],n[a++]=e[r+2]):(n[a++]=e[r+1],n[a++]=e[r],n[a++]=e[r+2])}return n}function v(e){const t=typeof e=="number"?e:e.length;if(t<3)return new Uint16Array(0);const s=t-2,n=s<=65536?new Uint16Array(3*s):new Uint32Array(3*s);if(typeof e=="number"){let f=0;for(let o=0;o<s;++o)n[f++]=0,n[f++]=o+1,n[f++]=o+2;return n}const a=e[0];let r=e[1],u=0;for(let f=0;f<s;++f){const o=e[f+2];n[u++]=a,n[u++]=r,n[u++]=o,r=o}return n}export{R as a,S as b,U as l,l as n,j as o};
