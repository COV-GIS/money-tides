import{aD as D,aE as e,aj as f,m as y,c as v}from"./money-tides-jsxFactory-_7dcBPp3.js";import"./money-tides-config-BVnrMf5g.js";import{c as _}from"./money-tides-MoneyTides-CivLkowc.js";import{gu as $,e7 as o,gv as x}from"./money-tides-app-config-B3LoTnI_.js";import"./index-CLUlm2VH.js";import"./money-tides-index-Bz5uSspo.js";import"./money-tides-runtime-BTGwkf2p.js";import"./money-tides-ReactiveMap-DCxoVmf-.js";import"./money-tides-messageBundle-Cp0r_61-.js";import"./money-tides-index-BSQMl5Dg.js";var A=Object.defineProperty,L=Object.getOwnPropertyDescriptor,p=(t,i,n,l)=>{for(var a=l>1?void 0:l?L(i,n):i,c=t.length-1,r;c>=0;c--)(r=t[c])&&(a=(l?r(i,n,a):r(a))||a);return l&&a&&A(i,n,a),a};const g="tides-dialog",P={table:`${g}_table`};let S=0,m=class extends D{get container(){return this._container}set container(t){this._container=t}close(){this.container.open=!1}open(t){this.station=t,this.renderNow(),this.container.open=!0}openNOAA(){const{date:t,id:i}=this.station,n=$(t);window.open(_("https://tidesandcurrents.noaa.gov/noaatidepredictions.html",{action:"dailychart",bdate:n,clock:12,datum:"MLLW",edate:n,id:i,interval:"hilo",timezone:"LST/LDT",units:"standard"}),"_blank")}openWeather(){window.open(`https://www.wunderground.com/weather/${this.station.weather}`,"_blank")}render(){const{station:t}=this;if(!t)return e("calcite-dialog",null);const{date:i,name:n,tides:l}=t;return e("calcite-dialog",{class:g,heading:`${n} - ${i.toLocaleString(f.DATE_FULL)}`,placement:`bottom-${o.layout==="end"?"start":"end"}`,scale:o.scale},e("calcite-action",{icon:"graph-time-series",scale:o.scale,slot:"header-menu-actions",text:"Tides Plot","text-enabled":"",onclick:()=>{this.emit("plot-tides",this.station)}}),e("calcite-action",{icon:"partly-cloudy",scale:o.scale,slot:"header-menu-actions",text:"Local Weather","text-enabled":"",onclick:this.openWeather.bind(this)}),e("calcite-action",{icon:"home",scale:o.scale,slot:"header-menu-actions",text:"NOAA Station","text-enabled":"",onclick:this.openNOAA.bind(this)}),e("calcite-table",{class:P.table,scale:o.scale,striped:!0},e("calcite-table-row",{slot:"table-header"},e("calcite-table-header",{alignment:"center",heading:"Time"}),e("calcite-table-header",{alignment:"center",heading:"Event"}),e("calcite-table-header",{alignment:"center",heading:"Height"}),e("calcite-table-header",{alignment:"center",heading:"Sun Position"}),e("calcite-table-header",{alignment:"center",heading:"Moon Position"})),l.filter(a=>a.isDate).map(a=>{const{heightLabel:c,isPrediction:r,money:h,moonPosition:s,sunPosition:d,time:b,type:u}=a,w=[h!=="not-money"?`--calcite-table-cell-text-color: ${x(h)};`:"",r?"font-weight: var(--calcite-font-weight-medium);":""].join(" ");return e("calcite-table-row",{class:o.colorType==="light"&&h==="kinda-money"?"calcite-mode-dark":"",key:S++,style:w},e("calcite-table-cell",{alignment:"center"},b),e("calcite-table-cell",{alignment:"center"},u),e("calcite-table-cell",{alignment:"center"},c),e("calcite-table-cell",{alignment:"center"},d.aboveHorizon?`${d.azimuthBearing} ${d.altitudeDegrees==="0°"?"":`@ ${d.altitudeDegrees}`}`:"-"),e("calcite-table-cell",{alignment:"center"},s.aboveHorizon?`${s.azimuthBearing} ${s.altitudeDegrees==="0°"?"":`@ ${s.altitudeDegrees}`}`:"-"))})))}};p([y()],m.prototype,"station",2);m=p([v("TidesDialog")],m);export{m as default};
