const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/money-tides-request-EIrIBBLa.js","assets/index-DssDhHvH.js","assets/index-BU23byjB.css","assets/money-tides-runtime-BAFbAsol.js","assets/runtime-OCMtRbrJ.css","assets/money-tides-IdentityManager-6Bf89IHV.js","assets/money-tides-messageBundle-DPd1O8PX.js","assets/money-tides-index-BSQMl5Dg.js","assets/money-tides-substitute-BR679R8W.js","assets/money-tides-QueueProcessor-CFHnFL1m.js","assets/money-tides-ReactiveMap-Dlq5faT3.js"])))=>i.map(i=>d[i]);
import{_ as As}from"./index-DssDhHvH.js";import{y as Ac}from"./money-tides-runtime-BAFbAsol.js";const xc={remove:()=>{}};function O(e){return e?{remove(){e&&(e(),e=void 0)}}:xc}function ea(e){e.forEach(t=>t?.remove())}function aw(e){ea(e),e.length=0}function Yr(e){return O(()=>ea(e))}function lw(e){return O(()=>e()?.remove())}function Ec(e){return O(()=>e?.abort())}function uw(e){return O(e!=null?()=>e.destroy():void 0)}function Nc(e){return typeof e=="object"&&!!e&&"remove"in e&&typeof e.remove=="function"}function cw(e){Nc(e)&&e.remove()}function fw(e){return{[Symbol.dispose](){e.remove()}}}function Jr(e){return Ic(e)||ta(e)}function Ic(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function ta(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function xs(e,t,r){if(!Jr(e))throw new TypeError("target is not a Evented or EventTarget object");return ta(e)?Cc(e,t,r):e.on(t,r)}function Cc(e,t,r,n){if(Array.isArray(t)){const s=t.slice();for(const i of s)e.addEventListener(i,r,n);return O(()=>{for(const i of s)e.removeEventListener(i,r,n)})}return e.addEventListener(t,r,n),O(()=>e.removeEventListener(t,r,n))}function ra(e,t,r){if(!Jr(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const n=xs(e,t,s=>{n.remove(),r.call(e,s)});return n}function dw(e,t){if(e==null)throw new Error(t??"value is None")}function Un(e){return e?.destroy(),null}function hw(e){return e?.dispose(),null}function Kr(e){return e?.remove(),null}function mw(e){return e?.abort(),null}function pw(e){return e?.release(),null}function gw(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function yw(e,t){let r;return e.some((n,s)=>(r=t(n,s),r!=null)),r??void 0}function Mc(e){return{setTimeout:(t,r)=>{const n=e.setTimeout(t,r);return O(()=>e.clearTimeout(n))}}}const Dc=Mc(globalThis);let xe;const L=globalThis;function m(e){return typeof xe[e]=="function"?xe[e]=xe[e](L):xe[e]}xe=L.dojoConfig?.has||L.esriConfig?.has?{...L.dojoConfig?.has,...L.esriConfig?.has}:{},m.add=(e,t,r,n)=>{(n||xe[e]===void 0)&&(xe[e]=t),r&&m(e)},m.cache=xe,m.add("big-integer-warning-enabled",!0),m.add("esri-deprecation-warnings",!0),m.add("esri-tests-disable-screenshots",!1),m.add("esri-tests-use-full-window",!1),m.add("esri-tests-post-to-influx",!0),m.add("esri-cim-animations-enable-status","enabled"),m.add("esri-cim-animations-spotlight",!1),m.add("esri-cim-animations-freeze-time",!1),(()=>{m.add("host-webworker",L.WorkerGlobalScope!==void 0&&self instanceof L.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(m.add("host-browser",e),m.add("host-node",!(typeof L.process!="object"||!L.process.versions?.node||!L.process.versions.v8)),m.add("dom",e),m("host-browser")){const t=navigator,r=t.userAgent,n=t.appVersion,s=parseFloat(n);if(m.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),m.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),m.add("khtml",n.includes("Konqueror")?s:void 0),m.add("edge",parseFloat(r.split("Edge/")[1])||void 0),m.add("opr",parseFloat(r.split("OPR/")[1])||void 0),m.add("webkit",!m("wp")&&!m("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),m.add("chrome",!m("edge")&&!m("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),m.add("android",!m("wp")&&parseFloat(r.split("Android ")[1])||void 0),m.add("safari",!n.includes("Safari")||m("wp")||m("chrome")||m("android")||m("edge")||m("opr")?void 0:parseFloat(n.split("Version/")[1])),m.add("mac",n.includes("Macintosh")),!m("wp")&&/(iPhone|iPod|iPad)/.test(r)){const i=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));m.add(i,a),m.add("ios",a)}m("webkit")||(!r.includes("Gecko")||m("wp")||m("khtml")||m("edge")||m.add("mozilla",s),m("mozilla")&&m.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(L.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&m.add("esri-mobile",t),r&&m.add("esri-iPhone",r),m.add("esri-geolocation",!!navigator.geolocation)}m.add("esri-wasm","WebAssembly"in L),m.add("esri-performance-mode-frames-between-render",20),m.add("esri-force-performance-mode",!1),m.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in L,t=L.crossOriginIsolated===!1;return e&&!t}),m.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),m.add("esri-atomics","Atomics"in L),m.add("esri-workers","Worker"in L),m.add("web-feat:cache","caches"in L),m.add("esri-workers-arraybuffer-transfer",!m("safari")||Number(m("safari"))>=12),m.add("workers-pool-size",8),m.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),m.add("featurelayer-simplify-payload-size-factors",[1,1,4]),m.add("featurelayer-fast-triangulation-enabled",!0),m.add("featurelayer-animation-enabled",!0),m.add("featurelayer-snapshot-enabled",!0),m.add("featurelayer-snapshot-initial-tolerance",0),m.add("featurelayer-snapshot-point-min-threshold",8e4),m.add("featurelayer-snapshot-point-max-threshold",4e5),m.add("featurelayer-snapshot-multipoint-min-threshold",2e4),m.add("featurelayer-snapshot-multipoint-max-threshold",1e5),m.add("featurelayer-snapshot-polygon-min-threshold",2e3),m.add("featurelayer-snapshot-polygon-max-threshold",2e3),m.add("featurelayer-snapshot-polyline-min-threshold",2e3),m.add("featurelayer-snapshot-polyline-max-threshold",2e3),m.add("featurelayer-snapshot-max-vertex-count",25e4),m.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),m.add("featurelayer-snapshot-concurrency",4),m.add("featurelayer-snapshot-coverage",.1),m.add("featurelayer-query-max-depth",4),m.add("featurelayer-query-pausing-enabled",!1),m.add("featurelayer-query-tile-concurrency",4),m.add("featurelayer-query-tile-max-features",6e5),m.add("featurelayer-advanced-symbols",!1),m.add("featurelayer-pbf",!0),m.add("featurelayer-pbf-statistics",!1),m.add("feature-layers-workers",!0),m.add("feature-polyline-generalization-factor",1),m.add("parquetlayer-full-query-feature-count",2e4),m.add("parquetlayer-hittest-max-feature-count",1),m.add("parquetlayer-persistence-enabled",!1),m.add("mapview-transitions-duration",200),m.add("mapview-essential-goto-duration",200),m.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),m.add("mapserver-pbf-version-support",10.81),m.add("mapservice-popup-identify-max-tolerance",20),m.add("request-queue-concurrency-hosted",16),m.add("request-queue-concurrency-non-hosted",4),m.add("curve-densification-coarse-segments",128),m.add("curve-densification-max-segments",2e3),m.add("curve-densification-min-segments",3),m.add("curve-densification-pixel-deviation",.5),m.add("view-readyState-waiting-delay",1e3),m.add("gradient-depth-bias",.01),m.add("gradient-depth-epsilon",1e-8),m.add("enable-feature:esri-compress-textures",!0),m("host-webworker")||m("host-browser")&&(m.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),m.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function ww(e){}function vw(e){return()=>e}function $w(e){return e}var H;let Lc=(H=class{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*H._m}getInt(){return this._seed=(H._a*this._seed+H._c)%H._m,this._seed}getFloat(){return this.getInt()/(H._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/H._m*n}},H._m=2147483647,H._a=48271,H._c=0,H);const Fc=1.5,bw=1/Fc,kw=.5;function na(e){return e}function Pc(e,t=na){if(!e||e.length===0)return;let r=e[0],n=t(r);for(let s=1;s<e.length;++s){const i=e[s],o=Number(t(i));o>n&&(n=o,r=i)}return r}function Sw(e,t=na){return Pc(e,r=>-t(r))}function Tw(e,t){return t?e.filter((r,n,s)=>s.findIndex(t.bind(null,r))===n):Array.from(new Set(e))}function Rc(e,t,r,n,s,i,o){if(e==null&&n==null)return!0;t=Math.max(0,t),s=Math.max(0,s),r=Math.max(0,r<0?(e?.length??0)+r:r),i=Math.max(0,i<0?(n?.length??0)+i:i);const a=r-t;if(e==null||n==null||a!==i-s)return!1;if(o){for(let l=0;l<a;l++)if(!o(e[t+l],n[s+l]))return!1}else for(let l=0;l<a;l++)if(e[t+l]!==n[s+l])return!1;return!0}function jc(e,t,r){return Rc(e,0,e?.length??0,t,0,t?.length??0,r)}function Ow(){return(e,t)=>{if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}}function _w(e,t,r){let n,s;return r?(n=t.filter(i=>!e.some(o=>r(o,i))),s=e.filter(i=>!t.some(o=>r(o,i)))):(n=t.filter(i=>!e.includes(i)),s=e.filter(i=>!t.includes(i))),{added:n,removed:s}}function Aw(e){return e&&typeof e.length=="number"}function xw(e,t){const r=e.length;if(r===0)return[];const n=[];for(let s=0;s<r;s+=t)n.push(e.slice(s,s+t));return n}let sa=class{constructor(){this.last=0}};const ia=new sa;function qn(e,t,r,n){n=n||ia;const s=Math.max(0,n.last-10);for(let o=s;o<r;++o)if(e[o]===t)return n.last=o,o;const i=Math.min(s,r);for(let o=0;o<i;++o)if(e[o]===t)return n.last=o,o;return-1}function Nw(e,t,r,n){const s=e.length,i=qn(e,t,s,n);if(i!==-1)return e[i]=e[s-1],e.pop(),t}const se=new Set;function Uc(e,t,r=e.length,n=t.length,s,i){if(n===0||r===0)return r;se.clear();for(let a=0;a<n;++a)se.add(t[a]);s=s||ia;const o=Math.max(0,s.last-10);for(let a=o;a<r;++a)if(se.has(e[a])&&(i?.push(e[a]),se.delete(e[a]),e[a]=e[r-1],--r,--a,se.size===0||r===0))return se.clear(),r;for(let a=0;a<o;++a)if(se.has(e[a])&&(i?.push(e[a]),se.delete(e[a]),e[a]=e[r-1],--r,--a,se.size===0||r===0))return se.clear(),r;return se.clear(),r}function Iw(e,t){let r=0;for(let n=0;n<e.length;++n){const s=e[n];t(s,n)&&(e[r]=s,r++)}return e.length=r,e}function Cw(e,t,r){const n=e.length;if(t>=n)return e.slice();const s=oa(r),i=new Set,o=[];for(;o.length<t;){const a=Math.floor(s()*n);i.has(a)||(i.add(a),o.push(e[a]))}return o}function oa(e){return e?(yi.seed=e,()=>yi.getFloat()):Math.random}const yi=new Lc;function Mw(e,t){if(!e)return e;const r=oa(t);for(let n=e.length-1;n>0;n--){const s=Math.floor(r()*(n+1)),i=e[n];e[n]=e[s],e[s]=i}return e}function qc(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function Wc(e,t){return e!=null}const Dw=[];function Lw(e){return e instanceof ArrayBuffer}function Es(e){return e?.constructor?.name==="Int8Array"}function aa(e){return e?.constructor?.name==="Uint8Array"}function la(e){return e?.constructor?.name==="Uint8ClampedArray"}function Ns(e){return e?.constructor?.name==="Int16Array"}function ua(e){return e?.constructor?.name==="Uint16Array"}function Is(e){return e?.constructor?.name==="Int32Array"}function ca(e){return e?.constructor?.name==="Uint32Array"}function Vc(e){return e?.constructor?.name==="Float16Array"}function Xr(e){return e?.constructor?.name==="Float32Array"}function Qr(e){return e?.constructor?.name==="Float64Array"}function Fw(e){return"buffer"in e}const Pw=1024;function Rw(e){return Qr(e)||Xr(e)||Is(e)||Ns(e)||Es(e)}function jw(e){return Qr(e)||Xr(e)}function Uw(e){return Qr(e)?179769e303:Vc(e)?65504:Xr(e)?3402823e32:ca(e)?4294967295:ua(e)?65535:aa(e)||la(e)?255:Is(e)?2147483647:Ns(e)?32767:Es(e)?127:256}const qw=-32768,Ww=-2147483648;function Vw(e){return e}function zw(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function fe(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=ma(e);if(t!=null)return t;if(fa(e))return e.clone();if(da(e))return e.map(fe);if(ha(e))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const n of Object.getOwnPropertyNames(e))r[n]=fe(e[n]);return r}function wi(e,t){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const r=ma(e);if(r!=null)return r;if(da(e)){let s=!0;const i=e.map(o=>{const a=wi(o,t);return o!=null&&a==null&&(s=!1),a});return s?i:null}if(fa(e))return e.clone(t);if(e instanceof File||e instanceof Blob)return e;if(ha(e))return null;const n=new(Object.getPrototypeOf(e)).constructor;for(const s of Object.getOwnPropertyNames(e)){const i=e[s],o=wi(i);if(i!=null&&o==null)return null;n[s]=o}return n}function fa(e){return typeof e.clone=="function"}function da(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function ha(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function vi(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function ma(e){if(Es(e)||aa(e)||la(e)||Ns(e)||ua(e)||Is(e)||ca(e)||Xr(e)||Qr(e))return e.slice();if(e instanceof Date)return new Date(e);if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,n]of e)t.set(r,fe(n));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(fe(r));return t}return null}function Cs(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function zc(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&jc(e,t):e instanceof Set?t instanceof Set&&Zc(e,t):e instanceof Map?t instanceof Map&&Bc(e,t):!!vi(e)&&vi(t)&&Hc(e,t))}function Hc(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}function Zc(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Bc(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const s=t.get(r);if(s!==n||s===void 0&&!t.has(r))return!1}return!0}function Gc(e,t,r=!1){return ya(e,t,r)}function pa(e,t){if(t!=null)return t[e]||ga(e.split("."),!1,t)}function zt(e,t,r){const n=e.split("."),s=n.pop(),i=ga(n,!0,r);i&&s&&(i[s]=t)}function $i(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let n=0;n<e.length;n++)if($i(e[n],r[n]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if($i(e[r],t[r]))return!0;return!1}return e!==t}function ga(e,t,r){let n=r;for(const s of e){if(n==null)return;if(!(s in n)){if(!t)return;n[s]={}}n=n[s]}return n}function ya(e,t,r){return t?Object.keys(t).reduce((n,s)=>{if(s==="__proto__")return n;let i=n[s],o=t[s];return i===o?n:i===void 0?(n[s]=fe(o),n):(Array.isArray(o)||Array.isArray(n)?(i=i?Array.isArray(i)?n[s]=i.slice():n[s]=[i]:n[s]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{i.includes(a)||i.push(a)}):n[s]=o.slice())):o&&typeof o=="object"?n[s]=ya(i,o,r):n.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(n[s]=o),n)},e||{}):e}function Hw(e,t){for(const r of Object.entries(e))if(t===r[1])return r[0]}function Zw(e,t){return Object.values(e).includes(t)}const _={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Gc(_,globalThis.esriConfig,!0),delete _.has),!_.assetsPath){{const e="4.34";_.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}_.defaultAssetsPath=_.assetsPath}const Yc=/\{([^}]+)\}/g;function bi(e){return e??""}function Bw(e,t){return t?e.replaceAll(Yc,typeof t=="object"?(r,n)=>bi(pa(n,t)):(r,n)=>bi(t(n))):e}function Gw(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t?.includes(r)?r:`\\${r}`)}function Jc(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let ki;function Yw(e){return ki??=new DOMParser,ki.parseFromString(e||"","text/html").body.innerText||""}function Jw(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function Kw(e,...t){let r=e[0];for(let n=0;n<t.length;++n)r+=t[n]+e[n+1];return r}const Si={info:0,warn:1,error:2,none:3};var N;let re=(N=class{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,N._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=N.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,N._loggers.get(t)||new N({module:t})}_log(t,r,...n){if(this._matchLevel(t)){if(r!=="always"&&!N._throttlingDisabled){const s=Xc(n),i=this._loggedMessages[t].get(s);if(r==="once"&&i!=null||r==="oncePerTick"&&i&&i>=N._tickCounter)return;this._loggedMessages[t].set(s,N._tickCounter),N._scheduleTickCounterIncrement()}for(const s of _.log.interceptors)if(s(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,r){let n=this;for(;n!=null;){const s=n[t];if(s!=null)return s;n=n.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",Kc)}_matchLevel(t){const r=_.log.level||"warn";return Si[this._parentWithMember("level",r)]<=Si[t]}static _scheduleTickCounterIncrement(){N._tickCounterScheduled||(N._tickCounterScheduled=!0,Promise.resolve().then(()=>{N._tickCounter++,N._tickCounterScheduled=!1}))}},N._loggers=new Map,N._tickCounter=0,N._tickCounterScheduled=!1,N._throttlingDisabled=!1,N);function Kc(e,t,...r){console[e](`[${t}]`,...r)}function Xc(...e){return Jc(JSON.stringify(e,(r,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}function Qc(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,n)=>n===""?"$":(pa(n,t)??"").toString())}let wa=class{constructor(t,r,n=void 0){this.name=t,this.details=n,this.message=(r&&Qc(r,n))??""}toString(){return"["+this.name+"]: "+this.message}},V=class va extends wa{constructor(t,r,n){super(t,r,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return fe(r)}catch{return"[object]"}}))}}catch(t){throw re.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new va(t.name,t.message,t.details)}};V.prototype.type="error";function ne(e="Aborted"){return new V("AbortError",e)}function $a(e,t="Aborted"){if(ct(e))throw ne(t)}function Ht(e){return e instanceof AbortSignal?e:e?.signal??void 0}function ct(e){const t=Ht(e);return t!=null&&t.aborted}function Qw(e){if(Zt(e))throw e}function Ti(e){if(!Zt(e))throw e}function ot(e,t){const r=Ht(e);if(r!=null){if(!r.aborted)return ra(r,"abort",()=>t());t()}}function ev(e,t){const r=Ht(e);if(r!=null)return $a(r),ra(r,"abort",()=>t(ne()))}function tv(e,t){return Ht(t)==null?e:new Promise((r,n)=>{let s=ot(t,()=>n(ne()));const i=()=>{s=Kr(s)};e.then(i,i),e.then(r,n)})}function Zt(e){return e?.name==="AbortError"}async function rv(e){try{return await e}catch(t){if(!Zt(t))throw t;return}}async function ef(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),n=r.map(o=>e[o]),s=await ef(n),i={};return r.map((o,a)=>i[o]=s[a]),i}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(n,s)=>{const i=r[s];return i.status==="fulfilled"?{promise:n,value:i.value}:{promise:n,error:i.reason}}))}async function nv(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function sv(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function tf(e,t=void 0,r){const n=new AbortController;return ot(r,()=>n.abort()),new Promise((s,i)=>{let o=setTimeout(()=>{o=0,s(t)},e);ot(n,()=>{o&&(clearTimeout(o),i(ne()))})})}function iv(e,t,r,n){const s=r&&"abort"in r?r:null;n!=null||s||(n=r);let i=setTimeout(()=>{i=0,s?.abort()},t);const o=()=>n||new V("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(i===0)throw o();return clearTimeout(i),a},a=>{throw clearTimeout(i),i===0?o():a})}function ov(e,t){const r=new AbortController,n=setTimeout(()=>r.abort(),t);return ot(e,()=>{r.abort(),clearTimeout(n)}),{...e,signal:r.signal}}function rf(e){return e&&typeof e.then=="function"}function Oi(e){return rf(e)?e:Promise.resolve(e)}function nf(e,t=-1){let r,n,s,i,o=null;const a=(...l)=>{if(r){n=l,i&&i.reject(ne()),i=at();const h=i.promise;if(o){const d=o;o=null,d.abort()}return h}if(s=i||at(),i=null,t>0){const h=new AbortController;r=Oi(e(...l,h.signal));const d=r;tf(t).then(()=>{r===d&&(i?h.abort():o=h)})}else r=1,r=Oi(e(...l));const u=()=>{const h=n;n=s=r=o=null,h!=null&&a(...h)},c=r,f=s;return c.then(u,u),c.then(f.resolve,f.reject),f.promise};return a}function at(){let e,t;const r=new Promise((s,i)=>{e=s,t=i}),n=s=>{e(s)};return n.resolve=s=>e(s),n.reject=s=>t(s),n.timeout=(s,i)=>Dc.setTimeout(()=>n.reject(i),s),n.promise=r,n}function av(e,t){t.then(e.resolve,e.reject)}async function lv(e){await Promise.resolve(),$a(e)}function sf(e){return e?.release&&typeof e.release=="function"}function of(e){return e?.acquire&&typeof e.acquire=="function"}var Ce;let Ms=(Ce=class{constructor(t,r,n,s=1,i=0){this._creator=t,this._acquireFunction=r,this._releaseFunction=n,this.allocationSize=s,this._pool=new Array(i),this._initialSize=i;for(let o=0;o<i;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let r;if(Ce.test.disabled)r=this._creator();else{if(this._pool.length===0){const n=this.allocationSize;for(let s=0;s<n;s++)this._pool[s]=this._creator()}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):of(r)&&r.acquire(...t),r}release(t){t&&!Ce.test.disabled&&(this._releaseFunction?this._releaseFunction(t):sf(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const n=this._pool[r];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}},Ce.test={disabled:!!m("esri-tests-disable-memory-pools")},Ce);function af(e){e.length=0}let br=class{constructor(t=50,r=50){this._pool=new Ms(()=>[],void 0,af,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return bn.acquire()}static release(t){return bn.release(t)}static prune(){bn.prune()}};const bn=new br(100);let lf=class extends Ms{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const Xt=[];function ba(e){Xt.push(e),Xt.length===1&&queueMicrotask(()=>{const t=Xt.slice();Xt.length=0;for(const r of t)r()})}let ka=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const kr=(e,t,r,n)=>{let s=t,i=t;const o=r>>>1,a=e[s-1];for(;i<=o;){i=s<<1,i<r&&n(e[i-1],e[i])<0&&++i;const l=e[i-1];if(n(l,a)<=0)break;e[s-1]=l,s=i}e[s-1]=a},Sa=(e,t)=>e<t?-1:e>t?1:0;function uf(e,t,r,n){r===void 0&&(r=e.length),n===void 0&&(n=Sa);for(let i=r>>>1;i>t;i--)kr(e,i,r,n);const s=t+1;for(let i=r-1;i>t;i--){const o=e[t];e[t]=e[i],e[i]=o,kr(e,s,i,n)}}function*cf(e,t,r,n){r===void 0&&(r=e.length),n===void 0&&(n=Sa);for(let i=r>>>1;i>t;i--)kr(e,i,r,n),yield;const s=t+1;for(let i=r-1;i>t;i--){const o=e[t];e[t]=e[i],e[i]=o,kr(e,s,i,n),yield}}const ff=1.5,df=1.1;let Ta=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new sa,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>_i(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let n=0;n<this._length;n++){const s=this.data[n];t(s)&&r.push(s)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const n=this.data.indexOf(t,r);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let n=0;n<r;n++)this.data[this._length++]=t[n]}fill(t,r){for(let n=0;n<r;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,_i(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=qn(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(qn(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=Uc(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const n=this.data[t];this.data[t]=this.data[r],this.data[r]=n}sort(t){uf(this.data,0,this.length,t)}iterableSort(t){return cf(this.data,0,this.length,t)}some(t,r){for(let n=0;n<this.length;++n)if(t.call(r,this.data[n],n,this.data))return!0;return!1}find(t,r){const{data:n,length:s}=this;for(let i=0;i<s;++i)if(t.call(r,n[i]))return n[i]}filterInPlace(t,r){let n=0;for(let s=0;s<this._length;++s){const i=this.data[s];t.call(r,i,s,this.data)&&(this.data[s]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let s=n;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=n,this._shrink(),this}forAll(t,r){const{data:n,length:s}=this;for(let i=0;i<s;++i)t.call(r,n[i],i,n)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const n=new Array(this.length);for(let s=0;s<this.length;++s)n[s]=t.call(r,this.data[s],s,this.data);return n}reduce(t,r){let n=r;for(let s=0;s<this.length;++s)n=t(n,this.data[s],s,this.data);return n}has(t){const r=this.length,n=this.data;for(let s=0;s<r;++s)if(n[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function _i(e){e.data.length>ff*e.length&&(e.data.length=Math.floor(e.length*df))}function hv(e){return e}function mv(e){return 1e3*e}function pv(e){return e}function gv(e){return .001*e}let hf=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},mf=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},Wn=0;const $t={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Vn=["prepare","preRender","render","postRender","update","finish"],zn=[],ze=new Ta;let pf=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,Oa()}};function gf(){Ue!=null&&(cancelAnimationFrame(Ue),Ue=requestAnimationFrame(Ds))}function Oa(){Ue==null&&(Wn=performance.now(),Ue=requestAnimationFrame(Ds))}const Sr={frameTasks:ze,willDispatch:!1,clearFrameTasks:wf,dispatch:Aa,executeFrameTasks:vf,reschedule:gf};function yf(e){const t=new mf(e);return zn.push(t),Sr.willDispatch||(Sr.willDispatch=!0,ba(Aa)),t}function $v(e){const t=new hf(e);return ze.push(t),Oa(),new pf(t)}let Ue=null;function wf(e=!1){ze.forAll(t=>{t.removed=!0}),e&&_a()}function Ds(){const e=performance.now();Ue=null,Ue=ze.some(r=>!r.paused&&!r.removed)?requestAnimationFrame(Ds):null,Sr.executeFrameTasks(e)}function vf(e){const t=e-Wn;Wn=e;const r=1e3/60,n=Math.max(0,t-r);$t.time=e,$t.frameDuration=r-n;for(let s=0;s<Vn.length;s++){const i=performance.now(),o=Vn[s];ze.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&($t.elapsedFrameTime=performance.now()-e,$t.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,$t)))}),Sf[s].push(performance.now()-i)}_a(),Tf.push(performance.now()-e)}const Qt=new Ta;function _a(){ze.forAll(e=>{e.removed&&Qt.push(e)}),ze.removeUnorderedMany(Qt.data,Qt.length),Qt.clear()}function Aa(){for(;zn.length;){const e=zn.shift();e.isActive&&e.callback()}Sr.willDispatch=!1}function $f(e=1,t){const r=at(),n=()=>{ct(t)?r.reject(ne()):e===0?r():(--e,ba(()=>n()))};return n(),r.promise}function bf(e){return $f(1,e)}async function kf(e){await bf(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const Sf=Vn.map(e=>new ka(e)),Tf=new ka("total");function Of(e,t){for(const r of e.values())if(t(r))return!0;return!1}function Ai(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function bv(e,t){return t!=null&&e.add(t),e}function _f(e,t){const r=new Set;return Ai(r,e),Ai(r,t),r}function Af(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function kv(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function Sv(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function xf(e,t){const r=new Set(e);for(const n of t)r.delete(n);return r}function Tv(e,t){return xf(_f(e,t),Af(e,t))}let Ef=0;function kn(){return++Ef}function xa(e){return e.__accessor__??null}function Nf(e,t){return e?.metadata?.[t]!=null}function If(e,t,r){return r?Tr(e,t,{policy:r,path:""}):Tr(e,t,null)}function Tr(e,t,r){return t?Object.keys(t).reduce((n,s)=>{const i=s;if(i==="__proto__")return n;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${s}`:s,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(n[i]))return n[i]=t[i],n;if(n[i]===void 0)return n[i]=fe(t[i]),n;let l=n[i],u=t[i];if(l===u)return n;if(Array.isArray(u)||Array.isArray(n))l=l?Array.isArray(l)?n[i]=l.slice():n[i]=[l]:n[i]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach(c=>{l.includes(c)||l.push(c)}));else if(u&&typeof u=="object")if(r){const c=r.path;r.path=o,n[i]=Tr(l,u,r),r.path=c}else n[i]=Tr(l,u,null);else n.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(n[i]=u);return n},e||{}):e}function Ea(e){return Array.isArray(e)?e:e.split(".")}function xi(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function Cf(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...xi(r));return t}return xi(e)}function Na(e,t,r,n){const s=Cf(t);if(s.length!==1){const i=s.map(o=>n(e,o,r));return Yr(i)}return n(e,s[0],r)}function Ia(e,t){const r=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const n=xa(t);return Nf(n,r)?n.get(r):t[r]}function Ca(e,t,r){if(e==null)return e;const n=Ia(t[r],e);return!n&&r<t.length-1?void 0:r===t.length-1?n:Ca(n,t,r+1)}function en(e,t,r=0){return typeof t!="string"||t.includes(".")?Ca(e,Ea(t),r):Ia(t,e)}function Or(e,t){return en(e,t)}function Ov(e,t){return en(t,e)!==void 0}const Z={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},T={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let tn=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const _r=new tn,Et=[];let Lt=_r;function rn(e){Lt.onAccessed(e)}let fr=!1,dr=!1;function $e(e,t,r){if(fr)return Ls(e,t,r);let n=null;return Ma(e),n=t.call(r),Da(),n}function Mf(e,t){return $e(_r,e,t)}function Ls(e,t,r){const n=fr;fr=!0,Ma(e);let s=null;try{s=t.call(r)}catch(i){dr&&re.getLogger("esri.core.accessorSupport.tracking").error(i)}return Da(),fr=n,s}function Ma(e){Lt=e,Et.push(e)}function Da(){const e=Et.length;if(e>1){const t=Et.pop();Lt=Et[e-2],t.onTrackingEnd()}else if(e===1){const t=Et.pop();Lt=_r,t.onTrackingEnd()}else Lt=_r}function La(e,t){if(t.flags&T.DepTrackingInitialized)return;t.flags|=T.DepTrackingInitialized;const r=dr;dr=!1,t.flags&T.AutoTracked?Ls(t.trackingTarget,t.metadata.get,e):Fa(e,t),dr=r}const Df=[];function Fa(e,t){t.flags&T.ExplicitlyTracking||(t.flags|=T.ExplicitlyTracking,Ls(t.trackingTarget,()=>{const r=t.metadata.dependsOn||Df;for(const n of r)if(typeof n!="string"||n.includes(".")){const s=Ea(n);for(let i=0,o=e;i<s.length&&o!=null&&typeof o=="object";++i)o=Ei(o,s[i],i!==s.length-1)}else Ei(e,n,!1)}),t.flags&=-129)}function Ei(e,t,r){const n=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const i=parseInt(n,10);if(!isNaN(i))return Array.isArray(e)?e[i]:e.at(i)}const s=xa(e);if(s){const i=s.propertiesByName.get(n);i&&(rn(i),La(e,i))}return r?e[n]:void 0}let nn=class extends tn{constructor(t){super(new Lf(t)),this._observer&&Ni.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&Ni.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Lf=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Ff}};const Ni=new FinalizationRegistry(e=>{e.deref()?.destroy()});function Ff(){}let et=!1;const Ar=[];function Pa(e,t){let r=new nn(i),n=null,s=!1;function i(){if(!r||s)return;if(et)return void ja(i);const a=n;r.clear(),et=!0,s=!0,n=$e(r,e),s=!1,et=!1,t(n,a),Ua()}function o(){r&&(r.destroy(),r=null,n=null)}return s=!0,n=$e(r,e),s=!1,O(o)}function Ra(e,t){let r=new nn(s),n=null;function s(){t(n,o)}function i(){r&&(r.destroy(),r=null),n=null}function o(){return r?(r.clear(),n=$e(r,e),n):null}return o(),O(i)}function Ev(e,t){let r=!1,n=!1;const s=!!t?.sync;let i=new nn(()=>{r||n||(n=!0,s?o():queueMicrotask(o))});function o(){n=!1,i&&!r&&(et?ja(o):(i.clear(),et=!0,r=!0,$e(i,e),r=!1,et=!1,Ua()))}function a(){i&&(i.destroy(),i=null)}return r=!0,$e(i,e),r=!1,O(a)}function ja(e){Ar.includes(e)||Ar.unshift(e)}function Ua(){for(;Ar.length;)Ar.pop()()}var We;let Fs=(We=class{constructor(){this.uid=kn(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,n,s,i){return this.pool.acquire(0,t,r,n,s,i,Cs)}static acquireTracked(t,r,n,s){return this.pool.acquire(1,t,r,n,null,null,s)}notify(t,r){this.type===0?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,n,s,i,o,a){this.uid=kn(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=n,this.getValue=s,this.target=i,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=kn(),this.removed=!0}},We.pool=new lf(()=>new We),We);const hr=new br,ve=new Set;let xr;function Er(e){ve.delete(e),ve.add(e),Pf()}function Pf(){xr||(xr=yf(Uf))}function Rf(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function jf(e){for(const t of ve.values())t.target===e&&(t.removed=!0)}function Uf(){let e=10;for(;xr&&e--;){xr=null;const t=qf(),r=hr.acquire();for(const n of t){const s=n.uid;Rf(n),s===n.uid&&n.removed&&r.push(n)}for(const n of ve)n.removed&&(r.push(n),ve.delete(n));for(const n of r)Fs.pool.release(n);hr.release(r),hr.release(t),Hn.forEach(n=>n())}}function qf(){const e=hr.acquire();e.length=ve.size;let t=0;for(const r of ve)e[t]=r,++t;return ve.clear(),e}const Hn=new Set;function Nv(e){return Hn.add(e),O(()=>Hn.delete(e))}function Wf(e,t,r){let n=Na(e,t,r,(s,i,o)=>{let a,l,u=Ra(()=>en(s,i),(c,f)=>{s.__accessor__?.lifecycle===Z.DESTROYED||a&&a.uid!==l?n.remove():(a||(a=Fs.acquireUntracked(c,o,f,s,i),l=a.uid),Er(a))});return O(()=>{u.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Er(a)),a=null),n=u=null})});return n}function Vf(e,t,r){const n=Na(e,t,r,(s,i,o)=>{let a=!1;return Pa(()=>en(s,i),(l,u)=>{s.__accessor__.lifecycle!==Z.DESTROYED?a||(a=!0,Cs(u,l)||o.call(s,l,u,i,s),a=!1):n.remove()})});return n}function zf(e,t,r,n=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Z.DESTROYED?n?Vf(e,t,r):Wf(e,t,r):O()}function Hf(e,t,r){let n,s,i=Ra(e,(o,a)=>{n&&n.uid!==s?i.remove():(n||(n=Fs.acquireTracked(o,t,a,r),s=n.uid),Er(n))});return O(()=>{i.remove(),n&&(n.uid!==s||n.removed||(n.removed=!0,Er(n)),n=null),i=null})}function Zf(e,t,r){let n=!1;return Pa(e,(s,i)=>{n||(n=!0,r(i,s)||t(s,i),n=!1)})}function Bf(e,t,r=!1,n=zc){return r?Zf(e,t,n):Hf(e,t,n)}function Iv(e){return Of(ve,t=>t.oldValue===e)}function jt(e,t,r={}){return Ps(e,t,r,qa)}function Gf(e,t,r={}){return Ps(e,t,r,Wa)}function Ps(e,t,r={},n){let s=null;const i=r.once?(o,a)=>{n(o)&&(Kr(s),t(o,a))}:(o,a)=>{n(o)&&t(o,a)};if(s=Bf(e,i,r.sync,r.equals),r.initial){const o=e();i(o,o)}return s}function Cv(e,t,r,n={}){let s=null,i=null,o=null;function a(){s&&i&&(i.remove(),n.onListenerRemove?.(s),s=null,i=null)}function l(c){n.once&&n.once&&Kr(o),r(c)}const u=jt(e,(c,f)=>{a(),Jr(c)&&(s=c,i=xs(c,t,l),n.onListenerAdd?.(c))},{sync:n.sync,initial:!0});return o=O(()=>{u.remove(),a()}),o}function Mv(e,t){return Yf(e,Wa,t)}function Yf(e,t,r){if(ct(r))return Promise.reject(ne());const n=e();if(t?.(n))return Promise.resolve(n);let s=null;function i(){s=Kr(s)}return new Promise((o,a)=>{s=Yr([ot(r,()=>{i(),a(ne())}),Ps(e,l=>{i(),o(l)},{sync:!1,once:!0},t??qa)])})}function qa(e){return!0}function Wa(e){return!!e}function Dv(e,t,r={}){let n=!1;const s=jt(e,(i,o)=>{n||t(i,o)},r);return{remove(){s.remove()},pause(){n=!0},resume(){n=!1}}}const Lv={sync:!0},Fv={initial:!0},Va={sync:!0,initial:!0};function F(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Pv(e,t){return function(r,n){t(r,n,e)}}function Rv(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function jv(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Jf=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Uv(e){function t(i){e.error=e.hasError?new Jf(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Ii(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}const Kf=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Xf={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function Ci(e){const t=e?.match(Kf);if(!t)return null;const[,r,n,s]=t;if(!r)return null;let i=null,o=null,a=null;const{devext:l,qaext:u,www:c}=Xf;if(n)if(i=r,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=u);break;default:return null}else({customBaseUrl:o,portalHostname:a}=c);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=u);break;case"www":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:i}}function za(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function Ha(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e}function Qf(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}function ed(e){const t=new Uint8Array(e);let r="";for(let n=0;n<t.length;n++)r+=String.fromCharCode(t[n]);return btoa(r)}const td=()=>re.getLogger("esri.core.urlUtils"),ft=_.request,Mi="esri/config: esriConfig.request.proxyUrl is not set.",Za=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Ba=/^\s*http:/i,rd=/^\s*https:/i,nd=/^\s*file:/i,Ga=/:\d+$/,sd=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,id=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),od=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let tt=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(id);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(od),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const er={},ad=new tt(_.applicationUrl);let j=ad;const ld=ud();let Rs=ld;const js=()=>j,Wv=()=>Rs;function ud(){const e=j.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${j.scheme}://${j.host}${j.port!=null?`:${j.port}`:""}`}${t}`}function pe(e){if(!e)return null;const t={path:null,query:null},r=new tt(e),n=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,n),t.query=Us(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function Us(e){const t=e.split("&"),r={};for(const n of t){if(!n)continue;const s=n.indexOf("=");let i,o;s<0?(i=decodeURIComponent(n),o=""):(i=decodeURIComponent(n.slice(0,s)),o=decodeURIComponent(n.slice(s+1)));let a=r[i];typeof a=="string"&&(a=r[i]=[a]),Array.isArray(a)?a.push(o):r[i]=o}return r}function Ut(e,t){return e?Object.keys(e).map(r=>{const n=e[r];if(n==null)return"";const s=encodeURIComponent(r)+"=";return Array.isArray(n)?n.map(i=>Ii(i)?s+encodeURIComponent(JSON.stringify(i)):s+encodeURIComponent(i)).join("&"):Ii(n)?s+encodeURIComponent(JSON.stringify(n)):s+encodeURIComponent(n)}).filter(r=>r).join("&"):""}function Ya(e=!1){let t,r=ft.proxyUrl;if(typeof e=="string"){t=md(e);const n=sn(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw td().warn(Mi),new V("urlUtils:proxy-not-set",Mi);return t&&Zn()&&(r=Zs(r)),pe(r)}function Vv(e,t=!1){const r=sn(e);let n,s;if(r){const i=qs(r.proxyUrl);n=i.path,s=i.query?Us(i.query):null}else if(t){const i=Ya(e);n=i.path,s=i.query}if(n){const i=pe(e);e=n+"?"+i.path;const o=Ut({...s,...i.query});o&&(e=`${e}?${o}`)}return e}const bt={path:"",query:""};function qs(e){const t=e.indexOf("?");return t!==-1?(bt.path=e.slice(0,t),bt.query=e.slice(t+1)):(bt.path=e,bt.query=null),bt}function Ja(e){return e=(e=Cr(e=vd(e=qs(e).path),!0)).toLowerCase()}function cd(e){const t={proxyUrl:e.proxyUrl,urlPrefix:Ja(e.urlPrefix)},r=ft.proxyRules,n=t.urlPrefix;let s=r.length;for(let i=0;i<r.length;i++){const o=r[i].urlPrefix;if(n.startsWith(o)){if(n.length===o.length)return-1;s=i;break}o.startsWith(n)&&(s=i+1)}return r.splice(s,0,t),s}function sn(e){const t=ft.proxyRules,r=Ja(e);for(let n=0;n<t.length;n++)if(r.startsWith(t[n].urlPrefix))return t[n]}function zv(e,t){if(!e||!t)return!1;e=Nr(e),t=Nr(t);const r=Ci(e),n=Ci(t);return r!=null&&n!=null?r.portalHostname===n.portalHostname:r==null&&n==null&&He(e,t,!0)}function Hv(e,t){return e=Nr(e),t=Nr(t),Cr(e)===Cr(t)}function Nr(e){const t=(e=rt(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function Di(e,t=ft.interceptors){const r=n=>n instanceof RegExp?n.test(e):typeof n=="string"?e.startsWith(n):n==null;if(t){for(const n of t)if(Array.isArray(n.urls)){if(n.urls.some(r))return n}else if(r(n.urls))return n}return null}function He(e,t,r=!1){if(!e||!t)return!1;const n=Gn(e),s=Gn(t);return!(!r&&n.scheme!==s.scheme)&&n.host!=null&&s.host!=null&&n.host.toLowerCase()===s.host.toLowerCase()&&n.port===s.port}function Ws(e){if(typeof e=="string"){if(!Ne(e))return!0;e=Gn(e)}if(He(e,j))return!0;const t=ft.trustedServers||[];for(let r=0;r<t.length;r++){const n=fd(t[r]);for(let s=0;s<n.length;s++)if(He(e,n[s]))return!0}return!1}function fd(e){return er[e]||(Hs(e)||Le(e)?er[e]=[new tt(dt(e))]:er[e]=[new tt(`http://${e}`),new tt(`https://${e}`)]),er[e]}function dt(e,t=Rs,r){return Le(e)?r?.preserveProtocolRelative?e:j.scheme==="http"&&j.authority===B(e).slice(2)?`http:${e}`:`https:${e}`:Hs(e)?e:Vs(e.startsWith("/")?wd(t):t,e)}function Ka(e,t=Rs,r){if(e==null||!Ne(e))return e;const n=rt(e),s=n.toLowerCase(),i=rt(t).toLowerCase().replace(/\/+$/,""),o=r?rt(r).toLowerCase().replace(/\/+$/,""):null;if(o&&!i.startsWith(o))return e;const a=(f,h,d)=>(d=f.indexOf(h,d))===-1?f.length:d;let l=a(s,"/",s.indexOf("//")+2),u=-1;for(;s.slice(0,l+1)===i.slice(0,l)+"/"&&(u=l+1,l!==s.length);)l=a(s,"/",l+1);if(u===-1||o&&u<o.length)return e;e=n.slice(u);const c=i.slice(u-1).replaceAll(/[^/]+/g,"").length;if(c>0)for(let f=0;f<c;f++)e=`../${e}`;else e=`./${e}`;return e}function rt(e){return e=kd(e=bd(e=$d(e=dt(e=e.trim()))))}function Vs(...e){const t=e.filter(Wc);if(!t?.length)return;const r=[];if(Ne(t[0])){const s=t[0],i=s.indexOf("//");i!==-1&&(r.push(s.slice(0,i+1)),gd(t[0])&&(r[0]+="/"),t[0]=s.slice(i+2))}else t[0].startsWith("/")&&r.push("");const n=t.reduce((s,i)=>i?s.concat(i.split("/")):s,[]);for(let s=0;s<n.length;s++){const i=n[s];i===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!i&&s===n.length-1||i&&(i!=="."||r.length===0))&&r.push(i)}return r.join("/")}function B(e,t=!1){if(e==null||zs(e)||on(e))return null;let r=e.indexOf("://");if(r===-1&&Le(e))r=2;else{if(r===-1)return null;r+=3}const n=e.indexOf("/",r);return n!==-1&&(e=e.slice(0,n)),t&&(e=Cr(e,!0)),e}function Ne(e){return Le(e)||Hs(e)}function zs(e){return e!=null&&e.startsWith("blob:")}function on(e){return e!=null&&e.startsWith("data:")}function dd(e){const t=Ir(e);return t?.isBase64?Qf(t.data):null}function Zv(e){return ed(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const hd=/^data:(.*?)(;base64)?,(.*)$/;function Ir(e){const t=e.match(hd);if(!t)return null;const[,r,n,s]=t;return{mediaType:r,isBase64:!!n,data:s}}function Bv(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Gv(e){return(await fetch(e)).blob()}function Yv(e){const t=dd(e);if(!t)return null;const r=Ir(e);return new Blob([t],{type:r.mediaType})}function Le(e){return e!=null&&e.startsWith("/")&&e[1]==="/"}function Hs(e){return e!=null&&Za.test(e)}function md(e){return e!=null&&rd.test(e)||j.scheme==="https"&&Le(e)}function pd(e){return e!=null&&Ba.test(e)||j.scheme==="http"&&Le(e)}function gd(e){return e!=null&&nd.test(e)}function Zs(e){return Le(e)?`https:${e}`:e.replace(Ba,"https:")}function yd(){return j.scheme==="http"}function Zn(){return j.scheme==="https"}function Cr(e,t=!1){return Le(e)?e.slice(2):(e=e.replace(Za,""),t&&e.length>1&&e.startsWith("/")&&e[1]==="/"&&(e=e.slice(2)),e)}function wd(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function Jv(e){let t=0;if(Ne(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function Kv(e,t){if(!e)return"";const r=pe(e).path.replace(/\/+$/,""),n=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return n;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(s,"")}function vd(e){return e.endsWith("/")?e:`${e}/`}function Xa(e){return e.replace(/\/+$/,"")}function $d(e){if(/^https?:\/\//i.test(e)){const t=qs(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function bd(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function kd(e){const t=ft.httpsDomains;if(!pd(e))return e;const r=e.indexOf("/",7);let n;if(n=r===-1?e:e.slice(0,r),n=n.toLowerCase().slice(7),Ga.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return yd()&&n===j.authority&&!sd.test(e)||(Zn()&&n===j.authority||t&&t.some(s=>n===s||n.endsWith(`.${s}`))||Zn()&&!sn(e))&&(e=Zs(e)),e}function Bn(e,t,r){if(!(t&&r&&e&&Ne(e)))return e;const n=e.indexOf("//"),s=e.indexOf("/",n+2),i=e.indexOf(":",n+2),o=Math.min(s<0?e.length:s,i<0?e.length:i);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`}function Sd(e,t){const r=new URL(e);return r.host=t,r.port&&!Ga.test(t)&&(r.port=""),r.toString()}function Xv(e){return new URL(e).host}function Gn(e){return typeof e=="string"?new tt(dt(e)):(e.scheme||(e.scheme=j.scheme),e)}function Qv(e){return Od.test(e)}function Qa(e,t){const r=pe(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path}function Td(e,t,r){const n=pe(e),s=n.query||{};return s[t]=String(r),`${n.path}?${Ut(s)}`}function Sn(e,t){if(!t)return e;const r=pe(e),n=r.query||{};for(const[i,o]of Object.entries(t))o!=null&&(n[i]=o);const s=Ut(n);return s?`${r.path}?${s}`:r.path}function e0(e){if(e==null)return null;const t=e.match(el);return t?t[2]:null}function Li(e){if(e==null)return null;const t=e.match(el);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function t0(e){return typeof e=="string"?Ir(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(Ir(n.result)),n.onerror=s=>r(s)})}const el=/([^.]*)\.([^/]*)$/,Od=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const _d="4.34";let M,Ad=_d;function r0(e){M=e}function n0(e){const t=M?.findCredential(e);return t?.token?Td(e,"token",t.token):e}Ad="4.34.8",m("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),m("host-webworker");function s0(e,t){for(const r of e.values())if(t(r))return!0;return!1}function i0(e,t){for(const r of e.values())if(!t(r))return!1;return!0}function o0(e,t){for(const r of e.values())if(t(r))return r;return null}function tl(e,t,r){const n=e.get(t);if(n!==void 0)return n;const s=r();return e.set(t,s),s}function a0(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}function rl(e,t){const r=t?.url?.path;if(e&&r&&(e=dt(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=Ka(e,t.portalItem.itemUrl);n!=null&&n.startsWith(Ed)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=Yn(e,t?.portal))&&an.test(e)?ol(e):e}function nl(e,t,r=0){if((e=e&&an.test(e)?al(e):e)==null)return e;!Ne(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=dt(e);if(t){const s=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(s){const i=Yn(s,t.portal),o=Yn(n,t.portal);n=Ka(o,i,i),n!=null&&n!==o&&n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=il(n,t?.portal),Ne(n)&&(n=rt(n)),t?.resources&&t?.portalItem&&!Ne(n)&&!on(n)&&r===0&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),n}function xd(e,t,r){return rl(e,r)}function sl(e,t,r,n){const s=nl(e,n);s!==void 0&&(t[r]=s)}const an=/\/items\/([^/]+)\/resources\/(.*)/,Ed="./resources/";function Nd(e){return(e?.match(an)??null)?.[1]??null}function Id(e){const t=e?.match(an)??null;if(t==null)return null;const r=t[2],n=r.lastIndexOf("/");if(n===-1){const{path:o,extension:a}=Li(r);return{prefix:null,filename:o,extension:a}}const{path:s,extension:i}=Li(r.slice(n+1));return{prefix:r.slice(0,n),filename:s,extension:i}}function il(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Bn(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Yn(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,n=js();return He(n,`${n.scheme}://${r}`)?Bn(e,t.portalHostname,r):Bn(e,r,t.portalHostname)}function ol(e){if(!e)return e||null;let t=e;return t&&M&&!M.findCredential(t)&&(t=Ha(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function al(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&M&&!M.findCredential(t)&&(t=Ha(t)),t}const l0=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:il,fromCDNUrl:al,fromJSON:rl,itemIdFromResourceUrl:Nd,prefixAndFilenameFromResourceUrl:Id,read:xd,toCDNUrl:ol,toJSON:nl,write:sl},Symbol.toStringTag,{value:"Module"})),ll={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},ul=Object.values(ll),cl=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${ul.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Cd=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${ul.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Md=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function u0(e){return cl.test(e)}function ln(e){if(e==null)return null;const t=pe(e),r=t?.path.match(cl)||t?.path.match(Cd);if(!r)return null;const[,n,s,i,o]=r,a=s.indexOf("/");return{title:fl(a!==-1?s.slice(a+1):s),serverType:ll[i.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function Dd(e){const t=pe(e).path.match(Md);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function fl(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function c0(e,t){const r=[];if(e){const n=ln(e);n!=null&&n.title&&r.push(n.title)}if(t){const n=fl(t);r.push(n)}if(r.length===2){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function Fi(e){let t=B(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function f0(e,t){return e&&Xa(Qa(e,t))}function d0(e){let{url:t}=e;if(!t)return{url:t};t=Qa(t,e.logger);const r=pe(t),n=ln(r.path);let s;if(n!=null)n.sublayer!=null&&e.layer.layerId==null&&(s=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const i=Dd(r.path);i!=null&&(t=i.serviceUrl,s=i.sublayerId)}return{url:Xa(t),layerId:s}}function h0(e,t,r,n,s){sl(t,n,"url",s),n.url&&e.layerId!=null&&(n.url=Vs(n.url,r,e.layerId.toString()))}function m0(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),i=t.includes("/wmsserver");return r&&(n||s||i)}const Ld=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function dl(e){if(!hl(e))return null;const t=n=>n instanceof RegExp?n.test(e):typeof n=="string"&&e.startsWith(n),r=_.apiKeys;if(Array.isArray(r.scopes)){for(const n of r.scopes)if(Array.isArray(n.urls)){if(n.urls.some(t))return n.token}else if(t(n.urls))return n.token}return r.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?r.basemapStyles:_.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?_.apiKey:null}function p0(){return _.apiKey!=null||_.apiKeys.basemapStyles!=null}function g0(e,t){return t?hl(e):dl(e)!=null}function hl(e){const t=B(e,!0);return!!t&&!Ld.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function Fd(e,t,r=!1,n){return new Promise((s,i)=>{if(ct(n))return void i(Pi());let o=()=>{u(),i(new Error(`Unable to load ${t}`))},a=async()=>{const c=e;try{await c.decode()}catch{}u(),s(c)},l=()=>{if(!e)return;const c=e;u(),c.src="",i(Pi())};const u=()=>{e&&(e.removeEventListener("error",o),e.removeEventListener("load",a),o=null,a=null,e=null,n?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t))};n?.addEventListener("abort",l),e.addEventListener("error",o),e.addEventListener("load",a)})}function Pi(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const ml="Timeout exceeded";function Pd(){return new Error(ml)}function y0(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===ml}function Rd(e){_.request.crossOriginNoCorsDomains||(_.request.crossOriginNoCorsDomains={});const t=_.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[B(r)??""]=0:(t[B("http://"+r)??""]=0,t[B("https://"+r)??""]=0)}function jd(e){const t=_.request.crossOriginNoCorsDomains;if(t){let r=B(e);if(r)return r=r.toLowerCase(),!He(r,js())&&t[r]<Date.now()-36e5}return!1}async function Ud(e){const t=pe(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=_.request.crossOriginNoCorsDomains,n=B(e);r&&n&&(r[n.toLowerCase()]=Date.now())}const Jn=new Map;function qd(e,t){const r=t?.preferredHost;if(!r||He(e,`https://${r}`,!0))return;const n=ln(e);if(!n||n.serverType!=="FeatureServer"||za(e))return;const s=n.url.path.toLowerCase();Jn.has(s)||Jn.set(s,r)}function Ri(e){const t=ln(e)?.url.path.toLowerCase();if(!t)return e;const r=Jn.get(t);return r?Sd(e,r):e}async function le(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=Us(t.query.toString().replaceAll("+"," ")));const r=on(e),n=zs(e);n||r||(e=rt(e));const s={url:e,requestOptions:{...t}},i=d=>({data:d,getAllHeaders:lt,getHeader:lt,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=Di(e,Q.internalInterceptors);if(o){const d=await Ui(o,s);if(d!=null)return i(d)}let a=Di(e);if(a){const d=await Ui(a,s);if(d!=null)return i(d);a.after||a.error||(a=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(m("host-webworker")||m("host-node")))throw ce("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw ce("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(r||n)throw ce("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await Zd(),Mr)return Mr.execute(e,t);const l=new AbortController,u=ot(t,()=>l.abort()),c={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:Q.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},f=t.useRequestQueue?Kd(c):Xn(c),h=await f.finally(()=>u?.remove());return a?.after?.(h),h}let Mr,pl=!1;const Q=_.request,gl="FormData"in globalThis,Wd=new Set([499,498,403,401]),Vd=new Set(["COM_0056","COM_0057","SB_0008"]),zd=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],lt=()=>null,Dr=Symbol();function Hd(e){const t=B(e);t&&!le._corsServers.includes(t)&&le._corsServers.push(t)}function ji(e){const t=B(e);return!t||t.endsWith(".arcgis.com")||le._corsServers.includes(t)||Ws(t)}function ce(e,t,r,n){let s;const i={url:r.url,requestOptions:r.requestOptions,getAllHeaders:lt,getHeader:lt,ssl:!1};if(t instanceof V)return t.details?(t.details=fe(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=i,t;if(t){const o=n&&(()=>Array.from(n.headers)),a=n&&(c=>n.headers.get(c)),l=n?.status,u=t.message;u&&(s=u),o&&a&&(i.getAllHeaders=o,i.getHeader=a),i.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,i.subCode=t.subcode,i.messageCode=t.messageCode,typeof t.details=="string"?(i.messages=[t.details],s??=t.details):(i.messages=t.details,s??=i.messages?.[0]),i.raw=Dr in t?t[Dr]:t}return s??="Error",Zt(t)?ne():new V(e,s,i)}async function Zd(){m("host-webworker")&&(!Mr&&globalThis.invokeStaticMessage?Mr=await As(()=>import("./money-tides-request-EIrIBBLa.js"),__vite__mapDeps([0,1,2,3,4])):pl=!0)}async function Kn(){M||await As(()=>import("./money-tides-IdentityManager-6Bf89IHV.js"),__vite__mapDeps([5,1,2,6,7,8,3,4]))}async function Bd(e){const t=e.params.url,r=e.params.requestOptions,n=e.controller.signal,s=r.body;let i=null,o=null;if(gl&&"HTMLFormElement"in globalThis&&(s instanceof FormData?i=s:s instanceof HTMLFormElement&&(i=new FormData(s))),typeof s=="string"&&(o=s),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},keepalive:r.keepAlive??!1,method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Q.priority,redirect:"follow",signal:n},(i||o)&&(e.fetchOptions.body=i||o),(pl||r.authMode==="anonymous")&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||i?.get("token")),!e.hasToken){const a=dl(t);a&&(r.query??={},r.query.token=a,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!yl(t)&&!ct(n)){let a;r.authMode==="immediate"?(await Kn(),a=await M.getCredential(t,{signal:n})):r.authMode==="no-prompt"?(await Kn(),a=await M.getCredential(t,{prompt:!1,signal:n}).catch(()=>{})):M&&(a=M.findCredential(t)),a&&(e.credential=a,e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function yl(e){return zd.some(t=>t.test(e))}async function Gd(e){let t=e.params.url,r=Ri(t);const n=e.params.requestOptions,s=e.fetchOptions??{},i=zs(t)||on(t),o=n.responseType||"json",a=i?0:n.timeout!=null?n.timeout:Q.timeout;let l=!1;if(!i){e.useSSL&&(t=Zs(t));let d={...n.query};e.credentialToken&&(d.token=e.credentialToken);let g=Ut(d);m("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const y=r.length+1+g.length;let $;l=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||y>Q.maxUrlLength;const z=n.useProxy||!!sn(t);if(z){const P=Ya(t);$=P.path,!l&&$.length+1+y>Q.maxUrlLength&&(l=!0),P.query&&(d={...P.query,...d})}if(s.method==="HEAD"&&(l||z)){if(l)throw y>Q.maxUrlLength?ce("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):ce("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(z)throw ce("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}l?(s.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?t=Sn(t,d):(s.body=Ut(d),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Sn(t,d),z&&(e.useProxy=!0,t=`${$}?${t}`),d.token&&gl&&s.body instanceof FormData&&!za(t)&&s.body.set("token",d.token),n.hasOwnProperty("withCredentials")?e.withCredentials=n.withCredentials:He(t,js())||(Ws(t)||M&&M.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(s.credentials="include",jd(t)&&await Ud(l?Sn(t,d):t)),r=Ri(t)}let u,c,f=0,h=!1;a>0&&(f=setTimeout(()=>{h=!0,e.controller.abort()},a));try{if(n.responseType==="native-request-init")c=s,c.url=r,n.signal?c.signal=n.signal:delete c.signal;else if(n.responseType!=="image"||s.cache!=="default"||s.keepalive||s.method!=="GET"||l||Yd(n.headers)||!i&&!e.useProxy&&Q.proxyUrl&&!ji(t)){if(le._beforeFetch&&await le._beforeFetch(t,s),u=await fetch(r,s),le._afterFetch&&await le._afterFetch(u),e.useProxy||Hd(t),n.responseType==="native")c=u;else if(s.method!=="HEAD")if(u.ok){switch(o){case"array-buffer":c=await u.arrayBuffer();break;case"blob":case"image":c=await u.blob();break;default:c=await u.text()}if(f&&(clearTimeout(f),f=0),o==="json"||o==="xml"||o==="document")if(c)switch(o){case"json":c=JSON.parse(c);break;case"xml":c=qi(c,"application/xml");break;case"document":c=qi(c,"text/html")}else c=null;if(c){if(o==="array-buffer"||o==="blob"){const d=u.headers.get("Content-Type");if(d&&/application\/json|text\/plain/i.test(d)&&c[o==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(c).json();g.error&&(c=g)}catch{}}o==="image"&&c instanceof Blob&&(c=await Wi(URL.createObjectURL(c),e,!0))}}else{c=await u.text();try{c=JSON.parse(c)}catch{}}}else c=await Wi(r,e)}catch(d){if(d.name==="AbortError")throw h?Pd():ne("Request canceled");if(!(!u&&d instanceof TypeError&&Q.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||e.useProxy||ji(t))throw d;e.redoRequest=!0,cd({proxyUrl:Q.proxyUrl,urlPrefix:B(t)??""})}finally{f&&clearTimeout(f)}return[u,c]}async function Ui(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(s){r=ce("request:interceptor",s,t)}if((n instanceof Error||n instanceof V)&&(r=ce("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function Yd(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function qi(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}le._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],le._beforeFetch=void 0,le._afterFetch=void 0;const Jd=new Map;async function Kd(e){const t=Qd(e.params.url);if(!t)return Xn(e);const{QueueProcessor:r}=await As(()=>import("./money-tides-QueueProcessor-CFHnFL1m.js"),__vite__mapDeps([9,10,1,2,3,4]));return tl(Jd,t.origin,()=>{const s=t.isHosted?m("request-queue-concurrency-hosted"):m("request-queue-concurrency-non-hosted");return new r({concurrency:s,process:i=>{if(ct(i.params.requestOptions))throw ce("",ne("Request canceled"),i.params);return Xn(i)}})}).push(e)}async function Xn(e){let t,r;await Bd(e);try{do[t,r]=await Gd(e);while(!await Xd(e,t,r))}catch(i){const o=ce("request:server",i,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const n=e.params.url;if(r)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!Ws(n)){const i=B(n,!0);i&&Q.trustedServers.push(i)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&Rd(r.authorizedCrossOriginNoCorsDomains)}else(e.params.requestOptions.responseType||"json")==="json"&&qd(n,r);const s=e.credential;if(s&&M){let o=M.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=M.findCredential(o,s.userId);a&&M._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):lt,getHeader:t?i=>t.headers.get(i):lt,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Xd(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let s,i;if(r&&(r.error&&typeof r.error=="object"?s=r.error:r.status==="error"&&Array.isArray(r.messages)&&(s={...r},s[Dr]=r,s.details=r.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[Dr]=r,s;let o,a=null;s&&(i=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=n.authMode;if(i===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||i===498)&&i!==void 0&&Wd.has(i)&&!yl(e.params.url)&&(i!==403||(!o||!Vd.has(o))&&(a==null||a===2&&e.credentialToken))){await Kn();try{const u=await M.getCredential(e.params.url,{error:ce("request:server",s,e.params),credential:e.credential,prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=u,e.credentialToken=u.token,e.useSSL=e.useSSL||u.ssl,!1}catch(u){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=u}}if(s)throw s;return!0}function Wi(e,t,r=!1){const n=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Q.priority,s.src=e,Fd(s,e,r,n)}function Qd(e){let t,r;return typeof e=="string"?(t=B(e,!0),r=Fi(e)):(t=e.origin,r=Fi(e.toString())),t==null?null:{origin:t,isHosted:r}}const Vi=new WeakMap;function eh(e,t,r=!1){const n=` DEPRECATED - ${t}`;if(!r)return void e.warn(n);let s=Vi.get(e);s||(s=new Set,Vi.set(e,s)),s.has(t)||(s.add(t),e.warn(n))}const Lr="https://www.esriurl.com/";function w0(e,t,r,n={}){m("esri-deprecation-warnings")&&ht(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${Lr}${r}/`,`Esri's move to web components: ${Lr}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...n})}function v0(e,t,r,n={}){m("esri-deprecation-warnings")&&ht(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${Lr}${r}/`,`Esri's move to web components: ${Lr}components-transition-plan/`],replacement:`<${r}></${r}>`,warnOnce:!0,...n})}function $0(e,t,r={}){m("esri-deprecation-warnings")&&ht(e,`Module: ${t}`,r)}function th(e,t,r={}){if(m("esri-deprecation-warnings")){const{moduleName:n}=r;ht(e,`Function: ${(n?n+"::":"")+t+"()"}`,r)}}function b0(e,t,r={}){if(m("esri-deprecation-warnings")){const{moduleName:n}=r;ht(e,`Property: ${(n?n+"::":"")+t}`,r)}}function k0(e,t,r={}){m("esri-deprecation-warnings")&&ht(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function ht(e,t,r={}){if(m("esri-deprecation-warnings")){const{replacement:n,version:s,see:i,warnOnce:o}=r;let a=t;if(n&&(a+=`
	 Replacement: ${n}`),s&&(a+=`
	 Version: ${s}`),i)if(Array.isArray(i)){a+=`
	 See for more details:`;for(const l of i)a+=`
		${l}`}else a+=`
	 See ${i} for more details.`;eh(e,a,o)}}function S0(e){const t=[];return function*(){yield*t;let r,n=t.length;for(;!(r=e.next()).done;)for(t.push(r.value),yield r.value;++n<t.length;)yield t[n]}}function T0(e,t){for(const r of e)if(r!=null&&t(r))return r}function zi(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Bs=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(zi(t)){const n=this._getOrCreateGroup(r);for(const s of t)Zi(s)&&n.push(s)}else Zi(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&r&&n.forEach(r)}}has(t){return this._groups.has(tr(t))}remove(t){if(typeof t!="string"&&zi(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(Hi(this._getGroup(t)),this._groups.delete(tr(t)),this):this}removeAll(){return this._groups.forEach(Hi),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(tr(t),r),r}_getGroup(t){return this._groups.get(tr(t))}};function tr(e){return e||"_default_"}function Hi(e){for(const t of e)t instanceof Bs?t.removeAll():t.remove()}function Zi(e){return e!=null&&(!!e.remove||e instanceof Bs)}const wl=Symbol("Accessor-beforeDestroy");function mt(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const n in t)t[n]=fe(t[n]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function un(e,t){const r=mt(e);let n=r[t];return n||(n=r[t]={}),n}function rh(e,t){return If(e,t,sh)}const nh=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function sh(e){return nh.test(e)?"replace":"merge"}let ih=class{constructor(t,r){this._observers=t,this._observer=r}remove(){qc(this._observers,this._observer)}},oh=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return ah;this._observers==null&&(this._observers=[]);const r=this._observers;let n=!1,s=!1;const i=r.length;for(let o=0;o<i;++o){const a=r[o];if(a.destroyed)s=!0;else if(a===t){n=!0;break}}return n||(r.push(t),s&&this._removeDestroyedObservers()),new ih(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let n=0;for(let s=0;s<r;++s){for(;s+n<r&&t[s+n].destroyed;)++n;if(n>0){if(!(s+n<r))break;t[s]=t[s+n]}}t.length=r-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const ah=O();let Bi=class extends oh{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new tn(this),this.flags=0,this.flags=T.Dirty|(r.nonNullable?T.NonNullable:0)|(r.hasOwnProperty("value")?T.HasDefaultValue:0)|(r.get===void 0?T.DepTrackingInitialized:0)|(r.dependsOn===void 0?T.AutoTracked:0)}destroy(){this.flags&T.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&rn(this);const r=t.store,n=this.propertyName,s=this.flags,i=r.get(n);if(s&T.Computing||~s&T.Dirty&&r.has(n))return i;this.flags|=T.Computing;const o=t.host;let a;s&T.AutoTracked?a=$e(this.trackingTarget,this.metadata.get,o):(Fa(o,this),a=this.metadata.get.call(o)),this.flags|=T.DepTrackingInitialized,r.set(n,a,1);const l=r.get(n);return l===i?this.flags&=-2:Mf(this.commit,this),this.flags&=-5,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&T.Overridden&&(this.flags|=T.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const n of r)n.onCommitted()}}};const E0=8;function lh(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function Qn(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function N0(e){return Qn(e)}let uh=class vl{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new vl;return this._values.forEach((n,s)=>{t&&t.has(s)||r.set(s,fe(n))}),r}get(t){return this._values.get(t)}originOf(){return 7}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}isAtOrigin(t,r){return this.has(t)}isBelowOrigin(t,r){return!this.has(t)}forEach(t){this._values.forEach(t)}};function Ge(e,t,r){return e!==void 0}function Gi(e,t,r,n){return e!==void 0&&(!(r==null&&e.flags&T.NonNullable)||(n.lifecycle,!1))}let ch=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Z.INITIALIZING,this.store=new uh,this.mutable=!0,this._origin=7;const r=this.host.constructor.__accessorMetadata__;for(const n in r){const s=new Bi(n,r[n]);this.propertiesByName.set(n,s)}this.metadata=r}initialize(){this.lifecycle=Z.CONSTRUCTING}constructed(){this.lifecycle=Z.CONSTRUCTED}destroy(){this.lifecycle=Z.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Z.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(!Ge(r))return;if(r.metadata.get)return r.getComputed(this);this.mutable&&rn(r);const n=this.store;return n.has(t)?n.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&T.HasDefaultValue)return"defaults"}return Qn(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(Ge(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const n=this.propertiesByName.get(t);Ge(n)&&this._internalSet(n,r)}getDependsInfo(t,r,n){const s=this.propertiesByName.get(r);if(!Ge(s))return"";const i=new tn,o=$e(i,()=>s.metadata.get?.call(t));let a=`${n}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;const l=i.accessed??new Set;if(l.size===0)return a;n+="  ";for(const u of l)u instanceof Bi&&(a+=`${n}${u.propertyName}: undefined
`);return a}setAtOrigin(t,r,n){const s=this.propertiesByName.get(t);if(Ge(s))return this._setAtOrigin(s,r,n)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&T.Overridden)}clearOrigin(t,r){const n=this.store,s=this.propertiesByName.get(t);if(!Ge(s))return;const i=n.isAtOrigin(t,r)&&!(s.flags&T.Overridden);n.delete(t,r),i&&s.notifyChange()}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&T.Overridden&&(r.flags&=-3,r.notifyChange())}override(t,r){const n=this.propertiesByName.get(t);if(!Gi(n,t,r,this))return;const s=n.metadata.cast;if(s){const i=this._cast(s,r),{valid:o,value:a}=i;if(Tn.release(i),!o)return;r=a}n.flags|=T.Overridden,this._internalSet(n,r)}set(t,r){const n=this.propertiesByName.get(t);if(!Gi(n,t,r,this))return;const s=n.metadata.cast;if(s){const o=this._cast(s,r),{valid:a,value:l}=o;if(Tn.release(o),!a)return;r=l}const i=n.metadata.set;i?i.call(this.host,r):this._internalSet(n,r)}setDefaultOrigin(t){this._origin=lh(t)}getDefaultOrigin(){return Qn(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const n=this.lifecycle!==Z.INITIALIZING?this._origin:0;this._setAtOrigin(t,r,n)}_setAtOrigin(t,r,n){const s=this.store,i=t.propertyName;if(s.isAtOrigin(i,n)&&Cs(r,s.get(i))&&~t.flags&T.Overridden)return;const o=s.isBelowOrigin(i,n)||s.isAtOrigin(i,n);o&&t.invalidate(),s.set(i,r,n),o&&t.commit(),La(this.host,t)}_cast(t,r){const n=Tn.acquire();return n.valid=!0,n.value=r,t&&(n.value=t.call(this.host,r,n)),n}},fh=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Tn=new Ms(()=>new fh);function Fr(e,t,r){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))Fr(e,n,t[n]);else{if(t.includes(".")){const s=t.split("."),i=s.splice(-1,1)[0];return void Fr(Or(e,s),i,r)}const n=e.__accessor__;n!=null&&dh(t,n),e[t]=r}}function dh(e,t){if(m("esri-unknown-property-errors")&&!hh(e,t))throw new V("set:unknown-property",mh(e,t))}function hh(e,t){return t.metadata[e]!=null}function mh(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let ph;function gh(){return ph}const qe=()=>re.getLogger("esri.core.accessorSupport.ensureTypes");function yh(e){if(e==null)return e;const t=new Date(e);return isNaN(t.getTime())?(qe().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function wh(e){return e==null?e:!!e}function vh(e){return e==null?e:e.toString()}function $h(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function bh(e){return e==null?e:Math.round(parseFloat(e))}function kh(e){return null}function Sh(e,t){return r=>{let n=e(r);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function $l(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function Pr(e,t){return t!=null&&e&&!(t instanceof e)}function bl(e){return e&&"isCollection"in e}function Yi(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Th(e,t){if(!t?.constructor||!bl(t.constructor))return es(e,t)?t:new e(t);const r=Yi(e.prototype.itemType),n=Yi(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(es(e,t),t):new e(t):t}function es(e,t){return!!$l(t)&&(qe().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+cn(e)+"'"),!0)}function Oh(e,t){return t==null?t:bl(e)?Th(e,t):Pr(e,t)?es(e,t)?t:new e(t):t}function cn(e){return e?.prototype?.declaredClass||"unknown"}const _h=new WeakMap;function Ah(e){switch(e){case Number:return t=>$h(t);case Gs:return bh;case Boolean:return wh;case String:return vh;case Date:return yh;case Ys:return kh;default:return tl(_h,e,()=>Oh.bind(null,e))}}function De(e,t){const r=Ah(e);return arguments.length===1?r:r(t)}function qt(e,t,r){return arguments.length===1?qt.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,r)):[e(t,r)])}function xh(e,t){return arguments.length===1?qt(r=>De(e,r)):qt(r=>De(e,r),t)}function kl(e,t,r){return t!==0&&Array.isArray(r)?r.map(n=>kl(e,t-1,n)):e(r)}function Rr(e,t,r){if(arguments.length===2)return i=>Rr(e,t,i);if(!r)return r;r=kl(e,t,r);let n=t,s=r;for(;n>0&&Array.isArray(s);)n--,s=s[0];if(s!==void 0)for(let i=0;i<n;i++)r=[r];return r}function Eh(e,t,r){return arguments.length===2?Rr(n=>De(e,n),t):Rr(n=>De(e,n),t,r)}function Sl(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function ts(e,t){if(arguments.length===2)return ts(e).call(null,t);const r=new Set,n=e.filter(a=>typeof a!="function"),s=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let i=null,o=null;return(a,l)=>{if(a==null)return a;const u=typeof a,c=u==="string"||u==="number";return c&&(r.has(a)||s.some(f=>u==="string"&&f===String||u==="number"&&f===Number))||u==="object"&&s.some(f=>!Pr(f,a))?a:(c&&n.length?(i||(i=n.map(f=>typeof f=="string"?`'${f}'`:`${f}`).join(", ")),qe().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${i}`)):typeof a=="object"&&s.length?(o||(o=s.map(f=>cn(f)).join(", ")),qe().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):qe().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function rs(e,t){if(arguments.length===2)return rs(e).call(null,t);const r={},n=[],s=[];for(const l in e.typeMap){const u=e.typeMap[l];r[l]=De(u),n.push(cn(u)),s.push(l)}const i=()=>`'${n.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Pr(e.base,l)||l==null)return l;const u=a(l)||e.defaultKeyValue,c=r[u];if(!c)return qe().error("Accessor#set",`Invalid property value, value needs to be one of ${i()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Pr(e.typeMap[u],l))return l;if(typeof e.key=="string"&&!$l(l)){const f={};for(const h in l)h!==e.key&&(f[h]=l[h]);return c(f)}return c(l)}}let Gs=class{},Ys=class{};const L0={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Nh(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function Tl(e){switch(e.type){case"native":return De(e.value);case"array":return qt(Tl(e.value));case"one-of":return Ih(e);default:return null}}function Ih(e){let t=null;return(r,n)=>ss(r,e)?r:(t==null&&(t=ns(e)),qe().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function ns(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Gs:return"integer";case Date:return"date";case Ys:return"null";default:return cn(e.value)}case"array":return`array of ${ns(e.value)}`;case"one-of":{const t=e.values.map(r=>ns(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function ss(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Gs:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case Ys:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!ss(r,t.value));case"one-of":return t.values.some(r=>ss(e,r))}}function q(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,r),s=un(t,r);n&&(n.get||n.set?(s.get=n.get||s.get,s.set=n.set||s.set):"value"in n&&("value"in e&&re.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=n.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const i=e.aliasOf;if(i){const l=typeof i=="string"?i:i.source,u=typeof i=="string"?null:i.overridable===!0;let c;s.dependsOn=[l],s.get=function(){let f=Or(this,l);if(typeof f=="function"){c||(c=l.split(".").slice(0,-1).join("."));const h=Or(this,c);h&&(f=f.bind(h))}return f},s.readOnly||(s.set=u?function(f){this._override(r,f)}:function(f){Fr(this,l,f)})}const o=e.type,a=e.types;if(!s.cast){let l;o?l=Ch(o):a&&(l=Array.isArray(a)?qt(rs(a[0])):rs(a)),e.cast=Mh(e.cast,l)}rh(s,e),e.range&&(s.cast=Sh(s.cast,e.range))}}function F0(e,t,r){const n=un(e,r);n.json||(n.json={});let s=n.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Ch(e){let t=0,r=e;if(Nh(e))return Tl(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const n=r;if(Sl(n))return t===0?ts(n):Rr(ts(n),t);if(t===1)return xh(n);if(t>1)return Eh(n,t);const s=e;return s.from?s.from:De(s)}function Mh(e,t){if(e||t)return e?t?(r,n)=>t(e(r,n),n):e:t}function Dh(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const n in r)if(t[n]){const s=t[n];r[n].forEach(i=>{t[i]=s}),delete t[n]}}}let Ol=class extends wa{constructor(t,r,n){super(t,r,n)}};Ol.prototype.type="warning";function _l(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}function R0(e,t){return Js(e,"any",t?.origin)}function Lh(e,t){return Js(e,"read",t?.origin)}function j0(e,t){return Js(e,"write",t?.origin)}function Js(e,t,r){let n=e?.json;if(n?.origins&&r){let s;s=r==="link-chart"?n.origins[r]&&(t==="any"||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],s&&(t==="any"||t in s)&&(n=s)}return n}const is=()=>re.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function Ji(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||jh(e)&&zt("read.reader",Fh(e),t))}function Fh(e){const t=e.ndimArray??0;if(t>1)return Rh(e);if(t===1)return Ki(e);if("type"in e&&xl(e.type)){const r=e.type.prototype?.itemType?.Type,n=Ki(typeof r=="function"?{type:r}:{types:r});return(s,i,o)=>{const a=n(s,i,o);return a&&new e.type(a)}}return Ks(e)}function Ks(e){return"type"in e?Ph(e.type):Uh(e.types)}function Ph(e){return e.prototype.read?(t,r,n)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void is().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const i=new e;return i.read(t,n),i}:e.fromJSON}function Al(e,t,r,n){return n!==0&&Array.isArray(t)?t.map(s=>Al(e,s,r,n-1)):e(t,void 0,r)}function Rh(e){const t=Ks(e),r=Al.bind(null,t),n=e.ndimArray??0;return(s,i,o)=>{if(s==null)return s;s=r(s,o,n);let a=n,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let u=0;u<a;u++)s=[s];return s}}function Ki(e){const t=Ks(e);return(r,n,s)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,s);l!==void 0&&o.push(l)}return o}const i=t(r,void 0,s);return i!==void 0?[i]:void 0}}function xl(e){if(!_l(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?Xs(t.Type):El(t.Type))}function jh(e){return"types"in e?El(e.types):Xs(e.type)}function Xs(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||xl(e))}function El(e){for(const t in e.typeMap)if(!Xs(e.typeMap[t]))return!1;return!0}function Uh(e){let t=null;const r=e.errorContext??"type",n=e.validate;return(s,i,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void is().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=Wh(e));const l=e.key;if(typeof l!="string")return;const u=s[qh(l,t,o)],c=u?t[u]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!c){const h=`Type '${u||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new Ol(`${r}:unsupported`,h,{definition:s,context:o})),void is().error(h)}const f=new c;return f.read(s,o),n?n(f):f}}function qh(e,t,r){const n=Object.values(t)[0],s=mt(n.prototype)[e],i=Lh(s,r),o=i?.read?.source;return o&&typeof o=="string"?o:e}function Wh(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],s=mt(n.prototype);if(typeof e.key=="function")continue;const i=s[e.key];if(!i)continue;if(i.json?.type&&Array.isArray(i.json.type)&&i.json.type.length===1&&typeof i.json.type[0]=="string"){t[i.json.type[0]]=n;continue}const o=i.json?.write;if(!o?.writer){t[r]=n;continue}const a=o.target,l=typeof a=="string"?a:e.key,u={};o.writer(r,u,l),u[l]&&(t[u[l]]=n)}return t}function Vh(e){if(e.json||(e.json={}),Qi(e.json),eo(e.json),Xi(e.json),e.json.origins)for(const t in e.json.origins)Qi(e.json.origins[t]),eo(e.json.origins[t]),Xi(e.json.origins[t]);return!0}function Xi(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function Qi(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function eo(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function to(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&_l(e.type))?t.write.writer=Bh:r>1?t.write.writer=Gh(r):t.types?Array.isArray(t.types)?t.write.writer=Hh(t.types[0]):t.write.writer=zh(t.types):t.write.writer=Wt}function zh(e){return(t,r,n,s)=>t?Nl(t,e,s)?Wt(t,r,n,s):void 0:Wt(t,r,n,s)}function Nl(e,t,r){for(const n in t.typeMap)if(e instanceof t.typeMap[n])return!0;if(r?.messages){const n=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new V(`${n}:unsupported`,s,{definition:e,context:r})),re.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Hh(e){return(t,r,n,s)=>!t||!Array.isArray(t)?Wt(t,r,n,s):Wt(t.filter(i=>Nl(i,e,s)),r,n,s)}function Wt(e,t,r,n){zt(r,jr(e,n),t)}function jr(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Zh(e):e}function Zh(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Bh(e,t,r,n){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(i=>jr(i,n)),typeof s.toArray=="function"&&(s=s.toArray())):s=[jr(e,n)],zt(r,s,t)}function Il(e,t,r){return r!==0&&Array.isArray(e)?e.map(n=>Il(n,t,r-1)):jr(e,t)}function Gh(e){return(t,r,n,s)=>{let i;if(t===null)i=null;else{i=Il(t,s,e);let o=e,a=i;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)i=[i]}zt(n,i,r)}}function Yh(e){const t=Jh(e);if(e.json.origins)for(const r in e.json.origins){const n=e.json.origins[r],s=n.types?Kh(n):t;Ji(s,n,!1),n.types&&!n.write&&e.json.write?.enabled&&(n.write={...e.json.write}),to(s,n)}Ji(t,e.json,!0),to(t,e.json)}function Jh(e){return e.json.types?os(e.json):e.type?Cl(e):os(e)}function Kh(e){return e.type?Cl(e):os(e)}function Cl(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!Sl(r);)r=r[0],t++;return{type:r,ndimArray:t}}function os(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function Xh(e){Vh(e)&&(Dh(e),Yh(e))}const On=new Set,_n=new Set;function Qs(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,em(t);const r=[],n=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!On.has(s.initialize)&&(On.add(s.initialize),r.push(s.initialize)),s.hasOwnProperty("destroy")&&!_n.has(s.destroy)&&(_n.add(s.destroy),n.push(s.destroy)),s=Object.getPrototypeOf(s);On.clear(),_n.clear();const i=class extends t{constructor(...a){if(super(...a),this.constructor===i&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),n.length){let l=!1;const u=this[wl];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Z.DESTROYING,l=!0,u.call(this);for(let c=0;c<n.length;c++)n[c].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};i.__accessorMetadata__=mt(t.prototype),i.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(i,"name",{value:o,configurable:!0}),i}}function Qh(e,t){return t.get==null?function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n===void 0)return;r.mutable&&rn(n);const s=r.store;return s.has(e)?s.get(e):n.metadata.value}:function(){const r=this.__accessor__,n=r.propertiesByName.get(e);if(n!==void 0)return n.getComputed(r)}}function em(e){const t=e.prototype,r=mt(t),n={};for(const s of Object.getOwnPropertyNames(r)){const i=r[s];Xh(i),n[s]={enumerable:!0,configurable:!0,get:Qh(s,i),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&i.readOnly?ro("read-only",s):a.lifecycle===Z.CONSTRUCTED&&i.constructOnly?ro("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}const ro=(e,t)=>{re.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var no,so;function tm(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const ke=Symbol("Accessor-Handles"),An=Symbol("Accessor-Initialized");var Me;let Ml=(Me=class{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:n,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const i=this;class o extends i{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}mt(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...u){const c=this.inherited;let f;this.inherited=function(...h){if(i.prototype[a])return i.prototype[a].apply(this,h)};try{f=l.apply(this,u)}catch(h){throw this.inherited=c,h}return this.inherited=c,f}:t[a]}for(const a in r){const l=tm(r[a]);q(l)(o.prototype,a)}return Qs(n)(o)}static freeze(t){return t instanceof Me?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof Me?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[no]=null,this[so]=!1,this.constructor===Me)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new ch(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[An]=!0}initialize(){}[wl](){this[ke]=Un(this[ke])}destroy(){this.destroyed||(jf(this),this.__accessor__.destroy(),gh()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[An]}get destroyed(){return this.__accessor__?.lifecycle===Z.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Z.DESTROYING||!1}commitProperty(t){Or(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return Fr(this,t,r),this}watch(t,r,n){return th(re.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),zf(this,t,r,n)}addHandles(t,r){if(this.destroyed){const n=Array.isArray(t)?t:[t];for(const s of n)s.remove();return}(this[ke]??=new Bs).add(t,r)}removeHandles(t){this[ke]?.remove(t)}removeAllHandles(){this[ke]?.removeAll()}removeHandlesReference(t){this[ke]?.removeReference(t)}hasHandles(t){return this[ke]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}},no=ke,so=An,Me);const Dl=e=>{const t=e;class r extends t{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(s,i){let o=this._listenersMap?.get(s);if(!o)return!1;let a=!1;for(const l of o.slice()){const u="deref"in l?l.deref():l;u?u?.call(this,i):a=!0}return a&&(o=o.filter(l=>!("deref"in l)||l.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,i){if(Array.isArray(s)){const a=s.map(l=>this.on(l,i));return Yr(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(i),this._listenersMap.set(s,o),O(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(i)??-1;l>=0&&a.splice(l,1)})}once(s,i){const o=this.on(s,a=>{o.remove(),("deref"in i?i.deref():i)?.call(null,a)});return o}hasEventListener(s){const i=this._listenersMap?.get(s);return i!=null&&i.length>0}}return r},rm=Dl(class{}),U0=rm,nm=Dl(Ml);let sm=class{constructor(){this._resolver=at(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(ne())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=at(),r=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(r);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==n||Zt(s)||this._resolver.reject(s)}),t.resolve()}};const Ll=e=>{const t=e;let r=class extends t{constructor(...n){super(...n),this._promiseProps=new sm,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(n,s){return this._promiseProps.promise.then(()=>this).then(n,s)}catch(n){return this.when(null,n)}addResolvingPromise(n){n&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in n?n.when():n)}addResolvingTask(n){n&&!this._promiseProps.isFulfilled()&&(this.addHandles(Ec(n)),this._promiseProps.addResolvingPromise(n.promise))}};return r=F([Qs("esri.core.Promise")],r),r},W0=Ll(Ml);let im=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=om(t),this.apiValues=io(this._apiToJSON),this.jsonValues=io(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,s,i)=>{const o=this.toJSON(n);o!==void 0&&zt(i,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function om(e){const t={};for(const r in e)t[e[r]]=r;return t}function io(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function am(){return function(e,t){return new im(e,{ignoreUnknown:!0,...t})}}function Fl(e){if(!_.assetsPath)throw re.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new V("assets:path-not-set","config.assetsPath is not set");return Vs(_.assetsPath,e)}const lm=Object.prototype.toString;function um(e){const t="__accessorMetadata__"in e?De(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return cm.apply(this,r)}}function cm(e,t,r,n){un(e,t).cast=n}function fm(e){return(t,r)=>{un(t,e).cast=t[r]}}function dm(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&lm.call(e[0])==="[object Function]"?um(e[0]):e.length===1&&typeof e[0]=="string"?fm(e[0]):void 0}let Ft;const hm=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,as=globalThis.document?.documentElement;function Pl(){const e=as?.getAttribute("lang"),t=globalThis.navigator?.language;return hm??e??t??"en"}function Bt(){return Ft===void 0&&(Ft=Pl()),Ft}const mm=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function ei(e=Bt()){return jl(e)?.language}function Rl(e=Bt()){const t=jl(e);return t?.language&&t?.extlang?e.replace(`${t.language}-`,""):e}function jl(e=Bt()){return mm.exec(e)?.groups}const mr=[];function pm(e){return mr.push(e),O(()=>{mr.splice(mr.indexOf(e),1)})}const pr=[];function ti(e){return pr.push(e),O(()=>pr.splice(pr.indexOf(e),1))}function oo(){const e=Pl();Ft!==e&&([...pr].forEach(t=>t(e)),Ft=e,[...mr].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",oo),as&&new MutationObserver(()=>{oo()}).observe(as,{attributeFilter:["lang"]});const Ul={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function gm(e){return e in Ul}function ao(e){if(gm(e)){const t=Ul[e];return t===!0?e:t}return null}const Nt=[],nt=new Map;function lo(e){for(const t of nt.keys())ql(e.pattern,t)&&nt.delete(t)}function ym(e){return Nt.includes(e)||(lo(e),Nt.unshift(e)),O(()=>{const t=Nt.indexOf(e);t>-1&&(Nt.splice(t,1),lo(e))})}async function wm(e){const t=Bt();nt.has(e)||nt.set(e,$m(e,t));const r=nt.get(e);return r&&await bm.add(r),r}function vm(e){const t=ei(e);return t?ao(e)??ao(t):null}async function $m(e,t){const r=[];for(const n of Nt)if(ql(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(s){r.push(s)}throw r.length?new V("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new V("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function ql(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}ti(()=>{nt.clear()});const bm=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=at())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},Wl="system",km="unknown",ri="UTC",Sm=Intl.DateTimeFormat().resolvedOptions().timeZone;class Ze extends Error{}class Tm extends Ze{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class Om extends Ze{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class _m extends Ze{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Qe extends Ze{}class Vl extends Ze{constructor(t){super(`Invalid unit ${t}`)}}class R extends Ze{}class Se extends Ze{constructor(){super("Zone is an abstract class")}}const p="numeric",de="short",G="long",Ur={year:p,month:p,day:p},zl={year:p,month:de,day:p},Am={year:p,month:de,day:p,weekday:de},Hl={year:p,month:G,day:p},Zl={year:p,month:G,day:p,weekday:G},Bl={hour:p,minute:p},Gl={hour:p,minute:p,second:p},Yl={hour:p,minute:p,second:p,timeZoneName:de},Jl={hour:p,minute:p,second:p,timeZoneName:G},Kl={hour:p,minute:p,hourCycle:"h23"},Xl={hour:p,minute:p,second:p,hourCycle:"h23"},Ql={hour:p,minute:p,second:p,hourCycle:"h23",timeZoneName:de},eu={hour:p,minute:p,second:p,hourCycle:"h23",timeZoneName:G},tu={year:p,month:p,day:p,hour:p,minute:p},ru={year:p,month:p,day:p,hour:p,minute:p,second:p},nu={year:p,month:de,day:p,hour:p,minute:p},su={year:p,month:de,day:p,hour:p,minute:p,second:p},xm={year:p,month:de,day:p,weekday:de,hour:p,minute:p},iu={year:p,month:G,day:p,hour:p,minute:p,timeZoneName:de},ou={year:p,month:G,day:p,hour:p,minute:p,second:p,timeZoneName:de},au={year:p,month:G,day:p,weekday:G,hour:p,minute:p,timeZoneName:G},lu={year:p,month:G,day:p,weekday:G,hour:p,minute:p,second:p,timeZoneName:G};class Gt{get type(){throw new Se}get name(){throw new Se}get ianaName(){return this.name}get isUniversal(){throw new Se}offsetName(t,r){throw new Se}formatOffset(t,r){throw new Se}offset(t){throw new Se}equals(t){throw new Se}get isValid(){throw new Se}}let xn=null;class fn extends Gt{static get instance(){return xn===null&&(xn=new fn),xn}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return vu(t,r,n)}formatOffset(t,r){return Pt(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}const ls=new Map;function Em(e){let t=ls.get(e);return t===void 0&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),ls.set(e,t)),t}const Nm={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Im(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,i,o,a,l,u,c]=n;return[o,s,i,a,l,u,c]}function Cm(e,t){const r=e.formatToParts(t),n=[];for(let s=0;s<r.length;s++){const{type:i,value:o}=r[s],a=Nm[i];i==="era"?n[a]=o:w(a)||(n[a]=parseInt(o,10))}return n}const En=new Map;class be extends Gt{static create(t){let r=En.get(t);return r===void 0&&En.set(t,r=new be(t)),r}static resetCache(){En.clear(),ls.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=be.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:n}){return vu(t,r,n,this.name)}formatOffset(t,r){return Pt(this.offset(t),r)}offset(t){if(!this.valid)return NaN;const r=new Date(t);if(isNaN(r))return NaN;const n=Em(this.name);let[s,i,o,a,l,u,c]=n.formatToParts?Cm(n,r):Im(n,r);a==="BC"&&(s=-Math.abs(s)+1);const h=hn({year:s,month:i,day:o,hour:l===24?0:l,minute:u,second:c,millisecond:0});let d=+r;const g=d%1e3;return d-=g>=0?g:1e3+g,(h-d)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let uo={};function Mm(e,t={}){const r=JSON.stringify([e,t]);let n=uo[r];return n||(n=new Intl.ListFormat(e,t),uo[r]=n),n}const us=new Map;function cs(e,t={}){const r=JSON.stringify([e,t]);let n=us.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(e,t),us.set(r,n)),n}const fs=new Map;function Dm(e,t={}){const r=JSON.stringify([e,t]);let n=fs.get(r);return n===void 0&&(n=new Intl.NumberFormat(e,t),fs.set(r,n)),n}const ds=new Map;function Lm(e,t={}){const{base:r,...n}=t,s=JSON.stringify([e,n]);let i=ds.get(s);return i===void 0&&(i=new Intl.RelativeTimeFormat(e,t),ds.set(s,i)),i}let It=null;function Fm(){return It||(It=new Intl.DateTimeFormat().resolvedOptions().locale,It)}const hs=new Map;function uu(e){let t=hs.get(e);return t===void 0&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),hs.set(e,t)),t}const ms=new Map;function Pm(e){let t=ms.get(e);if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...cu,...t}),ms.set(e,t)}return t}function Rm(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let n,s;try{n=cs(e).resolvedOptions(),s=e}catch{const l=e.substring(0,r);n=cs(l).resolvedOptions(),s=l}const{numberingSystem:i,calendar:o}=n;return[s,i,o]}}function jm(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function Um(e){const t=[];for(let r=1;r<=12;r++){const n=v.utc(2009,r,1);t.push(e(n))}return t}function qm(e){const t=[];for(let r=1;r<=7;r++){const n=v.utc(2016,11,13+r);t.push(e(n))}return t}function rr(e,t,r,n){const s=e.listingMode();return s==="error"?null:s==="en"?r(t):n(t)}function Wm(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||uu(e.locale).numberingSystem==="latn"}class Vm{constructor(t,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:i,...o}=n;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=Dm(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):ai(t,3);return I(r,this.padTo)}}}class zm{constructor(t,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&be.create(a).valid?(s=a,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=cs(r,i)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Hm{constructor(t,r,n){this.opts={style:"long",...n},!r&&yu()&&(this.rtf=Lm(t,n))}format(t,r){return this.rtf?this.rtf.format(t,r):hp(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const cu={firstDay:1,minimalDays:4,weekend:[6,7]};class S{static fromOpts(t){return S.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,n,s,i=!1){const o=t||E.defaultLocale,a=o||(i?"en-US":Fm()),l=r||E.defaultNumberingSystem,u=n||E.defaultOutputCalendar,c=gs(s)||E.defaultWeekSettings;return new S(a,l,u,c,o)}static resetCache(){It=null,us.clear(),fs.clear(),ds.clear(),hs.clear(),ms.clear()}static fromObject({locale:t,numberingSystem:r,outputCalendar:n,weekSettings:s}={}){return S.create(t,r,n,s)}constructor(t,r,n,s,i){const[o,a,l]=Rm(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=n||l||null,this.weekSettings=s,this.intl=jm(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Wm(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:S.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,gs(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return rr(this,t,ku,()=>{const n=this.intl==="ja"||this.intl.startsWith("ja-");r&=!n;const s=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";if(!this.monthsCache[i][t]){const o=n?a=>this.dtFormatter(a,s).format():a=>this.extract(a,s,"month");this.monthsCache[i][t]=Um(o)}return this.monthsCache[i][t]})}weekdays(t,r=!1){return rr(this,t,Ou,()=>{const n=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=qm(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return rr(this,void 0,()=>_u,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[v.utc(2016,11,13,9),v.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return rr(this,t,Au,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[v.utc(-40,1,1),v.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[t]})}extract(t,r,n){const s=this.dtFormatter(t,r),i=s.formatToParts(),o=i.find(a=>a.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new Vm(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new zm(t,this.intl,r)}relFormatter(t={}){return new Hm(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Mm(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||uu(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:wu()?Pm(this.locale):cu}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Nn=null;class W extends Gt{static get utcInstance(){return Nn===null&&(Nn=new W(0)),Nn}static instance(t){return t===0?W.utcInstance:new W(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new W(mn(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Pt(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Pt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Pt(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Zm extends Gt{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ae(e,t){if(w(e)||e===null)return t;if(e instanceof Gt)return e;if(Xm(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?fn.instance:r==="utc"||r==="gmt"?W.utcInstance:W.parseSpecifier(r)||be.create(e)}else return Ie(e)?W.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new Zm(e)}const ni={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},co={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Bm=ni.hanidec.replace(/[\[|\]]/g,"").split("");function Gm(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(e[r].search(ni.hanidec)!==-1)t+=Bm.indexOf(e[r]);else for(const s in co){const[i,o]=co[s];n>=i&&n<=o&&(t+=n-i)}}return parseInt(t,10)}else return t}const ps=new Map;function Ym(){ps.clear()}function ie({numberingSystem:e},t=""){const r=e||"latn";let n=ps.get(r);n===void 0&&(n=new Map,ps.set(r,n));let s=n.get(t);return s===void 0&&(s=new RegExp(`${ni[r]}${t}`),n.set(t,s)),s}let fo=()=>Date.now(),ho="system",mo=null,po=null,go=null,yo=60,wo,vo=null;class E{static get now(){return fo}static set now(t){fo=t}static set defaultZone(t){ho=t}static get defaultZone(){return Ae(ho,fn.instance)}static get defaultLocale(){return mo}static set defaultLocale(t){mo=t}static get defaultNumberingSystem(){return po}static set defaultNumberingSystem(t){po=t}static get defaultOutputCalendar(){return go}static set defaultOutputCalendar(t){go=t}static get defaultWeekSettings(){return vo}static set defaultWeekSettings(t){vo=gs(t)}static get twoDigitCutoffYear(){return yo}static set twoDigitCutoffYear(t){yo=t%100}static get throwOnInvalid(){return wo}static set throwOnInvalid(t){wo=t}static resetCaches(){S.resetCache(),be.resetCache(),v.resetCache(),Ym()}}class ue{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const fu=[0,31,59,90,120,151,181,212,243,273,304,334],du=[0,31,60,91,121,152,182,213,244,274,305,335];function ee(e,t){return new ue("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function si(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function hu(e,t,r){return r+(Yt(e)?du:fu)[t-1]}function mu(e,t){const r=Yt(e)?du:fu,n=r.findIndex(i=>i<t),s=t-r[n];return{month:n+1,day:s}}function ii(e,t){return(e-t+7)%7+1}function qr(e,t=4,r=1){const{year:n,month:s,day:i}=e,o=hu(n,s,i),a=ii(si(n,s,i),r);let l=Math.floor((o-a+14-t)/7),u;return l<1?(u=n-1,l=Vt(u,t,r)):l>Vt(n,t,r)?(u=n+1,l=1):u=n,{weekYear:u,weekNumber:l,weekday:a,...pn(e)}}function $o(e,t=4,r=1){const{weekYear:n,weekNumber:s,weekday:i}=e,o=ii(si(n,1,t),r),a=st(n);let l=s*7+i-o-7+t,u;l<1?(u=n-1,l+=st(u)):l>a?(u=n+1,l-=st(n)):u=n;const{month:c,day:f}=mu(u,l);return{year:u,month:c,day:f,...pn(e)}}function In(e){const{year:t,month:r,day:n}=e,s=hu(t,r,n);return{year:t,ordinal:s,...pn(e)}}function bo(e){const{year:t,ordinal:r}=e,{month:n,day:s}=mu(t,r);return{year:t,month:n,day:s,...pn(e)}}function ko(e,t){if(!w(e.localWeekday)||!w(e.localWeekNumber)||!w(e.localWeekYear)){if(!w(e.weekday)||!w(e.weekNumber)||!w(e.weekYear))throw new Qe("Cannot mix locale-based week fields with ISO-based week fields");return w(e.localWeekday)||(e.weekday=e.localWeekday),w(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),w(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Jm(e,t=4,r=1){const n=dn(e.weekYear),s=te(e.weekNumber,1,Vt(e.weekYear,t,r)),i=te(e.weekday,1,7);return n?s?i?!1:ee("weekday",e.weekday):ee("week",e.weekNumber):ee("weekYear",e.weekYear)}function Km(e){const t=dn(e.year),r=te(e.ordinal,1,st(e.year));return t?r?!1:ee("ordinal",e.ordinal):ee("year",e.year)}function pu(e){const t=dn(e.year),r=te(e.month,1,12),n=te(e.day,1,Wr(e.year,e.month));return t?r?n?!1:ee("day",e.day):ee("month",e.month):ee("year",e.year)}function gu(e){const{hour:t,minute:r,second:n,millisecond:s}=e,i=te(t,0,23)||t===24&&r===0&&n===0&&s===0,o=te(r,0,59),a=te(n,0,59),l=te(s,0,999);return i?o?a?l?!1:ee("millisecond",s):ee("second",n):ee("minute",r):ee("hour",t)}function w(e){return typeof e>"u"}function Ie(e){return typeof e=="number"}function dn(e){return typeof e=="number"&&e%1===0}function Xm(e){return typeof e=="string"}function Qm(e){return Object.prototype.toString.call(e)==="[object Date]"}function yu(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function wu(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ep(e){return Array.isArray(e)?e:[e]}function So(e,t,r){if(e.length!==0)return e.reduce((n,s)=>{const i=[t(s),s];return n&&r(n[0],i[0])===n[0]?n:i},null)[1]}function tp(e,t){return t.reduce((r,n)=>(r[n]=e[n],r),{})}function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gs(e){if(e==null)return null;if(typeof e!="object")throw new R("Week settings must be an object");if(!te(e.firstDay,1,7)||!te(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!te(t,1,7)))throw new R("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function te(e,t,r){return dn(e)&&e>=t&&e<=r}function rp(e,t){return e-t*Math.floor(e/t)}function I(e,t=2){const r=e<0;let n;return r?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function Te(e){if(!(w(e)||e===null||e===""))return parseInt(e,10)}function Fe(e){if(!(w(e)||e===null||e===""))return parseFloat(e)}function oi(e){if(!(w(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function ai(e,t,r="round"){const n=10**t;switch(r){case"expand":return e>0?Math.ceil(e*n)/n:Math.floor(e*n)/n;case"trunc":return Math.trunc(e*n)/n;case"round":return Math.round(e*n)/n;case"floor":return Math.floor(e*n)/n;case"ceil":return Math.ceil(e*n)/n;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Yt(e){return e%4===0&&(e%100!==0||e%400===0)}function st(e){return Yt(e)?366:365}function Wr(e,t){const r=rp(t-1,12)+1,n=e+(t-r)/12;return r===2?Yt(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function hn(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function To(e,t,r){return-ii(si(e,1,t),r)+t-1}function Vt(e,t=4,r=1){const n=To(e,t,r),s=To(e+1,t,r);return(st(e)-n+s)/7}function ys(e){return e>99?e:e>E.twoDigitCutoffYear?1900+e:2e3+e}function vu(e,t,r,n=null){const s=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const o={timeZoneName:t,...i},a=new Intl.DateTimeFormat(r,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function mn(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function $u(e){const t=Number(e);if(typeof e=="boolean"||e===""||!Number.isFinite(t))throw new R(`Invalid unit value ${e}`);return t}function Vr(e,t){const r={};for(const n in e)if(ut(e,n)){const s=e[n];if(s==null)continue;r[t(n)]=$u(s)}return r}function Pt(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${I(r,2)}:${I(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${I(r,2)}${I(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function pn(e){return tp(e,["hour","minute","second","millisecond"])}const np=["January","February","March","April","May","June","July","August","September","October","November","December"],bu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sp=["J","F","M","A","M","J","J","A","S","O","N","D"];function ku(e){switch(e){case"narrow":return[...sp];case"short":return[...bu];case"long":return[...np];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Su=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Tu=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ip=["M","T","W","T","F","S","S"];function Ou(e){switch(e){case"narrow":return[...ip];case"short":return[...Tu];case"long":return[...Su];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const _u=["AM","PM"],op=["Before Christ","Anno Domini"],ap=["BC","AD"],lp=["B","A"];function Au(e){switch(e){case"narrow":return[...lp];case"short":return[...ap];case"long":return[...op];default:return null}}function up(e){return _u[e.hour<12?0:1]}function cp(e,t){return Ou(t)[e.weekday-1]}function fp(e,t){return ku(t)[e.month-1]}function dp(e,t){return Au(t)[e.year<0?0:1]}function hp(e,t,r="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&i){const f=e==="days";switch(t){case 1:return f?"tomorrow":`next ${s[e][0]}`;case-1:return f?"yesterday":`last ${s[e][0]}`;case 0:return f?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,u=s[e],c=n?l?u[1]:u[2]||u[1]:l?s[e][0]:e;return o?`${a} ${c} ago`:`in ${a} ${c}`}function Oo(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const mp={D:Ur,DD:zl,DDD:Hl,DDDD:Zl,t:Bl,tt:Gl,ttt:Yl,tttt:Jl,T:Kl,TT:Xl,TTT:Ql,TTTT:eu,f:tu,ff:nu,fff:iu,ffff:au,F:ru,FF:su,FFF:ou,FFFF:lu};class U{static create(t,r={}){return new U(t,r)}static parseFormat(t){let r=null,n="",s=!1;const i=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?((n.length>0||s)&&i.push({literal:s||/^\s+$/.test(n),val:n===""?"'":n}),r=null,n="",s=!s):s||a===r?n+=a:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=a,r=a)}return n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(t){return mp[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0,n=void 0){if(this.opts.forceSimple)return I(t,r);const s={...this.opts};return r>0&&(s.padTo=r),n&&(s.signDisplay=n),this.loc.numberFormatter(s).format(t)}formatDateTimeFromString(t,r){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(d,g)=>this.loc.extract(t,d,g),o=d=>t.isOffsetFixed&&t.offset===0&&d.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,d.format):"",a=()=>n?up(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,g)=>n?fp(t,d):i(g?{month:d}:{month:d,day:"numeric"},"month"),u=(d,g)=>n?cp(t,d):i(g?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const g=U.macroTokenToFormatOpts(d);return g?this.formatWithSystemDefault(t,g):d},f=d=>n?dp(t,d):i({era:d},"era"),h=d=>{switch(d){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?i({day:"numeric"},"day"):this.num(t.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(t.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(t.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return c(d)}};return Oo(U.parseFormat(r),h)}formatDurationFromString(t,r){const n=this.opts.signMode==="negativeLargestOnly"?-1:1,s=c=>{switch(c[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},i=(c,f)=>h=>{const d=s(h);if(d){const g=f.isNegativeDuration&&d!==f.largestUnit?n:1;let y;return this.opts.signMode==="negativeLargestOnly"&&d!==f.largestUnit?y="never":this.opts.signMode==="all"?y="always":y="auto",this.num(c.get(d)*g,h.length,y)}else return h},o=U.parseFormat(r),a=o.reduce((c,{literal:f,val:h})=>f?c:c.concat(h),[]),l=t.shiftTo(...a.map(s).filter(c=>c)),u={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return Oo(o,i(l,u))}}const xu=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function pt(...e){const t=e.reduce((r,n)=>r+n.source,"");return RegExp(`^${t}$`)}function gt(...e){return t=>e.reduce(([r,n,s],i)=>{const[o,a,l]=i(t,s);return[{...r,...o},a||n,l]},[{},null,1]).slice(0,2)}function yt(e,...t){if(e==null)return[null,null];for(const[r,n]of t){const s=r.exec(e);if(s)return n(s)}return[null,null]}function Eu(...e){return(t,r)=>{const n={};let s;for(s=0;s<e.length;s++)n[e[s]]=Te(t[r+s]);return[n,null,r+s]}}const Nu=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,pp=`(?:${Nu.source}?(?:\\[(${xu.source})\\])?)?`,li=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Iu=RegExp(`${li.source}${pp}`),ui=RegExp(`(?:[Tt]${Iu.source})?`),gp=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,yp=/(\d{4})-?W(\d\d)(?:-?(\d))?/,wp=/(\d{4})-?(\d{3})/,vp=Eu("weekYear","weekNumber","weekDay"),$p=Eu("year","ordinal"),bp=/(\d{4})-(\d\d)-(\d\d)/,Cu=RegExp(`${li.source} ?(?:${Nu.source}|(${xu.source}))?`),kp=RegExp(`(?: ${Cu.source})?`);function it(e,t,r){const n=e[t];return w(n)?r:Te(n)}function Sp(e,t){return[{year:it(e,t),month:it(e,t+1,1),day:it(e,t+2,1)},null,t+3]}function wt(e,t){return[{hours:it(e,t,0),minutes:it(e,t+1,0),seconds:it(e,t+2,0),milliseconds:oi(e[t+3])},null,t+4]}function Jt(e,t){const r=!e[t]&&!e[t+1],n=mn(e[t+1],e[t+2]),s=r?null:W.instance(n);return[{},s,t+3]}function Kt(e,t){const r=e[t]?be.create(e[t]):null;return[{},r,t+1]}const Tp=RegExp(`^T?${li.source}$`),Op=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function _p(e){const[t,r,n,s,i,o,a,l,u]=e,c=t[0]==="-",f=l&&l[0]==="-",h=(d,g=!1)=>d!==void 0&&(g||d&&c)?-d:d;return[{years:h(Fe(r)),months:h(Fe(n)),weeks:h(Fe(s)),days:h(Fe(i)),hours:h(Fe(o)),minutes:h(Fe(a)),seconds:h(Fe(l),l==="-0"),milliseconds:h(oi(u),f)}]}const Ap={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ci(e,t,r,n,s,i,o){const a={year:t.length===2?ys(Te(t)):Te(t),month:bu.indexOf(r)+1,day:Te(n),hour:Te(s),minute:Te(i)};return o&&(a.second=Te(o)),e&&(a.weekday=e.length>3?Su.indexOf(e)+1:Tu.indexOf(e)+1),a}const xp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ep(e){const[,t,r,n,s,i,o,a,l,u,c,f]=e,h=ci(t,s,n,r,i,o,a);let d;return l?d=Ap[l]:u?d=0:d=mn(c,f),[h,new W(d)]}function Np(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Ip=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Cp=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Mp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function _o(e){const[,t,r,n,s,i,o,a]=e;return[ci(t,s,n,r,i,o,a),W.utcInstance]}function Dp(e){const[,t,r,n,s,i,o,a]=e;return[ci(t,a,r,n,s,i,o),W.utcInstance]}const Lp=pt(gp,ui),Fp=pt(yp,ui),Pp=pt(wp,ui),Rp=pt(Iu),Mu=gt(Sp,wt,Jt,Kt),jp=gt(vp,wt,Jt,Kt),Up=gt($p,wt,Jt,Kt),qp=gt(wt,Jt,Kt);function Wp(e){return yt(e,[Lp,Mu],[Fp,jp],[Pp,Up],[Rp,qp])}function Vp(e){return yt(Np(e),[xp,Ep])}function zp(e){return yt(e,[Ip,_o],[Cp,_o],[Mp,Dp])}function Hp(e){return yt(e,[Op,_p])}const Zp=gt(wt);function Bp(e){return yt(e,[Tp,Zp])}const Gp=pt(bp,kp),Yp=pt(Cu),Jp=gt(wt,Jt,Kt);function Kp(e){return yt(e,[Gp,Mu],[Yp,Jp])}const Ao="Invalid Duration",Du={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Xp={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Du},X=146097/400,Ye=146097/4800,Qp={years:{quarters:4,months:12,weeks:X/7,days:X,hours:X*24,minutes:X*24*60,seconds:X*24*60*60,milliseconds:X*24*60*60*1e3},quarters:{months:3,weeks:X/28,days:X/4,hours:X*24/4,minutes:X*24*60/4,seconds:X*24*60*60/4,milliseconds:X*24*60*60*1e3/4},months:{weeks:Ye/7,days:Ye,hours:Ye*24,minutes:Ye*24*60,seconds:Ye*24*60*60,milliseconds:Ye*24*60*60*1e3},...Du},je=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],eg=je.slice(0).reverse();function we(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new b(n)}function Lu(e,t){let r=t.milliseconds??0;for(const n of eg.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function xo(e,t){const r=Lu(e,t)<0?-1:1;je.reduceRight((n,s)=>{if(w(t[s]))return n;if(n){const i=t[n]*r,o=e[s][n],a=Math.floor(i/o);t[s]+=a*r,t[n]-=a*o*r}return s},null),je.reduce((n,s)=>{if(w(t[s]))return n;if(n){const i=t[n]%1;t[n]-=i,t[s]+=i*e[n][s]}return s},null)}function Eo(e){const t={};for(const[r,n]of Object.entries(e))n!==0&&(t[r]=n);return t}class b{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let n=r?Qp:Xp;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||S.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,r){return b.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new R(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new b({values:Vr(t,b.normalizeUnit),loc:S.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(Ie(t))return b.fromMillis(t);if(b.isDuration(t))return t;if(typeof t=="object")return b.fromObject(t);throw new R(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[n]=Hp(t);return n?b.fromObject(n,r):b.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[n]=Bp(t);return n?b.fromObject(n,r):b.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new R("need to specify a reason the Duration is invalid");const n=t instanceof ue?t:new ue(t,r);if(E.throwOnInvalid)throw new _m(n);return new b({invalid:n})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new Vl(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?U.create(this.loc,n).formatDurationFromString(this,t):Ao}toHuman(t={}){if(!this.isValid)return Ao;const r=t.showZeros!==!1,n=je.map(s=>{const i=this.values[s];return w(i)||i===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:s.slice(0,-1)}).format(i)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=ai(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},v.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Lu(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=b.fromDurationLike(t),n={};for(const s of je)(ut(r.values,s)||ut(this.values,s))&&(n[s]=r.get(s)+this.get(s));return we(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const r=b.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=$u(t(this.values[n],n));return we(this,{values:r},!0)}get(t){return this[b.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...Vr(t,b.normalizeUnit)};return we(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:s,conversionAccuracy:n};return we(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return xo(this.matrix,t),we(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Eo(this.normalize().shiftToAll().toObject());return we(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>b.normalizeUnit(o));const r={},n={},s=this.toObject();let i;for(const o of je)if(t.indexOf(o)>=0){i=o;let a=0;for(const u in n)a+=this.matrix[u][o]*n[u],n[u]=0;Ie(s[o])&&(a+=s[o]);const l=Math.trunc(a);r[o]=l,n[o]=(a*1e3-l*1e3)/1e3}else Ie(s[o])&&(n[o]=s[o]);for(const o in n)n[o]!==0&&(r[i]+=o===i?n[o]:n[o]/this.matrix[i][o]);return xo(this.matrix,r),we(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return we(this,{values:t},!0)}removeZeros(){if(!this.isValid)return this;const t=Eo(this.values);return we(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of je)if(!r(this.values[n],t.values[n]))return!1;return!0}}const Je="Invalid Interval";function tg(e,t){return!e||!e.isValid?x.invalid("missing or invalid start"):!t||!t.isValid?x.invalid("missing or invalid end"):t<e?x.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class x{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new R("need to specify a reason the Interval is invalid");const n=t instanceof ue?t:new ue(t,r);if(E.throwOnInvalid)throw new Om(n);return new x({invalid:n})}static fromDateTimes(t,r){const n=kt(t),s=kt(r),i=tg(n,s);return i??new x({start:n,end:s})}static after(t,r){const n=b.fromDurationLike(r),s=kt(t);return x.fromDateTimes(s,s.plus(n))}static before(t,r){const n=b.fromDurationLike(r),s=kt(t);return x.fromDateTimes(s.minus(n),s)}static fromISO(t,r){const[n,s]=(t||"").split("/",2);if(n&&s){let i,o;try{i=v.fromISO(n,r),o=i.isValid}catch{o=!1}let a,l;try{a=v.fromISO(s,r),l=a.isValid}catch{l=!1}if(o&&l)return x.fromDateTimes(i,a);if(o){const u=b.fromISO(s,r);if(u.isValid)return x.after(i,u)}else if(l){const u=b.fromISO(n,r);if(u.isValid)return x.before(a,u)}}return x.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(t,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(t,r),Math.floor(s.diff(n,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?x.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(kt).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),n=[];let{s}=this,i=0;for(;s<this.e;){const o=r[i]||this.e,a=+o>+this.e?this.e:o;n.push(x.fromDateTimes(s,a)),s=a,i+=1}return n}splitBy(t){const r=b.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,i;const o=[];for(;n<this.e;){const a=this.start.plus(r.mapUnits(l=>l*s));i=+a>+this.e?this.e:a,o.push(x.fromDateTimes(n,i)),n=i,s+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:x.fromDateTimes(r,n)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return x.fromDateTimes(r,n)}static merge(t){const[r,n]=t.sort((s,i)=>s.s-i.s).reduce(([s,i],o)=>i?i.overlaps(o)||i.abutsStart(o)?[s,i.union(o)]:[s.concat([i]),o]:[s,o],[[],null]);return n&&r.push(n),r}static xor(t){let r=null,n=0;const s=[],i=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...i),a=o.sort((l,u)=>l.time-u.time);for(const l of a)n+=l.type==="s"?1:-1,n===1?r=l.time:(r&&+r!=+l.time&&s.push(x.fromDateTimes(r,l.time)),r=null);return x.merge(s)}difference(...t){return x.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Je}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Ur,r={}){return this.isValid?U.create(this.s.loc.clone(r),t).formatInterval(this):Je}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Je}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Je}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Je}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Je}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):b.invalid(this.invalidReason)}mapEndpoints(t){return x.fromDateTimes(t(this.s),t(this.e))}}class nr{static hasDST(t=E.defaultZone){const r=v.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return be.isValidZone(t)}static normalizeZone(t){return Ae(t,E.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||S.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||S.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||S.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||S.create(r,n,i)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||S.create(r,n,i)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||S.create(r,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||S.create(r,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return S.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return S.create(r,null,"gregory").eras(t)}static features(){return{relative:yu(),localeWeek:wu()}}}function No(e,t){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(b.fromMillis(n).as("days"))}function rg(e,t,r){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const c=No(l,u);return(c-c%7)/7}],["days",No]],s={},i=e;let o,a;for(const[l,u]of n)r.indexOf(l)>=0&&(o=l,s[l]=u(e,t),a=i.plus(s),a>t?(s[l]--,e=i.plus(s),e>t&&(a=e,s[l]--,e=i.plus(s))):e=a);return[e,s,a,o]}function ng(e,t,r,n){let[s,i,o,a]=rg(e,t,r);const l=t-s,u=r.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(i[a]=(i[a]||0)+l/(o-s)));const c=b.fromObject(i,n);return u.length>0?b.fromMillis(l,n).shiftTo(...u).plus(c):c}const sg="missing Intl.DateTimeFormat.formatToParts support";function k(e,t=r=>r){return{regex:e,deser:([r])=>t(Gm(r))}}const ig="",Fu=`[ ${ig}]`,Pu=new RegExp(Fu,"g");function og(e){return e.replace(/\./g,"\\.?").replace(Pu,Fu)}function Io(e){return e.replace(/\./g,"").replace(Pu," ").toLowerCase()}function oe(e,t){return e===null?null:{regex:RegExp(e.map(og).join("|")),deser:([r])=>e.findIndex(n=>Io(r)===Io(n))+t}}function Co(e,t){return{regex:e,deser:([,r,n])=>mn(r,n),groups:t}}function sr(e){return{regex:e,deser:([t])=>t}}function ag(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function lg(e,t){const r=ie(t),n=ie(t,"{2}"),s=ie(t,"{3}"),i=ie(t,"{4}"),o=ie(t,"{6}"),a=ie(t,"{1,2}"),l=ie(t,"{1,3}"),u=ie(t,"{1,6}"),c=ie(t,"{1,9}"),f=ie(t,"{2,4}"),h=ie(t,"{4,6}"),d=$=>({regex:RegExp(ag($.val)),deser:([z])=>z,literal:!0}),y=($=>{if(e.literal)return d($);switch($.val){case"G":return oe(t.eras("short"),0);case"GG":return oe(t.eras("long"),0);case"y":return k(u);case"yy":return k(f,ys);case"yyyy":return k(i);case"yyyyy":return k(h);case"yyyyyy":return k(o);case"M":return k(a);case"MM":return k(n);case"MMM":return oe(t.months("short",!0),1);case"MMMM":return oe(t.months("long",!0),1);case"L":return k(a);case"LL":return k(n);case"LLL":return oe(t.months("short",!1),1);case"LLLL":return oe(t.months("long",!1),1);case"d":return k(a);case"dd":return k(n);case"o":return k(l);case"ooo":return k(s);case"HH":return k(n);case"H":return k(a);case"hh":return k(n);case"h":return k(a);case"mm":return k(n);case"m":return k(a);case"q":return k(a);case"qq":return k(n);case"s":return k(a);case"ss":return k(n);case"S":return k(l);case"SSS":return k(s);case"u":return sr(c);case"uu":return sr(a);case"uuu":return k(r);case"a":return oe(t.meridiems(),0);case"kkkk":return k(i);case"kk":return k(f,ys);case"W":return k(a);case"WW":return k(n);case"E":case"c":return k(r);case"EEE":return oe(t.weekdays("short",!1),1);case"EEEE":return oe(t.weekdays("long",!1),1);case"ccc":return oe(t.weekdays("short",!0),1);case"cccc":return oe(t.weekdays("long",!0),1);case"Z":case"ZZ":return Co(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Co(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return sr(/[a-z_+-/]{1,256}?/i);case" ":return sr(/[^\S\n\r]/);default:return d($)}})(e)||{invalidReason:sg};return y.token=e,y}const ug={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function cg(e,t,r){const{type:n,value:s}=e;if(n==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const i=t[n];let o=n;n==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=ug[o];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function fg(e){return[`^${e.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,e]}function dg(e,t,r){const n=e.match(t);if(n){const s={};let i=1;for(const o in r)if(ut(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(n.slice(i,i+l))),i+=l}return[n,s]}else return[n,{}]}function hg(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return w(e.z)||(r=be.create(e.z)),w(e.Z)||(r||(r=new W(e.Z)),n=e.Z),w(e.q)||(e.M=(e.q-1)*3+1),w(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),w(e.u)||(e.S=oi(e.u)),[Object.keys(e).reduce((i,o)=>{const a=t(o);return a&&(i[a]=e[o]),i},{}),r,n]}let Cn=null;function mg(){return Cn||(Cn=v.fromMillis(1555555555555)),Cn}function pg(e,t){if(e.literal)return e;const r=U.macroTokenToFormatOpts(e.val),n=qu(r,t);return n==null||n.includes(void 0)?e:n}function Ru(e,t){return Array.prototype.concat(...e.map(r=>pg(r,t)))}class ju{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=Ru(U.parseFormat(r),t),this.units=this.tokens.map(n=>lg(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=fg(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[r,n]=dg(t,this.regex,this.handlers),[s,i,o]=n?hg(n):[null,null,void 0];if(ut(n,"a")&&ut(n,"H"))throw new Qe("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:s,zone:i,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Uu(e,t,r){return new ju(e,r).explainFromTokens(t)}function gg(e,t,r){const{result:n,zone:s,specificOffset:i,invalidReason:o}=Uu(e,t,r);return[n,s,i,o]}function qu(e,t){if(!e)return null;const n=U.create(t,e).dtFormatter(mg()),s=n.formatToParts(),i=n.resolvedOptions();return s.map(o=>cg(o,e,i))}const Mn="Invalid DateTime",Mo=864e13;function Ct(e){return new ue("unsupported zone",`the zone "${e.name}" is not supported`)}function Dn(e){return e.weekData===null&&(e.weekData=qr(e.c)),e.weekData}function Ln(e){return e.localWeekData===null&&(e.localWeekData=qr(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Pe(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new v({...r,...t,old:r})}function Wu(e,t,r){let n=e-t*60*1e3;const s=r.offset(n);if(t===s)return[n,t];n-=(s-t)*60*1e3;const i=r.offset(n);return s===i?[n,s]:[e-Math.min(s,i)*60*1e3,Math.max(s,i)]}function ir(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function gr(e,t,r){return Wu(hn(e),t,r)}function Do(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:n,month:s,day:Math.min(e.c.day,Wr(n,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=b.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=hn(i);let[l,u]=Wu(a,r,e.zone);return o!==0&&(l+=o,u=e.zone.offset(l)),{ts:l,o:u}}function Ke(e,t,r,n,s,i){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,u=v.fromObject(e,{...r,zone:l,specificOffset:i});return o?u:u.setZone(a)}else return v.invalid(new ue("unparsable",`the input "${s}" can't be parsed as ${n}`))}function or(e,t,r=!0){return e.isValid?U.create(S.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Fn(e,t,r){const n=e.c.year>9999||e.c.year<0;let s="";if(n&&e.c.year>=0&&(s+="+"),s+=I(e.c.year,n?6:4),r==="year")return s;if(t){if(s+="-",s+=I(e.c.month),r==="month")return s;s+="-"}else if(s+=I(e.c.month),r==="month")return s;return s+=I(e.c.day),s}function Lo(e,t,r,n,s,i,o){let a=!r||e.c.millisecond!==0||e.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=I(e.c.hour),o==="hour")break;if(t){if(l+=":",l+=I(e.c.minute),o==="minute")break;a&&(l+=":",l+=I(e.c.second))}else{if(l+=I(e.c.minute),o==="minute")break;a&&(l+=I(e.c.second))}if(o==="second")break;a&&(!n||e.c.millisecond!==0)&&(l+=".",l+=I(e.c.millisecond,3))}return s&&(e.isOffsetFixed&&e.offset===0&&!i?l+="Z":e.o<0?(l+="-",l+=I(Math.trunc(-e.o/60)),l+=":",l+=I(Math.trunc(-e.o%60))):(l+="+",l+=I(Math.trunc(e.o/60)),l+=":",l+=I(Math.trunc(e.o%60)))),i&&(l+="["+e.zone.ianaName+"]"),l}const Vu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yg={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},wg={ordinal:1,hour:0,minute:0,second:0,millisecond:0},yr=["year","month","day","hour","minute","second","millisecond"],vg=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],$g=["year","ordinal","hour","minute","second","millisecond"];function wr(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Vl(e);return t}function Fo(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return wr(e)}}function bg(e){if(Mt===void 0&&(Mt=E.now()),e.type!=="iana")return e.offset(Mt);const t=e.name;let r=ws.get(t);return r===void 0&&(r=e.offset(Mt),ws.set(t,r)),r}function Po(e,t){const r=Ae(t.zone,E.defaultZone);if(!r.isValid)return v.invalid(Ct(r));const n=S.fromObject(t);let s,i;if(w(e.year))s=E.now();else{for(const l of yr)w(e[l])&&(e[l]=Vu[l]);const o=pu(e)||gu(e);if(o)return v.invalid(o);const a=bg(r);[s,i]=gr(e,a,r)}return new v({ts:s,zone:r,loc:n,o:i})}function Ro(e,t,r){const n=w(r.round)?!0:r.round,s=w(r.rounding)?"trunc":r.rounding,i=(a,l)=>(a=ai(a,n||r.calendary?0:2,r.calendary?"round":s),t.loc.clone(r).relFormatter(r).format(a,l)),o=a=>r.calendary?t.hasSame(e,a)?0:t.startOf(a).diff(e.startOf(a),a).get(a):t.diff(e,a).get(a);if(r.unit)return i(o(r.unit),r.unit);for(const a of r.units){const l=o(a);if(Math.abs(l)>=1)return i(l,a)}return i(e>t?-0:0,r.units[r.units.length-1])}function jo(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let Mt;const ws=new Map;class v{constructor(t){const r=t.zone||E.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new ue("invalid input"):null)||(r.isValid?null:Ct(r));this.ts=w(t.ts)?E.now():t.ts;let s=null,i=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[s,i]=[t.old.c,t.old.o];else{const a=Ie(t.o)&&!t.old?t.o:r.offset(this.ts);s=ir(this.ts,a),n=Number.isNaN(s.year)?new ue("invalid input"):null,s=n?null:s,i=n?null:a}this._zone=r,this.loc=t.loc||S.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new v({})}static local(){const[t,r]=jo(arguments),[n,s,i,o,a,l,u]=r;return Po({year:n,month:s,day:i,hour:o,minute:a,second:l,millisecond:u},t)}static utc(){const[t,r]=jo(arguments),[n,s,i,o,a,l,u]=r;return t.zone=W.utcInstance,Po({year:n,month:s,day:i,hour:o,minute:a,second:l,millisecond:u},t)}static fromJSDate(t,r={}){const n=Qm(t)?t.valueOf():NaN;if(Number.isNaN(n))return v.invalid("invalid input");const s=Ae(r.zone,E.defaultZone);return s.isValid?new v({ts:n,zone:s,loc:S.fromObject(r)}):v.invalid(Ct(s))}static fromMillis(t,r={}){if(Ie(t))return t<-Mo||t>Mo?v.invalid("Timestamp out of range"):new v({ts:t,zone:Ae(r.zone,E.defaultZone),loc:S.fromObject(r)});throw new R(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(Ie(t))return new v({ts:t*1e3,zone:Ae(r.zone,E.defaultZone),loc:S.fromObject(r)});throw new R("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const n=Ae(r.zone,E.defaultZone);if(!n.isValid)return v.invalid(Ct(n));const s=S.fromObject(r),i=Vr(t,Fo),{minDaysInFirstWeek:o,startOfWeek:a}=ko(i,s),l=E.now(),u=w(r.specificOffset)?n.offset(l):r.specificOffset,c=!w(i.ordinal),f=!w(i.year),h=!w(i.month)||!w(i.day),d=f||h,g=i.weekYear||i.weekNumber;if((d||c)&&g)throw new Qe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&c)throw new Qe("Can't mix ordinal dates with month/day");const y=g||i.weekday&&!d;let $,z,P=ir(l,u);y?($=vg,z=yg,P=qr(P,o,a)):c?($=$g,z=wg,P=In(P)):($=yr,z=Vu);let ge=!1;for(const D of $){const $n=i[D];w($n)?ge?i[D]=z[D]:i[D]=P[D]:ge=!0}const vt=y?Jm(i,o,a):c?Km(i):pu(i),Y=vt||gu(i);if(Y)return v.invalid(Y);const ye=y?$o(i,o,a):c?bo(i):i,[J,he]=gr(ye,u,n),K=new v({ts:J,zone:n,o:he,loc:s});return i.weekday&&d&&t.weekday!==K.weekday?v.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${K.toISO()}`):K.isValid?K:v.invalid(K.invalid)}static fromISO(t,r={}){const[n,s]=Wp(t);return Ke(n,s,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[n,s]=Vp(t);return Ke(n,s,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[n,s]=zp(t);return Ke(n,s,r,"HTTP",r)}static fromFormat(t,r,n={}){if(w(t)||w(r))throw new R("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=n,o=S.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[a,l,u,c]=gg(o,t,r);return c?v.invalid(c):Ke(a,l,n,`format ${r}`,t,u)}static fromString(t,r,n={}){return v.fromFormat(t,r,n)}static fromSQL(t,r={}){const[n,s]=Kp(t);return Ke(n,s,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new R("need to specify a reason the DateTime is invalid");const n=t instanceof ue?t:new ue(t,r);if(E.throwOnInvalid)throw new Tm(n);return new v({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const n=qu(t,S.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(t,r={}){return Ru(U.parseFormat(t),S.fromObject(r)).map(s=>s.val).join("")}static resetCache(){Mt=void 0,ws.clear()}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Dn(this).weekYear:NaN}get weekNumber(){return this.isValid?Dn(this).weekNumber:NaN}get weekday(){return this.isValid?Dn(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ln(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ln(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ln(this).weekYear:NaN}get ordinal(){return this.isValid?In(this.c).ordinal:NaN}get monthShort(){return this.isValid?nr.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?nr.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?nr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?nr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,n=hn(this.c),s=this.zone.offset(n-t),i=this.zone.offset(n+t),o=this.zone.offset(n-s*r),a=this.zone.offset(n-i*r);if(o===a)return[this];const l=n-o*r,u=n-a*r,c=ir(l,o),f=ir(u,a);return c.hour===f.hour&&c.minute===f.minute&&c.second===f.second&&c.millisecond===f.millisecond?[Pe(this,{ts:l}),Pe(this,{ts:u})]:[this]}get isInLeapYear(){return Yt(this.year)}get daysInMonth(){return Wr(this.year,this.month)}get daysInYear(){return this.isValid?st(this.year):NaN}get weeksInWeekYear(){return this.isValid?Vt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Vt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:n,calendar:s}=U.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(t=0,r={}){return this.setZone(W.instance(t),r)}toLocal(){return this.setZone(E.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(t=Ae(t,E.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(r||n){const i=t.offset(this.ts),o=this.toObject();[s]=gr(o,i,t)}return Pe(this,{ts:s,zone:t})}else return v.invalid(Ct(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:n}={}){const s=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n});return Pe(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=Vr(t,Fo),{minDaysInFirstWeek:n,startOfWeek:s}=ko(r,this.loc),i=!w(r.weekYear)||!w(r.weekNumber)||!w(r.weekday),o=!w(r.ordinal),a=!w(r.year),l=!w(r.month)||!w(r.day),u=a||l,c=r.weekYear||r.weekNumber;if((u||o)&&c)throw new Qe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Qe("Can't mix ordinal dates with month/day");let f;i?f=$o({...qr(this.c,n,s),...r},n,s):w(r.ordinal)?(f={...this.toObject(),...r},w(r.day)&&(f.day=Math.min(Wr(f.year,f.month),f.day))):f=bo({...In(this.c),...r});const[h,d]=gr(f,this.o,this.zone);return Pe(this,{ts:h,o:d})}plus(t){if(!this.isValid)return this;const r=b.fromDurationLike(t);return Pe(this,Do(this,r))}minus(t){if(!this.isValid)return this;const r=b.fromDurationLike(t).negate();return Pe(this,Do(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},s=b.normalizeUnit(t);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(r){const i=this.loc.getStartOfWeek(),{weekday:o}=this;o<i&&(n.weekNumber=this.weekNumber-1),n.weekday=i}else n.weekday=1;if(s==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?U.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):Mn}toLocaleString(t=Ur,r={}){return this.isValid?U.create(this.loc.clone(r),t).formatDateTime(this):Mn}toLocaleParts(t={}){return this.isValid?U.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:i=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=wr(o);const a=t==="extended";let l=Fn(this,a,o);return yr.indexOf(o)>=3&&(l+="T"),l+=Lo(this,a,r,n,s,i,o),l}toISODate({format:t="extended",precision:r="day"}={}){return this.isValid?Fn(this,t==="extended",wr(r)):null}toISOWeekDate(){return or(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:i=!1,format:o="extended",precision:a="milliseconds"}={}){return this.isValid?(a=wr(a),(s&&yr.indexOf(a)>=3?"T":"")+Lo(this,o==="extended",r,t,n,i,a)):null}toRFC2822(){return or(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return or(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Fn(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||t)&&(n&&(s+=" "),r?s+="z":t&&(s+="ZZ")),or(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Mn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",n={}){if(!this.isValid||!t.isValid)return b.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=ep(r).map(b.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,u=ng(a,l,i,s);return o?u.negate():u}diffNow(t="milliseconds",r={}){return this.diff(v.now(),t,r)}until(t){return this.isValid?x.fromDateTimes(this,t):this}hasSame(t,r,n){if(!this.isValid)return!1;const s=t.valueOf(),i=this.setZone(t.zone,{keepLocalTime:!0});return i.startOf(r,n)<=s&&s<=i.endOf(r,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||v.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(s=t.unit,i=void 0),Ro(r,this.plus(n),{...t,numeric:"always",units:s,unit:i})}toRelativeCalendar(t={}){return this.isValid?Ro(t.base||v.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(v.isDateTime))throw new R("min requires all arguments be DateTimes");return So(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(v.isDateTime))throw new R("max requires all arguments be DateTimes");return So(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,n={}){const{locale:s=null,numberingSystem:i=null}=n,o=S.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return Uu(o,t,r)}static fromStringExplain(t,r,n={}){return v.fromFormatExplain(t,r,n)}static buildFormatParser(t,r={}){const{locale:n=null,numberingSystem:s=null}=r,i=S.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new ju(i,t)}static fromFormatParser(t,r,n={}){if(w(t)||w(r))throw new R("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:i=null}=n,o=S.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});if(!o.equals(r.locale))throw new R(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:u,invalidReason:c}=r.explainFromTokens(t);return c?v.invalid(c):Ke(a,l,n,`format ${r.format}`,t,u)}static get DATE_SHORT(){return Ur}static get DATE_MED(){return zl}static get DATE_MED_WITH_WEEKDAY(){return Am}static get DATE_FULL(){return Hl}static get DATE_HUGE(){return Zl}static get TIME_SIMPLE(){return Bl}static get TIME_WITH_SECONDS(){return Gl}static get TIME_WITH_SHORT_OFFSET(){return Yl}static get TIME_WITH_LONG_OFFSET(){return Jl}static get TIME_24_SIMPLE(){return Kl}static get TIME_24_WITH_SECONDS(){return Xl}static get TIME_24_WITH_SHORT_OFFSET(){return Ql}static get TIME_24_WITH_LONG_OFFSET(){return eu}static get DATETIME_SHORT(){return tu}static get DATETIME_SHORT_WITH_SECONDS(){return ru}static get DATETIME_MED(){return nu}static get DATETIME_MED_WITH_SECONDS(){return su}static get DATETIME_MED_WITH_WEEKDAY(){return xm}static get DATETIME_FULL(){return iu}static get DATETIME_FULL_WITH_SECONDS(){return ou}static get DATETIME_HUGE(){return au}static get DATETIME_HUGE_WITH_SECONDS(){return lu}}function kt(e){if(v.isDateTime(e))return e;if(e&&e.valueOf&&Ie(e.valueOf()))return v.fromJSDate(e);if(e&&typeof e=="object")return v.fromObject(e);throw new R(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const kg={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},Sg={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},zu={timeZone:ri},me={year:"numeric",month:"numeric",day:"numeric"},St={year:"numeric",month:"long",day:"numeric"},Tt={year:"numeric",month:"short",day:"numeric"},Ot={year:"numeric",month:"long",weekday:"long",day:"numeric"},Oe={hour:"numeric",minute:"numeric"},Re={...Oe,second:"numeric"},Hu={hourCycle:"h23"},_t={...Oe,...Hu},At={...Re,...Hu},Zu={"short-date":me,"short-date-short-time":{...me,...Oe},"short-date-short-time-24":{...me,..._t},"short-date-long-time":{...me,...Re},"short-date-long-time-24":{...me,...At},"short-date-le":me,"short-date-le-short-time":{...me,...Oe},"short-date-le-short-time-24":{...me,..._t},"short-date-le-long-time":{...me,...Re},"short-date-le-long-time-24":{...me,...At},"long-month-day-year":St,"long-month-day-year-short-time":{...St,...Oe},"long-month-day-year-short-time-24":{...St,..._t},"long-month-day-year-long-time":{...St,...Re},"long-month-day-year-long-time-24":{...St,...At},"day-short-month-year":Tt,"day-short-month-year-short-time":{...Tt,...Oe},"day-short-month-year-short-time-24":{...Tt,..._t},"day-short-month-year-long-time":{...Tt,...Re},"day-short-month-year-long-time-24":{...Tt,...At},"long-date":Ot,"long-date-short-time":{...Ot,...Oe},"long-date-short-time-24":{...Ot,..._t},"long-date-long-time":{...Ot,...Re},"long-date-long-time-24":{...Ot,...At},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Oe,"long-time":Re},z0=am()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Bu={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},Tg=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),Og=Tg.find(({type:e})=>e==="month")?.value.toLowerCase();function Gu(){const e=ei();return(e&&Bu[e])??Rl()}Og!=="mart"&&(Bu.bs="sr-Latn-CS");let vs=new WeakMap;const gn=Zu["short-date-short-time"];function _g(e){let t=vs.get(e);if(!t){const r=Gu(),n=Ag(e.timeZone??Wl),s={...e,timeZone:n};t=new Intl.DateTimeFormat(r,s),vs.set(e,t)}return t}function H0(e){return Zu[e]}function Z0(e){const{dateStyle:t,timeStyle:r,hour12:n,year:s,month:i}=e,o={};return t?o.dateStyle=t:s&&(o.year=s,o.month=i||void 0),r&&!o.year&&(o.timeStyle=r,o.hour12=n==="auto"?void 0:n==="always"),o}function fi(e,t=gn){return _g(t).format(e)}function B0(e,t=gn){return fi(new Date(e),{...t,...zu,...Sg})}function G0(e,t=gn){return fi(new Date(`1970-01-01T${e}Z`),{...t,...zu,...kg})}function Y0(e,t=gn){if(t.timeZone)return fi(new Date(e),t);const r=v.fromISO(e,{setZone:!0}),n=r.offset===0?ri:t.timeZone,s={...t,timeZone:n};return r.toLocaleString(s,{locale:Gu()})}function Ag(e){switch(e){case Wl:return Sm;case km:return ri;default:return e}}ti(()=>{vs=new WeakMap});const xg={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let vr=new WeakMap,Yu={};function $s(e){const t=e||Yu;if(!vr.has(t)){const r=ei(),n=r&&xg[r]||Rl();vr.set(t,new Intl.NumberFormat(n,e))}return vr.get(t)}function J0(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function K0(e){const{minimumFractionDigits:t,maximumFractionDigits:r,useGrouping:n}=e;return{minimumFractionDigits:t,maximumFractionDigits:r,useGrouping:n==="auto"?"auto":n==="always"}}function X0(e,t){return Object.is(e,-0)&&(e=0),$s(t).format(e)}function Q0(e,t=Bt()){if(!e)return null;let r=Uo.get(t);if(!r){const n=$s().formatToParts(12345.6),s=[...$s({useGrouping:!1}).format(9876543210)].reverse(),i=new Map(s.map((f,h)=>[f,h])),o=new RegExp(`[${n.find(f=>f.type==="group")?.value}]`,"g"),a=new RegExp(`[${n.find(f=>f.type==="decimal")?.value}]`),l=new RegExp(`[${s.join("")}]`,"g"),u=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,c=/[-\u2212\u2013\u2014\u2015]/g;r=f=>{if((f=f.trim().replaceAll(o,"").replace(a,".").replace(l,d=>String(i.get(d))).replaceAll(u,"").replaceAll(c,"-"))==="")return null;const h=Number(f);return isNaN(h)?null:h},Uo.set(t,r)}return r(e)}ti(()=>{vr=new WeakMap,Yu={}});const Uo=new Map;async function Eg(e,t,r,n){const s=t.exec(r);if(!s)throw new V("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const i=s[1]?`${s[1]}/`:"",o=s[2],a=vm(n),l=`${i}${o}.json`,u=a?`${i}${o}_${a}.json`:l;let c;try{c=await qo(e(u))}catch(f){if(u===l)throw new V("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:f});try{c=await qo(e(l))}catch(h){throw new V("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:h})}}return c}async function qo(e){if(Wo.fetchBundleAsset!=null)return Wo.fetchBundleAsset(e);const t=await le(e,{responseType:"text"});return JSON.parse(t.data)}let Ng=class{constructor({base:t="",pattern:r,location:n=new URL(window.location.href)}){let s;s=typeof n=="string"?i=>new URL(i,new URL(n,window.location.href)).href:n instanceof URL?i=>new URL(i,n).href:n,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return Eg(this.getAssetUrl,this.matcher,t,r)}};function Ig(e){return new Ng(e)}const Wo={};ym(Ig({pattern:"esri/",location:Fl}));const Cg="randomUUID"in crypto;function di(){if(Cg)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=r=>e[r].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function t$(){return`{${di().toUpperCase()}}`}function r$(){return`{${di()}}`}function n$(e){const t=e.toUpperCase();return e.startsWith("{")?t:`{${t}}`}function Mg(e){return typeof e=="string"?document.getElementById(e):e??null}function s$(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}var zr=function(){return zr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zr.apply(this,arguments)},bs={exports:{}},A={},ks={exports:{}},Be={};function Ju(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Dg(e,t,r){}function Lg(e,t,r){}var Fg=/javascript\s*\:/img;function Pg(e,t){return Fg.test(t)?"":t}Be.whiteList=Ju();Be.getDefaultWhiteList=Ju;Be.onAttr=Dg;Be.onIgnoreAttr=Lg;Be.safeAttrValue=Pg;var Rg={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,s;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,s=e.length;n<s;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},xt=Rg;function jg(e,t){e=xt.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,n=!1,s=0,i=0,o="";function a(){if(!n){var c=xt.trim(e.slice(s,i)),f=c.indexOf(":");if(f!==-1){var h=xt.trim(c.slice(0,f)),d=xt.trim(c.slice(f+1));if(h){var g=t(s,o.length,h,d,c);g&&(o+=g+"; ")}}}s=i+1}for(;i<r;i++){var l=e[i];if(l==="/"&&e[i+1]==="*"){var u=e.indexOf("*/",i+2);if(u===-1)break;i=u+1,s=i+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||a():l===`
`&&a()}return xt.trim(o)}var Ug=jg,ar=Be,qg=Ug;function Vo(e){return e==null}function Wg(e){var t={};for(var r in e)t[r]=e[r];return t}function Ku(e){e=Wg(e||{}),e.whiteList=e.whiteList||ar.whiteList,e.onAttr=e.onAttr||ar.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||ar.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||ar.safeAttrValue,this.options=e}Ku.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,s=r.onAttr,i=r.onIgnoreAttr,o=r.safeAttrValue,a=qg(e,function(l,u,c,f,h){var d=n[c],g=!1;if(d===!0?g=d:typeof d=="function"?g=d(f):d instanceof RegExp&&(g=d.test(f)),g!==!0&&(g=!1),f=o(c,f),!!f){var y={position:u,sourcePosition:l,source:h,isWhite:g};if(g){var $=s(c,f,y);return Vo($)?c+":"+f:$}else{var $=i(c,f,y);if(!Vo($))return $}}});return a};var Vg=Ku;(function(e,t){var r=Be,n=Vg;function s(o,a){var l=new n(a);return l.process(o)}t=e.exports=s,t.FilterCSS=n;for(var i in r)t[i]=r[i]})(ks,ks.exports);var hi=ks.exports,mi={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,s;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,s=e.length;n<s;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},zg=hi.FilterCSS,Hg=hi.getDefaultWhiteList,Hr=mi;function Xu(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Qu=new zg;function Zg(e,t,r){}function Bg(e,t,r){}function Gg(e,t,r){}function Yg(e,t,r){}function ec(e){return e.replace(Kg,"&lt;").replace(Xg,"&gt;")}function Jg(e,t,r,n){if(r=oc(r),t==="href"||t==="src"){if(r=Hr.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(lr.lastIndex=0,lr.test(r))return""}else if(t==="style"){if(zo.lastIndex=0,zo.test(r)||(Ho.lastIndex=0,Ho.test(r)&&(lr.lastIndex=0,lr.test(r))))return"";n!==!1&&(n=n||Qu,r=n.process(r))}return r=ac(r),r}var Kg=/</g,Xg=/>/g,Qg=/"/g,ey=/&quot;/g,ty=/&#([a-zA-Z0-9]*);?/gim,ry=/&colon;?/gim,ny=/&newline;?/gim,lr=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,zo=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ho=/u\s*r\s*l\s*\(.*/gi;function tc(e){return e.replace(Qg,"&quot;")}function rc(e){return e.replace(ey,'"')}function nc(e){return e.replace(ty,function(r,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function sc(e){return e.replace(ry,":").replace(ny," ")}function ic(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return Hr.trim(t)}function oc(e){return e=rc(e),e=nc(e),e=sc(e),e=ic(e),e}function ac(e){return e=tc(e),e=ec(e),e}function sy(){return""}function iy(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function n(o){return r?!0:Hr.indexOf(e,o)!==-1}var s=[],i=!1;return{onIgnoreTag:function(o,a,l){if(n(o))if(l.isClosing){var u="[/removed]",c=l.position+u.length;return s.push([i!==!1?i:l.position,c]),i=!1,u}else return i||(i=l.position),"[removed]";else return t(o,a,l)},remove:function(o){var a="",l=0;return Hr.forEach(s,function(u){a+=o.slice(l,u[0]),l=u[1]}),a+=o.slice(l),a}}}function oy(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("<!--",r);if(n===-1){t+=e.slice(r);break}t+=e.slice(r,n);var s=e.indexOf("-->",n);if(s===-1)break;r=s+3}return t}function ay(e){var t=e.split("");return t=t.filter(function(r){var n=r.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}A.whiteList=Xu();A.getDefaultWhiteList=Xu;A.onTag=Zg;A.onIgnoreTag=Bg;A.onTagAttr=Gg;A.onIgnoreTagAttr=Yg;A.safeAttrValue=Jg;A.escapeHtml=ec;A.escapeQuote=tc;A.unescapeQuote=rc;A.escapeHtmlEntities=nc;A.escapeDangerHtml5Entities=sc;A.clearNonPrintableCharacter=ic;A.friendlyAttrValue=oc;A.escapeAttrValue=ac;A.onIgnoreTagStripAll=sy;A.StripTagBody=iy;A.stripCommentTag=oy;A.stripBlankChar=ay;A.cssFilter=Qu;A.getDefaultCSSWhiteList=Hg;var yn={},_e=mi;function ly(e){var t=_e.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=_e.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function uy(e){return e.slice(0,2)==="</"}function cy(e,t,r){var n="",s=0,i=!1,o=!1,a=0,l=e.length,u="",c="";e:for(a=0;a<l;a++){var f=e.charAt(a);if(i===!1){if(f==="<"){i=a;continue}}else if(o===!1){if(f==="<"){n+=r(e.slice(s,a)),i=a,s=a;continue}if(f===">"){n+=r(e.slice(s,i)),c=e.slice(i,a+1),u=ly(c),n+=t(i,n.length,u,c,uy(c)),s=a+1,i=!1;continue}if(f==='"'||f==="'")for(var h=1,d=e.charAt(a-h);d.trim()===""||d==="=";){if(d==="="){o=f;continue e}d=e.charAt(a-++h)}}else if(f===o){o=!1;continue}}return s<e.length&&(n+=r(e.substr(s))),n}var fy=/[^a-zA-Z0-9\\_:.-]/gim;function dy(e,t){var r=0,n=0,s=[],i=!1,o=e.length;function a(h,d){if(h=_e.trim(h),h=h.replace(fy,"").toLowerCase(),!(h.length<1)){var g=t(h,d||"");g&&s.push(g)}}for(var l=0;l<o;l++){var u=e.charAt(l),c,f;if(i===!1&&u==="="){i=e.slice(r,l),r=l+1,n=e.charAt(r)==='"'||e.charAt(r)==="'"?r:my(e,l+1);continue}if(i!==!1&&l===n){if(f=e.indexOf(u,l+1),f===-1)break;c=_e.trim(e.slice(n+1,f)),a(i,c),i=!1,l=f,r=l+1;continue}if(/\s|\n|\t/.test(u))if(e=e.replace(/\s|\n|\t/g," "),i===!1)if(f=hy(e,l),f===-1){c=_e.trim(e.slice(r,l)),a(c),i=!1,r=l+1;continue}else{l=f-1;continue}else if(f=py(e,l-1),f===-1){c=_e.trim(e.slice(r,l)),c=Zo(c),a(i,c),i=!1,r=l+1;continue}else continue}return r<e.length&&(i===!1?a(e.slice(r)):a(i,Zo(_e.trim(e.slice(r))))),_e.trim(s.join(" "))}function hy(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function my(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function py(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function gy(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function Zo(e){return gy(e)?e.substr(1,e.length-2):e}yn.parseTag=cy;yn.parseAttr=dy;var yy=hi.FilterCSS,ae=A,lc=yn,wy=lc.parseTag,vy=lc.parseAttr,$r=mi;function ur(e){return e==null}function $y(e){var t=$r.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=$r.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=$r.trim(e.slice(0,-1))),{html:e,closing:r}}function by(e){var t={};for(var r in e)t[r]=e[r];return t}function ky(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(n){return n.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function uc(e){e=by(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=ae.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=ky(e.whiteList||e.allowList):e.whiteList=ae.whiteList,e.onTag=e.onTag||ae.onTag,e.onTagAttr=e.onTagAttr||ae.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||ae.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||ae.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||ae.safeAttrValue,e.escapeHtml=e.escapeHtml||ae.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new yy(e.css))}uc.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,n=r.whiteList,s=r.onTag,i=r.onIgnoreTag,o=r.onTagAttr,a=r.onIgnoreTagAttr,l=r.safeAttrValue,u=r.escapeHtml,c=t.cssFilter;r.stripBlankChar&&(e=ae.stripBlankChar(e)),r.allowCommentTag||(e=ae.stripCommentTag(e));var f=!1;r.stripIgnoreTagBody&&(f=ae.StripTagBody(r.stripIgnoreTagBody,i),i=f.onIgnoreTag);var h=wy(e,function(d,g,y,$,z){var P={sourcePosition:d,position:g,isClosing:z,isWhite:Object.prototype.hasOwnProperty.call(n,y)},ge=s(y,$,P);if(!ur(ge))return ge;if(P.isWhite){if(P.isClosing)return"</"+y+">";var vt=$y($),Y=n[y],ye=vy(vt.html,function(J,he){var K=$r.indexOf(Y,J)!==-1,D=o(y,J,he,K);return ur(D)?K?(he=l(y,J,he,c),he?J+'="'+he+'"':J):(D=a(y,J,he,K),ur(D)?void 0:D):D});return $="<"+y,ye&&($+=" "+ye),vt.closing&&($+=" /"),$+=">",$}else return ge=i(y,$,P),ur(ge)?u($):ge},u);return f&&(h=f.remove(h)),h};var Sy=uc;(function(e,t){var r=A,n=yn,s=Sy;function i(a,l){var u=new s(l);return u.process(a)}t=e.exports=i,t.filterXSS=i,t.FilterXSS=s,(function(){for(var a in r)t[a]=r[a];for(var l in n)t[l]=n[l]})();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=e.exports)})(bs,bs.exports);var Xe=bs.exports,Ty=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},cc=(function(){function e(t,r){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=zr(zr({},Xe.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(i,o,a,l){return i==="a"&&o==="href"||(i==="img"||i==="source")&&o==="src"?n.sanitizeUrl(a):Xe.safeAttrValue(i,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;t&&!r?s=t:t&&r?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(i){if(i==="whiteList")s.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]);else if(i==="css"){var o=t.css.whiteList;o!=null&&t.css instanceof Object&&Object.keys(o).forEach(function(a){return s.css.whiteList[a]=o[a]})}else s[i]=t[i]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new Xe.FilterXSS(s)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var n=(r??{}).isProtocolRequired,s=n===void 0?!0:n,i=this._trim(t.substring(0,t.indexOf(":"))),o=t==="/",a=/^#/.test(t),l=i&&this.allowedProtocols.indexOf(i.toLowerCase())>-1;return o||a||l?Xe.escapeAttrValue(t):!i&&!s?Xe.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,n,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,n,s):Xe.safeAttrValue(t,r,n,s)},e.prototype.validate=function(t,r){r===void 0&&(r={});var n=this.sanitize(t,r);return{isValid:t===n,sanitized:n}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(n){return r._entityMap[n]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(n,s){return r.test(n)?n:"&#x".concat(Number(t.charCodeAt(s)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(n){Object.keys(n).forEach(function(s){Array.isArray(n[s])&&Array.isArray(r[s])?r[s]=r[s].concat(n[s]):r[s]=n[s]})}),r},e.prototype._iterateOverObject=function(t,r){var n=this;r===void 0&&(r={});try{var s=!1,i=void 0;if(Array.isArray(t))i=t.reduce(function(a,l){var u=n.validate(l,r);return u.isValid?a.concat([l]):(s=!0,a.concat([u.sanitized]))},[]);else if(Ty(t)){var o=Object.keys(t);i=o.reduce(function(a,l){var u=t[l],c=n.validate(u,r);return c.isValid?a[l]=u:(s=!0,a[l]=c.sanitized),a},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return s?i:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e})();const Oy=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],_y=Oy.reduce((e,t)=>(e[t]=[],e),{}),Ay=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],fc=new cc({whiteList:_y,onTagAttr:(e,t,r)=>{const n=`${t}="${r}"`;if(Ay.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),i$=new cc({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:e=>e},!1),dc="http://www.w3.org/",wn=`${dc}2000/svg`,hc=`${dc}1999/xlink`;let Bo=[],pi=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{r[n]=e[n]}),t&&Object.keys(t).forEach(n=>{r[n]=t[n]}),r},gi=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),mc=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},xy=(e,t,r)=>{if(t.vnodeSelector!==""){for(let n=r;n<e.length;n++)if(gi(e[n],t))return n}return-1},Pn=(e,t,r,n)=>{let s=e[t];if(s.vnodeSelector==="")return;let i=s.properties;if(!(i&&(i.key===void 0?i.bind:i.key))){for(let o=0;o<e.length;o++)if(o!==t){let a=e[o];if(gi(a,s))throw new Error(`${r.vnodeSelector} had a ${s.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Ey=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},Ss=[],Ts=!1,pc=e=>{(e.children||[]).forEach(pc),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},Go=()=>{Ts=!1,Ss.forEach(pc),Ss.length=0},Yo=e=>{Ss.push(e),Ts||(Ts=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Go,{timeout:16}):setTimeout(Go,16))},Jo=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),Yo(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),Yo(e))},Ny=(e,t,r)=>{if(!t)return;let n=r.eventHandlerInterceptor,s=Object.keys(t),i=s.length;for(let o=0;o<i;o++){let a=s[o],l=t[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")_s(e,l,!0);else if(a==="classes"){let u=Object.keys(l),c=u.length;for(let f=0;f<c;f++){let h=u[f];l[h]&&e.classList.add(h)}}else if(a==="styles"){let u=Object.keys(l),c=u.length;for(let f=0;f<c;f++){let h=u[f],d=l[h];d&&(mc(d),r.styleApplyer(e,h,d))}}else if(a!=="key"&&l!=null){let u=typeof l;u==="function"?(a.lastIndexOf("on",0)===0&&(n&&(l=n(a,l,e,t)),a==="oninput"&&(function(){let c=l;l=function(f){c.apply(this,[f]),f.target["oninput-value"]=f.target.value}})()),e[a]=l):r.namespace===wn?a==="href"?e.setAttributeNS(hc,a,l):e.setAttribute(a,l):u==="string"&&a!=="value"?a==="innerHTML"?e[a]=fc.sanitize(l):Os(e)&&a in e?e[a]=l:e.setAttribute(a,l):e[a]=l}}};function Os(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let Zr,Iy=(e,t,r)=>{if(t)for(let n of t)Rt(n,e,void 0,r)},gc=(e,t,r)=>{Iy(e,t.children,r),t.text&&(e.textContent=t.text),Ny(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},Rt=(e,t,r,n)=>{let s,i=0,o=e.vnodeSelector,a=t.ownerDocument;if(o==="")s=e.domNode=a.createTextNode(e.text),r!==void 0?t.insertBefore(s,r):t.appendChild(s);else{for(let l=0;l<=o.length;++l){let u=o.charAt(l);if(l===o.length||u==="."||u==="#"){let c=o.charAt(i-1),f=o.slice(i,l);c==="."?s.classList.add(f):c==="#"?s.id=f:(f==="svg"&&(n=pi(n,{namespace:wn})),n.namespace!==void 0?s=e.domNode=a.createElementNS(n.namespace,f):(s=e.domNode=e.domNode||a.createElement(f),f==="input"&&e.properties&&e.properties.type!==void 0&&s.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(s,r):s.parentNode!==t&&t.appendChild(s)),i=l+1}}gc(s,e,n)}},_s=(e,t,r)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,r)})},Cy=(e,t,r,n)=>{if(!r)return;let s=!1,i=Object.keys(r),o=i.length;for(let a=0;a<o;a++){let l=i[a],u=r[l],c=t[l];if(l==="class")c!==u&&(_s(e,c,!1),_s(e,u,!0));else if(l==="classes"){let f=e.classList,h=Object.keys(u),d=h.length;for(let g=0;g<d;g++){let y=h[g],$=!!u[y];$!==!!c[y]&&(s=!0,$?f.add(y):f.remove(y))}}else if(l==="styles"){let f=Object.keys(u),h=f.length;for(let d=0;d<h;d++){let g=f[d],y=u[g];y!==c[g]&&(s=!0,y?(mc(y),n.styleApplyer(e,g,y)):n.styleApplyer(e,g,""))}}else if(u||typeof c!="string"||(u=""),l!=="value"||Os(e)){if(u!==c){let f=typeof u;f==="function"&&n.eventHandlerInterceptor||(n.namespace===wn?l==="href"?e.setAttributeNS(hc,l,u):e.setAttribute(l,u):f==="string"?l==="innerHTML"?e[l]=fc.sanitize(u):l==="role"&&u===""?e.removeAttribute(l):Os(e)&&l in e?e[l]=u:e.setAttribute(l,u):e[l]!==u&&(e[l]=u),s=!0)}}else{let f=e[l];f!==u&&(e["oninput-value"]?f===e["oninput-value"]:u!==c)&&(e[l]=u,e["oninput-value"]=void 0),u!==c&&(s=!0)}}return s},My=(e,t,r,n,s)=>{if(r===n)return!1;n=n||Bo;let i,o=(r=r||Bo).length,a=n.length,l=0,u=0,c=!1;for(;u<a;){let f=l<o?r[l]:void 0,h=n[u];if(f!==void 0&&gi(f,h))c=Zr(f,h,s)||c,l++;else{let d=xy(r,h,l+1);if(d>=0){for(i=l;i<d;i++)Jo(r[i]),Pn(r,i,e,"removed");c=Zr(r[d],h,s)||c,l=d+1}else Rt(h,t,l<o?r[l].domNode:void 0,s),Ey(h),Pn(n,u,e,"added")}u++}if(o>l)for(i=l;i<o;i++)Jo(r[i]),Pn(r,i,e,"removed");return c};Zr=(e,t,r)=>{let n=e.domNode,s=!1;if(e===t)return!1;let i=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,s=!0,s}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=pi(r,{namespace:wn})),e.text!==t.text&&(i=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,i=My(t,n,e.children,t.children,r)||i,i=Cy(n,e.properties,t.properties,r)||i,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return i&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),s};let cr=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=r,Zr(n,r,t)},domNode:e.domNode});const Dy={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let Dt=e=>pi(Dy,e),Ee={append:(e,t,r)=>(r=Dt(r),Rt(t,e,void 0,r),cr(t,r)),insertBefore:(e,t,r)=>(r=Dt(r),Rt(t,e.parentNode,e,r),cr(t,r)),merge:(e,t,r)=>(r=Dt(r),t.domNode=e,gc(e,t,r),cr(t,r)),replace:(e,t,r)=>(r=Dt(r),Rt(t,e.parentNode,e,r),e.parentNode.removeChild(e),cr(t,r))},yc,Ly=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};yc=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Fy=(e,t)=>{let r=e;return t.forEach(n=>{r=r&&r.children?yc(r.children,s=>s.domNode===n):void 0}),r},Py=(e,t,r)=>{let n=function(s){r("domEvent",s);let i=t(),o=Ly(s.currentTarget,i.domNode);o.reverse();let a,l=Fy(i.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${s.type}`].apply(l.properties.bind||this,arguments)),r("domEventProcessed",s),a};return(s,i,o,a)=>n},o$=e=>{let t,r,n=Dt(e),s=n.performanceLogger,i=!0,o=!1,a=[],l=[],u=(f,h,d)=>{let g,y=()=>g;n.eventHandlerInterceptor=Py(t,y,s),g=f(h,d(),n),a.push(g),l.push(d)},c=()=>{if(r=void 0,i){i=!1,s("renderStart",void 0);for(let f=0;f<a.length;f++){let h=l[f]();s("rendered",void 0),a[f].update(h),s("patched",void 0)}s("renderDone",void 0),i=!0}};return t={renderNow:c,scheduleRender:()=>{r||o||(r=requestAnimationFrame(c))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),o=!0},resume:()=>{o=!1,i=!0,t.scheduleRender()},append:(f,h)=>{u(Ee.append,f,h)},insertBefore:(f,h)=>{u(Ee.insertBefore,f,h)},merge:(f,h)=>{u(Ee.merge,f,h)},replace:(f,h)=>{u(Ee.replace,f,h)},detach:f=>{for(let h=0;h<l.length;h++)if(l[h]===f)return l.splice(h,1),a.splice(h,1)[0];throw new Error("renderFunction was not found")}},t};const vn=new Map;function wc(){vn.clear()}function Ry(e){return vn.get(e)}function jy(e,t){vn.set(e,t)}function Rn(e){vn.delete(e)}function Uy(...e){const t=br.acquire();for(let n=0;n<e.length;n++){const s=e[n],i=typeof s;if(i==="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(i==="object")for(const o in s)s[o]&&t.push(o)}const r=t.join(" ");return br.release(t),r}(()=>{const e=new Map,t=new ResizeObserver(n=>{wc();for(const s of n)e.get(s.target)?.(s)}),r=(n,s,i)=>(e.set(n,s),t.observe(n,i),O(()=>{t.unobserve(n),e.delete(n)}));return(n,s,i)=>{let o=null;return Yr([jt(()=>typeof n=="function"?n():n,a=>{o?.remove(),a&&(o=r(a,s,i))},Va),O(()=>o?.remove())])}})();function a$(e){const t=e?.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function l$(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function u$(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function c$(e){return e==="Enter"||e===" "}async function f$(e,t){await kf(Ht(t));const r=typeof e=="function"?e():e;r&&("setFocus"in r&&typeof r.setFocus=="function"?await r.setFocus():r instanceof HTMLElement&&r.focus())}const qy={handleInterceptedEvent:(e,t,r,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||r,[n]))},Wy={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.startsWith("-")?e.style.setProperty(t,r):e.style[t]=r}},Vy=e=>({...Wy,...e}),zy=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},Hy=(e,t)=>e.find(t),Ko=(e,t,r=!1)=>{let n=e;return t.forEach((s,i)=>{const o=n?.children?Hy(n.children,a=>a.domNode===s):void 0;r&&!o&&i!==t.length-1||(n=o)}),n},Zy=e=>{let t;const r={...qy,...e},n=Vy(r),s=n.performanceLogger;let i,o=!0,a=!1;const l=[],u=[],c=(h,d,g)=>{let y;n.eventHandlerInterceptor=(z,P,ge,vt)=>function(Y){let ye;s("domEvent",Y);const J=zy(Y.currentTarget,y.domNode),he=J.some(D=>customElements.get(D?.tagName?.toLowerCase()));if(Y.eventPhase===Event.CAPTURING_PHASE||!he)J.reverse(),ye=Ko(y.getLastRender(),J);else{const D=Y.composedPath(),$n=D.slice(D.indexOf(Y.currentTarget),D.indexOf(y.domNode)).reverse();ye=Ko(y.getLastRender(),$n,!0)}let K;return ye&&(K=r.handleInterceptedEvent(t,ye,this,Y)),s("domEventProcessed",Y),K},r.postProcessProjectionOptions?.(n);const $=g();y=h(d,$,n),n.eventHandlerInterceptor=void 0,l.push(y),u.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(y,$)};let f=()=>{if(i=void 0,o){o=!1,s("renderStart",void 0);for(let h=0;h<l.length;h++){const d=u[h]();s("rendered",void 0);try{l[h].update(d)}catch(g){console.error(g)}s("patched",void 0)}s("renderDone",void 0),o=!0}};return r.modifyDoRenderImplementation&&(f=r.modifyDoRenderImplementation(f,l,u)),t={renderNow:f,scheduleRender:()=>{i||a||(i=requestAnimationFrame(f))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(h,d)=>{c(Ee.append,h,d)},insertBefore:(h,d)=>{c(Ee.insertBefore,h,d)},merge:(h,d)=>{c(Ee.merge,h,d)},replace:(h,d)=>{c(Ee.replace,h,d)},detach:h=>{for(let d=0;d<u.length;d++)if(u[d]===h)return u.splice(d,1),l.splice(d,1)[0];throw new Error("renderFunction was not found")}},t};let vc=!1;const By=e=>{vc=!0,Ac(e)};let $c;function Gy(){vc||By(dt(Fl($c)))}function d$(e){const t=[];for(const r of Object.keys(e))customElements.get(`calcite-${r}`)||t.push(e[r]?.());return t.length>0?Promise.all(t):null}$c="components/assets";const bc=Symbol("widget"),kc=Symbol("widget-test-data"),Yy=[],Jy={},Br=new WeakMap;function Sc(e,t){let r=t.children;if(r?.length)for(let s=0;s<r.length;++s)r[s]=Sc(e,r[s]);else r=Yy;const n=t.vnodeSelector;if(Gr(n)){const s=t.properties||Jy,i=s.key||n,o={key:i,afterCreate:Ky,afterUpdate:Xy,afterRemoved:Tc,parentWidget:e,widgetConstructor:n,widgetProperties:{...s,key:i,children:r}};return{vnodeSelector:n.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return t}function Ky(e,t,r,{parentWidget:n,widgetConstructor:s,widgetProperties:i}){const o=new s(i);o.container=e,Br.set(e,o),o.afterCreate?.(o,e),n.addHandles(O(()=>Tc(e))),queueMicrotask(()=>{o[kc].projector?.renderNow()})}function Xy(e,t,r,{widgetProperties:n}){const s=Br.get(e);s&&(s.set(n),s.afterUpdate?.(s,e))}function Tc(e){const t=Br.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),Br.delete(e))}function Gr(e){return typeof e=="function"&&e[bc]}const Xo=new Set;function Qy(e){Xo.add(e),e.finally(()=>Xo.delete(e))}function ew(e){return O()}var Qo;let tw=0;function Oc(e,t){const r=Object.prototype.hasOwnProperty;for(const n in t)r.call(t,n)&&r.call(e,n)&&(e[n]!=null&&t[n]!=null&&typeof e[n]=="object"&&typeof t[n]=="object"?Oc(e[n],t[n]):e[n]=t[n]);return e}const rw=Zy({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(n,s,i,o)=>{const a=t?.(n,s,i,o),l=r.test(n);if(!((n=n.replace(r,"")).toLowerCase()in i)||l){const u=n[2].toLowerCase()+n.slice(3),c=d=>a?.call(i,d);i.addEventListener(u,c,l);const f=()=>i.removeEventListener(u,c,l),h=o.afterRemoved;o.afterRemoved=d=>{h?.(d),f()}}return a}},handleInterceptedEvent(e,t,r,n){const{eventPhase:s,type:i}=n,o=s===Event.CAPTURING_PHASE;let a=`on${i}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${i[0].toUpperCase()}${i.slice(1)}${o?"Capture":""}`,l&&a in l))&&(wc(),e.scheduleRender(),l[a].call(l.bind||r,n))}});let jn=!1;var Ve;let C=(Ve=class extends Ll(nm){constructor(t,r){super(t,r),this._attached=!1,this._projector=rw,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=nf(async()=>{if(this._messageBundleProps?.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:u,propertyName:c})=>{if(this.destroyed)return;let f=await wm(u);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(f=Oc(fe(f),this.uiStrings)),this[c]=f)}));if(this.destroyed)return;for(const u of l)u.status==="rejected"&&re.getLogger(this).error("widget-intl:locale-error",this.declaredClass,u.reason)}await this.loadLocale()}),this.addHandles(ew()),Gy();const n="esri-widget-uid-"+di(),s=this.render.bind(this);this._trackingTarget=new nn(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const i=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const l=s()??i(),u=l.properties??={};if(u.key??=n,Gr(l.vnodeSelector)){if(!this.visible)return i()}else this.visible?u.styles||(u.styles={}):(u.class="",u.styles={display:"none"}),u.styles.display??="";let c=0;return l.children?.forEach(f=>{Gr(f.vnodeSelector)||(f.properties??={},f.properties.key??=`${this.id}--${c++}`)}),Sc(this,l)};this.render=()=>{if(jn)return o();let l=Ry(this)??null;if(l)return l;this._trackingTarget.clear(),jn=!0;try{l=$e(this._trackingTarget,o)}catch(u){throw re.getLogger(this).error(u),u}finally{jn=!1}return l&&jy(this,l),l};const a=this.beforeFirstRender();a?this._resourcesFetch=a.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),Qy(this._resourcesFetch)}normalizeCtorArgs(t,r){const n={...t};return r&&(n.container=r),n}postInitialize(){}beforeFirstRender(){const t=this.loadDependencies();return this._messageBundleProps?.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(Ti):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(Un(this._trackingTarget),Un(this.viewModel),this._detach(this.container),this._set("container",null),this.render=()=>null,this._projector=null,Rn(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return Mg(t)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+tw++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(Qo=bc,kc)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(Rn(this),this._projector.scheduleRender())}classes(...t){return Uy.apply(this,t)}renderNow(){Rn(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(jt(()=>this.viewModel,(r,n)=>{n&&this.removeHandles("delegated-events"),r&&Jr(r)&&this.addHandles(this._delegatedEventNames.map(s=>xs(r,s,i=>{this.emit(s,i)})),"delegated-events")},Va)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(Ti),this.scheduleRender()};this.addHandles([pm(t),jt(()=>this.uiStrings,t)]),this.addHandles(Gf(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0}))}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){this._attached&&(this._projector.detach(this.render),this._attached=!1),t?.parentNode?.removeChild(t)}},Ve[Qo]=!0,Ve.vnodeSelector="div",Ve);F([q()],C.prototype,"_readyForTrueRender",void 0),F([q({value:null})],C.prototype,"container",null),F([dm("container")],C.prototype,"castContainer",null),F([q()],C.prototype,"icon",null),F([q()],C.prototype,"id",null),F([q()],C.prototype,"label",null),F([q()],C.prototype,"renderable",null),F([q()],C.prototype,"uiStrings",void 0),F([q()],C.prototype,"viewModel",void 0),F([q({value:!0})],C.prototype,"visible",null),F([q()],C.prototype,"key",void 0),F([q()],C.prototype,"children",void 0),F([q()],C.prototype,"afterCreate",void 0),F([q()],C.prototype,"afterUpdate",void 0),F([q()],C.prototype,"afterRemoved",void 0),C=F([Qs("esri.widgets.Widget")],C);const h$=C;var nw=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},_c=function(e,t){for(var r=0,n=e.length;r<n;r++){var s=e[r];Array.isArray(s)?_c(s,t):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=nw(s)),t.push(s))}},sw=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var s=[];return _c(r,s),{vnodeSelector:e,properties:t||void 0,children:s,text:void 0,domNode:null}};function m$(e,t,...r){return typeof e!="function"||Gr(e)?sw(e,t??null,...r):e(t,...r)}function p$(...e){return e}export{at as $,ev as A,ne as B,oa as C,yf as D,rf as E,Oh as F,Mw as G,le as H,pe as I,Jc as J,Ii as K,hv as L,Bw as M,Wc as N,pa as O,X0 as P,fi as Q,H0 as R,K0 as S,J0 as T,Z0 as U,G0 as V,Y0 as W,B0 as X,ri as Y,lv as Z,F as _,Dd as a,nf as a$,Zt as a0,O as a1,qc as a2,Vs as a3,e0 as a4,rn as a5,v as a6,Ll as a7,nm as a8,Un as a9,n0 as aA,U0 as aB,dt as aC,Ms as aD,Ol as aE,T0 as aF,S0 as aG,md as aH,He as aI,Zs as aJ,u0 as aK,Xr as aL,Qr as aM,ra as aN,di as aO,sv as aP,ef as aQ,rl as aR,Lv as aS,Qn as aT,lh as aU,nl as aV,Ne as aW,Ut as aX,Fi as aY,ht as aZ,Ml as a_,Cv as aa,Gf as ab,Lc as ac,Sn as ad,_ as ae,jt as af,Fv as ag,Va as ah,am as ai,Ta as aj,qn as ak,sa as al,cw as am,ct as an,rv as ao,uw as ap,jv as aq,Uv as ar,Bt as as,Gw as at,av as au,tl as av,dm as aw,Pw as ax,Fw as ay,Vv as az,$a as b,n$ as b$,Ec as b0,tv as b1,nv as b2,Nw as b3,h$ as b4,m$ as b5,t0 as b6,tf as b7,zt as b8,Fl as b9,ba as bA,gw as bB,jw as bC,Uw as bD,Rw as bE,dd as bF,on as bG,oh as bH,zc as bI,rm as bJ,Ti as bK,Ns as bL,qw as bM,Is as bN,Ww as bO,Fd as bP,mv as bQ,pv as bR,sl as bS,xd as bT,f0 as bU,Dl as bV,Mv as bW,Yw as bX,_f as bY,Sv as bZ,kv as b_,Gs as ba,Yr as bb,Bs as bc,xs as bd,$h as be,Jv as bf,ww as bg,kn as bh,Lw as bi,$0 as bj,c0 as bk,fl as bl,xa as bm,tt as bn,vd as bo,Le as bp,rt as bq,pw as br,$f as bs,o$ as bt,zs as bu,L0 as bv,mw as bw,Us as bx,_d as by,Pv as bz,m as c,kf as c$,xf as c0,Af as c1,s0 as c2,Ha as c3,Hv as c4,Fh as c5,d$ as c6,p$ as c7,bv as c8,Dv as c9,Ci as cA,il as cB,Gt as cC,W as cD,Ka as cE,Nd as cF,Yv as cG,fc as cH,Rv as cI,ei as cJ,Rc as cK,br as cL,Ag as cM,iv as cN,Cw as cO,a0 as cP,bf as cQ,fw as cR,Ev as cS,gv as cT,aw as cU,xw as cV,Sw as cW,ea as cX,Vw as cY,Q0 as cZ,Uy as c_,dw as ca,Tw as cb,f$ as cc,zw as cd,Zv as ce,za as cf,sn as cg,r0 as ch,Wl as ci,km as cj,Ht as ck,y0 as cl,b0 as cm,Lh as cn,en as co,R0 as cp,Ov as cq,If as cr,j0 as cs,Or as ct,N0 as cu,th as cv,Hw as cw,la as cx,Wv as cy,Xa as cz,_w as d,r$ as d$,a$ as d0,$i as d1,Sh as d2,$v as d3,Qv as d4,Of as d5,i0 as d6,Fc as d7,kw as d8,bw as d9,Mg as dA,s$ as dB,lf as dC,Nv as dD,Iv as dE,Pf as dF,ov as dG,yw as dH,z0 as dI,Bv as dJ,k0 as dK,Tv as dL,Dc as dM,dl as dN,hl as dO,ka as dP,Iw as dQ,Oi as dR,Zw as dS,zi as dT,Qf as dU,pm as dV,c$ as dW,v0 as dX,w0 as dY,E0 as dZ,Ai as d_,l$ as da,u$ as db,Jw as dc,Vc as dd,Ow as de,rs as df,W0 as dg,F0 as dh,g0 as di,p0 as dj,ol as dk,wm as dl,vm as dm,be as dn,Zh as dp,fa as dq,bh as dr,vw as ds,wi as dt,un as du,Id as dv,Gv as dw,l0 as dx,Ad as dy,Di as dz,fe as e,vh as e0,Gc as e1,h0 as e2,d0 as e3,Xv as e4,Sd as e5,Ys as e6,zv as e7,i$ as e8,m0 as e9,Kw as ea,Dw as eb,o0 as ec,lw as ed,Qs as f,im as g,jc as h,re as i,Qw as j,M as k,ua as l,q as m,ca as n,Ir as o,ln as p,Kv as q,t$ as r,V as s,aa as t,Aw as u,$w as v,De as w,hw as x,Kr as y,ot as z};
